import{r as S,c as ba,u as cs,f as ed,e as Cr,g as Cv,h as Rv,L as Go,i as Pv,j as qr,R as Tv,B as kv}from"./react-vendor-Bblx37ko.js";import{T as Se,S as U,a as Fe,b as Et,B as fe,s as X,c as Ae,t as kr,C as te,D as es,d as ts,e as ht,R as gi,A as Xt,f as Iv,g as ln,h as td,i as cn,j as nd,k as us,l as Jt,F as Wn,E as Ge,m as ja,n as rd,o as rs,p as aa,q as Ca,r as Bn,u as pn,v as Ve,w as we,P as Ev,x as Er,y as tr,z as Ov,G as Av,H as Lv,I as la,M as an,J as mi,K as Dv,L as zv,N as ss,O as Mv,Q as $v,U as Nv,V as Ra,W as yt,X as Nt,Y as sd,Z as fu,_ as Fv,$ as ai,a0 as Pa,a1 as Uv,a2 as Bv,a3 as Ta,a4 as is,a5 as Or,a6 as ca,a7 as Wv,a8 as ua,a9 as Hv,aa as hu,ab as Vv,ac as Kv,ad as Gv,ae as qv,af as ft,ag as da,ah as Ir,ai as id,aj as od,ak as Yv,al as Jv,am as os,an as Hn,ao as Xv,ap as pu,aq as qo,ar as Zv,as as Qv,at as e_,au as t_,av as gu,aw as mu,ax as Yo,ay as n_,az as r_,aA as ad,aB as s_,aC as i_,aD as o_,aE as a_}from"./antd-vendor-c7NJuzaQ.js";import{c as l_,E as Pr}from"./echarts-vendor-BaMD3wbR.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var ld={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_=S,u_=Symbol.for("react.element"),d_=Symbol.for("react.fragment"),f_=Object.prototype.hasOwnProperty,h_=c_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p_={key:!0,ref:!0,__self:!0,__source:!0};function cd(s,r,n){var a,l={},c=null,d=null;n!==void 0&&(c=""+n),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(d=r.ref);for(a in r)f_.call(r,a)&&!p_.hasOwnProperty(a)&&(l[a]=r[a]);if(s&&s.defaultProps)for(a in r=s.defaultProps,r)l[a]===void 0&&(l[a]=r[a]);return{$$typeof:u_,type:s,key:c,ref:d,props:l,_owner:h_.current}}xi.Fragment=d_;xi.jsx=cd;xi.jsxs=cd;ld.exports=xi;var i=ld.exports,fa={},xu=ba;fa.createRoot=xu.createRoot,fa.hydrateRoot=xu.hydrateRoot;const Jo={},g_=(Jo==null?void 0:Jo.VITE_API_BASE)||"/api",st=s=>`${g_}${s}`;async function m_(s){const r=await fetch(st(`/runs/${s}`));if(!r.ok)throw new Error(await r.text());return r.json()}async function Xo(s){const r=await fetch(st(`/runs/${s}/metrics_step`));if(!r.ok)throw new Error(await r.text());return r.json()}async function ud(){const s=new AbortController,r=setTimeout(()=>s.abort(),3e3);try{const n=await fetch(st("/health"),{signal:s.signal,cache:"no-store"});if(clearTimeout(r),!n.ok)throw new Error(await n.text());return n.json()}catch(n){throw clearTimeout(r),n}}async function dd(){const s=await fetch(st("/gpu/telemetry"));if(!s.ok)throw new Error(await s.text());return s.json()}async function x_(s,r){const n=await fetch(st(`/projects/${encodeURIComponent(s)}/names/${encodeURIComponent(r)}/runs`));if(!n.ok)throw new Error(await n.text());return n.json()}async function ka(){const s=await fetch(st("/config"));if(!s.ok)throw new Error(await s.text());return s.json()}async function y_(s){const r=await fetch(st("/config/user_root_dir"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:s})});if(!r.ok)throw new Error(await r.text());return r.json()}async function v_(s){const r=new FormData;r.append("file",s);const n=await fetch(st("/import/archive"),{method:"POST",body:r});if(!n.ok)throw new Error(await n.text());return n.json()}async function __(){const s=await fetch(st("/status/check"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(await s.text());return s.json()}async function w_(s){const r=await fetch(st("/runs/soft-delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:s})});if(!r.ok)throw new Error(await r.text());return r.json()}async function S_(){const s=await fetch(st("/recycle-bin"));if(!s.ok)throw new Error(await s.text());return s.json()}async function b_(s){const r=await fetch(st("/recycle-bin/restore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:s})});if(!r.ok)throw new Error(await r.text());return r.json()}async function j_(){const s=await fetch(st("/recycle-bin/empty"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})});if(!s.ok)throw new Error(await s.text());return s.json()}async function C_(s){const r=s?`?type=${s}`:"",n=await fetch(st(`/artifacts${r}`));if(!n.ok)throw new Error(await n.text());return n.json()}async function R_(s,r){const a=await fetch(st(`/artifacts/${s}/versions`));if(!a.ok)throw new Error(await a.text());return a.json()}async function P_(s,r,n){const l=await fetch(st(`/artifacts/${s}/v${r}`));if(!l.ok)throw new Error(await l.text());return l.json()}async function T_(s,r,n){const l=await fetch(st(`/artifacts/${s}/v${r}/files`));if(!l.ok)throw new Error(await l.text());return l.json()}async function k_(s,r,n,a=3){const l=new URLSearchParams({max_depth:a.toString()}),c=await fetch(st(`/artifacts/${s}/v${r}/lineage?${l.toString()}`));if(!c.ok)throw new Error(await c.text());return c.json()}async function fd(){const s=await fetch(st("/artifacts/stats"));if(!s.ok)throw new Error(await s.text());return s.json()}async function I_(s,r,n,a=!1){const l=new URLSearchParams({permanent:a.toString()}),c=await fetch(st(`/artifacts/${s}/v${r}?${l.toString()}`),{method:"DELETE"});if(!c.ok)throw new Error(await c.text());return c.json()}const E_=(s,r,n,a)=>{var c,d,h,g;const l=[n,{code:r,...a||{}}];if((d=(c=s==null?void 0:s.services)==null?void 0:c.logger)!=null&&d.forward)return s.services.logger.forward(l,"warn","react-i18next::",!0);nr(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(g=(h=s==null?void 0:s.services)==null?void 0:h.logger)!=null&&g.warn?s.services.logger.warn(...l):console!=null&&console.warn&&console.warn(...l)},yu={},ha=(s,r,n,a)=>{nr(n)&&yu[n]||(nr(n)&&(yu[n]=new Date),E_(s,r,n,a))},hd=(s,r)=>()=>{if(s.isInitialized)r();else{const n=()=>{setTimeout(()=>{s.off("initialized",n)},0),r()};s.on("initialized",n)}},pa=(s,r,n)=>{s.loadNamespaces(r,hd(s,n))},vu=(s,r,n,a)=>{if(nr(n)&&(n=[n]),s.options.preload&&s.options.preload.indexOf(r)>-1)return pa(s,n,a);n.forEach(l=>{s.options.ns.indexOf(l)<0&&s.options.ns.push(l)}),s.loadLanguages(r,hd(s,a))},O_=(s,r,n={})=>!r.languages||!r.languages.length?(ha(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(s,{lng:n.lng,precheck:(a,l)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!l(a.isLanguageChangingTo,s))return!1}}),nr=s=>typeof s=="string",A_=s=>typeof s=="object"&&s!==null,L_=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,D_={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},z_=s=>D_[s],M_=s=>s.replace(L_,z_);let ga={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:M_};const $_=(s={})=>{ga={...ga,...s}},N_=()=>ga;let pd;const F_=s=>{pd=s},U_=()=>pd,B_={type:"3rdParty",init(s){$_(s.options.react),F_(s)}},W_=S.createContext();class H_{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const V_=(s,r)=>{const n=S.useRef();return S.useEffect(()=>{n.current=s},[s,r]),n.current},gd=(s,r,n,a)=>s.getFixedT(r,n,a),K_=(s,r,n,a)=>S.useCallback(gd(s,r,n,a),[s,r,n,a]),qe=(s,r={})=>{var w,T,D,q;const{i18n:n}=r,{i18n:a,defaultNS:l}=S.useContext(W_)||{},c=n||a||U_();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new H_),!c){ha(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const J=(H,ee)=>nr(ee)?ee:A_(ee)&&nr(ee.defaultValue)?ee.defaultValue:Array.isArray(H)?H[H.length-1]:H,V=[J,{},!1];return V.t=J,V.i18n={},V.ready=!1,V}(w=c.options.react)!=null&&w.wait&&ha(c,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...N_(),...c.options.react,...r},{useSuspense:h,keyPrefix:g}=d;let m=l||((T=c.options)==null?void 0:T.defaultNS);m=nr(m)?[m]:m||["translation"],(q=(D=c.reportNamespaces).addUsedNamespaces)==null||q.call(D,m);const v=(c.isInitialized||c.initializedStoreOnce)&&m.every(J=>O_(J,c,d)),y=K_(c,r.lng||null,d.nsMode==="fallback"?m:m[0],g),k=()=>y,j=()=>gd(c,r.lng||null,d.nsMode==="fallback"?m:m[0],g),[C,I]=S.useState(k);let M=m.join();r.lng&&(M=`${r.lng}${M}`);const $=V_(M),A=S.useRef(!0);S.useEffect(()=>{const{bindI18n:J,bindI18nStore:V}=d;A.current=!0,!v&&!h&&(r.lng?vu(c,r.lng,m,()=>{A.current&&I(j)}):pa(c,m,()=>{A.current&&I(j)})),v&&$&&$!==M&&A.current&&I(j);const H=()=>{A.current&&I(j)};return J&&(c==null||c.on(J,H)),V&&(c==null||c.store.on(V,H)),()=>{A.current=!1,c&&J&&(J==null||J.split(" ").forEach(ee=>c.off(ee,H))),V&&c&&V.split(" ").forEach(ee=>c.store.off(ee,H))}},[c,M]),S.useEffect(()=>{A.current&&v&&I(k)},[c,g,v]);const E=[C,c,v];if(E.t=C,E.i18n=c,E.ready=v,v||!v&&!h)return E;throw new Promise(J=>{r.lng?vu(c,r.lng,m,()=>J()):pa(c,m,()=>J())})};function G_(s){return!!(/\d{1,3}%\|/.test(s)||/it\/(s|sec)/i.test(s)||/ETA|elapsed/i.test(s))}function q_({url:s,persistKey:r}){const{t:n}=qe(),[a,l]=S.useState(()=>{if(!r)return[];try{const E=localStorage.getItem(r);if(!E)return[];const w=JSON.parse(E);return Array.isArray(w)?w.slice(-2e3):[]}catch{return[]}}),[c,d]=S.useState(!0),[h,g]=S.useState(!0),[m,v]=S.useState("connecting"),[y,k]=S.useState(0),j=S.useRef(null),C=S.useRef(null),I=S.useRef(null),M=S.useRef(500);S.useEffect(()=>{let E=!1;const w=()=>{try{C.current&&C.current.close()}catch{}v("connecting");const T=new WebSocket(s);C.current=T,T.onopen=()=>{v("connected"),M.current=500,k(0)},T.onmessage=q=>{const J=String(q.data);h&&G_(J)||l(V=>{const ee=[...V,J].slice(-2e3);try{r&&localStorage.setItem(r,JSON.stringify(ee))}catch{}return ee})};const D=()=>{if(E)return;v("disconnected");const q=Math.min(1e4,M.current);M.current=Math.min(1e4,Math.floor(M.current*1.8)),k(q),I.current&&window.clearTimeout(I.current),I.current=window.setTimeout(()=>{k(0),w()},q)};T.onerror=D,T.onclose=D};return w(),()=>{var T;E=!0;try{(T=C.current)==null||T.close()}catch{}I.current&&window.clearTimeout(I.current)}},[s,h,r]),S.useEffect(()=>{c&&j.current&&(j.current.scrollTop=j.current.scrollHeight)},[a,c]);const $=async()=>{try{await navigator.clipboard.writeText(a.join(`
`)),X.success(n("logs.copied"))}catch{X.error(n("logs.copy_failed"))}},A=S.useMemo(()=>m==="connected"?i.jsx(Se,{color:"green",children:n("logs.status.connected")}):m==="connecting"?i.jsx(Se,{color:"processing",children:n("logs.status.connecting")}):i.jsxs(Se,{color:"default",children:[n("logs.status.disconnected"),y?`, ${n("logs.status.retry_in",{sec:Math.ceil(y/1e3)})}`:""]}),[m,y,n]);return i.jsxs("div",{children:[i.jsxs(U,{style:{marginBottom:8},children:[A,i.jsx(Fe,{title:n("logs.tooltip.autoscroll"),children:i.jsxs("span",{children:[n("logs.autoscroll")," ",i.jsx(Et,{checked:c,onChange:d,style:{marginLeft:6}})]})}),i.jsx(Fe,{title:n("logs.tooltip.filter_tqdm"),children:i.jsxs("span",{children:[n("logs.filter_tqdm")," ",i.jsx(Et,{checked:h,onChange:g,style:{marginLeft:6}})]})}),i.jsx(fe,{size:"small",onClick:()=>{l([]);try{r&&localStorage.removeItem(r)}catch{}},children:n("logs.clear")}),i.jsx(fe,{size:"small",onClick:$,children:n("logs.copy")})]}),i.jsx("div",{ref:j,style:{height:320,overflow:"auto",background:"#0b1020",color:"#e6e9ef",padding:12,borderRadius:8,fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:12},children:a.map((E,w)=>i.jsx("div",{children:E},w))})]})}function Ia(s){const r=S.useRef(null),n=S.useRef(null);S.useEffect(()=>{if(!r.current)return;const h=r.current;let g=null;const m=()=>{g!=null&&cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k,j,C;try{(C=(j=(k=n.current)==null?void 0:k.getEchartsInstance())==null?void 0:j.resize)==null||C.call(j)}catch{}})};let v=null;const y=window.ResizeObserver;return y&&(v=new y(()=>m()),v.observe(h)),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),v&&v.disconnect(),g!=null&&cancelAnimationFrame(g)}},[]),S.useEffect(()=>{var g,m;const h=(m=(g=n.current)==null?void 0:g.getEchartsInstance)==null?void 0:m.call(g);if(h&&s.group)try{h.group=s.group,l_(s.group)}catch{}},[s.group]);const a=S.useMemo(()=>({width:"100%",height:"100%",...s.style||{}}),[s.style]),{group:l,style:c,...d}=s;return i.jsx("div",{ref:r,style:{width:"100%",height:"100%"},children:i.jsx(Pr,{ref:n,...d,style:a})})}const md=S.createContext(void 0),Y_=({children:s,value:r})=>i.jsx(md.Provider,{value:r,children:s}),yi=()=>{const s=S.useContext(md);if(!s)throw new Error("useSettings must be used within a SettingsProvider");return s},Y={spacing:{xs:8,sm:12,md:16,lg:24,xl:32},borderRadius:{md:8},colors:{primary:"#1677ff",success:"#52c41a",warning:"#faad14",info:"#13c2c2"},typography:{fontSize:{xs:12,sm:14,md:16,lg:18},fontWeight:{semibold:600}}},{Text:J_}=Ae,X_=S.memo(function({metrics:r,xKey:n,yKeys:a,title:l,height:c,persistKey:d,group:h}){const{t:g}=qe(),{settings:m}=yi(),{token:v}=kr.useToken(),y=c??m.defaultChartHeight,[k,j]=S.useState(!1),[C,I]=S.useState(!0),[M,$]=S.useState(0),A=["iter","step","batch","global_step","time"],E=(r==null?void 0:r.columns)||[],w=S.useMemo(()=>A.filter(oe=>E.includes(oe)),[E]),[T,D]=S.useState(n),q=S.useRef(!1);S.useEffect(()=>{if(n&&E.includes(n))D(n);else if(!E.includes(T)){const oe=w.find(Boolean);oe&&D(oe)}},[n,E,w,T]),S.useEffect(()=>{if(!(!d||q.current)){try{const oe=localStorage.getItem(`MetricChart:${d}`);if(oe){const Z=JSON.parse(oe);typeof Z.useLog=="boolean"&&j(Z.useLog),typeof Z.dynamicScale=="boolean"&&I(Z.dynamicScale),typeof Z.smoothing=="number"&&$(Z.smoothing),Z.xAxisKey&&E.includes(Z.xAxisKey)&&D(Z.xAxisKey)}}catch{}q.current=!0}},[d,E]),S.useEffect(()=>{if(d)try{localStorage.setItem(`MetricChart:${d}`,JSON.stringify({useLog:k,dynamicScale:C,smoothing:M,xAxisKey:T}))}catch{}},[d,k,C,M,T]);const J=oe=>{const Z=String(oe).toLowerCase();if(Z.includes("loss")||Z.includes("error"))return"min";if(Z.includes("acc")||Z.includes("f1")||Z.includes("auc")||Z.includes("map")||Z.includes("precision")||Z.includes("recall"))return"max"},V=(oe,Z)=>{if(!Z)return oe;let ne=null;return oe.map(de=>de==null?(ne=null,null):(ne=ne==null?de:Z*de+(1-Z)*ne,ne))},H=S.useMemo(()=>{var pe,G;const oe=E.includes(T)?T:n,Z=r.rows.map(se=>{const ue=se[oe],ye=ue===""||ue==null?null:Number(ue);return ye==null||Number.isNaN(ye)?null:ye});let ne=Z;if(oe==="time"){const se=Z.find(ue=>ue!=null)??0;ne=Z.map(ue=>ue==null?null:ue-se)}const de=E.includes("stage")&&(oe==="global_step"||oe==="time"),he=[];if(de){const se=r.rows;let ue=se.length?((pe=se[0])==null?void 0:pe.stage)??null:null;for(let ye=1;ye<se.length;ye++){const Je=(G=se[ye])==null?void 0:G.stage,Xe=Je==null||Je===""?ue:Je;if(Xe!==ue){const W=ne[ye];W!=null&&he.push({xAxis:W}),ue=Xe}}}const be=a.map(se=>{var ze;const ue=r.rows.map(z=>{const ie=z[se]===""||z[se]==null?null:Number(z[se]),Ce=ie==null||Number.isNaN(ie)?null:ie;return k&&(Ce==null||Ce<=0)?null:Ce}),ye=V(ue,Math.min(.95,Math.max(0,M))),Je=ye.filter(z=>z!=null).length,Xe=Je<=12||Je<=Math.ceil((((ze=r==null?void 0:r.rows)==null?void 0:ze.length)||0)*.2),W=J(se),ae={name:se,type:"line",smooth:!0,showSymbol:Xe,symbolSize:Xe?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:ye.slice(0,m.maxDataPoints),markPoint:W?{data:[{type:W,name:W==="max"?"Best (max)":"Best (min)"}],symbolSize:60}:void 0};if(se===a[0]){const z=he;z.length&&(ae.markLine={silent:!0,symbol:"none",lineStyle:{type:"dashed",color:v.colorBorder,width:1},label:{show:!1},data:z})}return ae});return{title:{text:l,left:"center",top:Y.spacing.xs,textStyle:{fontSize:Y.typography.fontSize.md,fontWeight:Y.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:a,top:Y.spacing.xl,padding:[5,10]},xAxis:{type:"category",data:ne},yAxis:{type:k?"log":"value",scale:C,min:C?"dataMin":0},grid:{left:50,right:30,top:a.length>3?70:a.length>1?60:50,bottom:80,show:m.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:be,animation:m.enableChartAnimations,animationDuration:m.enableChartAnimations?1e3:0}},[r,n,T,a,l,k,C,M,E,m.enableChartAnimations,m.maxDataPoints,m.showGridLines]),ee=()=>{try{const oe=E.includes(T)?T:n,Z=[oe,...a],ne=[];ne.push(Z.join(","));for(const pe of r.rows){const G=[],se=pe[oe];G.push(se==null?"":String(se));for(const ue of a){const ye=pe[ue];G.push(ye==null?"":String(ye))}ne.push(G.join(","))}const de=new Blob([ne.join(`
`)],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(de),be=document.createElement("a");be.href=he,be.download=`${l.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(he)}catch{}};return i.jsxs("div",{children:[i.jsx(te,{size:"small",style:{marginBottom:Y.spacing.md,borderRadius:Y.borderRadius.md},bodyStyle:{padding:`${Y.spacing.sm}px ${Y.spacing.md}px`},children:i.jsxs(U,{wrap:!0,size:"small",style:{width:"100%"},children:[i.jsx(Fe,{title:g("chart.log_y_tooltip"),children:i.jsx(Et,{checkedChildren:g("chart.log"),unCheckedChildren:g("chart.linear"),checked:k,onChange:j,size:"small"})}),i.jsx(Fe,{title:g("chart.auto_scale_tooltip"),children:i.jsx(Et,{checkedChildren:g("chart.auto"),unCheckedChildren:g("chart.fixed"),checked:C,onChange:I,size:"small"})}),i.jsx(es,{type:"vertical",style:{margin:"0 4px"}}),i.jsxs(U,{size:"small",style:{minWidth:140,maxWidth:200},children:[i.jsxs(J_,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs,whiteSpace:"nowrap"},children:[g("chart.smooth"),":"]}),i.jsx(ts,{min:0,max:.95,step:.05,value:M,onChange:oe=>$(Array.isArray(oe)?oe[0]:oe),style:{width:90},tooltip:{formatter:oe=>oe?`${(oe*100).toFixed(0)}%`:g("chart.off")}})]}),i.jsx(es,{type:"vertical",style:{margin:"0 4px"}}),i.jsx(ht,{size:"small",value:E.includes(T)?T:n,style:{minWidth:100},onChange:D,options:(w.length?w:[n]).map(oe=>({value:oe,label:`${g("chart.x_axis")}: ${oe}`}))}),i.jsx(es,{type:"vertical",style:{margin:"0 4px"}}),i.jsx(fe,{size:"small",icon:i.jsx(gi,{}),onClick:ee,children:g("chart.export_csv")})]})}),i.jsx("div",{style:{height:y,width:"100%"},children:i.jsx(Ia,{option:H,group:h})})]})},(s,r)=>s.metrics===r.metrics&&s.xKey===r.xKey&&JSON.stringify(s.yKeys)===JSON.stringify(r.yKeys)&&s.title===r.title&&s.height===r.height&&s.persistKey===r.persistKey&&s.group===r.group),Z_=120;function Q_(){const{t:s}=qe(),[r,n]=S.useState(null),[a,l]=S.useState(""),[c,d]=S.useState(!1),h=S.useRef([]),[g,m]=S.useState(0),v=S.useRef(null),[y,k]=S.useState([]);S.useEffect(()=>{let V;const H=async()=>{if(!c)try{const ee=await dd();if(!(ee!=null&&ee.available)){n(!1),l((ee==null?void 0:ee.reason)||s("gpu.not_available"));return}n(!0);const oe={ts:ee.ts||Date.now()/1e3,gpus:ee.gpus||[]},Z=h.current.slice();for(Z.push(oe);Z.length>Z_;)Z.shift();h.current=Z,m(ne=>ne+1)}catch(ee){n(!1),l((ee==null?void 0:ee.message)||s("gpu.not_available"))}};return H(),V=setInterval(H,2e3),()=>clearInterval(V)},[c]);const{times:j,gpuNames:C,seriesUtil:I,seriesMem:M,seriesPower:$,seriesTemp:A}=S.useMemo(()=>{const V=h.current,H=V.map(pe=>new Date((pe.ts||0)*1e3).toLocaleTimeString()),ee=V.reduce((pe,G)=>{var se;return Math.max(pe,((se=G.gpus)==null?void 0:se.length)||0)},0),oe=[];for(let pe=0;pe<ee;pe++){const G=V.find(se=>se.gpus&&se.gpus[pe]);oe.push(G?`GPU${G.gpus[pe].index} ${G.gpus[pe].name}`:`GPU${pe}`)}const Z=pe=>new Array(ee).fill(0).map((G,se)=>({name:oe[se]||`GPU${se}`,type:"line",smooth:!0,showSymbol:!1,connectNulls:!0,data:V.map(ue=>{const ye=ue.gpus&&ue.gpus[se]?pe(ue.gpus[se]):null;return ye==null?null:Number(ye)})})),ne=Z(pe=>pe.util_gpu),de=Z(pe=>pe.mem_used_pct),he=Z(pe=>pe.power_w),be=Z(pe=>pe.temp_c);return{times:H,gpuNames:oe,seriesUtil:ne,seriesMem:de,seriesPower:he,seriesTemp:be}},[g]),E=S.useMemo(()=>{const V=h.current[h.current.length-1],H={utilAvg:0,memAvg:0,powerNow:0,powerMax:0,tempMax:0};if(!V||!V.gpus||V.gpus.length===0)return H;const ee=V.gpus,oe=ee.length,Z=de=>de.reduce((he,be)=>he+(Number.isFinite(be)?be:0),0),ne={util:ee.map(de=>Number(de.util_gpu??0)),mem:ee.map(de=>Number(de.mem_used_pct??0)),pwr:ee.map(de=>Number(de.power_w??0)),pmax:ee.map(de=>Number(de.power_limit_w??0)),temp:ee.map(de=>Number(de.temp_c??0))};return H.utilAvg=Math.round(Z(ne.util)/oe),H.memAvg=Math.round(Z(ne.mem)/oe),H.powerNow=Math.round(Z(ne.pwr)),H.powerMax=Math.round(Z(ne.pmax)),H.tempMax=Math.max(...ne.temp),H},[g]),w={left:48,right:16,top:40,bottom:40},T=S.useMemo(()=>({title:{text:s("gpu.chart.util")},tooltip:{trigger:"axis"},legend:{data:I.map(V=>V.name)},xAxis:{type:"category",data:j},yAxis:{type:"value",min:0,max:100},grid:w,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:I}),[j,I,s]),D=S.useMemo(()=>({title:{text:s("gpu.chart.mem")},tooltip:{trigger:"axis"},legend:{data:M.map(V=>V.name)},xAxis:{type:"category",data:j},yAxis:{type:"value",min:0,max:100},grid:w,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:M}),[j,M,s]),q=S.useMemo(()=>({title:{text:s("gpu.chart.power")},tooltip:{trigger:"axis"},legend:{data:$.map(V=>V.name)},xAxis:{type:"category",data:j},yAxis:{type:"value",min:"dataMin",scale:!0},grid:w,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:$}),[j,$,s]),J=S.useMemo(()=>({title:{text:s("gpu.chart.temp")},tooltip:{trigger:"axis"},legend:{data:A.map(V=>V.name)},xAxis:{type:"category",data:j},yAxis:{type:"value",min:"dataMin",scale:!0},grid:w,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:A}),[j,A,s]);return r===!1?i.jsx(Xt,{type:"warning",showIcon:!0,message:s("gpu.not_available"),description:a||void 0}):i.jsxs("div",{ref:v,style:{position:"relative"},children:[i.jsxs(U,{align:"center",style:{marginBottom:8},children:[i.jsx(Ae.Text,{type:"secondary",children:s("polling.every2s")}),i.jsxs("span",{style:{marginLeft:12},children:[s("pause")," ",i.jsx(Et,{checked:c,onChange:d})]})]}),i.jsx(Iv,{activeKey:y,onChange:V=>{k(V),setTimeout(()=>{try{window.dispatchEvent(new Event("resize"))}catch{}},350)},items:[{key:"util",label:s("gpu.chart.util"),children:i.jsx(Pr,{option:T,style:{height:260,width:"100%"}})},{key:"mem",label:s("gpu.chart.mem"),children:i.jsx(Pr,{option:D,style:{height:260,width:"100%"}})},{key:"power",label:s("gpu.chart.power"),children:i.jsx(Pr,{option:q,style:{height:260,width:"100%"}})},{key:"temp",label:s("gpu.chart.temp"),children:i.jsx(Pr,{option:J,style:{height:260,width:"100%"}})}]}),r&&y.indexOf("power")===-1&&i.jsxs("div",{style:{position:"absolute",right:12,top:12,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[i.jsx(ln,{style:{marginRight:6}}),s("gpu.power")," ",E.powerNow,E.powerMax?`/${E.powerMax}`:""," W"]}),r&&y.indexOf("util")===-1&&i.jsxs("div",{style:{position:"absolute",right:12,top:44,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[i.jsx(td,{style:{marginRight:6}}),s("gpu.util")," ",E.utilAvg,"%"]}),r&&y.indexOf("mem")===-1&&i.jsxs("div",{style:{position:"absolute",right:12,top:76,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[i.jsx(cn,{style:{marginRight:6}}),s("gpu.mem")," ",E.memAvg,"%"]}),r&&y.indexOf("temp")===-1&&i.jsxs("div",{style:{position:"absolute",right:12,top:108,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[i.jsx(nd,{style:{marginRight:6}}),s("gpu.temp")," ",E.tempMax,"°C"]})]})}const{Text:ew}=Ae;function tw(s,r){if(!r)return s;let n=null;return s.map(a=>a==null?(n=null,null):(n=n==null?a:r*a+(1-r)*n,n))}const nw=S.memo(function({runs:r,xKey:n,yKey:a,title:l,height:c,persistKey:d,group:h}){const{t:g}=qe(),{settings:m}=yi(),v=c??m.defaultChartHeight,[y,k]=S.useState(!1),[j,C]=S.useState(!0),[I,M]=S.useState(0),$=S.useRef(!1);S.useEffect(()=>{if(!(!d||$.current)){try{const w=localStorage.getItem(`MultiRunMetric:${d}`);if(w){const T=JSON.parse(w);typeof T.useLog=="boolean"&&k(T.useLog),typeof T.dynamicScale=="boolean"&&C(T.dynamicScale),typeof T.smoothing=="number"&&M(T.smoothing)}}catch{}$.current=!0}},[d]),S.useEffect(()=>{if(d)try{localStorage.setItem(`MultiRunMetric:${d}`,JSON.stringify({useLog:y,dynamicScale:j,smoothing:I}))}catch{}},[d,y,j,I]);const A=S.useMemo(()=>{const w=r.map(T=>{var oe,Z;(oe=T.metrics)!=null&&oe.columns;const D=((Z=T.metrics)==null?void 0:Z.rows)||[],q=D.map(ne=>{const de=ne[n],he=de===""||de==null?null:Number(de);return he==null||Number.isNaN(he)?null:he});let J=q;if(n==="time"){const ne=q.find(de=>de!=null)??0;J=q.map(de=>de==null?null:de-ne)}const V=D.map(ne=>{const de=ne[a],he=de===""||de==null?null:Number(de);return y&&(he==null||he<=0)||he==null||Number.isNaN(he)?null:he}),H=tw(V,Math.min(.95,Math.max(0,I))),ee=[];for(let ne=0;ne<H.length;ne++){const de=J[ne],he=H[ne];de!=null&&he!=null&&ee.push([de,he])}return{name:T.label||T.id,type:"line",smooth:!0,showSymbol:ee.length<=12,symbolSize:ee.length<=12?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:ee.slice(0,m.maxDataPoints)}});return{title:{text:l,left:"center",top:Y.spacing.xs,textStyle:{fontSize:Y.typography.fontSize.md,fontWeight:Y.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:r.map(T=>T.label||T.id),top:Y.spacing.xl,type:"scroll",padding:[5,10]},xAxis:{type:"value",name:n},yAxis:{type:y?"log":"value",scale:j,min:j?"dataMin":0},grid:{left:50,right:30,top:r.length>3?70:r.length>1?60:50,bottom:80,show:m.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:w,animation:m.enableChartAnimations,animationDuration:m.enableChartAnimations?1e3:0}},[r,n,a,l,y,j,I,m.enableChartAnimations,m.maxDataPoints,m.showGridLines]),E=()=>{var w;try{const D=[["run_id",n,a].join(",")];for(const H of r){const ee=((w=H.metrics)==null?void 0:w.rows)||[];for(const oe of ee){const Z=oe[n],ne=oe[a],de=[H.id,Z==null?"":String(Z),ne==null?"":String(ne)];D.push(de.join(","))}}const q=new Blob([D.join(`
`)],{type:"text/csv;charset=utf-8;"}),J=URL.createObjectURL(q),V=document.createElement("a");V.href=J,V.download=`${l.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(J)}catch{}};return i.jsxs("div",{children:[i.jsx(te,{size:"small",style:{marginBottom:Y.spacing.md,borderRadius:Y.borderRadius.md},bodyStyle:{padding:`${Y.spacing.sm}px ${Y.spacing.md}px`},children:i.jsxs(U,{wrap:!0,size:"small",style:{width:"100%"},children:[i.jsx(Fe,{title:g("chart.log_y_tooltip"),children:i.jsx(Et,{checkedChildren:g("chart.log"),unCheckedChildren:g("chart.linear"),checked:y,onChange:k,size:"small"})}),i.jsx(Fe,{title:g("chart.auto_scale_tooltip"),children:i.jsx(Et,{checkedChildren:g("chart.auto"),unCheckedChildren:g("chart.fixed"),checked:j,onChange:C,size:"small"})}),i.jsx(es,{type:"vertical",style:{margin:"0 4px"}}),i.jsxs(U,{size:"small",style:{minWidth:140,maxWidth:200},children:[i.jsxs(ew,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs,whiteSpace:"nowrap"},children:[g("chart.smooth"),":"]}),i.jsx(ts,{min:0,max:.95,step:.05,value:I,onChange:w=>M(Array.isArray(w)?w[0]:w),style:{width:90},tooltip:{formatter:w=>w?`${(w*100).toFixed(0)}%`:g("chart.off")}})]}),i.jsx(es,{type:"vertical",style:{margin:"0 4px"}}),i.jsx(fe,{size:"small",icon:i.jsx(gi,{}),onClick:E,children:g("chart.export_csv")})]})}),i.jsx("div",{style:{height:v,width:"100%"},children:i.jsx(Ia,{option:A,group:h})})]})},(s,r)=>JSON.stringify(s.runs)===JSON.stringify(r.runs)&&s.xKey===r.xKey&&s.yKey===r.yKey&&s.title===r.title&&s.height===r.height&&s.persistKey===r.persistKey&&s.group===r.group);function rw(s){if(s===0)return"0 B";const r=1024,n=["B","KB","MB","GB","TB"],a=Math.floor(Math.log(s)/Math.log(r));return parseFloat((s/Math.pow(r,a)).toFixed(2))+" "+n[a]}function xd(s){if(!s||s===0)return"-";const r=s<1e10?s*1e3:s,n=new Date(r);return isNaN(n.getTime())?"-":n.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function sw(s){if(!s||s<=0)return"0s";const r=Math.floor(s/1e3),n=Math.floor(r/60),a=Math.floor(n/60),l=Math.floor(a/24);if(l>0){const c=a%24;return`${l}d ${c}h`}if(a>0){const c=n%60;return`${a}h ${c}m`}if(n>0){const c=r%60;return`${n}m ${c}s`}return`${r}s`}const _u={log:(...s)=>{},error:(...s)=>{},warn:(...s)=>{},info:(...s)=>{},debug:(...s)=>{},table:s=>{}},{TabPane:wu}=us,iw=s=>{switch(s){case"model":return i.jsx(ja,{});case"dataset":return i.jsx(cn,{});case"config":return i.jsx(Ca,{});case"code":return i.jsx(aa,{});default:return i.jsx(rs,{})}},ow=s=>{switch(s){case"production":return"green";case"staging":return"blue";case"experimental":return"orange";case"archived":return"default";default:return"default"}};function aw({runId:s}){const{t:r}=qe(),n=cs(),[a,l]=S.useState(!1),[c,d]=S.useState([]),[h,g]=S.useState([]);S.useEffect(()=>{m()},[s]);const m=async()=>{l(!0);try{const y=await fetch(`/api/runs/${s}/artifacts`);if(!y.ok){const j=await y.text();throw _u.error(`API error: ${y.status} ${y.statusText}`,j),new Error(`Failed to load artifacts: ${y.statusText}`)}const k=await y.json();_u.info("Loaded artifacts:",k),d(k.created||[]),g(k.used||[])}catch(y){X.error(`Failed to load artifacts: ${y}`)}finally{l(!1)}},v=[{title:r("artifacts.name"),dataIndex:"name",key:"name",render:(y,k)=>i.jsxs(U,{children:[iw(k.type),i.jsx("a",{onClick:()=>n(`/artifacts/${y}`),children:y})]})},{title:r("artifacts.version"),dataIndex:"version",key:"version",width:100,render:y=>i.jsxs(Se,{children:["v",y]})},{title:r("artifacts.aliases"),dataIndex:"aliases",key:"aliases",render:y=>i.jsx(U,{size:4,children:y.map(k=>i.jsx(Se,{color:"blue",children:k},k))})},{title:r("artifacts.stage"),dataIndex:"lifecycle_stage",key:"lifecycle_stage",render:y=>y&&i.jsx(Se,{color:ow(y),children:r(`artifacts.stage.${y}`)})},{title:r("artifacts.size"),dataIndex:"size_bytes",key:"size_bytes",width:100,render:y=>rw(y)},{title:r("artifacts.created"),dataIndex:"created_at",key:"created_at",width:180,render:y=>xd(y)},{title:r("actions"),key:"actions",width:100,render:(y,k)=>i.jsx(fe,{type:"link",size:"small",onClick:()=>n(`/artifacts/${k.name}?version=${k.version}`),children:r("view")})}];return a?i.jsx("div",{style:{textAlign:"center",padding:"40px"},children:i.jsx(Jt,{size:"large"})}):i.jsxs(us,{defaultActiveKey:"created",children:[i.jsx(wu,{tab:i.jsxs("span",{children:[i.jsx(ja,{})," ",r("run.artifacts.created")," (",c.length,")"]}),children:c.length>0?i.jsx(Wn,{dataSource:c,columns:v,rowKey:y=>`${y.name}-v${y.version}`,size:"small",pagination:{pageSize:10}}):i.jsx(Ge,{image:Ge.PRESENTED_IMAGE_SIMPLE,description:r("run.artifacts.no_created")})},"created"),i.jsx(wu,{tab:i.jsxs("span",{children:[i.jsx(rd,{})," ",r("run.artifacts.used")," (",h.length,")"]}),children:h.length>0?i.jsx(Wn,{dataSource:h,columns:v,rowKey:y=>`${y.name}-v${y.version}`,size:"small",pagination:{pageSize:10}}):i.jsx(Ge,{image:Ge.PRESENTED_IMAGE_SIMPLE,description:r("run.artifacts.no_used")})},"used")]})}function lw(){return i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"large",children:[i.jsx(pn,{gutter:[Y.spacing.md,Y.spacing.md],children:[1,2,3,4].map(s=>i.jsx(Ve,{xs:24,sm:12,md:6,children:i.jsx(te,{children:i.jsx(Bn,{active:!0,paragraph:{rows:1}})})},s))}),i.jsx(te,{children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(Bn.Button,{active:!0,style:{width:"100%",height:40}}),[1,2,3,4,5,6,7,8].map(s=>i.jsx(Bn,{active:!0,paragraph:{rows:0}},s))]})})]})}function yd(){return i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"large",children:[i.jsx(te,{children:i.jsx(Bn,{active:!0,paragraph:{rows:4}})}),i.jsx(te,{children:i.jsx(Bn,{active:!0,paragraph:{rows:2}})}),i.jsx(pn,{gutter:[Y.spacing.md,Y.spacing.md],children:[1,2,3,4].map(s=>i.jsx(Ve,{xs:24,md:12,children:i.jsx(te,{children:i.jsx(Bn.Image,{active:!0,style:{width:"100%",height:300}})})},s))}),i.jsx(te,{children:i.jsx(Bn,{active:!0,paragraph:{rows:6}})})]})}function cw({rows:s=4}){return i.jsx(te,{children:i.jsx(Bn,{active:!0,paragraph:{rows:s}})})}const Zo={};function uw(){const{id:s=""}=ed(),{t:r}=qe(),{settings:n}=yi(),[a,l]=S.useState(null),[c,d]=S.useState({columns:[],rows:[]}),[h,g]=S.useState(!1),[m,v]=S.useState(!1),[y,k]=S.useState(null),[j,C]=S.useState(()=>{try{return localStorage.getItem(`run:${s}:step:xAxis`)||"global_step"}catch{return"global_step"}}),[I,M]=S.useState(()=>{try{return localStorage.getItem(`run:${s}:layout:twoCol`)==="1"}catch{return!0}}),[$,A]=S.useState(window.innerWidth);S.useEffect(()=>{const W=()=>A(window.innerWidth);return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const[E,w]=S.useState(null),T=S.useRef([]),[D,q]=S.useState([]),[J,V]=S.useState([]),[H,ee]=S.useState([]),[oe,Z]=S.useState({}),ne=async(W=!0)=>{W&&g(!0);try{const ae=await m_(s);l(ae),k(new Date)}catch{X.error(r("run.load_failed")||"Failed to load run details")}finally{W&&g(!1)}},de=async(W=!0)=>{W&&v(!0);try{const ae=await Xo(s);d(ae)}catch{X.error(r("run.metrics_failed")||"Failed to load metrics")}finally{W&&v(!1)}};S.useEffect(()=>{ne(),de();const W=setInterval(()=>{ne(!1),de(!1)},3e3);return()=>clearInterval(W)},[s]),S.useEffect(()=>{(async()=>{if(!(a!=null&&a.project)||!(a!=null&&a.name)){q([]);return}try{const W=await x_(a.project,a.name);q(W||[]),V(ae=>ae&&ae.length?ae:[s])}catch{q([])}})()},[a==null?void 0:a.project,a==null?void 0:a.name,s]),S.useEffect(()=>{let W=!1;return(async()=>{const ae={...oe};for(const ze of J)if(!ae[ze])try{const z=await Xo(ze);W||(ae[ze]=z)}catch{}W||Z(ae)})(),()=>{W=!0}},[J]),S.useEffect(()=>{try{localStorage.setItem(`run:${s}:step:xAxis`,j)}catch{}},[s,j]),S.useEffect(()=>{try{localStorage.setItem(`run:${s}:layout:twoCol`,I?"1":"0")}catch{}},[s,I]);const he=W=>{const ae=T.current;if(ae.length<2)return null;const ze=ae[ae.length-1],z=ae[ae.length-2],ie=ze[W]-z[W];return ie>=2?i.jsx(Ov,{style:{color:"#52c41a",marginLeft:6}}):ie<=-2?i.jsx(Av,{style:{color:"#fa541c",marginLeft:6}}):i.jsx(Lv,{style:{color:"#8c8c8c",marginLeft:6}})};S.useEffect(()=>{let W;const ae=async()=>{try{const ze=await dd();if(!(ze!=null&&ze.available)||!(ze!=null&&ze.gpus)||!ze.gpus.length)return;const z=ze.gpus,ie=z.length,Ce=ve=>ve.reduce((Ze,rt)=>Ze+(Number.isFinite(rt)?rt:0),0),ct=Math.round(Ce(z.map(ve=>Number(ve.util_gpu??0)))/ie),_t=Math.round(Ce(z.map(ve=>Number(ve.mem_used_pct??0)))/ie),Zt=Math.round(Ce(z.map(ve=>Number(ve.power_w??0)))),pt=Math.max(...z.map(ve=>Number(ve.temp_c??0)));w({util:ct,mem:_t,power:Zt,temp:pt,gpus:z});const K=Date.now()/1e3,le=T.current.slice();for(le.push({t:K,util:ct,mem:_t,power:Zt,temp:pt});le.length>60;)le.shift();T.current=le}catch{}};return ae(),W=setInterval(ae,2e3),()=>clearInterval(W)},[s]);const be=location.protocol==="https:"?"wss":"ws",pe=S.useMemo(()=>{const W=(Zo==null?void 0:Zo.VITE_API_BASE)||"/api";return/^https?:/i.test(W)?`${W.replace(/^http/i,be).replace(/\/$/,"")}/runs/${s}/logs/ws`:`${be}://${location.host}${W.replace(/\/$/,"")}/runs/${s}/logs/ws`},[s,be]),G=(W,ae)=>{var ze;if(!((ze=W==null?void 0:W.rows)!=null&&ze.length))return!1;for(const z of W.rows){const ie=z[ae];if(ie==null||ie==="")continue;const Ce=Number(ie);if(!Number.isNaN(Ce))return!0}return!1},se=new Set(["epoch","global_step","iter","step","batch","time","stage"]),ue=S.useMemo(()=>(c.columns||[]).filter(W=>!se.has(W)&&G(c,W)),[c]),ye=S.useMemo(()=>{const W=new Set;for(const ae of J){const ze=oe[ae];if(!ze)continue;const z=ze.columns||[];for(const ie of z)!se.has(ie)&&G(ze,ie)&&W.add(ie)}return Array.from(W).sort()},[J,oe]),Je=S.useMemo(()=>({display:"grid",gridTemplateColumns:I&&$>=900?"repeat(auto-fit, minmax(400px, 1fr))":"1fr",gap:16,width:"100%",maxWidth:"100%"}),[I,$]),Xe=S.useMemo(()=>{const W=n.defaultChartHeight;return $>=1200?W+30:$>=900?W:Math.max(250,W-40)},[$,n.defaultChartHeight]);return h&&!a?i.jsx(yd,{}):i.jsxs(U,{direction:"vertical",size:"large",style:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:[i.jsxs(te,{title:i.jsxs(U,{children:[i.jsx("span",{children:r("run.title",{id:s})}),(a==null?void 0:a.status)&&i.jsx(Se,{color:a.status==="running"?"processing":a.status==="finished"?"success":a.status==="failed"?"error":"default",children:a.status}),y&&i.jsx(Fe,{title:`Last updated: ${y.toLocaleTimeString()}`,children:i.jsx(tr,{status:"processing",text:"Auto-refreshing"})})]}),extra:i.jsxs(U,{children:[i.jsx(Fe,{title:r("metrics.more_columns_tooltip")||"Display charts in multiple columns for better comparison",children:i.jsxs("span",{children:[r("metrics.more_columns")," ",i.jsx(Et,{checked:I,onChange:M})]})}),i.jsx(Fe,{title:"Manual refresh",children:i.jsx(fe,{type:"text",icon:i.jsx(Er,{}),loading:h,onClick:()=>{ne(),de(),X.success("Data refreshed")}})})]}),children:[i.jsx(Jt,{spinning:h,children:i.jsx(we,{bordered:!0,size:"middle",column:{xs:1,sm:1,md:2,lg:2,xl:2},labelStyle:{fontWeight:600,fontSize:"14px",color:"#262626",width:"120px"},contentStyle:{fontSize:"14px",color:"#595959",fontFamily:"inherit"},items:[{key:"project",label:r("run.descriptions.project"),children:a!=null&&a.project?i.jsx(Se,{color:"blue",style:{fontSize:"13px",padding:"4px 8px"},children:a.project}):"-"},{key:"name",label:r("run.descriptions.name"),children:a!=null&&a.name?i.jsx(Se,{color:"purple",style:{fontSize:"13px",padding:"4px 8px"},children:a.name}):"-"},{key:"status",label:r("run.descriptions.status"),children:a!=null&&a.status?i.jsx(Se,{color:a.status==="running"?"processing":a.status==="finished"?"success":a.status==="failed"?"error":"default",style:{fontSize:"13px",padding:"4px 8px",fontWeight:500},children:a.status.toUpperCase()}):"-"},{key:"pid",label:r("run.descriptions.pid"),children:a!=null&&a.pid?i.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#1677ff"},children:a.pid}):"-"},{key:"run_dir",label:r("run.descriptions.dir"),children:a!=null&&a.run_dir?i.jsx("div",{style:{fontSize:"13px",wordBreak:"break-all",lineHeight:"1.5",maxWidth:"400px",color:"#595959"},children:a.run_dir}):"-"},{key:"logs",label:r("run.descriptions.logs"),children:a!=null&&a.logs?i.jsx("div",{style:{fontSize:"13px",wordBreak:"break-all",lineHeight:"1.5",maxWidth:"400px",color:"#595959"},children:a.logs}):"-"}]})}),i.jsx("div",{style:{height:12}}),i.jsx("div",{style:{marginBottom:8},children:i.jsxs(U,{size:"large",wrap:!0,children:[i.jsxs("span",{children:[i.jsx(td,{style:{marginRight:6}}),r("gpu.util")," ",(E==null?void 0:E.util)??"-","% ",he("util")]}),i.jsxs("span",{children:[i.jsx(cn,{style:{marginRight:6}}),r("gpu.mem")," ",(E==null?void 0:E.mem)??"-","% ",he("mem")]}),i.jsxs("span",{children:[i.jsx(ln,{style:{marginRight:6}}),r("gpu.power")," ",(E==null?void 0:E.power)??"-"," W ",he("power")]}),i.jsxs("span",{children:[i.jsx(nd,{style:{marginRight:6}}),r("gpu.temp")," ",(E==null?void 0:E.temp)??"-","°C ",he("temp")]}),(E==null?void 0:E.gpus)&&i.jsx(Ev,{placement:"bottom",content:i.jsx("div",{style:{minWidth:220},children:E.gpus.map((W,ae)=>i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:r("gpu.tooltip.item",{index:W.index,name:W.name})}),i.jsx("span",{style:{color:"#555"},children:r("gpu.tooltip.metrics",{util:Math.round(W.util_gpu??0),mem:Math.round(W.mem_used_pct??0),power:Math.round(W.power_w??0),temp:Math.round(W.temp_c??0)})})]},ae))}),children:i.jsx(Se,{color:"blue",style:{cursor:"pointer"},children:r("gpu.detail",{count:E.gpus.length})})})]})})]}),i.jsx(te,{title:i.jsxs(U,{children:[i.jsx("span",{children:r("compare.title")}),J.length>1&&H.length>0&&i.jsx(tr,{count:`${J.length} runs × ${H.length} metrics`,style:{backgroundColor:"#52c41a"}})]}),extra:i.jsxs(U,{children:[i.jsx(Fe,{title:"Select all available metrics",children:i.jsx(fe,{size:"small",type:"dashed",onClick:()=>ee(ye),disabled:ye.length===0,children:"Select All Metrics"})}),i.jsx(Fe,{title:"Clear all selections",children:i.jsx(fe,{size:"small",type:"text",onClick:()=>{ee([]),V([s])},children:"Clear"})})]}),children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsxs(U,{wrap:!0,style:{width:"100%"},children:[i.jsxs("div",{style:{minWidth:200,maxWidth:$>=768?360:"100%"},children:[i.jsx("div",{style:{marginBottom:4,fontSize:"14px",fontWeight:500},children:r("compare.select.runs")}),i.jsx(ht,{mode:"multiple",allowClear:!0,value:J,onChange:V,placeholder:r("compare.select.runs.placeholder"),style:{width:"100%",minWidth:200},options:(D||[]).map(W=>({value:W.id,label:W.id}))})]}),i.jsxs("div",{style:{minWidth:200,maxWidth:$>=768?300:"100%"},children:[i.jsx("div",{style:{marginBottom:4,fontSize:"14px",fontWeight:500},children:i.jsxs(U,{children:[i.jsx("span",{children:r("compare.select.metrics")}),i.jsxs(U.Compact,{children:[i.jsx(Fe,{title:"Common loss metrics",children:i.jsx(fe,{size:"small",type:"text",onClick:()=>{const W=ye.filter(ae=>ae.toLowerCase().includes("loss")||ae.toLowerCase().includes("error"));ee(W)},children:"Loss"})}),i.jsx(Fe,{title:"Common accuracy metrics",children:i.jsx(fe,{size:"small",type:"text",onClick:()=>{const W=ye.filter(ae=>ae.toLowerCase().includes("acc")||ae.toLowerCase().includes("accuracy"));ee(W)},children:"Acc"})})]})]})}),i.jsx(ht,{mode:"multiple",allowClear:!0,value:H,onChange:ee,placeholder:r("compare.select.metrics.placeholder"),style:{width:"100%",minWidth:200},options:ye.map(W=>({value:W,label:W})),maxTagCount:"responsive"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:8},children:[i.jsxs("div",{children:[i.jsx("div",{style:{marginBottom:4,fontSize:"14px",fontWeight:500},children:r("compare.stepx")}),i.jsx(ht,{size:"small",value:j,onChange:W=>C(W),style:{width:140},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),i.jsx(fe,{size:"small",onClick:async()=>{const W={};for(const ae of J)try{W[ae]=await Xo(ae)}catch{}Z(W)},children:r("compare.refresh")})]})]}),H.length===0||J.length===0?i.jsx(Xt,{type:"info",showIcon:!0,message:r("compare.tip")}):i.jsx("div",{style:Je,children:H.map(W=>i.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px"},children:i.jsx(nw,{title:W,xKey:j,yKey:W,runs:J.map(ae=>({id:ae,metrics:oe[ae]||{columns:[],rows:[]}})),height:Xe,group:`overlay-group-${s}`,persistKey:`run:${s}:overlay:${W}`})},W))})]})}),i.jsx(te,{title:i.jsxs(U,{children:[i.jsx("span",{children:r("metrics.title")}),i.jsx(tr,{count:ue.length,showZero:!0,style:{backgroundColor:"#1677ff"}}),m&&i.jsx(Jt,{size:"small"})]}),extra:i.jsxs(U,{wrap:!0,children:[i.jsxs("span",{children:[r("compare.stepx")," ",i.jsx(ht,{size:"small",value:j,onChange:W=>C(W),style:{width:140},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),i.jsx(Fe,{title:"Refresh metrics",children:i.jsx(fe,{type:"text",size:"small",icon:i.jsx(Er,{}),loading:m,onClick:()=>de()})})]}),children:ue.length===0?i.jsx(Xt,{type:"info",showIcon:!0,message:r("metrics.none")}):i.jsx("div",{style:Je,children:ue.map(W=>i.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px"},children:i.jsx(X_,{metrics:c,xKey:j,yKeys:[W],title:W,height:Xe,group:`step-group-${s}`,persistKey:`run:${s}:step:${W}`})},W))})}),i.jsx(te,{title:i.jsxs(U,{children:[i.jsx("span",{children:r("gpu.title")}),E&&E.gpus&&i.jsx(tr,{count:E.gpus.length,showZero:!0,style:{backgroundColor:"#52c41a"}})]}),extra:i.jsx(Fe,{title:r("polling.every2s"),children:i.jsx(Se,{color:"processing",children:"Auto-polling"})}),children:i.jsx(Q_,{})}),((a==null?void 0:a.artifacts_created_count)>0||(a==null?void 0:a.artifacts_used_count)>0)&&i.jsx(te,{title:i.jsxs(U,{children:[i.jsx(ja,{}),r("run.artifacts.title")]}),children:i.jsx(aw,{runId:s})}),i.jsx(te,{title:i.jsxs(U,{children:[i.jsx("span",{children:r("logs.title")}),i.jsx(Se,{color:"cyan",children:"Real-time"})]}),styles:{body:{padding:0}},children:i.jsx(q_,{url:pe,persistKey:`run_${s}_logs`})})]})}function dw({open:s,onClose:r,onRestore:n}){const{t:a}=qe(),[l,c]=S.useState([]),[d,h]=S.useState(!1),[g,m]=S.useState([]),[v,y]=S.useState(!1),[k,j]=S.useState(!1),C=S.useCallback(async()=>{if(s){h(!0);try{const A=await S_();c(A.deleted_runs||[])}catch{X.error(a("recycle_bin.fetch_failed")||"Failed to load recycle bin")}finally{h(!1)}}},[s,a]);S.useEffect(()=>{s&&(C(),m([]))},[s,C]);const I=async()=>{if(g.length===0){X.warning(a("recycle_bin.select_to_restore")||"Please select runs to restore");return}y(!0);try{const A=await b_(g);A.restored_count>0?(X.success(a("recycle_bin.restore_success",{count:A.restored_count})||`Restored ${A.restored_count} runs`),m([]),C(),n==null||n()):X.warning("No runs were restored")}catch{X.error(a("recycle_bin.restore_failed")||"Failed to restore runs")}finally{y(!1)}},M=async()=>{j(!0);try{const A=await j_();X.success(a("recycle_bin.empty_success",{count:A.permanently_deleted})||`Permanently deleted ${A.permanently_deleted} runs`),C()}catch{X.error(a("recycle_bin.empty_failed")||"Failed to empty recycle bin")}finally{j(!1)}},$=[{title:a("table.run_id"),dataIndex:"id",key:"id",render:A=>i.jsx(Ae.Text,{code:!0,style:{fontSize:"12px"},children:A})},{title:a("table.project"),dataIndex:"project",key:"project",render:A=>i.jsx(Se,{color:"blue",children:A})},{title:a("table.name"),dataIndex:"name",key:"name",render:A=>i.jsx(Se,{color:"purple",children:A})},{title:a("recycle_bin.original_status"),dataIndex:"original_status",key:"original_status",render:A=>i.jsx(Se,{color:A==="running"?"processing":A==="finished"?"success":A==="failed"?"error":"default",children:A})},{title:a("recycle_bin.deleted_at"),dataIndex:"deleted_at",key:"deleted_at",render:A=>i.jsx(Fe,{title:new Date(A*1e3).toLocaleString(),children:new Date(A*1e3).toLocaleDateString()})},{title:a("table.actions"),key:"actions",render:(A,E)=>i.jsx(U,{size:"small",children:i.jsx(Fe,{title:a("recycle_bin.restore_single"),children:i.jsx(fe,{type:"text",size:"small",icon:i.jsx(la,{}),onClick:async()=>{m([E.id]),await I()}})})})}];return i.jsx(an,{title:i.jsxs(U,{children:[i.jsx(ss,{}),i.jsx("span",{children:a("recycle_bin.title")||"Recycle Bin"}),i.jsx(Se,{color:"orange",children:l.length})]}),open:s,onCancel:r,width:800,footer:[i.jsx(fe,{onClick:r,children:a("experiments.cancel")||"Close"},"close"),i.jsxs(fe,{type:"primary",icon:i.jsx(la,{}),loading:v,disabled:g.length===0,onClick:I,children:[a("recycle_bin.restore_selected")||"Restore Selected",g.length>0&&` (${g.length})`]},"restore"),i.jsx(Dv,{title:a("recycle_bin.empty_confirm_title")||"Empty Recycle Bin",description:a("recycle_bin.empty_confirm_desc")||"This will permanently delete all runs in recycle bin. This cannot be undone!",okText:a("recycle_bin.empty_confirm")||"Yes, Delete All",okType:"danger",cancelText:a("experiments.cancel")||"Cancel",onConfirm:M,children:i.jsx(fe,{danger:!0,icon:i.jsx(zv,{}),loading:k,disabled:l.length===0,children:a("recycle_bin.empty_bin")||"Empty Bin"})},"empty")],children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(Xt,{message:a("recycle_bin.description")||"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.",type:"info",icon:i.jsx(mi,{}),showIcon:!0}),i.jsx(Wn,{rowSelection:{selectedRowKeys:g,onChange:A=>m(A),getCheckboxProps:A=>({disabled:!1})},dataSource:l,columns:$,loading:d,rowKey:"id",size:"small",pagination:{pageSize:10,showSizeChanger:!1,showQuickJumper:!1,showTotal:(A,E)=>a("recycle_bin.table_total",{from:E[0],to:E[1],total:A})||`${E[0]}-${E[1]} of ${A} items`},locale:{emptyText:i.jsx("div",{style:{padding:20,textAlign:"center"},children:i.jsx(Ae.Text,{type:"secondary",children:a("recycle_bin.empty_state")||"Recycle bin is empty"})})}}),g.length>0&&i.jsx(Xt,{message:a("recycle_bin.selection_info",{count:g.length})||`${g.length} runs selected for restoration`,type:"info",style:{marginTop:8}})]})})}var Ea={exports:{}},ds={},vi={exports:{}},vd={},_d={exports:{}},fw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hw=fw,pw=hw;function wd(){}function Sd(){}Sd.resetWarningCache=wd;var gw=function(){function s(a,l,c,d,h,g){if(g!==pw){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}s.isRequired=s;function r(){return s}var n={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Sd,resetWarningCache:wd};return n.PropTypes=n,n};_d.exports=gw();var _i=_d.exports,ma={exports:{}};function bd(s){var r,n,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var l=s.length;for(r=0;r<l;r++)s[r]&&(n=bd(s[r]))&&(a&&(a+=" "),a+=n)}else for(n in s)s[n]&&(a&&(a+=" "),a+=n);return a}function Su(){for(var s,r,n=0,a="",l=arguments.length;n<l;n++)(s=arguments[n])&&(r=bd(s))&&(a&&(a+=" "),a+=r);return a}ma.exports=Su,ma.exports.clsx=Su;var mw=ma.exports,et={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.dontSetMe=ww;gn.findInArray=xw;gn.int=_w;gn.isFunction=yw;gn.isNum=vw;function xw(s,r){for(let n=0,a=s.length;n<a;n++)if(r.apply(r,[s[n],n,s]))return s[n]}function yw(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function vw(s){return typeof s=="number"&&!isNaN(s)}function _w(s){return parseInt(s,10)}function ww(s,r,n){if(s[r])return new Error(`Invalid prop ${r} passed to ${n} - do not set this, set it on the child.`)}var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.browserPrefixToKey=Cd;rr.browserPrefixToStyle=Sw;rr.default=void 0;rr.getPrefix=jd;const Qo=["Moz","Webkit","O","ms"];function jd(){var n,a;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(a=(n=window.document)==null?void 0:n.documentElement)==null?void 0:a.style;if(!r||s in r)return"";for(let l=0;l<Qo.length;l++)if(Cd(s,Qo[l])in r)return Qo[l];return""}function Cd(s,r){return r?`${r}${bw(s)}`:s}function Sw(s,r){return r?`-${r.toLowerCase()}-${s}`:s}function bw(s){let r="",n=!0;for(let a=0;a<s.length;a++)n?(r+=s[a].toUpperCase(),n=!1):s[a]==="-"?n=!0:r+=s[a];return r}rr.default=jd();Object.defineProperty(et,"__esModule",{value:!0});et.addClassName=Td;et.addEvent=Cw;et.addUserSelectStyles=zw;et.createCSSTransform=Ow;et.createSVGTransform=Aw;et.getTouch=Lw;et.getTouchIdentifier=Dw;et.getTranslation=Oa;et.innerHeight=kw;et.innerWidth=Iw;et.matchesSelector=Pd;et.matchesSelectorAndParentsTo=jw;et.offsetXYFromParent=Ew;et.outerHeight=Pw;et.outerWidth=Tw;et.removeClassName=kd;et.removeEvent=Rw;et.scheduleRemoveUserSelectStyles=Mw;var Ft=gn,bu=Rd(rr);function Rd(s,r){if(typeof WeakMap=="function")var n=new WeakMap,a=new WeakMap;return(Rd=function(l,c){if(!c&&l&&l.__esModule)return l;var d,h,g={__proto__:null,default:l};if(l===null||typeof l!="object"&&typeof l!="function")return g;if(d=c?a:n){if(d.has(l))return d.get(l);d.set(l,g)}for(const m in l)m!=="default"&&{}.hasOwnProperty.call(l,m)&&((h=(d=Object.defineProperty)&&Object.getOwnPropertyDescriptor(l,m))&&(h.get||h.set)?d(g,m,h):g[m]=l[m]);return g})(s,r)}let ni="";function Pd(s,r){return ni||(ni=(0,Ft.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Ft.isFunction)(s[n])})),(0,Ft.isFunction)(s[ni])?s[ni](r):!1}function jw(s,r,n){let a=s;do{if(Pd(a,r))return!0;if(a===n)return!1;a=a.parentNode}while(a);return!1}function Cw(s,r,n,a){if(!s)return;const l={capture:!0,...a};s.addEventListener?s.addEventListener(r,n,l):s.attachEvent?s.attachEvent("on"+r,n):s["on"+r]=n}function Rw(s,r,n,a){if(!s)return;const l={capture:!0,...a};s.removeEventListener?s.removeEventListener(r,n,l):s.detachEvent?s.detachEvent("on"+r,n):s["on"+r]=null}function Pw(s){let r=s.clientHeight;const n=s.ownerDocument.defaultView.getComputedStyle(s);return r+=(0,Ft.int)(n.borderTopWidth),r+=(0,Ft.int)(n.borderBottomWidth),r}function Tw(s){let r=s.clientWidth;const n=s.ownerDocument.defaultView.getComputedStyle(s);return r+=(0,Ft.int)(n.borderLeftWidth),r+=(0,Ft.int)(n.borderRightWidth),r}function kw(s){let r=s.clientHeight;const n=s.ownerDocument.defaultView.getComputedStyle(s);return r-=(0,Ft.int)(n.paddingTop),r-=(0,Ft.int)(n.paddingBottom),r}function Iw(s){let r=s.clientWidth;const n=s.ownerDocument.defaultView.getComputedStyle(s);return r-=(0,Ft.int)(n.paddingLeft),r-=(0,Ft.int)(n.paddingRight),r}function Ew(s,r,n){const l=r===r.ownerDocument.body?{left:0,top:0}:r.getBoundingClientRect(),c=(s.clientX+r.scrollLeft-l.left)/n,d=(s.clientY+r.scrollTop-l.top)/n;return{x:c,y:d}}function Ow(s,r){const n=Oa(s,r,"px");return{[(0,bu.browserPrefixToKey)("transform",bu.default)]:n}}function Aw(s,r){return Oa(s,r,"")}function Oa(s,r,n){let{x:a,y:l}=s,c=`translate(${a}${n},${l}${n})`;if(r){const d=`${typeof r.x=="string"?r.x:r.x+n}`,h=`${typeof r.y=="string"?r.y:r.y+n}`;c=`translate(${d}, ${h})`+c}return c}function Lw(s,r){return s.targetTouches&&(0,Ft.findInArray)(s.targetTouches,n=>r===n.identifier)||s.changedTouches&&(0,Ft.findInArray)(s.changedTouches,n=>r===n.identifier)}function Dw(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier}function zw(s){if(!s)return;let r=s.getElementById("react-draggable-style-el");r||(r=s.createElement("style"),r.type="text/css",r.id="react-draggable-style-el",r.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,r.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(r)),s.body&&Td(s.body,"react-draggable-transparent-selection")}function Mw(s){window.requestAnimationFrame?window.requestAnimationFrame(()=>{ju(s)}):ju(s)}function ju(s){if(s)try{if(s.body&&kd(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{const r=(s.defaultView||window).getSelection();r&&r.type!=="Caret"&&r.removeAllRanges()}}catch{}}function Td(s,r){s.classList?s.classList.add(r):s.className.match(new RegExp(`(?:^|\\s)${r}(?!\\S)`))||(s.className+=` ${r}`)}function kd(s,r){s.classList?s.classList.remove(r):s.className=s.className.replace(new RegExp(`(?:^|\\s)${r}(?!\\S)`,"g"),"")}var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.canDragX=Fw;mn.canDragY=Uw;mn.createCoreData=Ww;mn.createDraggableData=Hw;mn.getBoundPosition=$w;mn.getControlPosition=Bw;mn.snapToGrid=Nw;var $t=gn,Tr=et;function $w(s,r,n){if(!s.props.bounds)return[r,n];let{bounds:a}=s.props;a=typeof a=="string"?a:Vw(a);const l=Aa(s);if(typeof a=="string"){const{ownerDocument:c}=l,d=c.defaultView;let h;if(a==="parent"?h=l.parentNode:h=l.getRootNode().querySelector(a),!(h instanceof d.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');const g=h,m=d.getComputedStyle(l),v=d.getComputedStyle(g);a={left:-l.offsetLeft+(0,$t.int)(v.paddingLeft)+(0,$t.int)(m.marginLeft),top:-l.offsetTop+(0,$t.int)(v.paddingTop)+(0,$t.int)(m.marginTop),right:(0,Tr.innerWidth)(g)-(0,Tr.outerWidth)(l)-l.offsetLeft+(0,$t.int)(v.paddingRight)-(0,$t.int)(m.marginRight),bottom:(0,Tr.innerHeight)(g)-(0,Tr.outerHeight)(l)-l.offsetTop+(0,$t.int)(v.paddingBottom)-(0,$t.int)(m.marginBottom)}}return(0,$t.isNum)(a.right)&&(r=Math.min(r,a.right)),(0,$t.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,$t.isNum)(a.left)&&(r=Math.max(r,a.left)),(0,$t.isNum)(a.top)&&(n=Math.max(n,a.top)),[r,n]}function Nw(s,r,n){const a=Math.round(r/s[0])*s[0],l=Math.round(n/s[1])*s[1];return[a,l]}function Fw(s){return s.props.axis==="both"||s.props.axis==="x"}function Uw(s){return s.props.axis==="both"||s.props.axis==="y"}function Bw(s,r,n){const a=typeof r=="number"?(0,Tr.getTouch)(s,r):null;if(typeof r=="number"&&!a)return null;const l=Aa(n),c=n.props.offsetParent||l.offsetParent||l.ownerDocument.body;return(0,Tr.offsetXYFromParent)(a||s,c,n.props.scale)}function Ww(s,r,n){const a=!(0,$t.isNum)(s.lastX),l=Aa(s);return a?{node:l,deltaX:0,deltaY:0,lastX:r,lastY:n,x:r,y:n}:{node:l,deltaX:r-s.lastX,deltaY:n-s.lastY,lastX:s.lastX,lastY:s.lastY,x:r,y:n}}function Hw(s,r){const n=s.props.scale;return{node:r.node,x:s.state.x+r.deltaX/n,y:s.state.y+r.deltaY/n,deltaX:r.deltaX/n,deltaY:r.deltaY/n,lastX:s.state.x,lastY:s.state.y}}function Vw(s){return{left:s.left,top:s.top,right:s.right,bottom:s.bottom}}function Aa(s){const r=s.findDOMNode();if(!r)throw new Error("<DraggableCore>: Unmounted during event!");return r}var wi={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.default=Kw;function Kw(){}Object.defineProperty(wi,"__esModule",{value:!0});wi.default=void 0;var ea=Id(S),Ct=La(_i),Gw=La(ba),xt=et,Fn=mn,ta=gn,Yr=La(Si);function La(s){return s&&s.__esModule?s:{default:s}}function Id(s,r){if(typeof WeakMap=="function")var n=new WeakMap,a=new WeakMap;return(Id=function(l,c){if(!c&&l&&l.__esModule)return l;var d,h,g={__proto__:null,default:l};if(l===null||typeof l!="object"&&typeof l!="function")return g;if(d=c?a:n){if(d.has(l))return d.get(l);d.set(l,g)}for(const m in l)m!=="default"&&{}.hasOwnProperty.call(l,m)&&((h=(d=Object.defineProperty)&&Object.getOwnPropertyDescriptor(l,m))&&(h.get||h.set)?d(g,m,h):g[m]=l[m]);return g})(s,r)}function Rt(s,r,n){return(r=qw(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function qw(s){var r=Yw(s,"string");return typeof r=="symbol"?r:r+""}function Yw(s,r){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}const on={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Un=on.mouse,bi=class extends ea.Component{constructor(){super(...arguments),Rt(this,"dragging",!1),Rt(this,"lastX",NaN),Rt(this,"lastY",NaN),Rt(this,"touchIdentifier",null),Rt(this,"mounted",!1),Rt(this,"handleDragStart",r=>{if(this.props.onMouseDown(r),!this.props.allowAnyClick&&typeof r.button=="number"&&r.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:a}=n;if(this.props.disabled||!(r.target instanceof a.defaultView.Node)||this.props.handle&&!(0,xt.matchesSelectorAndParentsTo)(r.target,this.props.handle,n)||this.props.cancel&&(0,xt.matchesSelectorAndParentsTo)(r.target,this.props.cancel,n))return;r.type==="touchstart"&&!this.props.allowMobileScroll&&r.preventDefault();const l=(0,xt.getTouchIdentifier)(r);this.touchIdentifier=l;const c=(0,Fn.getControlPosition)(r,l,this);if(c==null)return;const{x:d,y:h}=c,g=(0,Fn.createCoreData)(this,d,h);(0,Yr.default)("DraggableCore: handleDragStart: %j",g),(0,Yr.default)("calling",this.props.onStart),!(this.props.onStart(r,g)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,xt.addUserSelectStyles)(a),this.dragging=!0,this.lastX=d,this.lastY=h,(0,xt.addEvent)(a,Un.move,this.handleDrag),(0,xt.addEvent)(a,Un.stop,this.handleDragStop))}),Rt(this,"handleDrag",r=>{const n=(0,Fn.getControlPosition)(r,this.touchIdentifier,this);if(n==null)return;let{x:a,y:l}=n;if(Array.isArray(this.props.grid)){let h=a-this.lastX,g=l-this.lastY;if([h,g]=(0,Fn.snapToGrid)(this.props.grid,h,g),!h&&!g)return;a=this.lastX+h,l=this.lastY+g}const c=(0,Fn.createCoreData)(this,a,l);if((0,Yr.default)("DraggableCore: handleDrag: %j",c),this.props.onDrag(r,c)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const g=document.createEvent("MouseEvents");g.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(g)}return}this.lastX=a,this.lastY=l}),Rt(this,"handleDragStop",r=>{if(!this.dragging)return;const n=(0,Fn.getControlPosition)(r,this.touchIdentifier,this);if(n==null)return;let{x:a,y:l}=n;if(Array.isArray(this.props.grid)){let g=a-this.lastX||0,m=l-this.lastY||0;[g,m]=(0,Fn.snapToGrid)(this.props.grid,g,m),a=this.lastX+g,l=this.lastY+m}const c=(0,Fn.createCoreData)(this,a,l);if(this.props.onStop(r,c)===!1||this.mounted===!1)return!1;const h=this.findDOMNode();h&&this.props.enableUserSelectHack&&(0,xt.scheduleRemoveUserSelectStyles)(h.ownerDocument),(0,Yr.default)("DraggableCore: handleDragStop: %j",c),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,h&&((0,Yr.default)("DraggableCore: Removing handlers"),(0,xt.removeEvent)(h.ownerDocument,Un.move,this.handleDrag),(0,xt.removeEvent)(h.ownerDocument,Un.stop,this.handleDragStop))}),Rt(this,"onMouseDown",r=>(Un=on.mouse,this.handleDragStart(r))),Rt(this,"onMouseUp",r=>(Un=on.mouse,this.handleDragStop(r))),Rt(this,"onTouchStart",r=>(Un=on.touch,this.handleDragStart(r))),Rt(this,"onTouchEnd",r=>(Un=on.touch,this.handleDragStop(r)))}componentDidMount(){this.mounted=!0;const r=this.findDOMNode();r&&(0,xt.addEvent)(r,on.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const r=this.findDOMNode();if(r){const{ownerDocument:n}=r;(0,xt.removeEvent)(n,on.mouse.move,this.handleDrag),(0,xt.removeEvent)(n,on.touch.move,this.handleDrag),(0,xt.removeEvent)(n,on.mouse.stop,this.handleDragStop),(0,xt.removeEvent)(n,on.touch.stop,this.handleDragStop),(0,xt.removeEvent)(r,on.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,xt.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var r,n,a;return(r=this.props)!=null&&r.nodeRef?(a=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:a.current:Gw.default.findDOMNode(this)}render(){return ea.cloneElement(ea.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};wi.default=bi;Rt(bi,"displayName","DraggableCore");Rt(bi,"propTypes",{allowAnyClick:Ct.default.bool,allowMobileScroll:Ct.default.bool,children:Ct.default.node.isRequired,disabled:Ct.default.bool,enableUserSelectHack:Ct.default.bool,offsetParent:function(s,r){if(s[r]&&s[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ct.default.arrayOf(Ct.default.number),handle:Ct.default.string,cancel:Ct.default.string,nodeRef:Ct.default.object,onStart:Ct.default.func,onDrag:Ct.default.func,onStop:Ct.default.func,onMouseDown:Ct.default.func,scale:Ct.default.number,className:ta.dontSetMe,style:ta.dontSetMe,transform:ta.dontSetMe});Rt(bi,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"DraggableCore",{enumerable:!0,get:function(){return g.default}}),s.default=void 0;var r=y(S),n=v(_i),a=v(ba),l=mw,c=et,d=mn,h=gn,g=v(wi),m=v(Si);function v($){return $&&$.__esModule?$:{default:$}}function y($,A){if(typeof WeakMap=="function")var E=new WeakMap,w=new WeakMap;return(y=function(T,D){if(!D&&T&&T.__esModule)return T;var q,J,V={__proto__:null,default:T};if(T===null||typeof T!="object"&&typeof T!="function")return V;if(q=D?w:E){if(q.has(T))return q.get(T);q.set(T,V)}for(const H in T)H!=="default"&&{}.hasOwnProperty.call(T,H)&&((J=(q=Object.defineProperty)&&Object.getOwnPropertyDescriptor(T,H))&&(J.get||J.set)?q(V,H,J):V[H]=T[H]);return V})($,A)}function k(){return k=Object.assign?Object.assign.bind():function($){for(var A=1;A<arguments.length;A++){var E=arguments[A];for(var w in E)({}).hasOwnProperty.call(E,w)&&($[w]=E[w])}return $},k.apply(null,arguments)}function j($,A,E){return(A=C(A))in $?Object.defineProperty($,A,{value:E,enumerable:!0,configurable:!0,writable:!0}):$[A]=E,$}function C($){var A=I($,"string");return typeof A=="symbol"?A:A+""}function I($,A){if(typeof $!="object"||!$)return $;var E=$[Symbol.toPrimitive];if(E!==void 0){var w=E.call($,A);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)($)}class M extends r.Component{static getDerivedStateFromProps(A,E){let{position:w}=A,{prevPropsPosition:T}=E;return w&&(!T||w.x!==T.x||w.y!==T.y)?((0,m.default)("Draggable: getDerivedStateFromProps %j",{position:w,prevPropsPosition:T}),{x:w.x,y:w.y,prevPropsPosition:{...w}}):null}constructor(A){super(A),j(this,"onDragStart",(E,w)=>{if((0,m.default)("Draggable: onDragStart: %j",w),this.props.onStart(E,(0,d.createDraggableData)(this,w))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),j(this,"onDrag",(E,w)=>{if(!this.state.dragging)return!1;(0,m.default)("Draggable: onDrag: %j",w);const T=(0,d.createDraggableData)(this,w),D={x:T.x,y:T.y,slackX:0,slackY:0};if(this.props.bounds){const{x:J,y:V}=D;D.x+=this.state.slackX,D.y+=this.state.slackY;const[H,ee]=(0,d.getBoundPosition)(this,D.x,D.y);D.x=H,D.y=ee,D.slackX=this.state.slackX+(J-D.x),D.slackY=this.state.slackY+(V-D.y),T.x=D.x,T.y=D.y,T.deltaX=D.x-this.state.x,T.deltaY=D.y-this.state.y}if(this.props.onDrag(E,T)===!1)return!1;this.setState(D)}),j(this,"onDragStop",(E,w)=>{if(!this.state.dragging||this.props.onStop(E,(0,d.createDraggableData)(this,w))===!1)return!1;(0,m.default)("Draggable: onDragStop: %j",w);const D={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:J,y:V}=this.props.position;D.x=J,D.y=V}this.setState(D)}),this.state={dragging:!1,dragged:!1,x:A.position?A.position.x:A.defaultPosition.x,y:A.position?A.position.y:A.defaultPosition.y,prevPropsPosition:{...A.position},slackX:0,slackY:0,isElementSVG:!1},A.position&&!(A.onDrag||A.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var A,E;return((E=(A=this.props)==null?void 0:A.nodeRef)==null?void 0:E.current)??a.default.findDOMNode(this)}render(){const{axis:A,bounds:E,children:w,defaultPosition:T,defaultClassName:D,defaultClassNameDragging:q,defaultClassNameDragged:J,position:V,positionOffset:H,scale:ee,...oe}=this.props;let Z={},ne=null;const he=!!!V||this.state.dragging,be=V||T,pe={x:(0,d.canDragX)(this)&&he?this.state.x:be.x,y:(0,d.canDragY)(this)&&he?this.state.y:be.y};this.state.isElementSVG?ne=(0,c.createSVGTransform)(pe,H):Z=(0,c.createCSSTransform)(pe,H);const G=(0,l.clsx)(w.props.className||"",D,{[q]:this.state.dragging,[J]:this.state.dragged});return r.createElement(g.default,k({},oe,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(w),{className:G,style:{...w.props.style,...Z},transform:ne}))}}s.default=M,j(M,"displayName","Draggable"),j(M,"propTypes",{...g.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:h.dontSetMe,style:h.dontSetMe,transform:h.dontSetMe}),j(M,"defaultProps",{...g.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(vd);const{default:Ed,DraggableCore:Jw}=vd;vi.exports=Ed;vi.exports.default=Ed;vi.exports.DraggableCore=Jw;var Xw=vi.exports,Da={};Da.__esModule=!0;Da.cloneElement=r0;var Zw=Qw(S);function Qw(s){return s&&s.__esModule?s:{default:s}}function Cu(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function Ru(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Cu(Object(n),!0).forEach(function(a){e0(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function e0(s,r,n){return r=t0(r),r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function t0(s){var r=n0(s,"string");return typeof r=="symbol"?r:String(r)}function n0(s,r){if(typeof s!="object"||s===null)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function r0(s,r){return r.style&&s.props.style&&(r.style=Ru(Ru({},s.props.style),r.style)),r.className&&s.props.className&&(r.className=s.props.className+" "+r.className),Zw.default.cloneElement(s,r)}var fs={};fs.__esModule=!0;fs.resizableProps=void 0;var Te=s0(_i);function s0(s){return s&&s.__esModule?s:{default:s}}var i0={axis:Te.default.oneOf(["both","x","y","none"]),className:Te.default.string,children:Te.default.element.isRequired,draggableOpts:Te.default.shape({allowAnyClick:Te.default.bool,cancel:Te.default.string,children:Te.default.node,disabled:Te.default.bool,enableUserSelectHack:Te.default.bool,offsetParent:Te.default.node,grid:Te.default.arrayOf(Te.default.number),handle:Te.default.string,nodeRef:Te.default.object,onStart:Te.default.func,onDrag:Te.default.func,onStop:Te.default.func,onMouseDown:Te.default.func,scale:Te.default.number}),height:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var l=n[0];if(l.axis==="both"||l.axis==="y"){var c;return(c=Te.default.number).isRequired.apply(c,n)}return Te.default.number.apply(Te.default,n)},handle:Te.default.oneOfType([Te.default.node,Te.default.func]),handleSize:Te.default.arrayOf(Te.default.number),lockAspectRatio:Te.default.bool,maxConstraints:Te.default.arrayOf(Te.default.number),minConstraints:Te.default.arrayOf(Te.default.number),onResizeStop:Te.default.func,onResizeStart:Te.default.func,onResize:Te.default.func,resizeHandles:Te.default.arrayOf(Te.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Te.default.number,width:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var l=n[0];if(l.axis==="both"||l.axis==="x"){var c;return(c=Te.default.number).isRequired.apply(c,n)}return Te.default.number.apply(Te.default,n)}};fs.resizableProps=i0;ds.__esModule=!0;ds.default=void 0;var Jr=u0(S),o0=Xw,a0=Da,l0=fs,c0=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Od(s){if(typeof WeakMap!="function")return null;var r=new WeakMap,n=new WeakMap;return(Od=function(l){return l?n:r})(s)}function u0(s,r){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var n=Od(r);if(n&&n.has(s))return n.get(s);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in s)if(c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)){var d=l?Object.getOwnPropertyDescriptor(s,c):null;d&&(d.get||d.set)?Object.defineProperty(a,c,d):a[c]=s[c]}return a.default=s,n&&n.set(s,a),a}function xa(){return xa=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},xa.apply(this,arguments)}function d0(s,r){if(s==null)return{};var n={},a=Object.keys(s),l,c;for(c=0;c<a.length;c++)l=a[c],!(r.indexOf(l)>=0)&&(n[l]=s[l]);return n}function Pu(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function na(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Pu(Object(n),!0).forEach(function(a){f0(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Pu(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function f0(s,r,n){return r=h0(r),r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function h0(s){var r=p0(s,"string");return typeof r=="symbol"?r:String(r)}function p0(s,r){if(typeof s!="object"||s===null)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function g0(s,r){s.prototype=Object.create(r.prototype),s.prototype.constructor=s,ya(s,r)}function ya(s,r){return ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},ya(s,r)}var za=function(s){g0(r,s);function r(){for(var a,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return a=s.call.apply(s,[this].concat(c))||this,a.handleRefs={},a.lastHandleRect=null,a.slack=null,a}var n=r.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(l,c){var d=this.props,h=d.minConstraints,g=d.maxConstraints,m=d.lockAspectRatio;if(!h&&!g&&!m)return[l,c];if(m){var v=this.props.width/this.props.height,y=l-this.props.width,k=c-this.props.height;Math.abs(y)>Math.abs(k*v)?c=l/v:l=c*v}var j=l,C=c,I=this.slack||[0,0],M=I[0],$=I[1];return l+=M,c+=$,h&&(l=Math.max(h[0],l),c=Math.max(h[1],c)),g&&(l=Math.min(g[0],l),c=Math.min(g[1],c)),this.slack=[M+(j-l),$+(C-c)],[l,c]},n.resizeHandler=function(l,c){var d=this;return function(h,g){var m=g.node,v=g.deltaX,y=g.deltaY;l==="onResizeStart"&&d.resetData();var k=(d.props.axis==="both"||d.props.axis==="x")&&c!=="n"&&c!=="s",j=(d.props.axis==="both"||d.props.axis==="y")&&c!=="e"&&c!=="w";if(!(!k&&!j)){var C=c[0],I=c[c.length-1],M=m.getBoundingClientRect();if(d.lastHandleRect!=null){if(I==="w"){var $=M.left-d.lastHandleRect.left;v+=$}if(C==="n"){var A=M.top-d.lastHandleRect.top;y+=A}}d.lastHandleRect=M,I==="w"&&(v=-v),C==="n"&&(y=-y);var E=d.props.width+(k?v/d.props.transformScale:0),w=d.props.height+(j?y/d.props.transformScale:0),T=d.runConstraints(E,w);E=T[0],w=T[1];var D=E!==d.props.width||w!==d.props.height,q=typeof d.props[l]=="function"?d.props[l]:null,J=l==="onResize"&&!D;q&&!J&&(h.persist==null||h.persist(),q(h,{node:m,size:{width:E,height:w},handle:c})),l==="onResizeStop"&&d.resetData()}}},n.renderResizeHandle=function(l,c){var d=this.props.handle;if(!d)return Jr.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+l,ref:c});if(typeof d=="function")return d(l,c);var h=typeof d.type=="string",g=na({ref:c},h?{}:{handleAxis:l});return Jr.cloneElement(d,g)},n.render=function(){var l=this,c=this.props,d=c.children,h=c.className,g=c.draggableOpts;c.width,c.height,c.handle,c.handleSize,c.lockAspectRatio,c.axis,c.minConstraints,c.maxConstraints,c.onResize,c.onResizeStop,c.onResizeStart;var m=c.resizeHandles;c.transformScale;var v=d0(c,c0);return(0,a0.cloneElement)(d,na(na({},v),{},{className:(h?h+" ":"")+"react-resizable",children:[].concat(d.props.children,m.map(function(y){var k,j=(k=l.handleRefs[y])!=null?k:l.handleRefs[y]=Jr.createRef();return Jr.createElement(o0.DraggableCore,xa({},g,{nodeRef:j,key:"resizableHandle-"+y,onStop:l.resizeHandler("onResizeStop",y),onStart:l.resizeHandler("onResizeStart",y),onDrag:l.resizeHandler("onResize",y)}),l.renderResizeHandle(y,j))}))}))},r}(Jr.Component);ds.default=za;za.propTypes=l0.resizableProps;za.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var ji={};ji.__esModule=!0;ji.default=void 0;var ra=_0(S),m0=Ad(_i),x0=Ad(ds),y0=fs,v0=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function Ad(s){return s&&s.__esModule?s:{default:s}}function Ld(s){if(typeof WeakMap!="function")return null;var r=new WeakMap,n=new WeakMap;return(Ld=function(l){return l?n:r})(s)}function _0(s,r){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var n=Ld(r);if(n&&n.has(s))return n.get(s);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in s)if(c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)){var d=l?Object.getOwnPropertyDescriptor(s,c):null;d&&(d.get||d.set)?Object.defineProperty(a,c,d):a[c]=s[c]}return a.default=s,n&&n.set(s,a),a}function va(){return va=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},va.apply(this,arguments)}function Tu(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function li(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Tu(Object(n),!0).forEach(function(a){w0(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function w0(s,r,n){return r=S0(r),r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function S0(s){var r=b0(s,"string");return typeof r=="symbol"?r:String(r)}function b0(s,r){if(typeof s!="object"||s===null)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function j0(s,r){if(s==null)return{};var n={},a=Object.keys(s),l,c;for(c=0;c<a.length;c++)l=a[c],!(r.indexOf(l)>=0)&&(n[l]=s[l]);return n}function C0(s,r){s.prototype=Object.create(r.prototype),s.prototype.constructor=s,_a(s,r)}function _a(s,r){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},_a(s,r)}var Dd=function(s){C0(r,s);function r(){for(var a,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return a=s.call.apply(s,[this].concat(c))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(h,g){var m=g.size;a.props.onResize?(h.persist==null||h.persist(),a.setState(m,function(){return a.props.onResize&&a.props.onResize(h,g)})):a.setState(m)},a}r.getDerivedStateFromProps=function(l,c){return c.propsWidth!==l.width||c.propsHeight!==l.height?{width:l.width,height:l.height,propsWidth:l.width,propsHeight:l.height}:null};var n=r.prototype;return n.render=function(){var l=this.props,c=l.handle,d=l.handleSize;l.onResize;var h=l.onResizeStart,g=l.onResizeStop,m=l.draggableOpts,v=l.minConstraints,y=l.maxConstraints,k=l.lockAspectRatio,j=l.axis;l.width,l.height;var C=l.resizeHandles,I=l.style,M=l.transformScale,$=j0(l,v0);return ra.createElement(x0.default,{axis:j,draggableOpts:m,handle:c,handleSize:d,height:this.state.height,lockAspectRatio:k,maxConstraints:y,minConstraints:v,onResizeStart:h,onResize:this.onResize,onResizeStop:g,resizeHandles:C,transformScale:M,width:this.state.width},ra.createElement("div",va({},$,{style:li(li({},I),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},r}(ra.Component);ji.default=Dd;Dd.propTypes=li(li({},y0.resizableProps),{},{children:m0.default.element});Ea.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var R0=Ea.exports.Resizable=ds.default;Ea.exports.ResizableBox=ji.default;const P0=s=>{const{onResize:r,width:n,...a}=s;return n?i.jsx(R0,{width:n,height:0,handle:i.jsx("span",{className:"react-resizable-handle",onClick:l=>{l.stopPropagation()}}),onResize:r,draggableOpts:{enableUserSelectHack:!1},children:i.jsx("th",{...a})}):i.jsx("th",{...a})};var ci={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ci.exports;(function(s,r){(function(){var n,a="4.17.21",l=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",h="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",m=500,v="__lodash_placeholder__",y=1,k=2,j=4,C=1,I=2,M=1,$=2,A=4,E=8,w=16,T=32,D=64,q=128,J=256,V=512,H=30,ee="...",oe=800,Z=16,ne=1,de=2,he=3,be=1/0,pe=9007199254740991,G=17976931348623157e292,se=NaN,ue=4294967295,ye=ue-1,Je=ue>>>1,Xe=[["ary",q],["bind",M],["bindKey",$],["curry",E],["curryRight",w],["flip",V],["partial",T],["partialRight",D],["rearg",J]],W="[object Arguments]",ae="[object Array]",ze="[object AsyncFunction]",z="[object Boolean]",ie="[object Date]",Ce="[object DOMException]",ct="[object Error]",_t="[object Function]",Zt="[object GeneratorFunction]",pt="[object Map]",K="[object Number]",le="[object Null]",ve="[object Object]",Ze="[object Promise]",rt="[object Proxy]",at="[object RegExp]",We="[object Set]",De="[object String]",Tn="[object Symbol]",wt="[object Undefined]",kn="[object WeakMap]",hs="[object WeakSet]",In="[object ArrayBuffer]",xn="[object DataView]",ir="[object Float32Array]",or="[object Float64Array]",Pi="[object Int8Array]",Ti="[object Int16Array]",ki="[object Int32Array]",Ii="[object Uint8Array]",Ei="[object Uint8ClampedArray]",Oi="[object Uint16Array]",Ai="[object Uint32Array]",Vd=/\b__p \+= '';/g,Kd=/\b(__p \+=) '' \+/g,Gd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ma=/&(?:amp|lt|gt|quot|#39);/g,$a=/[&<>"']/g,qd=RegExp(Ma.source),Yd=RegExp($a.source),Jd=/<%-([\s\S]+?)%>/g,Xd=/<%([\s\S]+?)%>/g,Na=/<%=([\s\S]+?)%>/g,Zd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qd=/^\w*$/,ef=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Li=/[\\^$.*+?()[\]{}|]/g,tf=RegExp(Li.source),Di=/^\s+/,nf=/\s/,rf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,sf=/\{\n\/\* \[wrapped with (.+)\] \*/,of=/,? & /,af=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lf=/[()=,{}\[\]\/\s]/,cf=/\\(\\)?/g,uf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fa=/\w*$/,df=/^[-+]0x[0-9a-f]+$/i,ff=/^0b[01]+$/i,hf=/^\[object .+?Constructor\]$/,pf=/^0o[0-7]+$/i,gf=/^(?:0|[1-9]\d*)$/,mf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ps=/($^)/,xf=/['\n\r\u2028\u2029\\]/g,gs="\\ud800-\\udfff",yf="\\u0300-\\u036f",vf="\\ufe20-\\ufe2f",_f="\\u20d0-\\u20ff",Ua=yf+vf+_f,Ba="\\u2700-\\u27bf",Wa="a-z\\xdf-\\xf6\\xf8-\\xff",wf="\\xac\\xb1\\xd7\\xf7",Sf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bf="\\u2000-\\u206f",jf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ha="A-Z\\xc0-\\xd6\\xd8-\\xde",Va="\\ufe0e\\ufe0f",Ka=wf+Sf+bf+jf,zi="['’]",Cf="["+gs+"]",Ga="["+Ka+"]",ms="["+Ua+"]",qa="\\d+",Rf="["+Ba+"]",Ya="["+Wa+"]",Ja="[^"+gs+Ka+qa+Ba+Wa+Ha+"]",Mi="\\ud83c[\\udffb-\\udfff]",Pf="(?:"+ms+"|"+Mi+")",Xa="[^"+gs+"]",$i="(?:\\ud83c[\\udde6-\\uddff]){2}",Ni="[\\ud800-\\udbff][\\udc00-\\udfff]",ar="["+Ha+"]",Za="\\u200d",Qa="(?:"+Ya+"|"+Ja+")",Tf="(?:"+ar+"|"+Ja+")",el="(?:"+zi+"(?:d|ll|m|re|s|t|ve))?",tl="(?:"+zi+"(?:D|LL|M|RE|S|T|VE))?",nl=Pf+"?",rl="["+Va+"]?",kf="(?:"+Za+"(?:"+[Xa,$i,Ni].join("|")+")"+rl+nl+")*",If="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ef="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sl=rl+nl+kf,Of="(?:"+[Rf,$i,Ni].join("|")+")"+sl,Af="(?:"+[Xa+ms+"?",ms,$i,Ni,Cf].join("|")+")",Lf=RegExp(zi,"g"),Df=RegExp(ms,"g"),Fi=RegExp(Mi+"(?="+Mi+")|"+Af+sl,"g"),zf=RegExp([ar+"?"+Ya+"+"+el+"(?="+[Ga,ar,"$"].join("|")+")",Tf+"+"+tl+"(?="+[Ga,ar+Qa,"$"].join("|")+")",ar+"?"+Qa+"+"+el,ar+"+"+tl,Ef,If,qa,Of].join("|"),"g"),Mf=RegExp("["+Za+gs+Ua+Va+"]"),$f=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ff=-1,He={};He[ir]=He[or]=He[Pi]=He[Ti]=He[ki]=He[Ii]=He[Ei]=He[Oi]=He[Ai]=!0,He[W]=He[ae]=He[In]=He[z]=He[xn]=He[ie]=He[ct]=He[_t]=He[pt]=He[K]=He[ve]=He[at]=He[We]=He[De]=He[kn]=!1;var Be={};Be[W]=Be[ae]=Be[In]=Be[xn]=Be[z]=Be[ie]=Be[ir]=Be[or]=Be[Pi]=Be[Ti]=Be[ki]=Be[pt]=Be[K]=Be[ve]=Be[at]=Be[We]=Be[De]=Be[Tn]=Be[Ii]=Be[Ei]=Be[Oi]=Be[Ai]=!0,Be[ct]=Be[_t]=Be[kn]=!1;var Uf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Bf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vf=parseFloat,Kf=parseInt,il=typeof Cr=="object"&&Cr&&Cr.Object===Object&&Cr,Gf=typeof self=="object"&&self&&self.Object===Object&&self,ut=il||Gf||Function("return this")(),Ui=r&&!r.nodeType&&r,Vn=Ui&&!0&&s&&!s.nodeType&&s,ol=Vn&&Vn.exports===Ui,Bi=ol&&il.process,Ut=function(){try{var R=Vn&&Vn.require&&Vn.require("util").types;return R||Bi&&Bi.binding&&Bi.binding("util")}catch{}}(),al=Ut&&Ut.isArrayBuffer,ll=Ut&&Ut.isDate,cl=Ut&&Ut.isMap,ul=Ut&&Ut.isRegExp,dl=Ut&&Ut.isSet,fl=Ut&&Ut.isTypedArray;function Ot(R,L,O){switch(O.length){case 0:return R.call(L);case 1:return R.call(L,O[0]);case 2:return R.call(L,O[0],O[1]);case 3:return R.call(L,O[0],O[1],O[2])}return R.apply(L,O)}function qf(R,L,O,re){for(var je=-1,Me=R==null?0:R.length;++je<Me;){var it=R[je];L(re,it,O(it),R)}return re}function Bt(R,L){for(var O=-1,re=R==null?0:R.length;++O<re&&L(R[O],O,R)!==!1;);return R}function Yf(R,L){for(var O=R==null?0:R.length;O--&&L(R[O],O,R)!==!1;);return R}function hl(R,L){for(var O=-1,re=R==null?0:R.length;++O<re;)if(!L(R[O],O,R))return!1;return!0}function En(R,L){for(var O=-1,re=R==null?0:R.length,je=0,Me=[];++O<re;){var it=R[O];L(it,O,R)&&(Me[je++]=it)}return Me}function xs(R,L){var O=R==null?0:R.length;return!!O&&lr(R,L,0)>-1}function Wi(R,L,O){for(var re=-1,je=R==null?0:R.length;++re<je;)if(O(L,R[re]))return!0;return!1}function Ke(R,L){for(var O=-1,re=R==null?0:R.length,je=Array(re);++O<re;)je[O]=L(R[O],O,R);return je}function On(R,L){for(var O=-1,re=L.length,je=R.length;++O<re;)R[je+O]=L[O];return R}function Hi(R,L,O,re){var je=-1,Me=R==null?0:R.length;for(re&&Me&&(O=R[++je]);++je<Me;)O=L(O,R[je],je,R);return O}function Jf(R,L,O,re){var je=R==null?0:R.length;for(re&&je&&(O=R[--je]);je--;)O=L(O,R[je],je,R);return O}function Vi(R,L){for(var O=-1,re=R==null?0:R.length;++O<re;)if(L(R[O],O,R))return!0;return!1}var Xf=Ki("length");function Zf(R){return R.split("")}function Qf(R){return R.match(af)||[]}function pl(R,L,O){var re;return O(R,function(je,Me,it){if(L(je,Me,it))return re=Me,!1}),re}function ys(R,L,O,re){for(var je=R.length,Me=O+(re?1:-1);re?Me--:++Me<je;)if(L(R[Me],Me,R))return Me;return-1}function lr(R,L,O){return L===L?dh(R,L,O):ys(R,gl,O)}function eh(R,L,O,re){for(var je=O-1,Me=R.length;++je<Me;)if(re(R[je],L))return je;return-1}function gl(R){return R!==R}function ml(R,L){var O=R==null?0:R.length;return O?qi(R,L)/O:se}function Ki(R){return function(L){return L==null?n:L[R]}}function Gi(R){return function(L){return R==null?n:R[L]}}function xl(R,L,O,re,je){return je(R,function(Me,it,Ue){O=re?(re=!1,Me):L(O,Me,it,Ue)}),O}function th(R,L){var O=R.length;for(R.sort(L);O--;)R[O]=R[O].value;return R}function qi(R,L){for(var O,re=-1,je=R.length;++re<je;){var Me=L(R[re]);Me!==n&&(O=O===n?Me:O+Me)}return O}function Yi(R,L){for(var O=-1,re=Array(R);++O<R;)re[O]=L(O);return re}function nh(R,L){return Ke(L,function(O){return[O,R[O]]})}function yl(R){return R&&R.slice(0,Sl(R)+1).replace(Di,"")}function At(R){return function(L){return R(L)}}function Ji(R,L){return Ke(L,function(O){return R[O]})}function Ar(R,L){return R.has(L)}function vl(R,L){for(var O=-1,re=R.length;++O<re&&lr(L,R[O],0)>-1;);return O}function _l(R,L){for(var O=R.length;O--&&lr(L,R[O],0)>-1;);return O}function rh(R,L){for(var O=R.length,re=0;O--;)R[O]===L&&++re;return re}var sh=Gi(Uf),ih=Gi(Bf);function oh(R){return"\\"+Hf[R]}function ah(R,L){return R==null?n:R[L]}function cr(R){return Mf.test(R)}function lh(R){return $f.test(R)}function ch(R){for(var L,O=[];!(L=R.next()).done;)O.push(L.value);return O}function Xi(R){var L=-1,O=Array(R.size);return R.forEach(function(re,je){O[++L]=[je,re]}),O}function wl(R,L){return function(O){return R(L(O))}}function An(R,L){for(var O=-1,re=R.length,je=0,Me=[];++O<re;){var it=R[O];(it===L||it===v)&&(R[O]=v,Me[je++]=O)}return Me}function vs(R){var L=-1,O=Array(R.size);return R.forEach(function(re){O[++L]=re}),O}function uh(R){var L=-1,O=Array(R.size);return R.forEach(function(re){O[++L]=[re,re]}),O}function dh(R,L,O){for(var re=O-1,je=R.length;++re<je;)if(R[re]===L)return re;return-1}function fh(R,L,O){for(var re=O+1;re--;)if(R[re]===L)return re;return re}function ur(R){return cr(R)?ph(R):Xf(R)}function Qt(R){return cr(R)?gh(R):Zf(R)}function Sl(R){for(var L=R.length;L--&&nf.test(R.charAt(L)););return L}var hh=Gi(Wf);function ph(R){for(var L=Fi.lastIndex=0;Fi.test(R);)++L;return L}function gh(R){return R.match(Fi)||[]}function mh(R){return R.match(zf)||[]}var xh=function R(L){L=L==null?ut:dr.defaults(ut.Object(),L,dr.pick(ut,Nf));var O=L.Array,re=L.Date,je=L.Error,Me=L.Function,it=L.Math,Ue=L.Object,Zi=L.RegExp,yh=L.String,Wt=L.TypeError,_s=O.prototype,vh=Me.prototype,fr=Ue.prototype,ws=L["__core-js_shared__"],Ss=vh.toString,Ne=fr.hasOwnProperty,_h=0,bl=function(){var e=/[^.]+$/.exec(ws&&ws.keys&&ws.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),bs=fr.toString,wh=Ss.call(Ue),Sh=ut._,bh=Zi("^"+Ss.call(Ne).replace(Li,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),js=ol?L.Buffer:n,Ln=L.Symbol,Cs=L.Uint8Array,jl=js?js.allocUnsafe:n,Rs=wl(Ue.getPrototypeOf,Ue),Cl=Ue.create,Rl=fr.propertyIsEnumerable,Ps=_s.splice,Pl=Ln?Ln.isConcatSpreadable:n,Lr=Ln?Ln.iterator:n,Kn=Ln?Ln.toStringTag:n,Ts=function(){try{var e=Xn(Ue,"defineProperty");return e({},"",{}),e}catch{}}(),jh=L.clearTimeout!==ut.clearTimeout&&L.clearTimeout,Ch=re&&re.now!==ut.Date.now&&re.now,Rh=L.setTimeout!==ut.setTimeout&&L.setTimeout,ks=it.ceil,Is=it.floor,Qi=Ue.getOwnPropertySymbols,Ph=js?js.isBuffer:n,Tl=L.isFinite,Th=_s.join,kh=wl(Ue.keys,Ue),ot=it.max,gt=it.min,Ih=re.now,Eh=L.parseInt,kl=it.random,Oh=_s.reverse,eo=Xn(L,"DataView"),Dr=Xn(L,"Map"),to=Xn(L,"Promise"),hr=Xn(L,"Set"),zr=Xn(L,"WeakMap"),Mr=Xn(Ue,"create"),Es=zr&&new zr,pr={},Ah=Zn(eo),Lh=Zn(Dr),Dh=Zn(to),zh=Zn(hr),Mh=Zn(zr),Os=Ln?Ln.prototype:n,$r=Os?Os.valueOf:n,Il=Os?Os.toString:n;function p(e){if(Qe(e)&&!Re(e)&&!(e instanceof Oe)){if(e instanceof Ht)return e;if(Ne.call(e,"__wrapped__"))return Ec(e)}return new Ht(e)}var gr=function(){function e(){}return function(t){if(!Ye(t))return{};if(Cl)return Cl(t);e.prototype=t;var o=new e;return e.prototype=n,o}}();function As(){}function Ht(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}p.templateSettings={escape:Jd,evaluate:Xd,interpolate:Na,variable:"",imports:{_:p}},p.prototype=As.prototype,p.prototype.constructor=p,Ht.prototype=gr(As.prototype),Ht.prototype.constructor=Ht;function Oe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function $h(){var e=new Oe(this.__wrapped__);return e.__actions__=Pt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pt(this.__views__),e}function Nh(){if(this.__filtered__){var e=new Oe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Fh(){var e=this.__wrapped__.value(),t=this.__dir__,o=Re(e),u=t<0,f=o?e.length:0,x=Zp(0,f,this.__views__),_=x.start,b=x.end,P=b-_,N=u?b:_-1,F=this.__iteratees__,B=F.length,Q=0,ce=gt(P,this.__takeCount__);if(!o||!u&&f==P&&ce==P)return ec(e,this.__actions__);var me=[];e:for(;P--&&Q<ce;){N+=t;for(var ke=-1,xe=e[N];++ke<B;){var Ee=F[ke],Le=Ee.iteratee,zt=Ee.type,jt=Le(xe);if(zt==de)xe=jt;else if(!jt){if(zt==ne)continue e;break e}}me[Q++]=xe}return me}Oe.prototype=gr(As.prototype),Oe.prototype.constructor=Oe;function Gn(e){var t=-1,o=e==null?0:e.length;for(this.clear();++t<o;){var u=e[t];this.set(u[0],u[1])}}function Uh(){this.__data__=Mr?Mr(null):{},this.size=0}function Bh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Wh(e){var t=this.__data__;if(Mr){var o=t[e];return o===g?n:o}return Ne.call(t,e)?t[e]:n}function Hh(e){var t=this.__data__;return Mr?t[e]!==n:Ne.call(t,e)}function Vh(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Mr&&t===n?g:t,this}Gn.prototype.clear=Uh,Gn.prototype.delete=Bh,Gn.prototype.get=Wh,Gn.prototype.has=Hh,Gn.prototype.set=Vh;function yn(e){var t=-1,o=e==null?0:e.length;for(this.clear();++t<o;){var u=e[t];this.set(u[0],u[1])}}function Kh(){this.__data__=[],this.size=0}function Gh(e){var t=this.__data__,o=Ls(t,e);if(o<0)return!1;var u=t.length-1;return o==u?t.pop():Ps.call(t,o,1),--this.size,!0}function qh(e){var t=this.__data__,o=Ls(t,e);return o<0?n:t[o][1]}function Yh(e){return Ls(this.__data__,e)>-1}function Jh(e,t){var o=this.__data__,u=Ls(o,e);return u<0?(++this.size,o.push([e,t])):o[u][1]=t,this}yn.prototype.clear=Kh,yn.prototype.delete=Gh,yn.prototype.get=qh,yn.prototype.has=Yh,yn.prototype.set=Jh;function vn(e){var t=-1,o=e==null?0:e.length;for(this.clear();++t<o;){var u=e[t];this.set(u[0],u[1])}}function Xh(){this.size=0,this.__data__={hash:new Gn,map:new(Dr||yn),string:new Gn}}function Zh(e){var t=Ks(this,e).delete(e);return this.size-=t?1:0,t}function Qh(e){return Ks(this,e).get(e)}function ep(e){return Ks(this,e).has(e)}function tp(e,t){var o=Ks(this,e),u=o.size;return o.set(e,t),this.size+=o.size==u?0:1,this}vn.prototype.clear=Xh,vn.prototype.delete=Zh,vn.prototype.get=Qh,vn.prototype.has=ep,vn.prototype.set=tp;function qn(e){var t=-1,o=e==null?0:e.length;for(this.__data__=new vn;++t<o;)this.add(e[t])}function np(e){return this.__data__.set(e,g),this}function rp(e){return this.__data__.has(e)}qn.prototype.add=qn.prototype.push=np,qn.prototype.has=rp;function en(e){var t=this.__data__=new yn(e);this.size=t.size}function sp(){this.__data__=new yn,this.size=0}function ip(e){var t=this.__data__,o=t.delete(e);return this.size=t.size,o}function op(e){return this.__data__.get(e)}function ap(e){return this.__data__.has(e)}function lp(e,t){var o=this.__data__;if(o instanceof yn){var u=o.__data__;if(!Dr||u.length<l-1)return u.push([e,t]),this.size=++o.size,this;o=this.__data__=new vn(u)}return o.set(e,t),this.size=o.size,this}en.prototype.clear=sp,en.prototype.delete=ip,en.prototype.get=op,en.prototype.has=ap,en.prototype.set=lp;function El(e,t){var o=Re(e),u=!o&&Qn(e),f=!o&&!u&&Nn(e),x=!o&&!u&&!f&&vr(e),_=o||u||f||x,b=_?Yi(e.length,yh):[],P=b.length;for(var N in e)(t||Ne.call(e,N))&&!(_&&(N=="length"||f&&(N=="offset"||N=="parent")||x&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||bn(N,P)))&&b.push(N);return b}function Ol(e){var t=e.length;return t?e[ho(0,t-1)]:n}function cp(e,t){return Gs(Pt(e),Yn(t,0,e.length))}function up(e){return Gs(Pt(e))}function no(e,t,o){(o!==n&&!tn(e[t],o)||o===n&&!(t in e))&&_n(e,t,o)}function Nr(e,t,o){var u=e[t];(!(Ne.call(e,t)&&tn(u,o))||o===n&&!(t in e))&&_n(e,t,o)}function Ls(e,t){for(var o=e.length;o--;)if(tn(e[o][0],t))return o;return-1}function dp(e,t,o,u){return Dn(e,function(f,x,_){t(u,f,o(f),_)}),u}function Al(e,t){return e&&dn(t,lt(t),e)}function fp(e,t){return e&&dn(t,kt(t),e)}function _n(e,t,o){t=="__proto__"&&Ts?Ts(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o}function ro(e,t){for(var o=-1,u=t.length,f=O(u),x=e==null;++o<u;)f[o]=x?n:$o(e,t[o]);return f}function Yn(e,t,o){return e===e&&(o!==n&&(e=e<=o?e:o),t!==n&&(e=e>=t?e:t)),e}function Vt(e,t,o,u,f,x){var _,b=t&y,P=t&k,N=t&j;if(o&&(_=f?o(e,u,f,x):o(e)),_!==n)return _;if(!Ye(e))return e;var F=Re(e);if(F){if(_=eg(e),!b)return Pt(e,_)}else{var B=mt(e),Q=B==_t||B==Zt;if(Nn(e))return rc(e,b);if(B==ve||B==W||Q&&!f){if(_=P||Q?{}:Sc(e),!b)return P?Wp(e,fp(_,e)):Bp(e,Al(_,e))}else{if(!Be[B])return f?e:{};_=tg(e,B,b)}}x||(x=new en);var ce=x.get(e);if(ce)return ce;x.set(e,_),Xc(e)?e.forEach(function(xe){_.add(Vt(xe,t,o,xe,e,x))}):Yc(e)&&e.forEach(function(xe,Ee){_.set(Ee,Vt(xe,t,o,Ee,e,x))});var me=N?P?jo:bo:P?kt:lt,ke=F?n:me(e);return Bt(ke||e,function(xe,Ee){ke&&(Ee=xe,xe=e[Ee]),Nr(_,Ee,Vt(xe,t,o,Ee,e,x))}),_}function hp(e){var t=lt(e);return function(o){return Ll(o,e,t)}}function Ll(e,t,o){var u=o.length;if(e==null)return!u;for(e=Ue(e);u--;){var f=o[u],x=t[f],_=e[f];if(_===n&&!(f in e)||!x(_))return!1}return!0}function Dl(e,t,o){if(typeof e!="function")throw new Wt(d);return Kr(function(){e.apply(n,o)},t)}function Fr(e,t,o,u){var f=-1,x=xs,_=!0,b=e.length,P=[],N=t.length;if(!b)return P;o&&(t=Ke(t,At(o))),u?(x=Wi,_=!1):t.length>=l&&(x=Ar,_=!1,t=new qn(t));e:for(;++f<b;){var F=e[f],B=o==null?F:o(F);if(F=u||F!==0?F:0,_&&B===B){for(var Q=N;Q--;)if(t[Q]===B)continue e;P.push(F)}else x(t,B,u)||P.push(F)}return P}var Dn=lc(un),zl=lc(io,!0);function pp(e,t){var o=!0;return Dn(e,function(u,f,x){return o=!!t(u,f,x),o}),o}function Ds(e,t,o){for(var u=-1,f=e.length;++u<f;){var x=e[u],_=t(x);if(_!=null&&(b===n?_===_&&!Dt(_):o(_,b)))var b=_,P=x}return P}function gp(e,t,o,u){var f=e.length;for(o=Pe(o),o<0&&(o=-o>f?0:f+o),u=u===n||u>f?f:Pe(u),u<0&&(u+=f),u=o>u?0:Qc(u);o<u;)e[o++]=t;return e}function Ml(e,t){var o=[];return Dn(e,function(u,f,x){t(u,f,x)&&o.push(u)}),o}function dt(e,t,o,u,f){var x=-1,_=e.length;for(o||(o=rg),f||(f=[]);++x<_;){var b=e[x];t>0&&o(b)?t>1?dt(b,t-1,o,u,f):On(f,b):u||(f[f.length]=b)}return f}var so=cc(),$l=cc(!0);function un(e,t){return e&&so(e,t,lt)}function io(e,t){return e&&$l(e,t,lt)}function zs(e,t){return En(t,function(o){return jn(e[o])})}function Jn(e,t){t=Mn(t,e);for(var o=0,u=t.length;e!=null&&o<u;)e=e[fn(t[o++])];return o&&o==u?e:n}function Nl(e,t,o){var u=t(e);return Re(e)?u:On(u,o(e))}function St(e){return e==null?e===n?wt:le:Kn&&Kn in Ue(e)?Xp(e):ug(e)}function oo(e,t){return e>t}function mp(e,t){return e!=null&&Ne.call(e,t)}function xp(e,t){return e!=null&&t in Ue(e)}function yp(e,t,o){return e>=gt(t,o)&&e<ot(t,o)}function ao(e,t,o){for(var u=o?Wi:xs,f=e[0].length,x=e.length,_=x,b=O(x),P=1/0,N=[];_--;){var F=e[_];_&&t&&(F=Ke(F,At(t))),P=gt(F.length,P),b[_]=!o&&(t||f>=120&&F.length>=120)?new qn(_&&F):n}F=e[0];var B=-1,Q=b[0];e:for(;++B<f&&N.length<P;){var ce=F[B],me=t?t(ce):ce;if(ce=o||ce!==0?ce:0,!(Q?Ar(Q,me):u(N,me,o))){for(_=x;--_;){var ke=b[_];if(!(ke?Ar(ke,me):u(e[_],me,o)))continue e}Q&&Q.push(me),N.push(ce)}}return N}function vp(e,t,o,u){return un(e,function(f,x,_){t(u,o(f),x,_)}),u}function Ur(e,t,o){t=Mn(t,e),e=Rc(e,t);var u=e==null?e:e[fn(Gt(t))];return u==null?n:Ot(u,e,o)}function Fl(e){return Qe(e)&&St(e)==W}function _p(e){return Qe(e)&&St(e)==In}function wp(e){return Qe(e)&&St(e)==ie}function Br(e,t,o,u,f){return e===t?!0:e==null||t==null||!Qe(e)&&!Qe(t)?e!==e&&t!==t:Sp(e,t,o,u,Br,f)}function Sp(e,t,o,u,f,x){var _=Re(e),b=Re(t),P=_?ae:mt(e),N=b?ae:mt(t);P=P==W?ve:P,N=N==W?ve:N;var F=P==ve,B=N==ve,Q=P==N;if(Q&&Nn(e)){if(!Nn(t))return!1;_=!0,F=!1}if(Q&&!F)return x||(x=new en),_||vr(e)?vc(e,t,o,u,f,x):Yp(e,t,P,o,u,f,x);if(!(o&C)){var ce=F&&Ne.call(e,"__wrapped__"),me=B&&Ne.call(t,"__wrapped__");if(ce||me){var ke=ce?e.value():e,xe=me?t.value():t;return x||(x=new en),f(ke,xe,o,u,x)}}return Q?(x||(x=new en),Jp(e,t,o,u,f,x)):!1}function bp(e){return Qe(e)&&mt(e)==pt}function lo(e,t,o,u){var f=o.length,x=f,_=!u;if(e==null)return!x;for(e=Ue(e);f--;){var b=o[f];if(_&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++f<x;){b=o[f];var P=b[0],N=e[P],F=b[1];if(_&&b[2]){if(N===n&&!(P in e))return!1}else{var B=new en;if(u)var Q=u(N,F,P,e,t,B);if(!(Q===n?Br(F,N,C|I,u,B):Q))return!1}}return!0}function Ul(e){if(!Ye(e)||ig(e))return!1;var t=jn(e)?bh:hf;return t.test(Zn(e))}function jp(e){return Qe(e)&&St(e)==at}function Cp(e){return Qe(e)&&mt(e)==We}function Rp(e){return Qe(e)&&Qs(e.length)&&!!He[St(e)]}function Bl(e){return typeof e=="function"?e:e==null?It:typeof e=="object"?Re(e)?Vl(e[0],e[1]):Hl(e):uu(e)}function co(e){if(!Vr(e))return kh(e);var t=[];for(var o in Ue(e))Ne.call(e,o)&&o!="constructor"&&t.push(o);return t}function Pp(e){if(!Ye(e))return cg(e);var t=Vr(e),o=[];for(var u in e)u=="constructor"&&(t||!Ne.call(e,u))||o.push(u);return o}function uo(e,t){return e<t}function Wl(e,t){var o=-1,u=Tt(e)?O(e.length):[];return Dn(e,function(f,x,_){u[++o]=t(f,x,_)}),u}function Hl(e){var t=Ro(e);return t.length==1&&t[0][2]?jc(t[0][0],t[0][1]):function(o){return o===e||lo(o,e,t)}}function Vl(e,t){return To(e)&&bc(t)?jc(fn(e),t):function(o){var u=$o(o,e);return u===n&&u===t?No(o,e):Br(t,u,C|I)}}function Ms(e,t,o,u,f){e!==t&&so(t,function(x,_){if(f||(f=new en),Ye(x))Tp(e,t,_,o,Ms,u,f);else{var b=u?u(Io(e,_),x,_+"",e,t,f):n;b===n&&(b=x),no(e,_,b)}},kt)}function Tp(e,t,o,u,f,x,_){var b=Io(e,o),P=Io(t,o),N=_.get(P);if(N){no(e,o,N);return}var F=x?x(b,P,o+"",e,t,_):n,B=F===n;if(B){var Q=Re(P),ce=!Q&&Nn(P),me=!Q&&!ce&&vr(P);F=P,Q||ce||me?Re(b)?F=b:tt(b)?F=Pt(b):ce?(B=!1,F=rc(P,!0)):me?(B=!1,F=sc(P,!0)):F=[]:Gr(P)||Qn(P)?(F=b,Qn(b)?F=eu(b):(!Ye(b)||jn(b))&&(F=Sc(P))):B=!1}B&&(_.set(P,F),f(F,P,u,x,_),_.delete(P)),no(e,o,F)}function Kl(e,t){var o=e.length;if(o)return t+=t<0?o:0,bn(t,o)?e[t]:n}function Gl(e,t,o){t.length?t=Ke(t,function(x){return Re(x)?function(_){return Jn(_,x.length===1?x[0]:x)}:x}):t=[It];var u=-1;t=Ke(t,At(ge()));var f=Wl(e,function(x,_,b){var P=Ke(t,function(N){return N(x)});return{criteria:P,index:++u,value:x}});return th(f,function(x,_){return Up(x,_,o)})}function kp(e,t){return ql(e,t,function(o,u){return No(e,u)})}function ql(e,t,o){for(var u=-1,f=t.length,x={};++u<f;){var _=t[u],b=Jn(e,_);o(b,_)&&Wr(x,Mn(_,e),b)}return x}function Ip(e){return function(t){return Jn(t,e)}}function fo(e,t,o,u){var f=u?eh:lr,x=-1,_=t.length,b=e;for(e===t&&(t=Pt(t)),o&&(b=Ke(e,At(o)));++x<_;)for(var P=0,N=t[x],F=o?o(N):N;(P=f(b,F,P,u))>-1;)b!==e&&Ps.call(b,P,1),Ps.call(e,P,1);return e}function Yl(e,t){for(var o=e?t.length:0,u=o-1;o--;){var f=t[o];if(o==u||f!==x){var x=f;bn(f)?Ps.call(e,f,1):mo(e,f)}}return e}function ho(e,t){return e+Is(kl()*(t-e+1))}function Ep(e,t,o,u){for(var f=-1,x=ot(ks((t-e)/(o||1)),0),_=O(x);x--;)_[u?x:++f]=e,e+=o;return _}function po(e,t){var o="";if(!e||t<1||t>pe)return o;do t%2&&(o+=e),t=Is(t/2),t&&(e+=e);while(t);return o}function Ie(e,t){return Eo(Cc(e,t,It),e+"")}function Op(e){return Ol(_r(e))}function Ap(e,t){var o=_r(e);return Gs(o,Yn(t,0,o.length))}function Wr(e,t,o,u){if(!Ye(e))return e;t=Mn(t,e);for(var f=-1,x=t.length,_=x-1,b=e;b!=null&&++f<x;){var P=fn(t[f]),N=o;if(P==="__proto__"||P==="constructor"||P==="prototype")return e;if(f!=_){var F=b[P];N=u?u(F,P,b):n,N===n&&(N=Ye(F)?F:bn(t[f+1])?[]:{})}Nr(b,P,N),b=b[P]}return e}var Jl=Es?function(e,t){return Es.set(e,t),e}:It,Lp=Ts?function(e,t){return Ts(e,"toString",{configurable:!0,enumerable:!1,value:Uo(t),writable:!0})}:It;function Dp(e){return Gs(_r(e))}function Kt(e,t,o){var u=-1,f=e.length;t<0&&(t=-t>f?0:f+t),o=o>f?f:o,o<0&&(o+=f),f=t>o?0:o-t>>>0,t>>>=0;for(var x=O(f);++u<f;)x[u]=e[u+t];return x}function zp(e,t){var o;return Dn(e,function(u,f,x){return o=t(u,f,x),!o}),!!o}function $s(e,t,o){var u=0,f=e==null?u:e.length;if(typeof t=="number"&&t===t&&f<=Je){for(;u<f;){var x=u+f>>>1,_=e[x];_!==null&&!Dt(_)&&(o?_<=t:_<t)?u=x+1:f=x}return f}return go(e,t,It,o)}function go(e,t,o,u){var f=0,x=e==null?0:e.length;if(x===0)return 0;t=o(t);for(var _=t!==t,b=t===null,P=Dt(t),N=t===n;f<x;){var F=Is((f+x)/2),B=o(e[F]),Q=B!==n,ce=B===null,me=B===B,ke=Dt(B);if(_)var xe=u||me;else N?xe=me&&(u||Q):b?xe=me&&Q&&(u||!ce):P?xe=me&&Q&&!ce&&(u||!ke):ce||ke?xe=!1:xe=u?B<=t:B<t;xe?f=F+1:x=F}return gt(x,ye)}function Xl(e,t){for(var o=-1,u=e.length,f=0,x=[];++o<u;){var _=e[o],b=t?t(_):_;if(!o||!tn(b,P)){var P=b;x[f++]=_===0?0:_}}return x}function Zl(e){return typeof e=="number"?e:Dt(e)?se:+e}function Lt(e){if(typeof e=="string")return e;if(Re(e))return Ke(e,Lt)+"";if(Dt(e))return Il?Il.call(e):"";var t=e+"";return t=="0"&&1/e==-be?"-0":t}function zn(e,t,o){var u=-1,f=xs,x=e.length,_=!0,b=[],P=b;if(o)_=!1,f=Wi;else if(x>=l){var N=t?null:Gp(e);if(N)return vs(N);_=!1,f=Ar,P=new qn}else P=t?[]:b;e:for(;++u<x;){var F=e[u],B=t?t(F):F;if(F=o||F!==0?F:0,_&&B===B){for(var Q=P.length;Q--;)if(P[Q]===B)continue e;t&&P.push(B),b.push(F)}else f(P,B,o)||(P!==b&&P.push(B),b.push(F))}return b}function mo(e,t){return t=Mn(t,e),e=Rc(e,t),e==null||delete e[fn(Gt(t))]}function Ql(e,t,o,u){return Wr(e,t,o(Jn(e,t)),u)}function Ns(e,t,o,u){for(var f=e.length,x=u?f:-1;(u?x--:++x<f)&&t(e[x],x,e););return o?Kt(e,u?0:x,u?x+1:f):Kt(e,u?x+1:0,u?f:x)}function ec(e,t){var o=e;return o instanceof Oe&&(o=o.value()),Hi(t,function(u,f){return f.func.apply(f.thisArg,On([u],f.args))},o)}function xo(e,t,o){var u=e.length;if(u<2)return u?zn(e[0]):[];for(var f=-1,x=O(u);++f<u;)for(var _=e[f],b=-1;++b<u;)b!=f&&(x[f]=Fr(x[f]||_,e[b],t,o));return zn(dt(x,1),t,o)}function tc(e,t,o){for(var u=-1,f=e.length,x=t.length,_={};++u<f;){var b=u<x?t[u]:n;o(_,e[u],b)}return _}function yo(e){return tt(e)?e:[]}function vo(e){return typeof e=="function"?e:It}function Mn(e,t){return Re(e)?e:To(e,t)?[e]:Ic($e(e))}var Mp=Ie;function $n(e,t,o){var u=e.length;return o=o===n?u:o,!t&&o>=u?e:Kt(e,t,o)}var nc=jh||function(e){return ut.clearTimeout(e)};function rc(e,t){if(t)return e.slice();var o=e.length,u=jl?jl(o):new e.constructor(o);return e.copy(u),u}function _o(e){var t=new e.constructor(e.byteLength);return new Cs(t).set(new Cs(e)),t}function $p(e,t){var o=t?_o(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function Np(e){var t=new e.constructor(e.source,Fa.exec(e));return t.lastIndex=e.lastIndex,t}function Fp(e){return $r?Ue($r.call(e)):{}}function sc(e,t){var o=t?_o(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function ic(e,t){if(e!==t){var o=e!==n,u=e===null,f=e===e,x=Dt(e),_=t!==n,b=t===null,P=t===t,N=Dt(t);if(!b&&!N&&!x&&e>t||x&&_&&P&&!b&&!N||u&&_&&P||!o&&P||!f)return 1;if(!u&&!x&&!N&&e<t||N&&o&&f&&!u&&!x||b&&o&&f||!_&&f||!P)return-1}return 0}function Up(e,t,o){for(var u=-1,f=e.criteria,x=t.criteria,_=f.length,b=o.length;++u<_;){var P=ic(f[u],x[u]);if(P){if(u>=b)return P;var N=o[u];return P*(N=="desc"?-1:1)}}return e.index-t.index}function oc(e,t,o,u){for(var f=-1,x=e.length,_=o.length,b=-1,P=t.length,N=ot(x-_,0),F=O(P+N),B=!u;++b<P;)F[b]=t[b];for(;++f<_;)(B||f<x)&&(F[o[f]]=e[f]);for(;N--;)F[b++]=e[f++];return F}function ac(e,t,o,u){for(var f=-1,x=e.length,_=-1,b=o.length,P=-1,N=t.length,F=ot(x-b,0),B=O(F+N),Q=!u;++f<F;)B[f]=e[f];for(var ce=f;++P<N;)B[ce+P]=t[P];for(;++_<b;)(Q||f<x)&&(B[ce+o[_]]=e[f++]);return B}function Pt(e,t){var o=-1,u=e.length;for(t||(t=O(u));++o<u;)t[o]=e[o];return t}function dn(e,t,o,u){var f=!o;o||(o={});for(var x=-1,_=t.length;++x<_;){var b=t[x],P=u?u(o[b],e[b],b,o,e):n;P===n&&(P=e[b]),f?_n(o,b,P):Nr(o,b,P)}return o}function Bp(e,t){return dn(e,Po(e),t)}function Wp(e,t){return dn(e,_c(e),t)}function Fs(e,t){return function(o,u){var f=Re(o)?qf:dp,x=t?t():{};return f(o,e,ge(u,2),x)}}function mr(e){return Ie(function(t,o){var u=-1,f=o.length,x=f>1?o[f-1]:n,_=f>2?o[2]:n;for(x=e.length>3&&typeof x=="function"?(f--,x):n,_&&bt(o[0],o[1],_)&&(x=f<3?n:x,f=1),t=Ue(t);++u<f;){var b=o[u];b&&e(t,b,u,x)}return t})}function lc(e,t){return function(o,u){if(o==null)return o;if(!Tt(o))return e(o,u);for(var f=o.length,x=t?f:-1,_=Ue(o);(t?x--:++x<f)&&u(_[x],x,_)!==!1;);return o}}function cc(e){return function(t,o,u){for(var f=-1,x=Ue(t),_=u(t),b=_.length;b--;){var P=_[e?b:++f];if(o(x[P],P,x)===!1)break}return t}}function Hp(e,t,o){var u=t&M,f=Hr(e);function x(){var _=this&&this!==ut&&this instanceof x?f:e;return _.apply(u?o:this,arguments)}return x}function uc(e){return function(t){t=$e(t);var o=cr(t)?Qt(t):n,u=o?o[0]:t.charAt(0),f=o?$n(o,1).join(""):t.slice(1);return u[e]()+f}}function xr(e){return function(t){return Hi(lu(au(t).replace(Lf,"")),e,"")}}function Hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var o=gr(e.prototype),u=e.apply(o,t);return Ye(u)?u:o}}function Vp(e,t,o){var u=Hr(e);function f(){for(var x=arguments.length,_=O(x),b=x,P=yr(f);b--;)_[b]=arguments[b];var N=x<3&&_[0]!==P&&_[x-1]!==P?[]:An(_,P);if(x-=N.length,x<o)return gc(e,t,Us,f.placeholder,n,_,N,n,n,o-x);var F=this&&this!==ut&&this instanceof f?u:e;return Ot(F,this,_)}return f}function dc(e){return function(t,o,u){var f=Ue(t);if(!Tt(t)){var x=ge(o,3);t=lt(t),o=function(b){return x(f[b],b,f)}}var _=e(t,o,u);return _>-1?f[x?t[_]:_]:n}}function fc(e){return Sn(function(t){var o=t.length,u=o,f=Ht.prototype.thru;for(e&&t.reverse();u--;){var x=t[u];if(typeof x!="function")throw new Wt(d);if(f&&!_&&Vs(x)=="wrapper")var _=new Ht([],!0)}for(u=_?u:o;++u<o;){x=t[u];var b=Vs(x),P=b=="wrapper"?Co(x):n;P&&ko(P[0])&&P[1]==(q|E|T|J)&&!P[4].length&&P[9]==1?_=_[Vs(P[0])].apply(_,P[3]):_=x.length==1&&ko(x)?_[b]():_.thru(x)}return function(){var N=arguments,F=N[0];if(_&&N.length==1&&Re(F))return _.plant(F).value();for(var B=0,Q=o?t[B].apply(this,N):F;++B<o;)Q=t[B].call(this,Q);return Q}})}function Us(e,t,o,u,f,x,_,b,P,N){var F=t&q,B=t&M,Q=t&$,ce=t&(E|w),me=t&V,ke=Q?n:Hr(e);function xe(){for(var Ee=arguments.length,Le=O(Ee),zt=Ee;zt--;)Le[zt]=arguments[zt];if(ce)var jt=yr(xe),Mt=rh(Le,jt);if(u&&(Le=oc(Le,u,f,ce)),x&&(Le=ac(Le,x,_,ce)),Ee-=Mt,ce&&Ee<N){var nt=An(Le,jt);return gc(e,t,Us,xe.placeholder,o,Le,nt,b,P,N-Ee)}var nn=B?o:this,Rn=Q?nn[e]:e;return Ee=Le.length,b?Le=dg(Le,b):me&&Ee>1&&Le.reverse(),F&&P<Ee&&(Le.length=P),this&&this!==ut&&this instanceof xe&&(Rn=ke||Hr(Rn)),Rn.apply(nn,Le)}return xe}function hc(e,t){return function(o,u){return vp(o,e,t(u),{})}}function Bs(e,t){return function(o,u){var f;if(o===n&&u===n)return t;if(o!==n&&(f=o),u!==n){if(f===n)return u;typeof o=="string"||typeof u=="string"?(o=Lt(o),u=Lt(u)):(o=Zl(o),u=Zl(u)),f=e(o,u)}return f}}function wo(e){return Sn(function(t){return t=Ke(t,At(ge())),Ie(function(o){var u=this;return e(t,function(f){return Ot(f,u,o)})})})}function Ws(e,t){t=t===n?" ":Lt(t);var o=t.length;if(o<2)return o?po(t,e):t;var u=po(t,ks(e/ur(t)));return cr(t)?$n(Qt(u),0,e).join(""):u.slice(0,e)}function Kp(e,t,o,u){var f=t&M,x=Hr(e);function _(){for(var b=-1,P=arguments.length,N=-1,F=u.length,B=O(F+P),Q=this&&this!==ut&&this instanceof _?x:e;++N<F;)B[N]=u[N];for(;P--;)B[N++]=arguments[++b];return Ot(Q,f?o:this,B)}return _}function pc(e){return function(t,o,u){return u&&typeof u!="number"&&bt(t,o,u)&&(o=u=n),t=Cn(t),o===n?(o=t,t=0):o=Cn(o),u=u===n?t<o?1:-1:Cn(u),Ep(t,o,u,e)}}function Hs(e){return function(t,o){return typeof t=="string"&&typeof o=="string"||(t=qt(t),o=qt(o)),e(t,o)}}function gc(e,t,o,u,f,x,_,b,P,N){var F=t&E,B=F?_:n,Q=F?n:_,ce=F?x:n,me=F?n:x;t|=F?T:D,t&=~(F?D:T),t&A||(t&=-4);var ke=[e,t,f,ce,B,me,Q,b,P,N],xe=o.apply(n,ke);return ko(e)&&Pc(xe,ke),xe.placeholder=u,Tc(xe,e,t)}function So(e){var t=it[e];return function(o,u){if(o=qt(o),u=u==null?0:gt(Pe(u),292),u&&Tl(o)){var f=($e(o)+"e").split("e"),x=t(f[0]+"e"+(+f[1]+u));return f=($e(x)+"e").split("e"),+(f[0]+"e"+(+f[1]-u))}return t(o)}}var Gp=hr&&1/vs(new hr([,-0]))[1]==be?function(e){return new hr(e)}:Ho;function mc(e){return function(t){var o=mt(t);return o==pt?Xi(t):o==We?uh(t):nh(t,e(t))}}function wn(e,t,o,u,f,x,_,b){var P=t&$;if(!P&&typeof e!="function")throw new Wt(d);var N=u?u.length:0;if(N||(t&=-97,u=f=n),_=_===n?_:ot(Pe(_),0),b=b===n?b:Pe(b),N-=f?f.length:0,t&D){var F=u,B=f;u=f=n}var Q=P?n:Co(e),ce=[e,t,o,u,f,F,B,x,_,b];if(Q&&lg(ce,Q),e=ce[0],t=ce[1],o=ce[2],u=ce[3],f=ce[4],b=ce[9]=ce[9]===n?P?0:e.length:ot(ce[9]-N,0),!b&&t&(E|w)&&(t&=-25),!t||t==M)var me=Hp(e,t,o);else t==E||t==w?me=Vp(e,t,b):(t==T||t==(M|T))&&!f.length?me=Kp(e,t,o,u):me=Us.apply(n,ce);var ke=Q?Jl:Pc;return Tc(ke(me,ce),e,t)}function xc(e,t,o,u){return e===n||tn(e,fr[o])&&!Ne.call(u,o)?t:e}function yc(e,t,o,u,f,x){return Ye(e)&&Ye(t)&&(x.set(t,e),Ms(e,t,n,yc,x),x.delete(t)),e}function qp(e){return Gr(e)?n:e}function vc(e,t,o,u,f,x){var _=o&C,b=e.length,P=t.length;if(b!=P&&!(_&&P>b))return!1;var N=x.get(e),F=x.get(t);if(N&&F)return N==t&&F==e;var B=-1,Q=!0,ce=o&I?new qn:n;for(x.set(e,t),x.set(t,e);++B<b;){var me=e[B],ke=t[B];if(u)var xe=_?u(ke,me,B,t,e,x):u(me,ke,B,e,t,x);if(xe!==n){if(xe)continue;Q=!1;break}if(ce){if(!Vi(t,function(Ee,Le){if(!Ar(ce,Le)&&(me===Ee||f(me,Ee,o,u,x)))return ce.push(Le)})){Q=!1;break}}else if(!(me===ke||f(me,ke,o,u,x))){Q=!1;break}}return x.delete(e),x.delete(t),Q}function Yp(e,t,o,u,f,x,_){switch(o){case xn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case In:return!(e.byteLength!=t.byteLength||!x(new Cs(e),new Cs(t)));case z:case ie:case K:return tn(+e,+t);case ct:return e.name==t.name&&e.message==t.message;case at:case De:return e==t+"";case pt:var b=Xi;case We:var P=u&C;if(b||(b=vs),e.size!=t.size&&!P)return!1;var N=_.get(e);if(N)return N==t;u|=I,_.set(e,t);var F=vc(b(e),b(t),u,f,x,_);return _.delete(e),F;case Tn:if($r)return $r.call(e)==$r.call(t)}return!1}function Jp(e,t,o,u,f,x){var _=o&C,b=bo(e),P=b.length,N=bo(t),F=N.length;if(P!=F&&!_)return!1;for(var B=P;B--;){var Q=b[B];if(!(_?Q in t:Ne.call(t,Q)))return!1}var ce=x.get(e),me=x.get(t);if(ce&&me)return ce==t&&me==e;var ke=!0;x.set(e,t),x.set(t,e);for(var xe=_;++B<P;){Q=b[B];var Ee=e[Q],Le=t[Q];if(u)var zt=_?u(Le,Ee,Q,t,e,x):u(Ee,Le,Q,e,t,x);if(!(zt===n?Ee===Le||f(Ee,Le,o,u,x):zt)){ke=!1;break}xe||(xe=Q=="constructor")}if(ke&&!xe){var jt=e.constructor,Mt=t.constructor;jt!=Mt&&"constructor"in e&&"constructor"in t&&!(typeof jt=="function"&&jt instanceof jt&&typeof Mt=="function"&&Mt instanceof Mt)&&(ke=!1)}return x.delete(e),x.delete(t),ke}function Sn(e){return Eo(Cc(e,n,Lc),e+"")}function bo(e){return Nl(e,lt,Po)}function jo(e){return Nl(e,kt,_c)}var Co=Es?function(e){return Es.get(e)}:Ho;function Vs(e){for(var t=e.name+"",o=pr[t],u=Ne.call(pr,t)?o.length:0;u--;){var f=o[u],x=f.func;if(x==null||x==e)return f.name}return t}function yr(e){var t=Ne.call(p,"placeholder")?p:e;return t.placeholder}function ge(){var e=p.iteratee||Bo;return e=e===Bo?Bl:e,arguments.length?e(arguments[0],arguments[1]):e}function Ks(e,t){var o=e.__data__;return sg(t)?o[typeof t=="string"?"string":"hash"]:o.map}function Ro(e){for(var t=lt(e),o=t.length;o--;){var u=t[o],f=e[u];t[o]=[u,f,bc(f)]}return t}function Xn(e,t){var o=ah(e,t);return Ul(o)?o:n}function Xp(e){var t=Ne.call(e,Kn),o=e[Kn];try{e[Kn]=n;var u=!0}catch{}var f=bs.call(e);return u&&(t?e[Kn]=o:delete e[Kn]),f}var Po=Qi?function(e){return e==null?[]:(e=Ue(e),En(Qi(e),function(t){return Rl.call(e,t)}))}:Vo,_c=Qi?function(e){for(var t=[];e;)On(t,Po(e)),e=Rs(e);return t}:Vo,mt=St;(eo&&mt(new eo(new ArrayBuffer(1)))!=xn||Dr&&mt(new Dr)!=pt||to&&mt(to.resolve())!=Ze||hr&&mt(new hr)!=We||zr&&mt(new zr)!=kn)&&(mt=function(e){var t=St(e),o=t==ve?e.constructor:n,u=o?Zn(o):"";if(u)switch(u){case Ah:return xn;case Lh:return pt;case Dh:return Ze;case zh:return We;case Mh:return kn}return t});function Zp(e,t,o){for(var u=-1,f=o.length;++u<f;){var x=o[u],_=x.size;switch(x.type){case"drop":e+=_;break;case"dropRight":t-=_;break;case"take":t=gt(t,e+_);break;case"takeRight":e=ot(e,t-_);break}}return{start:e,end:t}}function Qp(e){var t=e.match(sf);return t?t[1].split(of):[]}function wc(e,t,o){t=Mn(t,e);for(var u=-1,f=t.length,x=!1;++u<f;){var _=fn(t[u]);if(!(x=e!=null&&o(e,_)))break;e=e[_]}return x||++u!=f?x:(f=e==null?0:e.length,!!f&&Qs(f)&&bn(_,f)&&(Re(e)||Qn(e)))}function eg(e){var t=e.length,o=new e.constructor(t);return t&&typeof e[0]=="string"&&Ne.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function Sc(e){return typeof e.constructor=="function"&&!Vr(e)?gr(Rs(e)):{}}function tg(e,t,o){var u=e.constructor;switch(t){case In:return _o(e);case z:case ie:return new u(+e);case xn:return $p(e,o);case ir:case or:case Pi:case Ti:case ki:case Ii:case Ei:case Oi:case Ai:return sc(e,o);case pt:return new u;case K:case De:return new u(e);case at:return Np(e);case We:return new u;case Tn:return Fp(e)}}function ng(e,t){var o=t.length;if(!o)return e;var u=o-1;return t[u]=(o>1?"& ":"")+t[u],t=t.join(o>2?", ":" "),e.replace(rf,`{
/* [wrapped with `+t+`] */
`)}function rg(e){return Re(e)||Qn(e)||!!(Pl&&e&&e[Pl])}function bn(e,t){var o=typeof e;return t=t??pe,!!t&&(o=="number"||o!="symbol"&&gf.test(e))&&e>-1&&e%1==0&&e<t}function bt(e,t,o){if(!Ye(o))return!1;var u=typeof t;return(u=="number"?Tt(o)&&bn(t,o.length):u=="string"&&t in o)?tn(o[t],e):!1}function To(e,t){if(Re(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||Dt(e)?!0:Qd.test(e)||!Zd.test(e)||t!=null&&e in Ue(t)}function sg(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ko(e){var t=Vs(e),o=p[t];if(typeof o!="function"||!(t in Oe.prototype))return!1;if(e===o)return!0;var u=Co(o);return!!u&&e===u[0]}function ig(e){return!!bl&&bl in e}var og=ws?jn:Ko;function Vr(e){var t=e&&e.constructor,o=typeof t=="function"&&t.prototype||fr;return e===o}function bc(e){return e===e&&!Ye(e)}function jc(e,t){return function(o){return o==null?!1:o[e]===t&&(t!==n||e in Ue(o))}}function ag(e){var t=Xs(e,function(u){return o.size===m&&o.clear(),u}),o=t.cache;return t}function lg(e,t){var o=e[1],u=t[1],f=o|u,x=f<(M|$|q),_=u==q&&o==E||u==q&&o==J&&e[7].length<=t[8]||u==(q|J)&&t[7].length<=t[8]&&o==E;if(!(x||_))return e;u&M&&(e[2]=t[2],f|=o&M?0:A);var b=t[3];if(b){var P=e[3];e[3]=P?oc(P,b,t[4]):b,e[4]=P?An(e[3],v):t[4]}return b=t[5],b&&(P=e[5],e[5]=P?ac(P,b,t[6]):b,e[6]=P?An(e[5],v):t[6]),b=t[7],b&&(e[7]=b),u&q&&(e[8]=e[8]==null?t[8]:gt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=f,e}function cg(e){var t=[];if(e!=null)for(var o in Ue(e))t.push(o);return t}function ug(e){return bs.call(e)}function Cc(e,t,o){return t=ot(t===n?e.length-1:t,0),function(){for(var u=arguments,f=-1,x=ot(u.length-t,0),_=O(x);++f<x;)_[f]=u[t+f];f=-1;for(var b=O(t+1);++f<t;)b[f]=u[f];return b[t]=o(_),Ot(e,this,b)}}function Rc(e,t){return t.length<2?e:Jn(e,Kt(t,0,-1))}function dg(e,t){for(var o=e.length,u=gt(t.length,o),f=Pt(e);u--;){var x=t[u];e[u]=bn(x,o)?f[x]:n}return e}function Io(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Pc=kc(Jl),Kr=Rh||function(e,t){return ut.setTimeout(e,t)},Eo=kc(Lp);function Tc(e,t,o){var u=t+"";return Eo(e,ng(u,fg(Qp(u),o)))}function kc(e){var t=0,o=0;return function(){var u=Ih(),f=Z-(u-o);if(o=u,f>0){if(++t>=oe)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Gs(e,t){var o=-1,u=e.length,f=u-1;for(t=t===n?u:t;++o<t;){var x=ho(o,f),_=e[x];e[x]=e[o],e[o]=_}return e.length=t,e}var Ic=ag(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ef,function(o,u,f,x){t.push(f?x.replace(cf,"$1"):u||o)}),t});function fn(e){if(typeof e=="string"||Dt(e))return e;var t=e+"";return t=="0"&&1/e==-be?"-0":t}function Zn(e){if(e!=null){try{return Ss.call(e)}catch{}try{return e+""}catch{}}return""}function fg(e,t){return Bt(Xe,function(o){var u="_."+o[0];t&o[1]&&!xs(e,u)&&e.push(u)}),e.sort()}function Ec(e){if(e instanceof Oe)return e.clone();var t=new Ht(e.__wrapped__,e.__chain__);return t.__actions__=Pt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function hg(e,t,o){(o?bt(e,t,o):t===n)?t=1:t=ot(Pe(t),0);var u=e==null?0:e.length;if(!u||t<1)return[];for(var f=0,x=0,_=O(ks(u/t));f<u;)_[x++]=Kt(e,f,f+=t);return _}function pg(e){for(var t=-1,o=e==null?0:e.length,u=0,f=[];++t<o;){var x=e[t];x&&(f[u++]=x)}return f}function gg(){var e=arguments.length;if(!e)return[];for(var t=O(e-1),o=arguments[0],u=e;u--;)t[u-1]=arguments[u];return On(Re(o)?Pt(o):[o],dt(t,1))}var mg=Ie(function(e,t){return tt(e)?Fr(e,dt(t,1,tt,!0)):[]}),xg=Ie(function(e,t){var o=Gt(t);return tt(o)&&(o=n),tt(e)?Fr(e,dt(t,1,tt,!0),ge(o,2)):[]}),yg=Ie(function(e,t){var o=Gt(t);return tt(o)&&(o=n),tt(e)?Fr(e,dt(t,1,tt,!0),n,o):[]});function vg(e,t,o){var u=e==null?0:e.length;return u?(t=o||t===n?1:Pe(t),Kt(e,t<0?0:t,u)):[]}function _g(e,t,o){var u=e==null?0:e.length;return u?(t=o||t===n?1:Pe(t),t=u-t,Kt(e,0,t<0?0:t)):[]}function wg(e,t){return e&&e.length?Ns(e,ge(t,3),!0,!0):[]}function Sg(e,t){return e&&e.length?Ns(e,ge(t,3),!0):[]}function bg(e,t,o,u){var f=e==null?0:e.length;return f?(o&&typeof o!="number"&&bt(e,t,o)&&(o=0,u=f),gp(e,t,o,u)):[]}function Oc(e,t,o){var u=e==null?0:e.length;if(!u)return-1;var f=o==null?0:Pe(o);return f<0&&(f=ot(u+f,0)),ys(e,ge(t,3),f)}function Ac(e,t,o){var u=e==null?0:e.length;if(!u)return-1;var f=u-1;return o!==n&&(f=Pe(o),f=o<0?ot(u+f,0):gt(f,u-1)),ys(e,ge(t,3),f,!0)}function Lc(e){var t=e==null?0:e.length;return t?dt(e,1):[]}function jg(e){var t=e==null?0:e.length;return t?dt(e,be):[]}function Cg(e,t){var o=e==null?0:e.length;return o?(t=t===n?1:Pe(t),dt(e,t)):[]}function Rg(e){for(var t=-1,o=e==null?0:e.length,u={};++t<o;){var f=e[t];u[f[0]]=f[1]}return u}function Dc(e){return e&&e.length?e[0]:n}function Pg(e,t,o){var u=e==null?0:e.length;if(!u)return-1;var f=o==null?0:Pe(o);return f<0&&(f=ot(u+f,0)),lr(e,t,f)}function Tg(e){var t=e==null?0:e.length;return t?Kt(e,0,-1):[]}var kg=Ie(function(e){var t=Ke(e,yo);return t.length&&t[0]===e[0]?ao(t):[]}),Ig=Ie(function(e){var t=Gt(e),o=Ke(e,yo);return t===Gt(o)?t=n:o.pop(),o.length&&o[0]===e[0]?ao(o,ge(t,2)):[]}),Eg=Ie(function(e){var t=Gt(e),o=Ke(e,yo);return t=typeof t=="function"?t:n,t&&o.pop(),o.length&&o[0]===e[0]?ao(o,n,t):[]});function Og(e,t){return e==null?"":Th.call(e,t)}function Gt(e){var t=e==null?0:e.length;return t?e[t-1]:n}function Ag(e,t,o){var u=e==null?0:e.length;if(!u)return-1;var f=u;return o!==n&&(f=Pe(o),f=f<0?ot(u+f,0):gt(f,u-1)),t===t?fh(e,t,f):ys(e,gl,f,!0)}function Lg(e,t){return e&&e.length?Kl(e,Pe(t)):n}var Dg=Ie(zc);function zc(e,t){return e&&e.length&&t&&t.length?fo(e,t):e}function zg(e,t,o){return e&&e.length&&t&&t.length?fo(e,t,ge(o,2)):e}function Mg(e,t,o){return e&&e.length&&t&&t.length?fo(e,t,n,o):e}var $g=Sn(function(e,t){var o=e==null?0:e.length,u=ro(e,t);return Yl(e,Ke(t,function(f){return bn(f,o)?+f:f}).sort(ic)),u});function Ng(e,t){var o=[];if(!(e&&e.length))return o;var u=-1,f=[],x=e.length;for(t=ge(t,3);++u<x;){var _=e[u];t(_,u,e)&&(o.push(_),f.push(u))}return Yl(e,f),o}function Oo(e){return e==null?e:Oh.call(e)}function Fg(e,t,o){var u=e==null?0:e.length;return u?(o&&typeof o!="number"&&bt(e,t,o)?(t=0,o=u):(t=t==null?0:Pe(t),o=o===n?u:Pe(o)),Kt(e,t,o)):[]}function Ug(e,t){return $s(e,t)}function Bg(e,t,o){return go(e,t,ge(o,2))}function Wg(e,t){var o=e==null?0:e.length;if(o){var u=$s(e,t);if(u<o&&tn(e[u],t))return u}return-1}function Hg(e,t){return $s(e,t,!0)}function Vg(e,t,o){return go(e,t,ge(o,2),!0)}function Kg(e,t){var o=e==null?0:e.length;if(o){var u=$s(e,t,!0)-1;if(tn(e[u],t))return u}return-1}function Gg(e){return e&&e.length?Xl(e):[]}function qg(e,t){return e&&e.length?Xl(e,ge(t,2)):[]}function Yg(e){var t=e==null?0:e.length;return t?Kt(e,1,t):[]}function Jg(e,t,o){return e&&e.length?(t=o||t===n?1:Pe(t),Kt(e,0,t<0?0:t)):[]}function Xg(e,t,o){var u=e==null?0:e.length;return u?(t=o||t===n?1:Pe(t),t=u-t,Kt(e,t<0?0:t,u)):[]}function Zg(e,t){return e&&e.length?Ns(e,ge(t,3),!1,!0):[]}function Qg(e,t){return e&&e.length?Ns(e,ge(t,3)):[]}var em=Ie(function(e){return zn(dt(e,1,tt,!0))}),tm=Ie(function(e){var t=Gt(e);return tt(t)&&(t=n),zn(dt(e,1,tt,!0),ge(t,2))}),nm=Ie(function(e){var t=Gt(e);return t=typeof t=="function"?t:n,zn(dt(e,1,tt,!0),n,t)});function rm(e){return e&&e.length?zn(e):[]}function sm(e,t){return e&&e.length?zn(e,ge(t,2)):[]}function im(e,t){return t=typeof t=="function"?t:n,e&&e.length?zn(e,n,t):[]}function Ao(e){if(!(e&&e.length))return[];var t=0;return e=En(e,function(o){if(tt(o))return t=ot(o.length,t),!0}),Yi(t,function(o){return Ke(e,Ki(o))})}function Mc(e,t){if(!(e&&e.length))return[];var o=Ao(e);return t==null?o:Ke(o,function(u){return Ot(t,n,u)})}var om=Ie(function(e,t){return tt(e)?Fr(e,t):[]}),am=Ie(function(e){return xo(En(e,tt))}),lm=Ie(function(e){var t=Gt(e);return tt(t)&&(t=n),xo(En(e,tt),ge(t,2))}),cm=Ie(function(e){var t=Gt(e);return t=typeof t=="function"?t:n,xo(En(e,tt),n,t)}),um=Ie(Ao);function dm(e,t){return tc(e||[],t||[],Nr)}function fm(e,t){return tc(e||[],t||[],Wr)}var hm=Ie(function(e){var t=e.length,o=t>1?e[t-1]:n;return o=typeof o=="function"?(e.pop(),o):n,Mc(e,o)});function $c(e){var t=p(e);return t.__chain__=!0,t}function pm(e,t){return t(e),e}function qs(e,t){return t(e)}var gm=Sn(function(e){var t=e.length,o=t?e[0]:0,u=this.__wrapped__,f=function(x){return ro(x,e)};return t>1||this.__actions__.length||!(u instanceof Oe)||!bn(o)?this.thru(f):(u=u.slice(o,+o+(t?1:0)),u.__actions__.push({func:qs,args:[f],thisArg:n}),new Ht(u,this.__chain__).thru(function(x){return t&&!x.length&&x.push(n),x}))});function mm(){return $c(this)}function xm(){return new Ht(this.value(),this.__chain__)}function ym(){this.__values__===n&&(this.__values__=Zc(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}}function vm(){return this}function _m(e){for(var t,o=this;o instanceof As;){var u=Ec(o);u.__index__=0,u.__values__=n,t?f.__wrapped__=u:t=u;var f=u;o=o.__wrapped__}return f.__wrapped__=e,t}function wm(){var e=this.__wrapped__;if(e instanceof Oe){var t=e;return this.__actions__.length&&(t=new Oe(this)),t=t.reverse(),t.__actions__.push({func:qs,args:[Oo],thisArg:n}),new Ht(t,this.__chain__)}return this.thru(Oo)}function Sm(){return ec(this.__wrapped__,this.__actions__)}var bm=Fs(function(e,t,o){Ne.call(e,o)?++e[o]:_n(e,o,1)});function jm(e,t,o){var u=Re(e)?hl:pp;return o&&bt(e,t,o)&&(t=n),u(e,ge(t,3))}function Cm(e,t){var o=Re(e)?En:Ml;return o(e,ge(t,3))}var Rm=dc(Oc),Pm=dc(Ac);function Tm(e,t){return dt(Ys(e,t),1)}function km(e,t){return dt(Ys(e,t),be)}function Im(e,t,o){return o=o===n?1:Pe(o),dt(Ys(e,t),o)}function Nc(e,t){var o=Re(e)?Bt:Dn;return o(e,ge(t,3))}function Fc(e,t){var o=Re(e)?Yf:zl;return o(e,ge(t,3))}var Em=Fs(function(e,t,o){Ne.call(e,o)?e[o].push(t):_n(e,o,[t])});function Om(e,t,o,u){e=Tt(e)?e:_r(e),o=o&&!u?Pe(o):0;var f=e.length;return o<0&&(o=ot(f+o,0)),ei(e)?o<=f&&e.indexOf(t,o)>-1:!!f&&lr(e,t,o)>-1}var Am=Ie(function(e,t,o){var u=-1,f=typeof t=="function",x=Tt(e)?O(e.length):[];return Dn(e,function(_){x[++u]=f?Ot(t,_,o):Ur(_,t,o)}),x}),Lm=Fs(function(e,t,o){_n(e,o,t)});function Ys(e,t){var o=Re(e)?Ke:Wl;return o(e,ge(t,3))}function Dm(e,t,o,u){return e==null?[]:(Re(t)||(t=t==null?[]:[t]),o=u?n:o,Re(o)||(o=o==null?[]:[o]),Gl(e,t,o))}var zm=Fs(function(e,t,o){e[o?0:1].push(t)},function(){return[[],[]]});function Mm(e,t,o){var u=Re(e)?Hi:xl,f=arguments.length<3;return u(e,ge(t,4),o,f,Dn)}function $m(e,t,o){var u=Re(e)?Jf:xl,f=arguments.length<3;return u(e,ge(t,4),o,f,zl)}function Nm(e,t){var o=Re(e)?En:Ml;return o(e,Zs(ge(t,3)))}function Fm(e){var t=Re(e)?Ol:Op;return t(e)}function Um(e,t,o){(o?bt(e,t,o):t===n)?t=1:t=Pe(t);var u=Re(e)?cp:Ap;return u(e,t)}function Bm(e){var t=Re(e)?up:Dp;return t(e)}function Wm(e){if(e==null)return 0;if(Tt(e))return ei(e)?ur(e):e.length;var t=mt(e);return t==pt||t==We?e.size:co(e).length}function Hm(e,t,o){var u=Re(e)?Vi:zp;return o&&bt(e,t,o)&&(t=n),u(e,ge(t,3))}var Vm=Ie(function(e,t){if(e==null)return[];var o=t.length;return o>1&&bt(e,t[0],t[1])?t=[]:o>2&&bt(t[0],t[1],t[2])&&(t=[t[0]]),Gl(e,dt(t,1),[])}),Js=Ch||function(){return ut.Date.now()};function Km(e,t){if(typeof t!="function")throw new Wt(d);return e=Pe(e),function(){if(--e<1)return t.apply(this,arguments)}}function Uc(e,t,o){return t=o?n:t,t=e&&t==null?e.length:t,wn(e,q,n,n,n,n,t)}function Bc(e,t){var o;if(typeof t!="function")throw new Wt(d);return e=Pe(e),function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=n),o}}var Lo=Ie(function(e,t,o){var u=M;if(o.length){var f=An(o,yr(Lo));u|=T}return wn(e,u,t,o,f)}),Wc=Ie(function(e,t,o){var u=M|$;if(o.length){var f=An(o,yr(Wc));u|=T}return wn(t,u,e,o,f)});function Hc(e,t,o){t=o?n:t;var u=wn(e,E,n,n,n,n,n,t);return u.placeholder=Hc.placeholder,u}function Vc(e,t,o){t=o?n:t;var u=wn(e,w,n,n,n,n,n,t);return u.placeholder=Vc.placeholder,u}function Kc(e,t,o){var u,f,x,_,b,P,N=0,F=!1,B=!1,Q=!0;if(typeof e!="function")throw new Wt(d);t=qt(t)||0,Ye(o)&&(F=!!o.leading,B="maxWait"in o,x=B?ot(qt(o.maxWait)||0,t):x,Q="trailing"in o?!!o.trailing:Q);function ce(nt){var nn=u,Rn=f;return u=f=n,N=nt,_=e.apply(Rn,nn),_}function me(nt){return N=nt,b=Kr(Ee,t),F?ce(nt):_}function ke(nt){var nn=nt-P,Rn=nt-N,du=t-nn;return B?gt(du,x-Rn):du}function xe(nt){var nn=nt-P,Rn=nt-N;return P===n||nn>=t||nn<0||B&&Rn>=x}function Ee(){var nt=Js();if(xe(nt))return Le(nt);b=Kr(Ee,ke(nt))}function Le(nt){return b=n,Q&&u?ce(nt):(u=f=n,_)}function zt(){b!==n&&nc(b),N=0,u=P=f=b=n}function jt(){return b===n?_:Le(Js())}function Mt(){var nt=Js(),nn=xe(nt);if(u=arguments,f=this,P=nt,nn){if(b===n)return me(P);if(B)return nc(b),b=Kr(Ee,t),ce(P)}return b===n&&(b=Kr(Ee,t)),_}return Mt.cancel=zt,Mt.flush=jt,Mt}var Gm=Ie(function(e,t){return Dl(e,1,t)}),qm=Ie(function(e,t,o){return Dl(e,qt(t)||0,o)});function Ym(e){return wn(e,V)}function Xs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Wt(d);var o=function(){var u=arguments,f=t?t.apply(this,u):u[0],x=o.cache;if(x.has(f))return x.get(f);var _=e.apply(this,u);return o.cache=x.set(f,_)||x,_};return o.cache=new(Xs.Cache||vn),o}Xs.Cache=vn;function Zs(e){if(typeof e!="function")throw new Wt(d);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Jm(e){return Bc(2,e)}var Xm=Mp(function(e,t){t=t.length==1&&Re(t[0])?Ke(t[0],At(ge())):Ke(dt(t,1),At(ge()));var o=t.length;return Ie(function(u){for(var f=-1,x=gt(u.length,o);++f<x;)u[f]=t[f].call(this,u[f]);return Ot(e,this,u)})}),Do=Ie(function(e,t){var o=An(t,yr(Do));return wn(e,T,n,t,o)}),Gc=Ie(function(e,t){var o=An(t,yr(Gc));return wn(e,D,n,t,o)}),Zm=Sn(function(e,t){return wn(e,J,n,n,n,t)});function Qm(e,t){if(typeof e!="function")throw new Wt(d);return t=t===n?t:Pe(t),Ie(e,t)}function ex(e,t){if(typeof e!="function")throw new Wt(d);return t=t==null?0:ot(Pe(t),0),Ie(function(o){var u=o[t],f=$n(o,0,t);return u&&On(f,u),Ot(e,this,f)})}function tx(e,t,o){var u=!0,f=!0;if(typeof e!="function")throw new Wt(d);return Ye(o)&&(u="leading"in o?!!o.leading:u,f="trailing"in o?!!o.trailing:f),Kc(e,t,{leading:u,maxWait:t,trailing:f})}function nx(e){return Uc(e,1)}function rx(e,t){return Do(vo(t),e)}function sx(){if(!arguments.length)return[];var e=arguments[0];return Re(e)?e:[e]}function ix(e){return Vt(e,j)}function ox(e,t){return t=typeof t=="function"?t:n,Vt(e,j,t)}function ax(e){return Vt(e,y|j)}function lx(e,t){return t=typeof t=="function"?t:n,Vt(e,y|j,t)}function cx(e,t){return t==null||Ll(e,t,lt(t))}function tn(e,t){return e===t||e!==e&&t!==t}var ux=Hs(oo),dx=Hs(function(e,t){return e>=t}),Qn=Fl(function(){return arguments}())?Fl:function(e){return Qe(e)&&Ne.call(e,"callee")&&!Rl.call(e,"callee")},Re=O.isArray,fx=al?At(al):_p;function Tt(e){return e!=null&&Qs(e.length)&&!jn(e)}function tt(e){return Qe(e)&&Tt(e)}function hx(e){return e===!0||e===!1||Qe(e)&&St(e)==z}var Nn=Ph||Ko,px=ll?At(ll):wp;function gx(e){return Qe(e)&&e.nodeType===1&&!Gr(e)}function mx(e){if(e==null)return!0;if(Tt(e)&&(Re(e)||typeof e=="string"||typeof e.splice=="function"||Nn(e)||vr(e)||Qn(e)))return!e.length;var t=mt(e);if(t==pt||t==We)return!e.size;if(Vr(e))return!co(e).length;for(var o in e)if(Ne.call(e,o))return!1;return!0}function xx(e,t){return Br(e,t)}function yx(e,t,o){o=typeof o=="function"?o:n;var u=o?o(e,t):n;return u===n?Br(e,t,n,o):!!u}function zo(e){if(!Qe(e))return!1;var t=St(e);return t==ct||t==Ce||typeof e.message=="string"&&typeof e.name=="string"&&!Gr(e)}function vx(e){return typeof e=="number"&&Tl(e)}function jn(e){if(!Ye(e))return!1;var t=St(e);return t==_t||t==Zt||t==ze||t==rt}function qc(e){return typeof e=="number"&&e==Pe(e)}function Qs(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pe}function Ye(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Qe(e){return e!=null&&typeof e=="object"}var Yc=cl?At(cl):bp;function _x(e,t){return e===t||lo(e,t,Ro(t))}function wx(e,t,o){return o=typeof o=="function"?o:n,lo(e,t,Ro(t),o)}function Sx(e){return Jc(e)&&e!=+e}function bx(e){if(og(e))throw new je(c);return Ul(e)}function jx(e){return e===null}function Cx(e){return e==null}function Jc(e){return typeof e=="number"||Qe(e)&&St(e)==K}function Gr(e){if(!Qe(e)||St(e)!=ve)return!1;var t=Rs(e);if(t===null)return!0;var o=Ne.call(t,"constructor")&&t.constructor;return typeof o=="function"&&o instanceof o&&Ss.call(o)==wh}var Mo=ul?At(ul):jp;function Rx(e){return qc(e)&&e>=-pe&&e<=pe}var Xc=dl?At(dl):Cp;function ei(e){return typeof e=="string"||!Re(e)&&Qe(e)&&St(e)==De}function Dt(e){return typeof e=="symbol"||Qe(e)&&St(e)==Tn}var vr=fl?At(fl):Rp;function Px(e){return e===n}function Tx(e){return Qe(e)&&mt(e)==kn}function kx(e){return Qe(e)&&St(e)==hs}var Ix=Hs(uo),Ex=Hs(function(e,t){return e<=t});function Zc(e){if(!e)return[];if(Tt(e))return ei(e)?Qt(e):Pt(e);if(Lr&&e[Lr])return ch(e[Lr]());var t=mt(e),o=t==pt?Xi:t==We?vs:_r;return o(e)}function Cn(e){if(!e)return e===0?e:0;if(e=qt(e),e===be||e===-be){var t=e<0?-1:1;return t*G}return e===e?e:0}function Pe(e){var t=Cn(e),o=t%1;return t===t?o?t-o:t:0}function Qc(e){return e?Yn(Pe(e),0,ue):0}function qt(e){if(typeof e=="number")return e;if(Dt(e))return se;if(Ye(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ye(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=yl(e);var o=ff.test(e);return o||pf.test(e)?Kf(e.slice(2),o?2:8):df.test(e)?se:+e}function eu(e){return dn(e,kt(e))}function Ox(e){return e?Yn(Pe(e),-pe,pe):e===0?e:0}function $e(e){return e==null?"":Lt(e)}var Ax=mr(function(e,t){if(Vr(t)||Tt(t)){dn(t,lt(t),e);return}for(var o in t)Ne.call(t,o)&&Nr(e,o,t[o])}),tu=mr(function(e,t){dn(t,kt(t),e)}),ti=mr(function(e,t,o,u){dn(t,kt(t),e,u)}),Lx=mr(function(e,t,o,u){dn(t,lt(t),e,u)}),Dx=Sn(ro);function zx(e,t){var o=gr(e);return t==null?o:Al(o,t)}var Mx=Ie(function(e,t){e=Ue(e);var o=-1,u=t.length,f=u>2?t[2]:n;for(f&&bt(t[0],t[1],f)&&(u=1);++o<u;)for(var x=t[o],_=kt(x),b=-1,P=_.length;++b<P;){var N=_[b],F=e[N];(F===n||tn(F,fr[N])&&!Ne.call(e,N))&&(e[N]=x[N])}return e}),$x=Ie(function(e){return e.push(n,yc),Ot(nu,n,e)});function Nx(e,t){return pl(e,ge(t,3),un)}function Fx(e,t){return pl(e,ge(t,3),io)}function Ux(e,t){return e==null?e:so(e,ge(t,3),kt)}function Bx(e,t){return e==null?e:$l(e,ge(t,3),kt)}function Wx(e,t){return e&&un(e,ge(t,3))}function Hx(e,t){return e&&io(e,ge(t,3))}function Vx(e){return e==null?[]:zs(e,lt(e))}function Kx(e){return e==null?[]:zs(e,kt(e))}function $o(e,t,o){var u=e==null?n:Jn(e,t);return u===n?o:u}function Gx(e,t){return e!=null&&wc(e,t,mp)}function No(e,t){return e!=null&&wc(e,t,xp)}var qx=hc(function(e,t,o){t!=null&&typeof t.toString!="function"&&(t=bs.call(t)),e[t]=o},Uo(It)),Yx=hc(function(e,t,o){t!=null&&typeof t.toString!="function"&&(t=bs.call(t)),Ne.call(e,t)?e[t].push(o):e[t]=[o]},ge),Jx=Ie(Ur);function lt(e){return Tt(e)?El(e):co(e)}function kt(e){return Tt(e)?El(e,!0):Pp(e)}function Xx(e,t){var o={};return t=ge(t,3),un(e,function(u,f,x){_n(o,t(u,f,x),u)}),o}function Zx(e,t){var o={};return t=ge(t,3),un(e,function(u,f,x){_n(o,f,t(u,f,x))}),o}var Qx=mr(function(e,t,o){Ms(e,t,o)}),nu=mr(function(e,t,o,u){Ms(e,t,o,u)}),ey=Sn(function(e,t){var o={};if(e==null)return o;var u=!1;t=Ke(t,function(x){return x=Mn(x,e),u||(u=x.length>1),x}),dn(e,jo(e),o),u&&(o=Vt(o,y|k|j,qp));for(var f=t.length;f--;)mo(o,t[f]);return o});function ty(e,t){return ru(e,Zs(ge(t)))}var ny=Sn(function(e,t){return e==null?{}:kp(e,t)});function ru(e,t){if(e==null)return{};var o=Ke(jo(e),function(u){return[u]});return t=ge(t),ql(e,o,function(u,f){return t(u,f[0])})}function ry(e,t,o){t=Mn(t,e);var u=-1,f=t.length;for(f||(f=1,e=n);++u<f;){var x=e==null?n:e[fn(t[u])];x===n&&(u=f,x=o),e=jn(x)?x.call(e):x}return e}function sy(e,t,o){return e==null?e:Wr(e,t,o)}function iy(e,t,o,u){return u=typeof u=="function"?u:n,e==null?e:Wr(e,t,o,u)}var su=mc(lt),iu=mc(kt);function oy(e,t,o){var u=Re(e),f=u||Nn(e)||vr(e);if(t=ge(t,4),o==null){var x=e&&e.constructor;f?o=u?new x:[]:Ye(e)?o=jn(x)?gr(Rs(e)):{}:o={}}return(f?Bt:un)(e,function(_,b,P){return t(o,_,b,P)}),o}function ay(e,t){return e==null?!0:mo(e,t)}function ly(e,t,o){return e==null?e:Ql(e,t,vo(o))}function cy(e,t,o,u){return u=typeof u=="function"?u:n,e==null?e:Ql(e,t,vo(o),u)}function _r(e){return e==null?[]:Ji(e,lt(e))}function uy(e){return e==null?[]:Ji(e,kt(e))}function dy(e,t,o){return o===n&&(o=t,t=n),o!==n&&(o=qt(o),o=o===o?o:0),t!==n&&(t=qt(t),t=t===t?t:0),Yn(qt(e),t,o)}function fy(e,t,o){return t=Cn(t),o===n?(o=t,t=0):o=Cn(o),e=qt(e),yp(e,t,o)}function hy(e,t,o){if(o&&typeof o!="boolean"&&bt(e,t,o)&&(t=o=n),o===n&&(typeof t=="boolean"?(o=t,t=n):typeof e=="boolean"&&(o=e,e=n)),e===n&&t===n?(e=0,t=1):(e=Cn(e),t===n?(t=e,e=0):t=Cn(t)),e>t){var u=e;e=t,t=u}if(o||e%1||t%1){var f=kl();return gt(e+f*(t-e+Vf("1e-"+((f+"").length-1))),t)}return ho(e,t)}var py=xr(function(e,t,o){return t=t.toLowerCase(),e+(o?ou(t):t)});function ou(e){return Fo($e(e).toLowerCase())}function au(e){return e=$e(e),e&&e.replace(mf,sh).replace(Df,"")}function gy(e,t,o){e=$e(e),t=Lt(t);var u=e.length;o=o===n?u:Yn(Pe(o),0,u);var f=o;return o-=t.length,o>=0&&e.slice(o,f)==t}function my(e){return e=$e(e),e&&Yd.test(e)?e.replace($a,ih):e}function xy(e){return e=$e(e),e&&tf.test(e)?e.replace(Li,"\\$&"):e}var yy=xr(function(e,t,o){return e+(o?"-":"")+t.toLowerCase()}),vy=xr(function(e,t,o){return e+(o?" ":"")+t.toLowerCase()}),_y=uc("toLowerCase");function wy(e,t,o){e=$e(e),t=Pe(t);var u=t?ur(e):0;if(!t||u>=t)return e;var f=(t-u)/2;return Ws(Is(f),o)+e+Ws(ks(f),o)}function Sy(e,t,o){e=$e(e),t=Pe(t);var u=t?ur(e):0;return t&&u<t?e+Ws(t-u,o):e}function by(e,t,o){e=$e(e),t=Pe(t);var u=t?ur(e):0;return t&&u<t?Ws(t-u,o)+e:e}function jy(e,t,o){return o||t==null?t=0:t&&(t=+t),Eh($e(e).replace(Di,""),t||0)}function Cy(e,t,o){return(o?bt(e,t,o):t===n)?t=1:t=Pe(t),po($e(e),t)}function Ry(){var e=arguments,t=$e(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Py=xr(function(e,t,o){return e+(o?"_":"")+t.toLowerCase()});function Ty(e,t,o){return o&&typeof o!="number"&&bt(e,t,o)&&(t=o=n),o=o===n?ue:o>>>0,o?(e=$e(e),e&&(typeof t=="string"||t!=null&&!Mo(t))&&(t=Lt(t),!t&&cr(e))?$n(Qt(e),0,o):e.split(t,o)):[]}var ky=xr(function(e,t,o){return e+(o?" ":"")+Fo(t)});function Iy(e,t,o){return e=$e(e),o=o==null?0:Yn(Pe(o),0,e.length),t=Lt(t),e.slice(o,o+t.length)==t}function Ey(e,t,o){var u=p.templateSettings;o&&bt(e,t,o)&&(t=n),e=$e(e),t=ti({},t,u,xc);var f=ti({},t.imports,u.imports,xc),x=lt(f),_=Ji(f,x),b,P,N=0,F=t.interpolate||ps,B="__p += '",Q=Zi((t.escape||ps).source+"|"+F.source+"|"+(F===Na?uf:ps).source+"|"+(t.evaluate||ps).source+"|$","g"),ce="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ff+"]")+`
`;e.replace(Q,function(xe,Ee,Le,zt,jt,Mt){return Le||(Le=zt),B+=e.slice(N,Mt).replace(xf,oh),Ee&&(b=!0,B+=`' +
__e(`+Ee+`) +
'`),jt&&(P=!0,B+=`';
`+jt+`;
__p += '`),Le&&(B+=`' +
((__t = (`+Le+`)) == null ? '' : __t) +
'`),N=Mt+xe.length,xe}),B+=`';
`;var me=Ne.call(t,"variable")&&t.variable;if(!me)B=`with (obj) {
`+B+`
}
`;else if(lf.test(me))throw new je(h);B=(P?B.replace(Vd,""):B).replace(Kd,"$1").replace(Gd,"$1;"),B="function("+(me||"obj")+`) {
`+(me?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+B+`return __p
}`;var ke=cu(function(){return Me(x,ce+"return "+B).apply(n,_)});if(ke.source=B,zo(ke))throw ke;return ke}function Oy(e){return $e(e).toLowerCase()}function Ay(e){return $e(e).toUpperCase()}function Ly(e,t,o){if(e=$e(e),e&&(o||t===n))return yl(e);if(!e||!(t=Lt(t)))return e;var u=Qt(e),f=Qt(t),x=vl(u,f),_=_l(u,f)+1;return $n(u,x,_).join("")}function Dy(e,t,o){if(e=$e(e),e&&(o||t===n))return e.slice(0,Sl(e)+1);if(!e||!(t=Lt(t)))return e;var u=Qt(e),f=_l(u,Qt(t))+1;return $n(u,0,f).join("")}function zy(e,t,o){if(e=$e(e),e&&(o||t===n))return e.replace(Di,"");if(!e||!(t=Lt(t)))return e;var u=Qt(e),f=vl(u,Qt(t));return $n(u,f).join("")}function My(e,t){var o=H,u=ee;if(Ye(t)){var f="separator"in t?t.separator:f;o="length"in t?Pe(t.length):o,u="omission"in t?Lt(t.omission):u}e=$e(e);var x=e.length;if(cr(e)){var _=Qt(e);x=_.length}if(o>=x)return e;var b=o-ur(u);if(b<1)return u;var P=_?$n(_,0,b).join(""):e.slice(0,b);if(f===n)return P+u;if(_&&(b+=P.length-b),Mo(f)){if(e.slice(b).search(f)){var N,F=P;for(f.global||(f=Zi(f.source,$e(Fa.exec(f))+"g")),f.lastIndex=0;N=f.exec(F);)var B=N.index;P=P.slice(0,B===n?b:B)}}else if(e.indexOf(Lt(f),b)!=b){var Q=P.lastIndexOf(f);Q>-1&&(P=P.slice(0,Q))}return P+u}function $y(e){return e=$e(e),e&&qd.test(e)?e.replace(Ma,hh):e}var Ny=xr(function(e,t,o){return e+(o?" ":"")+t.toUpperCase()}),Fo=uc("toUpperCase");function lu(e,t,o){return e=$e(e),t=o?n:t,t===n?lh(e)?mh(e):Qf(e):e.match(t)||[]}var cu=Ie(function(e,t){try{return Ot(e,n,t)}catch(o){return zo(o)?o:new je(o)}}),Fy=Sn(function(e,t){return Bt(t,function(o){o=fn(o),_n(e,o,Lo(e[o],e))}),e});function Uy(e){var t=e==null?0:e.length,o=ge();return e=t?Ke(e,function(u){if(typeof u[1]!="function")throw new Wt(d);return[o(u[0]),u[1]]}):[],Ie(function(u){for(var f=-1;++f<t;){var x=e[f];if(Ot(x[0],this,u))return Ot(x[1],this,u)}})}function By(e){return hp(Vt(e,y))}function Uo(e){return function(){return e}}function Wy(e,t){return e==null||e!==e?t:e}var Hy=fc(),Vy=fc(!0);function It(e){return e}function Bo(e){return Bl(typeof e=="function"?e:Vt(e,y))}function Ky(e){return Hl(Vt(e,y))}function Gy(e,t){return Vl(e,Vt(t,y))}var qy=Ie(function(e,t){return function(o){return Ur(o,e,t)}}),Yy=Ie(function(e,t){return function(o){return Ur(e,o,t)}});function Wo(e,t,o){var u=lt(t),f=zs(t,u);o==null&&!(Ye(t)&&(f.length||!u.length))&&(o=t,t=e,e=this,f=zs(t,lt(t)));var x=!(Ye(o)&&"chain"in o)||!!o.chain,_=jn(e);return Bt(f,function(b){var P=t[b];e[b]=P,_&&(e.prototype[b]=function(){var N=this.__chain__;if(x||N){var F=e(this.__wrapped__),B=F.__actions__=Pt(this.__actions__);return B.push({func:P,args:arguments,thisArg:e}),F.__chain__=N,F}return P.apply(e,On([this.value()],arguments))})}),e}function Jy(){return ut._===this&&(ut._=Sh),this}function Ho(){}function Xy(e){return e=Pe(e),Ie(function(t){return Kl(t,e)})}var Zy=wo(Ke),Qy=wo(hl),ev=wo(Vi);function uu(e){return To(e)?Ki(fn(e)):Ip(e)}function tv(e){return function(t){return e==null?n:Jn(e,t)}}var nv=pc(),rv=pc(!0);function Vo(){return[]}function Ko(){return!1}function sv(){return{}}function iv(){return""}function ov(){return!0}function av(e,t){if(e=Pe(e),e<1||e>pe)return[];var o=ue,u=gt(e,ue);t=ge(t),e-=ue;for(var f=Yi(u,t);++o<e;)t(o);return f}function lv(e){return Re(e)?Ke(e,fn):Dt(e)?[e]:Pt(Ic($e(e)))}function cv(e){var t=++_h;return $e(e)+t}var uv=Bs(function(e,t){return e+t},0),dv=So("ceil"),fv=Bs(function(e,t){return e/t},1),hv=So("floor");function pv(e){return e&&e.length?Ds(e,It,oo):n}function gv(e,t){return e&&e.length?Ds(e,ge(t,2),oo):n}function mv(e){return ml(e,It)}function xv(e,t){return ml(e,ge(t,2))}function yv(e){return e&&e.length?Ds(e,It,uo):n}function vv(e,t){return e&&e.length?Ds(e,ge(t,2),uo):n}var _v=Bs(function(e,t){return e*t},1),wv=So("round"),Sv=Bs(function(e,t){return e-t},0);function bv(e){return e&&e.length?qi(e,It):0}function jv(e,t){return e&&e.length?qi(e,ge(t,2)):0}return p.after=Km,p.ary=Uc,p.assign=Ax,p.assignIn=tu,p.assignInWith=ti,p.assignWith=Lx,p.at=Dx,p.before=Bc,p.bind=Lo,p.bindAll=Fy,p.bindKey=Wc,p.castArray=sx,p.chain=$c,p.chunk=hg,p.compact=pg,p.concat=gg,p.cond=Uy,p.conforms=By,p.constant=Uo,p.countBy=bm,p.create=zx,p.curry=Hc,p.curryRight=Vc,p.debounce=Kc,p.defaults=Mx,p.defaultsDeep=$x,p.defer=Gm,p.delay=qm,p.difference=mg,p.differenceBy=xg,p.differenceWith=yg,p.drop=vg,p.dropRight=_g,p.dropRightWhile=wg,p.dropWhile=Sg,p.fill=bg,p.filter=Cm,p.flatMap=Tm,p.flatMapDeep=km,p.flatMapDepth=Im,p.flatten=Lc,p.flattenDeep=jg,p.flattenDepth=Cg,p.flip=Ym,p.flow=Hy,p.flowRight=Vy,p.fromPairs=Rg,p.functions=Vx,p.functionsIn=Kx,p.groupBy=Em,p.initial=Tg,p.intersection=kg,p.intersectionBy=Ig,p.intersectionWith=Eg,p.invert=qx,p.invertBy=Yx,p.invokeMap=Am,p.iteratee=Bo,p.keyBy=Lm,p.keys=lt,p.keysIn=kt,p.map=Ys,p.mapKeys=Xx,p.mapValues=Zx,p.matches=Ky,p.matchesProperty=Gy,p.memoize=Xs,p.merge=Qx,p.mergeWith=nu,p.method=qy,p.methodOf=Yy,p.mixin=Wo,p.negate=Zs,p.nthArg=Xy,p.omit=ey,p.omitBy=ty,p.once=Jm,p.orderBy=Dm,p.over=Zy,p.overArgs=Xm,p.overEvery=Qy,p.overSome=ev,p.partial=Do,p.partialRight=Gc,p.partition=zm,p.pick=ny,p.pickBy=ru,p.property=uu,p.propertyOf=tv,p.pull=Dg,p.pullAll=zc,p.pullAllBy=zg,p.pullAllWith=Mg,p.pullAt=$g,p.range=nv,p.rangeRight=rv,p.rearg=Zm,p.reject=Nm,p.remove=Ng,p.rest=Qm,p.reverse=Oo,p.sampleSize=Um,p.set=sy,p.setWith=iy,p.shuffle=Bm,p.slice=Fg,p.sortBy=Vm,p.sortedUniq=Gg,p.sortedUniqBy=qg,p.split=Ty,p.spread=ex,p.tail=Yg,p.take=Jg,p.takeRight=Xg,p.takeRightWhile=Zg,p.takeWhile=Qg,p.tap=pm,p.throttle=tx,p.thru=qs,p.toArray=Zc,p.toPairs=su,p.toPairsIn=iu,p.toPath=lv,p.toPlainObject=eu,p.transform=oy,p.unary=nx,p.union=em,p.unionBy=tm,p.unionWith=nm,p.uniq=rm,p.uniqBy=sm,p.uniqWith=im,p.unset=ay,p.unzip=Ao,p.unzipWith=Mc,p.update=ly,p.updateWith=cy,p.values=_r,p.valuesIn=uy,p.without=om,p.words=lu,p.wrap=rx,p.xor=am,p.xorBy=lm,p.xorWith=cm,p.zip=um,p.zipObject=dm,p.zipObjectDeep=fm,p.zipWith=hm,p.entries=su,p.entriesIn=iu,p.extend=tu,p.extendWith=ti,Wo(p,p),p.add=uv,p.attempt=cu,p.camelCase=py,p.capitalize=ou,p.ceil=dv,p.clamp=dy,p.clone=ix,p.cloneDeep=ax,p.cloneDeepWith=lx,p.cloneWith=ox,p.conformsTo=cx,p.deburr=au,p.defaultTo=Wy,p.divide=fv,p.endsWith=gy,p.eq=tn,p.escape=my,p.escapeRegExp=xy,p.every=jm,p.find=Rm,p.findIndex=Oc,p.findKey=Nx,p.findLast=Pm,p.findLastIndex=Ac,p.findLastKey=Fx,p.floor=hv,p.forEach=Nc,p.forEachRight=Fc,p.forIn=Ux,p.forInRight=Bx,p.forOwn=Wx,p.forOwnRight=Hx,p.get=$o,p.gt=ux,p.gte=dx,p.has=Gx,p.hasIn=No,p.head=Dc,p.identity=It,p.includes=Om,p.indexOf=Pg,p.inRange=fy,p.invoke=Jx,p.isArguments=Qn,p.isArray=Re,p.isArrayBuffer=fx,p.isArrayLike=Tt,p.isArrayLikeObject=tt,p.isBoolean=hx,p.isBuffer=Nn,p.isDate=px,p.isElement=gx,p.isEmpty=mx,p.isEqual=xx,p.isEqualWith=yx,p.isError=zo,p.isFinite=vx,p.isFunction=jn,p.isInteger=qc,p.isLength=Qs,p.isMap=Yc,p.isMatch=_x,p.isMatchWith=wx,p.isNaN=Sx,p.isNative=bx,p.isNil=Cx,p.isNull=jx,p.isNumber=Jc,p.isObject=Ye,p.isObjectLike=Qe,p.isPlainObject=Gr,p.isRegExp=Mo,p.isSafeInteger=Rx,p.isSet=Xc,p.isString=ei,p.isSymbol=Dt,p.isTypedArray=vr,p.isUndefined=Px,p.isWeakMap=Tx,p.isWeakSet=kx,p.join=Og,p.kebabCase=yy,p.last=Gt,p.lastIndexOf=Ag,p.lowerCase=vy,p.lowerFirst=_y,p.lt=Ix,p.lte=Ex,p.max=pv,p.maxBy=gv,p.mean=mv,p.meanBy=xv,p.min=yv,p.minBy=vv,p.stubArray=Vo,p.stubFalse=Ko,p.stubObject=sv,p.stubString=iv,p.stubTrue=ov,p.multiply=_v,p.nth=Lg,p.noConflict=Jy,p.noop=Ho,p.now=Js,p.pad=wy,p.padEnd=Sy,p.padStart=by,p.parseInt=jy,p.random=hy,p.reduce=Mm,p.reduceRight=$m,p.repeat=Cy,p.replace=Ry,p.result=ry,p.round=wv,p.runInContext=R,p.sample=Fm,p.size=Wm,p.snakeCase=Py,p.some=Hm,p.sortedIndex=Ug,p.sortedIndexBy=Bg,p.sortedIndexOf=Wg,p.sortedLastIndex=Hg,p.sortedLastIndexBy=Vg,p.sortedLastIndexOf=Kg,p.startCase=ky,p.startsWith=Iy,p.subtract=Sv,p.sum=bv,p.sumBy=jv,p.template=Ey,p.times=av,p.toFinite=Cn,p.toInteger=Pe,p.toLength=Qc,p.toLower=Oy,p.toNumber=qt,p.toSafeInteger=Ox,p.toString=$e,p.toUpper=Ay,p.trim=Ly,p.trimEnd=Dy,p.trimStart=zy,p.truncate=My,p.unescape=$y,p.uniqueId=cv,p.upperCase=Ny,p.upperFirst=Fo,p.each=Nc,p.eachRight=Fc,p.first=Dc,Wo(p,function(){var e={};return un(p,function(t,o){Ne.call(p.prototype,o)||(e[o]=t)}),e}(),{chain:!1}),p.VERSION=a,Bt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),Bt(["drop","take"],function(e,t){Oe.prototype[e]=function(o){o=o===n?1:ot(Pe(o),0);var u=this.__filtered__&&!t?new Oe(this):this.clone();return u.__filtered__?u.__takeCount__=gt(o,u.__takeCount__):u.__views__.push({size:gt(o,ue),type:e+(u.__dir__<0?"Right":"")}),u},Oe.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),Bt(["filter","map","takeWhile"],function(e,t){var o=t+1,u=o==ne||o==he;Oe.prototype[e]=function(f){var x=this.clone();return x.__iteratees__.push({iteratee:ge(f,3),type:o}),x.__filtered__=x.__filtered__||u,x}}),Bt(["head","last"],function(e,t){var o="take"+(t?"Right":"");Oe.prototype[e]=function(){return this[o](1).value()[0]}}),Bt(["initial","tail"],function(e,t){var o="drop"+(t?"":"Right");Oe.prototype[e]=function(){return this.__filtered__?new Oe(this):this[o](1)}}),Oe.prototype.compact=function(){return this.filter(It)},Oe.prototype.find=function(e){return this.filter(e).head()},Oe.prototype.findLast=function(e){return this.reverse().find(e)},Oe.prototype.invokeMap=Ie(function(e,t){return typeof e=="function"?new Oe(this):this.map(function(o){return Ur(o,e,t)})}),Oe.prototype.reject=function(e){return this.filter(Zs(ge(e)))},Oe.prototype.slice=function(e,t){e=Pe(e);var o=this;return o.__filtered__&&(e>0||t<0)?new Oe(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),t!==n&&(t=Pe(t),o=t<0?o.dropRight(-t):o.take(t-e)),o)},Oe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Oe.prototype.toArray=function(){return this.take(ue)},un(Oe.prototype,function(e,t){var o=/^(?:filter|find|map|reject)|While$/.test(t),u=/^(?:head|last)$/.test(t),f=p[u?"take"+(t=="last"?"Right":""):t],x=u||/^find/.test(t);f&&(p.prototype[t]=function(){var _=this.__wrapped__,b=u?[1]:arguments,P=_ instanceof Oe,N=b[0],F=P||Re(_),B=function(Ee){var Le=f.apply(p,On([Ee],b));return u&&Q?Le[0]:Le};F&&o&&typeof N=="function"&&N.length!=1&&(P=F=!1);var Q=this.__chain__,ce=!!this.__actions__.length,me=x&&!Q,ke=P&&!ce;if(!x&&F){_=ke?_:new Oe(this);var xe=e.apply(_,b);return xe.__actions__.push({func:qs,args:[B],thisArg:n}),new Ht(xe,Q)}return me&&ke?e.apply(this,b):(xe=this.thru(B),me?u?xe.value()[0]:xe.value():xe)})}),Bt(["pop","push","shift","sort","splice","unshift"],function(e){var t=_s[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var f=arguments;if(u&&!this.__chain__){var x=this.value();return t.apply(Re(x)?x:[],f)}return this[o](function(_){return t.apply(Re(_)?_:[],f)})}}),un(Oe.prototype,function(e,t){var o=p[t];if(o){var u=o.name+"";Ne.call(pr,u)||(pr[u]=[]),pr[u].push({name:t,func:o})}}),pr[Us(n,$).name]=[{name:"wrapper",func:n}],Oe.prototype.clone=$h,Oe.prototype.reverse=Nh,Oe.prototype.value=Fh,p.prototype.at=gm,p.prototype.chain=mm,p.prototype.commit=xm,p.prototype.next=ym,p.prototype.plant=_m,p.prototype.reverse=wm,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=Sm,p.prototype.first=p.prototype.head,Lr&&(p.prototype[Lr]=vm),p},dr=xh();Vn?((Vn.exports=dr)._=dr,Ui._=dr):ut._=dr}).call(Cr)})(ci,ci.exports);var ku=ci.exports;const Iu=(s,r)=>{const n=Math.round(s/100)*100,a=Math.round(r/100)*100;return`${n}x${a}`};function T0(s,r){const[n,a]=S.useState(r),[l,c]=S.useState({width:window.innerWidth,height:window.innerHeight});S.useEffect(()=>{d()},[l,s]),S.useEffect(()=>{const v=ku.debounce(()=>{c({width:window.innerWidth,height:window.innerHeight})},300);return window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v),v.cancel()}},[]);const d=async()=>{try{const v=Iu(l.width,l.height),y=await fetch(`/api/config/column-widths?table=${s}&size=${v}`);if(y.ok){const k=await y.json();k.widths&&a({...r,...k.widths})}}catch(v){console.warn("Failed to load column width preferences:",v)}},h=S.useCallback(ku.debounce(async v=>{try{const y=Iu(l.width,l.height);await fetch("/api/config/column-widths",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({table:s,size:y,widths:v,window_width:l.width,window_height:l.height})})}catch(y){console.warn("Failed to save column width preferences:",y)}},1e3),[s,l]),g=S.useCallback((v,y)=>{a(k=>{const j={...k,[v]:y};return h(j),j})},[h]),m=S.useCallback(()=>{a(r),h(r)},[r,h]);return{columnWidths:n,setColumnWidth:g,resetWidths:m}}const rn=s=>{if(s==null)return"";const r=String(s);return r.includes(",")||r.includes('"')||r.includes(`
`)?`"${r.replace(/"/g,'""')}"`:r},k0=()=>{const{t:s,i18n:r}=qe(),n=cs(),{settings:a,setSettings:l}=yi(),[c,d]=S.useState([]),[h,g]=S.useState(!1),[m,v]=S.useState([]),[y,k]=S.useState(""),[j,C]=S.useState("all"),[I,M]=S.useState("all"),[$,A]=S.useState([]),[E,w]=S.useState({total:0,running:0,finished:0,failed:0}),[T,D]=S.useState(null),q=a.autoRefresh,J=K=>{l({...a,autoRefresh:K})},V={project:120,name:100,run_id:280,status:100,created:210,best_metric:200,artifacts_created:120,actions:120},{columnWidths:H,setColumnWidth:ee}=T0("experiments",V),[oe,Z]=S.useState({}),[ne,de]=S.useState(10),[he,be]=S.useState(!1),[pe,G]=S.useState(!1),[se,ue]=S.useState(!1),ye=S.useCallback(K=>(le,{size:ve})=>{ee(K,ve.width)},[ee]),[Je,Xe]=S.useState(!1);S.useEffect(()=>{const K=localStorage.getItem("experiment_preferences");if(K)try{const le=JSON.parse(K);le.pageSize&&de(le.pageSize)}catch{}},[]);const W=S.useCallback(()=>{localStorage.setItem("experiment_preferences",JSON.stringify({pageSize:ne}))},[ne]);S.useEffect(()=>{W()},[W]);const ae=S.useCallback(async(K=!0)=>{K&&g(!0);try{const le=await fetch("/api/runs");if(!le.ok)throw new Error(`HTTP ${le.status}: ${le.statusText}`);const ve=await le.json(),Ze=Array.isArray(ve)?ve:ve.runs||[],rt=Ze.map(De=>{const Tn=De.created_time?new Date(De.created_time*1e3):new Date;return{run_id:De.id||De.run_id,project:De.project||"default",name:De.name||"unnamed",status:De.status||"unknown",created:Tn.toISOString(),summary:De.summary||{},pid:De.pid,best_metric_value:De.best_metric_value,best_metric_name:De.best_metric_name,artifacts_created_count:De.artifacts_created_count||0,artifacts_used_count:De.artifacts_used_count||0}});d(rt);const at=[...new Set(rt.map(De=>De.project))];A(at);const We={total:rt.length,running:rt.filter(De=>De.status==="running").length,finished:rt.filter(De=>De.status==="finished").length,failed:rt.filter(De=>De.status==="failed").length};w(We),!K&&rt.length>Ze.length&&Mv.info({message:s("experiments.new_runs")||"New runs detected",description:`${rt.length-Ze.length} new run(s) added`,placement:"bottomRight"})}catch{K&&X.error(s("experiments.fetch_failed")||"Failed to fetch runs")}K&&g(!1)},[c.length,s]);S.useEffect(()=>{ae(!0)},[]),S.useEffect(()=>{if(q){const K=window.setInterval(()=>{ae(!1)},a.refreshInterval*1e3);D(K)}else T&&(window.clearInterval(T),D(null));return()=>{T&&window.clearInterval(T)}},[q,a.refreshInterval]);const ze=S.useCallback(()=>{if(m.length===0){X.warning(s("experiments.select_one_delete")||"Please select at least one run to delete");return}an.confirm({title:s("experiments.move_to_bin_title")||"Move to Recycle Bin",content:i.jsxs("div",{children:[i.jsx("p",{children:s("experiments.soft_delete_confirm_content",{count:m.length})||`Move ${m.length} selected runs to recycle bin?`}),i.jsx("p",{style:{color:"#1677ff",fontWeight:500},children:s("experiments.soft_delete_note")||"Files will be preserved and can be restored later."})]}),okText:s("experiments.move_to_bin")||"Move to Bin",okType:"primary",cancelText:s("experiments.cancel")||"Cancel",okButtonProps:{loading:he},onOk:async()=>{be(!0);try{const K=await w_(m);v([]),K.deleted_count>0?(X.success(s("experiments.soft_delete_success",{count:K.deleted_count})||`Moved ${K.deleted_count} runs to recycle bin`),await ae(!1)):X.warning("No runs were moved to recycle bin")}catch{X.error(s("experiments.delete_failed")||"Failed to move runs to recycle bin")}finally{be(!1)}}})},[m,s,he,ae]),z=async()=>{if(m.length===0){X.warning(s("experiments.select_one")||"Please select at least one run to export");return}const K=c.filter(le=>m.includes(le.run_id));try{const le={export_time:new Date().toISOString(),total_runs:K.length,runs:K.map(We=>({run_id:We.run_id,project:We.project,name:We.name,status:We.status,created:We.created,summary:We.summary}))},ve=JSON.stringify(le,null,2),Ze=new Blob([ve],{type:"application/json"}),rt=URL.createObjectURL(Ze),at=document.createElement("a");at.href=rt,at.download=`runicorn_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(at),at.click(),document.body.removeChild(at),URL.revokeObjectURL(rt),X.success(s("experiments.export_success",{count:K.length})||`Successfully exported ${K.length} runs`)}catch{X.error(s("experiments.export_failed")||"Failed to export runs")}},ie=async()=>{ue(!0);try{const K=await __();K.updated>0?(X.success(`Updated ${K.updated} experiment statuses`),ae(!1)):X.info("All experiment statuses are up to date")}catch{X.error("Failed to check experiment statuses")}finally{ue(!1)}},Ce=async()=>{if(m.length===0){X.warning(s("experiments.select_one")||"Please select at least one run to export");return}G(!0);const K=c.filter(le=>m.includes(le.run_id));try{const le=["Run ID","Project","Experiment Name","Status","Created Time","Final Loss","Learning Rate","Batch Size","Epochs","Best Metric Value","Best Metric Name"],ve=K.map(wt=>{var kn,hs,In,xn,ir,or;return[rn(wt.run_id),rn(wt.project),rn(wt.name),rn(wt.status),rn(new Date(wt.created).toLocaleString()),rn(((hs=(kn=wt.summary)==null?void 0:kn.final_loss)==null?void 0:hs.toFixed(6))||""),rn(((In=wt.summary)==null?void 0:In.learning_rate)||""),rn(((xn=wt.summary)==null?void 0:xn.batch_size)||""),rn(((ir=wt.summary)==null?void 0:ir.total_epochs)||""),rn(((or=wt.best_metric_value)==null?void 0:or.toFixed(4))||""),rn(wt.best_metric_name||"")]}),rt="\uFEFF"+[le.join(","),...ve.map(wt=>wt.join(","))].join(`
`),at=new Blob([rt],{type:"text/csv;charset=utf-8;"}),We=URL.createObjectURL(at),De=document.createElement("a");De.href=We;const Tn=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);De.download=`runicorn_experiments_${Tn}.csv`,document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(We),X.success(s("experiments.export_success",{count:K.length})||`Successfully exported ${K.length} runs`)}catch{X.error(s("experiments.export_failed")||"Failed to export runs")}finally{G(!1)}},ct=[{key:"json",icon:i.jsx($v,{}),label:s("experiments.export_json")||"Export as JSON",onClick:z},{key:"csv",icon:i.jsx(Nv,{}),label:s("experiments.export_csv")||"Export as CSV",onClick:Ce}],_t=()=>{if(m.length<2){X.warning(s("experiments.select_multiple")||"Please select at least 2 runs to compare");return}const K=m[0];n(`/runs/${K}`),X.info(s("experiments.compare_hint")||"Use the comparison feature in the run detail page")},Zt=S.useMemo(()=>c.filter(K=>{var at;const le=y.toLowerCase(),ve=y===""||K.run_id.toLowerCase().includes(le)||K.name.toLowerCase().includes(le)||K.project.toLowerCase().includes(le)||((at=K.summary)==null?void 0:at.tags)&&K.summary.tags.some(We=>We.toLowerCase().includes(le)),Ze=j==="all"||K.project===j,rt=I==="all"||K.status===I;return ve&&Ze&&rt}),[c,y,j,I]),pt=S.useMemo(()=>[{title:s("table.project"),dataIndex:"project",key:"project",sorter:(K,le)=>K.project.localeCompare(le.project),render:K=>i.jsx(Se,{color:"blue",children:K}),width:H.project,onHeaderCell:()=>({width:H.project,onResize:ye("project")})},{title:s("table.name"),dataIndex:"name",key:"name",width:H.name,sorter:(K,le)=>K.name.localeCompare(le.name),render:(K,le)=>i.jsx(Fe,{title:`${le.project}/${K}`,children:i.jsx("strong",{children:K})}),onHeaderCell:()=>({width:H.name,onResize:ye("name")})},{title:s("table.run_id"),dataIndex:"run_id",key:"run_id",width:H.run_id,render:K=>i.jsx("code",{style:{fontSize:"11px",wordBreak:"break-all"},children:K}),onHeaderCell:()=>({width:H.run_id,onResize:ye("run_id")})},{title:s("table.status"),dataIndex:"status",key:"status",width:H.status,sorter:(K,le)=>K.status.localeCompare(le.status),onHeaderCell:()=>({width:H.status,onResize:ye("status")}),render:(K,le)=>{let ve=null,Ze="default";switch(K){case"running":ve=i.jsx(fu,{spin:!0}),Ze="processing";break;case"finished":ve=i.jsx(Or,{}),Ze="success";break;case"failed":ve=i.jsx(is,{}),Ze="error";break;default:ve=i.jsx(Ta,{}),Ze="warning"}return i.jsx(Se,{icon:ve,color:Ze,children:K})}},{title:s("table.created"),dataIndex:"created",key:"created",width:H.created,sorter:(K,le)=>new Date(K.created).getTime()-new Date(le.created).getTime(),render:K=>{const le=new Date(K),ve=r.language==="zh"?"zh-CN":"en-US";return i.jsx("span",{style:{fontSize:"13px",whiteSpace:"nowrap"},children:le.toLocaleString(ve,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})},onHeaderCell:()=>({width:H.created,onResize:ye("created")})},{title:s("experiments.best_metric")||"Best Metric",key:"best_metric",width:H.best_metric,onHeaderCell:()=>({width:H.best_metric,onResize:ye("best_metric")}),render:(K,le)=>{const ve=le.best_metric_value,Ze=le.best_metric_name;return ve!=null&&Ze?i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx("span",{style:{fontSize:"13px",color:"#666",fontWeight:500},children:Ze}),i.jsx("span",{style:{fontSize:"16px",fontWeight:700,color:"#1677ff"},children:ve.toFixed(4)})]}):"-"}},{title:s("experiments.artifacts_created")||"Artifacts",key:"artifacts_created",width:H.artifacts_created,onHeaderCell:()=>({width:H.artifacts_created,onResize:ye("artifacts_created")}),render:(K,le)=>{const ve=le.artifacts_created_count||0;return ve===0?i.jsx("span",{style:{color:"#999"},children:"-"}):i.jsx(Fe,{title:s("experiments.artifacts_created_tip",{count:ve}),children:i.jsx(tr,{count:ve,style:{backgroundColor:"#52c41a"}})})}},{title:s("table.actions"),key:"actions",width:H.actions,onHeaderCell:()=>({width:H.actions,onResize:ye("actions")}),render:(K,le)=>i.jsxs(U,{size:"small",children:[i.jsx(Fe,{title:s("table.view"),children:i.jsx(fe,{type:"link",icon:i.jsx(Ra,{}),onClick:()=>n(`/runs/${le.run_id}`)})}),i.jsx(Fe,{title:s("experiments.delete")||"Delete",children:i.jsx(fe,{type:"link",danger:!0,icon:i.jsx(ss,{}),onClick:()=>{v([le.run_id]),ze()}})})]})}],[s,n,H,ye,ze]);return h&&c.length===0?i.jsx(lw,{}):i.jsxs("div",{style:{padding:24},children:[i.jsx("h2",{children:s("menu.experiments")}),i.jsxs(pn,{gutter:16,style:{marginBottom:24},children:[i.jsx(Ve,{span:6,children:i.jsx(te,{children:i.jsx(yt,{title:s("experiments.total_runs")||"Total Runs",value:E.total})})}),i.jsx(Ve,{span:6,children:i.jsx(te,{children:i.jsx(yt,{title:s("experiments.running")||"Running",value:E.running,valueStyle:{color:"#1890ff"}})})}),i.jsx(Ve,{span:6,children:i.jsx(te,{children:i.jsx(yt,{title:s("experiments.finished")||"Finished",value:E.finished,valueStyle:{color:"#52c41a"}})})}),i.jsx(Ve,{span:6,children:i.jsx(te,{children:i.jsx(yt,{title:s("experiments.failed")||"Failed",value:E.failed,valueStyle:{color:"#ff4d4f"}})})})]}),i.jsxs(U,{style:{marginBottom:16,width:"100%",justifyContent:"space-between"},children:[i.jsxs(U,{children:[i.jsx(Nt,{placeholder:s("experiments.search_placeholder")||"Search runs...",prefix:i.jsx(sd,{}),value:y,onChange:K=>k(K.target.value),style:{width:200}}),i.jsxs(ht,{value:j,onChange:C,style:{width:150},children:[i.jsx(ht.Option,{value:"all",children:s("runs.filter.all")}),$.map(K=>i.jsx(ht.Option,{value:K,children:K},K))]}),i.jsxs(ht,{value:I,onChange:M,style:{width:120},children:[i.jsx(ht.Option,{value:"all",children:s("runs.filter.all")}),i.jsx(ht.Option,{value:"running",children:s("experiments.running")||"Running"}),i.jsx(ht.Option,{value:"finished",children:s("experiments.finished")||"Finished"}),i.jsx(ht.Option,{value:"failed",children:s("experiments.failed")||"Failed"})]}),i.jsx(fe,{icon:q?i.jsx(fu,{spin:!0}):i.jsx(Er,{}),onClick:()=>ae(!0),loading:h,children:s(q?"runs.refreshing":"runs.refresh")}),i.jsx(Fe,{title:s("experiments.check_status_tooltip")||"Check if running experiments are still alive",children:i.jsx(fe,{icon:i.jsx(Fv,{}),onClick:ie,loading:se,type:"dashed",children:s("experiments.check_status")||"Check Status"})}),i.jsx(ai,{checked:q,onChange:K=>J(K.target.checked),children:s("experiments.auto_refresh")||"Auto-refresh"}),i.jsx(Fe,{title:s("recycle_bin.tooltip")||"View and restore deleted experiments",children:i.jsx(fe,{icon:i.jsx(la,{}),onClick:()=>Xe(!0),type:"dashed",children:s("recycle_bin.title")||"Recycle Bin"})})]}),i.jsx(U,{children:m.length>0&&i.jsxs(i.Fragment,{children:[i.jsxs(fe,{icon:i.jsx(Pa,{}),onClick:_t,disabled:m.length<2,children:[s("experiments.compare")||"Compare"," (",m.length,")"]}),i.jsx(Uv,{menu:{items:ct},trigger:["click"],children:i.jsxs(fe,{icon:i.jsx(gi,{}),children:[s("experiments.export")||"Export"," (",m.length,") ",i.jsx(Bv,{})]})}),i.jsxs(fe,{danger:!0,icon:i.jsx(ss,{}),onClick:ze,children:[s("experiments.delete")||"Delete"," (",m.length,")"]})]})})]}),i.jsx(Wn,{components:{header:{cell:P0}},rowSelection:{selectedRowKeys:m,onChange:K=>v(K),getCheckboxProps:K=>({disabled:he})},columns:pt,dataSource:Zt,rowKey:"run_id",loading:h,pagination:{pageSize:ne,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:(K,le)=>de(le),showTotal:(K,le)=>s("experiments.table_total",{from:le[0],to:le[1],total:K})||`${le[0]}-${le[1]} of ${K} items`},scroll:{x:1200},size:"middle",onChange:(K,le,ve)=>{Z(ve)},locale:{emptyText:i.jsx(Ge,{description:s("experiments.no_runs")||"No experiments found",image:Ge.PRESENTED_IMAGE_SIMPLE,children:i.jsx(fe,{type:"primary",onClick:()=>ae(!0),children:s("runs.refresh")})})}}),i.jsx(dw,{open:Je,onClose:()=>Xe(!1),onRestore:()=>ae(!1)})]})},{Text:sn,Title:I0}=Ae,E0=()=>{const{t:s}=qe(),r=cs(),[n,a]=S.useState([]),[l,c]=S.useState(!1),[d,h]=S.useState(""),[g,m]=S.useState("all"),[v,y]=S.useState(null),k=S.useCallback(async(w=!0)=>{w&&c(!0);try{const D=await C_(g==="all"?void 0:g);a(D||[])}catch{X.error(s("Failed to fetch artifacts"))}finally{w&&c(!1)}},[g,s]),j=S.useCallback(async()=>{try{const w=await fd();y(w)}catch{}},[]);S.useEffect(()=>{k(),j()},[k,j]);const C=n.filter(w=>{if(!d)return!0;const T=d.toLowerCase();return w.name.toLowerCase().includes(T)||w.type.toLowerCase().includes(T)});n.length,n.filter(w=>w.type==="model").length,n.filter(w=>w.type==="dataset").length,n.reduce((w,T)=>w+T.size_bytes,0);const I=w=>{if(w===0)return"0 B";const T=1024,D=["B","KB","MB","GB","TB"],q=Math.floor(Math.log(w)/Math.log(T));return(w/Math.pow(T,q)).toFixed(2)+" "+D[q]},M=w=>new Date(w*1e3).toLocaleString(),$=w=>{const T={style:{fontSize:16}};switch(w){case"model":return i.jsx(cn,{...T});case"dataset":return i.jsx(Hv,{...T});case"config":return i.jsx(ua,{...T});case"code":return i.jsx(aa,{...T});default:return i.jsx(rs,{...T})}},A=w=>{switch(w){case"model":return Y.colors.primary;case"dataset":return Y.colors.success;case"config":return Y.colors.warning;case"code":return Y.colors.info;default:return"#8c8c8c"}},E=[{title:s("artifacts.type"),dataIndex:"type",key:"type",width:100,render:w=>i.jsx(Fe,{title:s(`artifacts.type.${w}`),children:i.jsx(Se,{icon:$(w),color:A(w),children:s(`artifacts.type.${w}`)})}),filters:[{text:s("artifacts.type.model"),value:"model"},{text:s("artifacts.type.dataset"),value:"dataset"},{text:s("artifacts.type.config"),value:"config"},{text:s("artifacts.type.code"),value:"code"},{text:s("artifacts.type.custom"),value:"custom"}],onFilter:(w,T)=>T.type===w},{title:s("Name"),dataIndex:"name",key:"name",render:(w,T)=>i.jsxs(U,{direction:"vertical",size:0,children:[i.jsx(sn,{strong:!0,style:{fontSize:Y.typography.fontSize.md},children:w}),i.jsxs(U,{size:"small",children:[i.jsx(sn,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:s("artifacts.latest_version",{version:T.latest_version})}),i.jsx(sn,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:"•"}),i.jsx(sn,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:s("artifacts.versions_count",{count:T.num_versions})})]})]})},{title:s("artifacts.size"),dataIndex:"size_bytes",key:"size",width:120,render:w=>I(w),sorter:(w,T)=>w.size_bytes-T.size_bytes},{title:s("artifacts.updated"),dataIndex:"updated_at",key:"updated",width:180,render:w=>M(w),sorter:(w,T)=>w.updated_at-T.updated_at,defaultSortOrder:"descend"},{title:s("artifacts.aliases"),dataIndex:"aliases",key:"aliases",width:150,render:w=>i.jsxs(U,{size:4,wrap:!0,children:[Object.keys(w).slice(0,3).map(T=>i.jsx(Se,{color:"blue",style:{fontSize:Y.typography.fontSize.xs},children:T},T)),Object.keys(w).length>3&&i.jsxs(Se,{style:{fontSize:Y.typography.fontSize.xs},children:["+",Object.keys(w).length-3]})]})},{title:s("table.actions"),key:"actions",width:200,render:(w,T)=>i.jsx(U,{size:"small",children:i.jsx(Fe,{title:s("artifacts.view_versions"),children:i.jsx(fe,{size:"small",icon:i.jsx(Ra,{}),onClick:()=>r(`/artifacts/${T.name}`),children:s("View")})})})}];return l&&n.length===0?i.jsx(cw,{rows:8}):i.jsx("div",{style:{padding:Y.spacing.lg},children:i.jsxs(U,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(I0,{level:2,style:{marginBottom:Y.spacing.sm},children:s("artifacts.title")}),i.jsx(sn,{type:"secondary",children:s("artifacts.description")})]}),v&&i.jsxs(pn,{gutter:[Y.spacing.md,Y.spacing.md],children:[i.jsx(Ve,{xs:24,sm:12,md:6,children:i.jsx(te,{children:i.jsx(yt,{title:s("artifacts.stats.total"),value:v.total_artifacts||0,prefix:i.jsx(cn,{}),valueStyle:{color:Y.colors.primary}})})}),i.jsx(Ve,{xs:24,sm:12,md:6,children:i.jsx(te,{children:i.jsx(yt,{title:s("artifacts.stats.total_versions"),value:v.total_versions||0,prefix:i.jsx(ca,{}),valueStyle:{color:Y.colors.info}})})}),i.jsx(Ve,{xs:24,sm:12,md:6,children:i.jsx(te,{children:i.jsx(yt,{title:s("artifacts.stats.total_size"),value:I(v.total_size_bytes||0),prefix:i.jsx(Wv,{}),valueStyle:{color:Y.colors.success}})})}),i.jsx(Ve,{xs:24,sm:12,md:6,children:i.jsxs(te,{children:[i.jsx(yt,{title:s("artifacts.stats.dedup_saved"),value:v.dedup_enabled?I(v.space_saved_bytes||0):"N/A",prefix:i.jsx(rs,{}),valueStyle:{color:Y.colors.warning}}),v.dedup_enabled&&v.dedup_ratio&&i.jsxs(sn,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:[(v.dedup_ratio*100).toFixed(1),"% saved"]})]})})]}),i.jsx(te,{size:"small",children:i.jsxs(U,{wrap:!0,children:[i.jsx(Nt,{placeholder:s("artifacts.search_placeholder"),prefix:i.jsx(sd,{}),value:d,onChange:w=>h(w.target.value),style:{width:300},allowClear:!0}),i.jsx(ht,{value:g,onChange:m,style:{width:150},options:[{label:s("artifacts.type.all"),value:"all"},{label:s("artifacts.type.model"),value:"model"},{label:s("artifacts.type.dataset"),value:"dataset"},{label:s("artifacts.type.config"),value:"config"},{label:s("artifacts.type.code"),value:"code"},{label:s("artifacts.type.custom"),value:"custom"}]}),i.jsx(fe,{icon:i.jsx(Er,{spin:l}),onClick:()=>{k(),j()},loading:l,children:s("runs.refresh")})]})}),v&&v.by_type&&Object.keys(v.by_type).length>0&&i.jsx(Xt,{message:i.jsxs(U,{children:[i.jsx(sn,{children:"Type Distribution:"}),Object.entries(v.by_type).map(([w,T])=>i.jsx(tr,{count:T.count,showZero:!0,color:A(w),overflowCount:9999,style:{marginLeft:8},children:i.jsx(Se,{icon:$(w),children:s(`artifacts.type.${w}`)})},w))]}),type:"info",showIcon:!1,style:{marginBottom:Y.spacing.md}}),i.jsx(te,{children:i.jsx(Wn,{dataSource:C,columns:E,rowKey:"name",loading:l,pagination:{pageSize:10,showTotal:(w,T)=>s("experiments.table_total",{from:T[0],to:T[1],total:w}),showSizeChanger:!0,showQuickJumper:!0},locale:{emptyText:i.jsx(Ge,{image:Ge.PRESENTED_IMAGE_SIMPLE,description:i.jsxs(U,{direction:"vertical",size:"small",children:[i.jsx(sn,{type:"secondary",children:s("artifacts.no_artifacts")}),i.jsx(sn,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:s("artifacts.create_first")})]})})}})}),n.length===0&&!l&&i.jsx(te,{title:i.jsxs(U,{children:[i.jsx(aa,{}),i.jsx("span",{children:"Quick Start Guide"})]}),children:i.jsxs(U,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(sn,{strong:!0,children:"1. Save a model as artifact:"}),i.jsx("pre",{style:{background:"#f5f5f5",padding:Y.spacing.md,borderRadius:Y.borderRadius.md,marginTop:Y.spacing.sm},children:`import runicorn as rn

run = rn.init(project="my_project")

# Create artifact
artifact = rn.Artifact("my-model", type="model")
artifact.add_file("model.pth")
artifact.add_metadata({"accuracy": 0.95})

# Save with version control
run.log_artifact(artifact)  # → v1
run.finish()`})]}),i.jsxs("div",{children:[i.jsx(sn,{strong:!0,children:"2. Use a saved artifact:"}),i.jsx("pre",{style:{background:"#f5f5f5",padding:Y.spacing.md,borderRadius:Y.borderRadius.md,marginTop:Y.spacing.sm},children:`import runicorn as rn

run = rn.init(project="inference")

# Load latest version
artifact = run.use_artifact("my-model:latest")
model_path = artifact.download()

# Use the model...
run.finish()`})]})]})})]})})},{Text:er}=Ae,O0=({data:s})=>{const{t:r}=qe(),{token:n}=kr.useToken(),a=S.useMemo(()=>{if(!s||!s.nodes||s.nodes.length===0)return null;const c=s.nodes.map(h=>{const g=h.node_type==="artifact",m=h.node_id===s.root_artifact;return{id:h.node_id,name:h.label,symbol:g?"roundRect":"circle",symbolSize:m?[120,60]:g?[100,50]:40,label:{show:!0,fontSize:m?14:12,fontWeight:m?"bold":"normal"},itemStyle:{color:g?m?Y.colors.primary:Y.colors.info:Y.colors.success,borderColor:m?Y.colors.primary:"#fff",borderWidth:m?3:1},category:g?0:1}}),d=s.edges.map(h=>({source:h.source,target:h.target,label:{show:!0,formatter:h.edge_type,fontSize:10},lineStyle:{color:h.edge_type==="produces"?Y.colors.success:Y.colors.info,width:2,type:h.edge_type==="produces"?"solid":"dashed"},symbol:["none","arrow"],symbolSize:8}));return{title:{text:r("artifact.lineage.title"),left:"center",textStyle:{fontSize:Y.typography.fontSize.lg,fontWeight:Y.typography.fontWeight.semibold}},tooltip:{trigger:"item",formatter:h=>{if(h.dataType==="node"){const g=s.nodes.find(m=>m.node_id===h.data.id);if(g){const m=g.node_type==="artifact";let v=`<b>${g.label}</b><br/>`;if(v+=`Type: ${r(m?"artifact.lineage.node.artifact":"artifact.lineage.node.run")}<br/>`,g.metadata.size){const y=l(g.metadata.size);v+=`Size: ${y}<br/>`}return v}}else if(h.dataType==="edge")return`${h.data.label.formatter}`;return h.name}},legend:{data:[{name:r("artifact.lineage.node.artifact"),icon:"roundRect"},{name:r("artifact.lineage.node.run"),icon:"circle"}],bottom:0},series:[{type:"graph",layout:"force",data:c,links:d,categories:[{name:r("artifact.lineage.node.artifact")},{name:r("artifact.lineage.node.run")}],roam:!0,label:{show:!0,position:"inside",formatter:"{b}"},force:{repulsion:400,edgeLength:[120,180],gravity:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]}},[s,r]),l=c=>{if(c===0)return"0 B";const d=1024,h=["B","KB","MB","GB","TB"],g=Math.floor(Math.log(c)/Math.log(d));return(c/Math.pow(d,g)).toFixed(2)+" "+h[g]};return a?i.jsxs(U,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsx(te,{size:"small",children:i.jsxs(U,{split:i.jsx("span",{style:{margin:"0 12px",color:n.colorBorder},children:"•"}),children:[i.jsxs(U,{size:"small",children:[i.jsx(cn,{style:{color:Y.colors.info}}),i.jsx(er,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:r("artifact.lineage.node.artifact")})]}),i.jsxs(U,{size:"small",children:[i.jsx(ln,{style:{color:Y.colors.success}}),i.jsx(er,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:r("artifact.lineage.node.run")})]}),i.jsxs(U,{size:"small",children:[i.jsx(hu,{style:{color:Y.colors.info}}),i.jsx(er,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:r("artifact.lineage.edge.uses")})]}),i.jsxs(U,{size:"small",children:[i.jsx(hu,{style:{color:Y.colors.success}}),i.jsx(er,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:r("artifact.lineage.edge.produces")})]})]})}),i.jsx(te,{children:i.jsx(Pr,{option:a,style:{height:500},opts:{renderer:"canvas"}})}),i.jsx(te,{size:"small",children:i.jsxs(U,{direction:"vertical",size:"small",style:{width:"100%"},children:[i.jsxs(er,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:[i.jsxs("b",{children:[r("Summary"),":"]})," ",s.nodes.length," nodes, ",s.edges.length," edges"]}),i.jsxs(er,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:["• Artifacts: ",s.nodes.filter(c=>c.node_type==="artifact").length]}),i.jsxs(er,{type:"secondary",style:{fontSize:Y.typography.fontSize.xs},children:["• Runs: ",s.nodes.filter(c=>c.node_type==="run").length]})]})})]}):i.jsx(Ge,{image:Ge.PRESENTED_IMAGE_SIMPLE,description:r("artifact.lineage.no_dependencies")})},A0=s=>{switch(s){case"finished":return i.jsx(Or,{style:{color:"#52c41a"}});case"failed":return i.jsx(is,{style:{color:"#ff4d4f"}});case"running":return i.jsx(ln,{style:{color:"#1890ff"}});default:return i.jsx(Ta,{style:{color:"#d9d9d9"}})}};function L0({artifactName:s,artifactType:r,version:n}){const{t:a}=qe(),l=cs(),[c,d]=S.useState(!1),[h,g]=S.useState(null);S.useEffect(()=>{m()},[s,n]);const m=async()=>{d(!0);try{const y=new URLSearchParams;n&&y.append("version",n.toString()),r&&y.append("type",r);const k=await fetch(`/api/artifacts/${s}/training-metrics?${y}`);if(!k.ok){if(k.status===404){g(null);return}throw new Error(`Failed to load training metrics: ${k.statusText}`)}const j=await k.json();g(j)}catch{X.error(a("Failed to load training metrics"))}finally{d(!1)}};if(c)return i.jsx(te,{children:i.jsx("div",{style:{textAlign:"center",padding:"40px"},children:i.jsx(Jt,{size:"large"})})});if(!h)return i.jsx(te,{children:i.jsx(Ge,{image:Ge.PRESENTED_IMAGE_SIMPLE,description:a("artifact.training.no_data")})});const v=Object.entries(h.metrics).filter(([y,k])=>typeof k=="number").slice(0,6);return i.jsxs(te,{title:i.jsxs(U,{children:[i.jsx(Vv,{}),a("artifact.training.title")]}),extra:i.jsx(fe,{type:"primary",onClick:()=>l(`/runs/${h.run_id}`),children:a("artifact.training.view_run")}),children:[i.jsxs(we,{bordered:!0,column:2,style:{marginBottom:16},children:[i.jsx(we.Item,{label:a("artifact.training.run_name"),children:i.jsxs(U,{children:[A0(h.status),i.jsx("a",{onClick:()=>l(`/runs/${h.run_id}`),children:h.run_name})]})}),i.jsx(we.Item,{label:a("artifact.training.project"),children:i.jsx(Se,{children:h.project})}),i.jsx(we.Item,{label:a("artifact.training.status"),children:i.jsx(Se,{color:h.status==="finished"?"success":"error",children:a(`status.${h.status}`)})}),i.jsx(we.Item,{label:a("artifact.training.duration"),children:h.duration_seconds?sw(h.duration_seconds*1e3):"-"}),i.jsx(we.Item,{label:a("artifact.training.created_at"),span:2,children:xd(h.created_at)})]}),v.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("h4",{children:a("artifact.training.key_metrics")}),i.jsx(pn,{gutter:16,children:v.map(([y,k])=>i.jsx(Ve,{span:8,style:{marginBottom:16},children:i.jsx(yt,{title:y,value:k,precision:typeof k=="number"&&k<1?4:2})},y))})]})]})}const{Option:D0}=ht;function z0({artifactName:s,artifactType:r}){const{t:n}=qe(),[a,l]=S.useState(!1),[c,d]=S.useState([]),[h,g]=S.useState([]),[m,v]=S.useState([]);S.useEffect(()=>{y()},[s]);const y=async()=>{l(!0);try{const j=new URLSearchParams;r&&j.append("type",r);const C=await fetch(`/api/artifacts/${s}/performance-history?${j}`);if(!C.ok)throw new Error(`Failed to load performance history: ${C.statusText}`);const I=await C.json();d(I);const M=new Set;I.forEach(E=>{Object.keys(E.metrics).forEach(w=>M.add(w))});const $=Array.from(M).sort();g($);const A=$.slice(0,3);v(A)}catch{X.error(n("Failed to load performance history"))}finally{l(!1)}},k=S.useMemo(()=>{if(!c.length||!m.length)return null;const j=c.filter(I=>I.status==="finished").map(I=>`v${I.version}`),C=m.map(I=>({name:I,type:"line",smooth:!0,symbol:"circle",symbolSize:8,data:c.filter(M=>M.status==="finished").map(M=>M.metrics[I]||0)}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:m,top:0},grid:{left:"10%",right:"10%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:j},yAxis:{type:"value",name:n("artifact.performance.metrics")},series:C}},[c,m,n]);return a?i.jsx(te,{children:i.jsx("div",{style:{textAlign:"center",padding:"40px"},children:i.jsx(Jt,{size:"large"})})}):c.length===0?i.jsx(te,{children:i.jsx(Ge,{image:Ge.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.no_data")})}):i.jsx(te,{title:i.jsxs(U,{children:[i.jsx(Pa,{}),n("artifact.performance.title")]}),extra:i.jsx(ht,{mode:"multiple",style:{width:300},placeholder:n("artifact.performance.select_metrics"),value:m,onChange:v,maxTagCount:3,children:h.map(j=>i.jsx(D0,{value:j,children:j},j))}),children:k?i.jsx("div",{style:{height:400},children:i.jsx(Ia,{option:k,style:{height:"100%",width:"100%"}})}):i.jsx(Ge,{image:Ge.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.select_metrics_hint")})})}const{Text:sa,Title:ri,Paragraph:M0}=Ae,{TabPane:wr}=us,$0=()=>{var pe;const{name:s}=ed(),r=cs(),{t:n}=qe(),[a,l]=S.useState(!1),[c,d]=S.useState(null),[h,g]=S.useState(null),[m,v]=S.useState([]),[y,k]=S.useState(null),[j,C]=S.useState(null),[I,M]=S.useState(!1),[$,A]=S.useState(!1),[E,w]=S.useState(!1),[T,D]=S.useState(null),[q,J]=S.useState(!1),V=G=>{if(G===0)return"0 B";const se=1024,ue=["B","KB","MB","GB","TB"],ye=Math.floor(Math.log(G)/Math.log(se));return(G/Math.pow(se,ye)).toFixed(2)+" "+ue[ye]},H=G=>new Date(G*1e3).toLocaleString(),ee=S.useCallback(async()=>{if(s)try{const G=await R_(s);v(G||[]),!c&&G&&G.length>0&&d(G[G.length-1].version)}catch{X.error(n("Failed to fetch versions"))}},[s,c,n]),oe=S.useCallback(async()=>{if(!(!s||!c)){l(!0);try{const G=await P_(s,c);g(G)}catch{X.error(n("Failed to fetch artifact details"))}finally{l(!1)}}},[s,c,n]),Z=S.useCallback(async()=>{if(!(!s||!c))try{const G=await T_(s,c);k(G)}catch{}},[s,c]),ne=S.useCallback(async()=>{if(!(!s||!c)){M(!0);try{const G=await k_(s,c,void 0,3);C(G)}catch{}finally{M(!1)}}},[s,c]);S.useEffect(()=>{ee()},[ee]),S.useEffect(()=>{c&&(oe(),Z())},[oe,Z]);const de=async G=>{an.confirm({title:n("artifacts.delete_confirm",{name:s,version:G}),content:n("artifacts.delete_warning"),okText:n("artifacts.delete"),okType:"danger",cancelText:n("experiments.cancel"),onOk:async()=>{try{if(await I_(s,G),X.success(n("Deleted successfully")),ee(),G===c){const se=m.filter(ue=>ue.version!==G);se.length>0?d(se[se.length-1].version):r("/artifacts")}}catch{X.error(n("Delete failed"))}}})};if(a&&!h)return i.jsx(yd,{});if(!h)return i.jsx(te,{children:i.jsx(Ge,{description:n("artifact.detail.title",{name:s})})});m.map(G=>({label:`v${G.version} (${H(G.created_at)})`,value:G.version}));const he=[{title:n("artifact.files.name"),dataIndex:"path",key:"path",render:(G,se)=>i.jsxs(U,{direction:"vertical",size:0,children:[i.jsx(sa,{strong:!0,children:G}),se.absolute_path&&i.jsx(Fe,{title:n("Click to copy path"),children:i.jsx(sa,{code:!0,copyable:{text:se.absolute_path},style:{fontSize:Y.typography.fontSize.xs},children:se.absolute_path})})]})},{title:n("artifact.files.size"),dataIndex:"size",key:"size",width:120,render:G=>V(G)},{title:n("artifact.files.hash"),dataIndex:"digest",key:"digest",width:200,render:G=>{var se;return i.jsx(Fe,{title:G,children:i.jsxs(sa,{code:!0,style:{fontSize:Y.typography.fontSize.xs},children:[(se=G.split(":")[1])==null?void 0:se.substring(0,16),"..."]})})}}],be=[{title:n("artifact.versions.version"),dataIndex:"version",key:"version",width:100,render:G=>i.jsxs(Se,{color:G===c?"blue":"default",children:["v",G]})},{title:n("artifact.versions.date"),dataIndex:"created_at",key:"created_at",render:G=>H(G)},{title:n("artifact.versions.run"),dataIndex:"created_by_run",key:"created_by_run",render:G=>i.jsx(Fe,{title:"Click to view run",children:i.jsxs(fe,{type:"link",size:"small",onClick:()=>r(`/runs/${G}`),children:[G.substring(0,16),"..."]})})},{title:n("artifact.versions.size"),dataIndex:"size_bytes",key:"size",width:120,render:G=>V(G)},{title:n("artifact.versions.files"),dataIndex:"num_files",key:"num_files",width:80},{title:n("Aliases"),dataIndex:"aliases",key:"aliases",render:G=>i.jsx(U,{size:4,wrap:!0,children:G.map(se=>i.jsx(Se,{color:"blue",style:{fontSize:Y.typography.fontSize.xs},children:se},se))})},{title:n("artifact.versions.actions"),key:"actions",width:150,render:(G,se)=>i.jsxs(U,{size:"small",children:[i.jsx(fe,{size:"small",type:se.version===c?"primary":"default",onClick:()=>d(se.version),children:n("View")}),i.jsx(fe,{size:"small",danger:!0,icon:i.jsx(ss,{}),onClick:()=>de(se.version)})]})}];return i.jsx("div",{style:{padding:Y.spacing.lg},children:i.jsxs(U,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsx(fe,{icon:i.jsx(Kv,{}),onClick:()=>r("/artifacts"),children:n("Back to Artifacts")}),i.jsx(te,{children:i.jsxs(U,{direction:"vertical",size:"small",style:{width:"100%"},children:[i.jsxs(U,{children:[i.jsx(ri,{level:2,style:{margin:0},children:n("artifact.detail.title",{name:s})}),i.jsx(Se,{color:Y.colors.primary,children:n("artifact.detail.version",{version:c})}),i.jsx(Se,{icon:i.jsx(cn,{}),children:n(`artifacts.type.${h.type}`)})]}),h.description&&i.jsx(M0,{type:"secondary",children:h.description})]})}),i.jsxs(pn,{gutter:[Y.spacing.md,Y.spacing.md],children:[i.jsx(Ve,{xs:24,sm:12,md:6,children:i.jsx(te,{children:i.jsx(yt,{title:n("artifact.detail.size"),value:V(h.size_bytes),prefix:i.jsx(cn,{})})})}),i.jsx(Ve,{xs:24,sm:12,md:6,children:i.jsx(te,{children:i.jsx(yt,{title:n("artifact.detail.files_count"),value:h.num_files,prefix:i.jsx(ua,{})})})}),i.jsx(Ve,{xs:24,sm:12,md:6,children:i.jsx(te,{children:i.jsx(yt,{title:n("Total Versions"),value:m.length,prefix:i.jsx(ca,{})})})}),i.jsx(Ve,{xs:24,sm:12,md:6,children:i.jsx(te,{children:i.jsx(yt,{title:n("artifact.detail.created_at"),value:H(h.created_at),valueStyle:{fontSize:Y.typography.fontSize.sm},prefix:i.jsx(Ta,{})})})})]}),i.jsx(te,{children:i.jsxs(us,{defaultActiveKey:"info",children:[i.jsxs(wr,{tab:i.jsxs(i.Fragment,{children:[i.jsx(mi,{})," ",n("Info")]}),children:[i.jsxs(we,{bordered:!0,column:2,size:"small",children:[i.jsx(we.Item,{label:n("artifact.detail.type"),children:n(`artifacts.type.${h.type}`)}),i.jsx(we.Item,{label:n("artifact.detail.status"),children:i.jsx(Se,{color:"success",children:h.status})}),i.jsx(we.Item,{label:n("artifact.detail.created_by"),children:i.jsx(fe,{type:"link",size:"small",onClick:()=>r(`/runs/${h.created_by_run}`),children:h.created_by_run})}),i.jsx(we.Item,{label:n("artifact.detail.created_at"),children:H(h.created_at)}),i.jsx(we.Item,{label:n("artifact.detail.size"),children:V(h.size_bytes)}),i.jsxs(we.Item,{label:n("artifact.detail.files_count"),children:[h.num_files," files, ",h.num_references," references"]})]}),h.metadata&&Object.keys(h.metadata).length>0&&i.jsxs("div",{style:{marginTop:Y.spacing.lg},children:[i.jsx(ri,{level:5,children:n("artifact.detail.metadata")}),i.jsx(te,{size:"small",children:i.jsx("pre",{style:{margin:0,fontSize:Y.typography.fontSize.sm},children:JSON.stringify(h.metadata,null,2)})})]}),h.tags&&h.tags.length>0&&i.jsxs("div",{style:{marginTop:Y.spacing.md},children:[i.jsx(ri,{level:5,children:n("artifact.detail.tags")}),i.jsx(U,{size:[8,8],wrap:!0,children:h.tags.map(G=>i.jsx(Se,{icon:i.jsx(Gv,{}),color:"blue",children:G},G))})]})]},"info"),i.jsxs(wr,{tab:i.jsxs(i.Fragment,{children:[i.jsx(ua,{})," ",n("artifact.files.title")," (",((pe=y==null?void 0:y.files)==null?void 0:pe.length)||0,")"]}),children:[i.jsx(Wn,{dataSource:(y==null?void 0:y.files)||[],columns:he,rowKey:"path",size:"small",pagination:!1,locale:{emptyText:i.jsx(Ge,{image:Ge.PRESENTED_IMAGE_SIMPLE,description:n("artifact.files.no_files")})}}),(y==null?void 0:y.references)&&y.references.length>0&&i.jsxs("div",{style:{marginTop:Y.spacing.lg},children:[i.jsx(ri,{level:5,children:n("artifact.references.title")}),i.jsx(Wn,{dataSource:y.references,columns:[{title:n("artifact.references.uri"),dataIndex:"uri",key:"uri"},{title:n("artifact.references.checksum"),dataIndex:"checksum",key:"checksum",render:G=>G||"-"}],size:"small",pagination:!1})]})]},"files"),i.jsx(wr,{tab:i.jsxs(i.Fragment,{children:[i.jsx(ca,{})," ",n("artifact.versions.title")," (",m.length,")"]}),children:i.jsx(Wn,{dataSource:m,columns:be,rowKey:"version",size:"small",pagination:{pageSize:10}})},"versions"),i.jsx(wr,{tab:i.jsxs(i.Fragment,{children:[i.jsx(ln,{})," ",n("artifact.training.tab")]}),children:i.jsx(L0,{artifactName:s,artifactType:h==null?void 0:h.type,version:c})},"training"),i.jsx(wr,{tab:i.jsxs(i.Fragment,{children:[i.jsx(Pa,{})," ",n("artifact.performance.tab")]}),children:i.jsx(z0,{artifactName:s,artifactType:h==null?void 0:h.type})},"performance"),i.jsx(wr,{tab:i.jsxs(i.Fragment,{children:[i.jsx(qv,{})," ",n("artifact.lineage.title")]}),children:i.jsxs(U,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsx(Xt,{message:n("artifact.lineage.description"),type:"info",showIcon:!0,closable:!0}),!j&&!I&&i.jsx(fe,{onClick:ne,children:n("Load Lineage Graph")}),I&&i.jsx(te,{loading:!0}),j&&i.jsx(O0,{data:j})]})},"lineage")]})})]})})};function N0({onSubmit:s,onTest:r,onCancel:n,loading:a=!1,initialValues:l}){const{t:c}=qe(),[d]=ft.useForm(),[h,g]=S.useState((l==null?void 0:l.authMethod)||"password"),[m,v]=S.useState(!1),y=async j=>{console.log("Form values:",{...j,password:j.password?"***":void 0,savePassword:j.savePassword});const C={host:j.host,port:j.port||22,username:j.username,authMethod:j.authMethod,password:j.password,privateKeyPath:j.privateKeyPath,passphrase:j.passphrase,remoteRoot:j.remoteRoot,localPort:j.localPort,remotePort:j.remotePort||23300,saveName:j.saveName,savePassword:j.savePassword||!1};console.log("Config to submit:",{...C,password:C.password?"***":void 0});try{await s(C),X.success(c("remote.message.connectSuccess")),d.resetFields()}catch(I){X.error(I instanceof Error?I.message:c("remote.message.connectFailed"))}},k=async()=>{try{const j=await d.validateFields(),C={host:j.host,port:j.port||22,username:j.username,authMethod:j.authMethod,password:j.password,privateKeyPath:j.privateKeyPath,passphrase:j.passphrase,remoteRoot:j.remoteRoot,localPort:j.localPort,remotePort:j.remotePort||23300};r&&(await r(C),X.success(c("remote.message.testSuccess")))}catch(j){j instanceof Error&&X.error(j.message)}};return i.jsxs(ft,{form:d,layout:"vertical",initialValues:{port:22,remotePort:23300,authMethod:"password",...l},onFinish:y,children:[i.jsx(ft.Item,{label:c("remote.form.host"),name:"host",rules:[{required:!0,message:"Please enter host address"}],children:i.jsx(Nt,{placeholder:c("remote.form.hostPlaceholder")})}),i.jsxs(pn,{gutter:16,children:[i.jsx(Ve,{span:12,children:i.jsx(ft.Item,{label:c("remote.form.port"),name:"port",children:i.jsx(da,{min:1,max:65535,style:{width:"100%"}})})}),i.jsx(Ve,{span:12,children:i.jsx(ft.Item,{label:c("remote.form.username"),name:"username",rules:[{required:!0,message:"Please enter username"}],children:i.jsx(Nt,{placeholder:c("remote.form.usernamePlaceholder")})})})]}),i.jsx(ft.Item,{label:c("remote.form.authMethod"),name:"authMethod",children:i.jsxs(Ir.Group,{onChange:j=>g(j.target.value),children:[i.jsx(Ir,{value:"password",children:c("remote.form.passwordAuth")}),i.jsx(Ir,{value:"key",children:c("remote.form.keyAuth")})]})}),h==="password"?i.jsx(ft.Item,{label:c("remote.form.password"),name:"password",rules:[{required:!0,message:"Please enter password"}],children:i.jsx(Nt.Password,{})}):i.jsxs(i.Fragment,{children:[i.jsx(ft.Item,{label:c("remote.form.privateKey"),name:"privateKeyPath",rules:[{required:!0,message:"Please enter private key path"}],children:i.jsx(Nt,{placeholder:c("remote.form.privateKeyPlaceholder")})}),i.jsx(ft.Item,{label:c("remote.form.passphrase"),name:"passphrase",children:i.jsx(Nt.Password,{})})]}),i.jsx(ft.Item,{children:i.jsxs(U,{direction:"vertical",children:[i.jsx(ai,{checked:m,onChange:j=>v(j.target.checked),children:c("remote.form.saveConfig")}),m&&h==="password"&&i.jsx(ft.Item,{name:"savePassword",valuePropName:"checked",initialValue:!1,noStyle:!0,children:i.jsx(ai,{style:{marginLeft:24},children:c("remote.form.savePassword")})})]})}),m&&i.jsx(ft.Item,{label:c("remote.form.saveName"),name:"saveName",children:i.jsx(Nt,{placeholder:c("remote.form.saveNamePlaceholder")})}),i.jsx(ft.Item,{children:i.jsxs(U,{children:[i.jsx(fe,{type:"primary",htmlType:"submit",loading:a,size:"large",children:c("remote.form.connectButton")}),r&&i.jsx(fe,{onClick:k,children:c("remote.form.testConnection")}),n&&i.jsx(fe,{onClick:n,children:c("remote.form.cancel")})]})})]})}var zd={exports:{}};(function(s,r){(function(n,a){s.exports=a()})(Cr,function(){return function(n,a,l){n=n||{};var c=a.prototype,d={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function h(m,v,y,k){return c.fromToBase(m,v,y,k)}l.en.relativeTime=d,c.fromToBase=function(m,v,y,k,j){for(var C,I,M,$=y.$locale().relativeTime||d,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=A.length,w=0;w<E;w+=1){var T=A[w];T.d&&(C=k?l(m).diff(y,T.d,!0):y.diff(m,T.d,!0));var D=(n.rounding||Math.round)(Math.abs(C));if(M=C>0,D<=T.r||!T.r){D<=1&&w>0&&(T=A[w-1]);var q=$[T.l];j&&(D=j(""+D)),I=typeof q=="string"?q.replace("%d",D):q(D,v,T.l,M);break}}if(v)return I;var J=M?$.future:$.past;return typeof J=="function"?J(I):J.replace("%s",I)},c.to=function(m,v){return h(m,v,this,!0)},c.from=function(m,v){return h(m,v,this)};var g=function(m){return m.$u?l.utc():l()};c.toNow=function(m){return this.to(g(this),m)},c.fromNow=function(m){return this.from(g(this),m)}}})})(zd);var F0=zd.exports;const U0=Cv(F0);id.extend(U0);const{Text:ia}=Ae,B0={running:"success",connecting:"processing",stopping:"processing",stopped:"default",error:"error"},W0={connecting:"Establishing connection...",running:"Remote Viewer is running and accessible",stopping:"Stopping Remote Viewer...",stopped:"Remote Viewer has been stopped",error:"An error occurred"};function H0({session:s,onOpen:r,onStop:n,onDisconnect:a}){const{t:l}=qe(),c=()=>{const g=`http://localhost:${s.localPort}`;window.open(g,"_blank"),r==null||r(s)},d=async()=>{if(n)try{await n(s)}catch{}},h=()=>{an.confirm({title:l("remote.message.confirmDisconnect"),content:`${s.host}:${s.remotePort}`,onOk:async()=>{a&&await a(s)}})};return i.jsxs(te,{title:i.jsxs(U,{children:[i.jsx(os,{}),i.jsx(ia,{strong:!0,children:s.host}),i.jsx(tr,{status:B0[s.status],text:l(`remote.status.${s.status}`)})]}),extra:i.jsxs(U,{children:[i.jsx(fe,{type:"primary",icon:i.jsx(od,{}),onClick:c,disabled:s.status!=="running",children:l("remote.session.open")}),i.jsx(fe,{icon:i.jsx(Yv,{}),onClick:d,disabled:s.status!=="running",children:l("remote.session.stop")}),i.jsx(fe,{danger:!0,icon:i.jsx(Jv,{}),onClick:h,children:l("remote.session.disconnect")})]}),style:{marginBottom:16},children:[i.jsxs(we,{column:2,size:"small",children:[i.jsx(we.Item,{label:l("remote.session.localAccess"),children:i.jsxs("a",{href:`http://localhost:${s.localPort}`,target:"_blank",rel:"noopener noreferrer",children:["http://localhost:",s.localPort]})}),i.jsx(we.Item,{label:l("remote.session.remotePath"),children:i.jsx(ia,{code:!0,children:s.remoteRoot})}),i.jsx(we.Item,{label:l("remote.session.sshPort"),children:s.sshPort}),i.jsx(we.Item,{label:l("remote.session.remotePort"),children:s.remotePort}),i.jsx(we.Item,{label:l("remote.session.remotePid"),children:s.remotePid||"N/A"}),i.jsx(we.Item,{label:l("remote.session.startedAt"),children:id(s.startedAt).fromNow()})]}),i.jsx(Xt,{type:s.status==="running"?"success":s.status==="error"?"error":"info",message:W0[s.status]||s.status,description:s.error,showIcon:!0,style:{marginTop:16}}),i.jsx("div",{style:{marginTop:16,color:"#888",fontSize:"12px"},children:i.jsxs(ia,{type:"secondary",children:["Session ID: ",s.sessionId]})})]})}const{Text:Sr}=Ae;function V0({connections:s,onQuickStart:r,onConnect:n,onEdit:a,onDelete:l,loading:c=!1}){const{t:d}=qe(),h=async v=>{try{await r(v),X.success(d("remote.message.viewerStarted"))}catch(y){X.error(y instanceof Error?y.message:d("remote.message.viewerStartFailed"))}},g=async v=>{if(n)try{await n(v)}catch(y){X.error(y instanceof Error?y.message:d("remote.message.connectFailed"))}},m=v=>{an.confirm({title:d("remote.message.confirmDelete"),content:v.name,okText:d("remote.saved.delete"),okButtonProps:{danger:!0},onOk:()=>{l(v.id),X.success(d("remote.message.configDeleted"))}})};return s.length===0?i.jsx(te,{title:d("remote.saved.title"),children:i.jsx(Ge,{description:i.jsxs(U,{direction:"vertical",children:[i.jsx(Sr,{type:"secondary",children:d("remote.saved.empty")}),i.jsx(Sr,{type:"secondary",style:{fontSize:"12px"},children:d("remote.saved.emptyHint")})]})})}):i.jsx(te,{title:d("remote.saved.title"),children:i.jsx(Hn,{dataSource:s,loading:c,renderItem:v=>i.jsx(Hn.Item,{actions:[i.jsx(fe,{type:"primary",icon:i.jsx(ln,{}),onClick:()=>h(v),size:"small",children:d("remote.saved.quickStart")},"quickstart"),n&&i.jsx(fe,{icon:i.jsx(od,{}),onClick:()=>g(v),size:"small",children:d("remote.saved.connectOnly")},"connect"),i.jsx(fe,{danger:!0,icon:i.jsx(ss,{}),onClick:()=>m(v),size:"small",children:d("remote.saved.delete")},"delete")].filter(Boolean),children:i.jsx(Hn.Item.Meta,{avatar:i.jsx(Xv,{icon:i.jsx(os,{}),style:{backgroundColor:"#1677ff"}}),title:i.jsx(Sr,{strong:!0,children:v.name}),description:i.jsxs(U,{direction:"vertical",size:0,children:[i.jsxs(Sr,{type:"secondary",children:[v.username,"@",v.host,":",v.port]}),i.jsx(Sr,{type:"secondary",code:!0,style:{fontSize:"12px"},children:v.remoteRoot}),i.jsx(Sr,{type:"secondary",style:{fontSize:"11px"},children:v.authMethod==="password"?"Password Auth":`Key Auth (${v.privateKeyPath})`})]})})})})})}const Ci="/api/config";async function Md(){const s=await fetch(`${Ci}/dismissed-alerts`);if(!s.ok)throw new Error("Failed to get dismissed alerts");return(await s.json()).dismissed_alerts||[]}async function K0(s){if(!(await fetch(`${Ci}/dismissed-alerts/dismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:s})})).ok)throw new Error("Failed to dismiss alert")}async function G0(s){if(!(await fetch(`${Ci}/dismissed-alerts/undismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:s})})).ok)throw new Error("Failed to undismiss alert")}async function q0(){if(!(await fetch(`${Ci}/dismissed-alerts/clear`,{method:"POST"})).ok)throw new Error("Failed to clear dismissed alerts")}function ui({alertId:s,showDismissOption:r=!0,onDismiss:n,...a}){const{t:l}=qe(),[c,d]=S.useState(!0),[h,g]=S.useState(!1),[m,v]=S.useState(!1);S.useEffect(()=>{(async()=>{try{(await Md()).includes(s)&&(v(!0),d(!1))}catch(j){console.error("Failed to check dismissed alerts:",j)}})()},[s]);const y=async()=>{if(d(!1),h)try{await K0(s),v(!0),n==null||n()}catch(k){console.error("Failed to dismiss alert:",k)}};return m||!c?null:i.jsx(Xt,{...a,closable:!0,onClose:y,action:r?i.jsx("div",{style:{marginTop:-4},children:i.jsx(ai,{checked:h,onChange:k=>g(k.target.checked),onClick:k=>k.stopPropagation(),children:i.jsx("span",{style:{fontSize:"12px"},children:l("common.dontShowAgain")})})}):void 0})}const{Text:Eu,Title:fb}=Ae;function Y0({config:s,sshConfig:r,onConfirm:n,onCancel:a,loading:l=!1}){const{t:c}=qe(),[d]=ft.useForm(),h=async()=>{const g=await d.validateFields();n(g.remoteRoot,g.localPort)};return i.jsxs(te,{title:i.jsxs(U,{children:[i.jsx(Or,{style:{color:"#52c41a"}}),i.jsx("span",{children:c("remote.config.title")})]}),children:[i.jsx(Xt,{message:c("remote.config.connected"),description:`${r.username}@${r.host}:${r.port}`,type:"success",showIcon:!0,style:{marginBottom:16}}),i.jsxs(we,{column:2,size:"small",bordered:!0,style:{marginBottom:16},children:[i.jsx(we.Item,{label:c("remote.config.pythonVersion"),children:i.jsx(Eu,{code:!0,children:s.pythonVersion})}),i.jsx(we.Item,{label:c("remote.config.runicornVersion"),children:i.jsx(Se,{color:"blue",children:s.runicornVersion})}),i.jsx(we.Item,{label:c("remote.config.storageRoot"),span:2,children:i.jsxs(U,{children:[i.jsx(Eu,{code:!0,children:s.defaultStorageRoot}),s.storageRootExists?i.jsx(Se,{icon:i.jsx(Or,{}),color:"success",children:c("remote.config.exists")}):i.jsx(Se,{icon:i.jsx(is,{}),color:"warning",children:c("remote.config.notExists")})]})}),i.jsx(we.Item,{label:c("remote.config.suggestedPort"),children:s.suggestedRemotePort})]}),!s.storageRootExists&&i.jsx(ui,{alertId:"remote.config.pathNotExists",message:c("remote.config.pathNotExistsWarning"),description:c("remote.config.pathNotExistsHint"),type:"warning",showIcon:!0,style:{marginBottom:16}}),i.jsxs(ft,{form:d,layout:"vertical",initialValues:{remoteRoot:s.defaultStorageRoot,localPort:r.localPort,remotePort:s.suggestedRemotePort},children:[i.jsx(ft.Item,{label:c("remote.config.confirmStorageRoot"),name:"remoteRoot",rules:[{required:!0,message:"Please enter remote storage root"}],children:i.jsx(Nt,{placeholder:"/data/runicorn"})}),i.jsx(ft.Item,{label:c("remote.form.localPort"),name:"localPort",help:c("remote.form.localPortHelp"),children:i.jsx(Nt,{type:"number",placeholder:"23301"})})]}),i.jsxs(U,{style:{marginTop:16},children:[i.jsx(fe,{type:"primary",icon:i.jsx(ln,{}),onClick:h,loading:l,size:"large",children:c("remote.config.startViewer")}),i.jsx(fe,{onClick:a,disabled:l,children:c("remote.form.cancel")})]})]})}const sr="/api/remote";async function J0(){const s=await fetch("/api/health");if(!s.ok)throw new Error("Failed to get local version");return(await s.json()).version||"unknown"}async function oi(s){const r=await fetch(`${sr}/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:s.host,port:s.port,username:s.username,password:s.password,private_key_path:s.privateKeyPath,passphrase:s.passphrase,use_agent:!0})});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to connect to remote server")}return r.json()}async function Rr(s,r=22,n){const a=await fetch(`${sr}/disconnect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:s,port:r,username:n})});if(!a.ok){const l=await a.json();throw new Error(l.detail||"Failed to disconnect")}}async function Ou(s){const r=await fetch(`${sr}/viewer/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:s.host,port:s.port,username:s.username,password:s.password,private_key_path:s.privateKeyPath,passphrase:s.passphrase,use_agent:!0,remote_root:s.remoteRoot,local_port:s.localPort,remote_port:s.remotePort||23300,conda_env:s.condaEnv})});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to start Remote Viewer")}return r.json()}async function Au(s){const r=await fetch(`${sr}/viewer/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:s})});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to stop Remote Viewer")}}async function X0(){const s=await fetch(`${sr}/viewer/sessions`);if(!s.ok)throw new Error("Failed to list Remote Viewer sessions");const r=await s.json();return r.sessions||r}async function Z0(s){try{return await oi(s),await Rr(s.host,s.port,s.username),{success:!0,responseTime:0}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Connection test failed"}}}async function Lu(s){const r=await fetch(`${sr}/conda-envs?connection_id=${encodeURIComponent(s)}`);if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to list conda environments")}return r.json()}async function di(s,r="system"){const n=await fetch(`${sr}/config?connection_id=${encodeURIComponent(s)}&conda_env=${encodeURIComponent(r)}`);if(!n.ok){const a=await n.json();throw new Error(a.detail||"Failed to get remote configuration")}return n.json()}const{Text:Pn,Title:hb}=Ae;function Q0({envs:s,connectionId:r,onSelect:n,onCancel:a,loading:l=!1}){const{t:c}=qe(),[d,h]=S.useState(()=>{var I;const C=s.find(M=>M.isDefault);return(C==null?void 0:C.name)||((I=s[0])==null?void 0:I.name)||"system"}),[g,m]=S.useState(""),[v,y]=S.useState(()=>{const C={};return s.forEach(I=>{C[I.name]={loading:!0}}),C}),k=(C,I)=>{const M=C.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),$=I.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),A=T=>{const D=T.split(".").map(q=>parseInt(q)||0);return{major:D[0]||0,minor:D[1]||0,patch:D[2]||0}},E=A(M),w=A($);return E.major===0&&E.minor<5?"too_old":E.major!==w.major||E.minor!==w.minor?"mismatch":"ok"};S.useEffect(()=>{(async()=>{try{const I=await J0();m(I)}catch(I){console.error("Failed to get local version:",I),m("unknown")}})()},[]),S.useEffect(()=>{if(!g)return;(async()=>{for(let M=0;M<s.length;M+=3){const $=s.slice(M,M+3);await Promise.all($.map(async A=>{try{const E=await di(r,A.name),w=E.runicornVersion?k(E.runicornVersion,g):void 0;y(T=>({...T,[A.name]:{pythonVersion:E.pythonVersion,runicornVersion:E.runicornVersion,versionStatus:w,loading:!1,error:!1}}))}catch{y(w=>({...w,[A.name]:{loading:!1,error:!0}}))}}))}})()},[s,r,g]);const j=async()=>{let C=v[d];if(!C||C.loading){const I=an.info({title:c("remote.env.detecting"),content:i.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[i.jsx(Jt,{size:"large"}),i.jsx("p",{style:{marginTop:16},children:c("remote.env.detectingEnvironment",{env:d})})]}),okButtonProps:{style:{display:"none"}},closable:!1,maskClosable:!1});try{const M=await di(r,d),$=M.runicornVersion&&g?k(M.runicornVersion,g):void 0;C={pythonVersion:M.pythonVersion,runicornVersion:M.runicornVersion,versionStatus:$,loading:!1,error:!1},y(A=>({...A,[d]:C}))}catch{C={loading:!1,error:!0},y($=>({...$,[d]:C}))}finally{I.destroy()}}if(!C||C.error){an.error({title:c("remote.env.detectFailed"),content:c("remote.env.detectFailedMessage"),okText:c("remote.form.cancel")});return}if(!C.runicornVersion){const I=d==="system"?"# System Python, no activation needed":`conda activate ${d}`;an.warning({title:c("remote.env.runicornNotInstalledTitle"),width:600,content:i.jsxs("div",{children:[i.jsx("p",{children:c("remote.env.runicornNotInstalledMessage")}),i.jsx("p",{style:{marginTop:16},children:c("remote.env.installInstructions")}),i.jsxs("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:[i.jsxs("div",{style:{color:"#999"},children:["# ",c("remote.env.activateCommand")]}),i.jsx("div",{children:I}),i.jsxs("div",{style:{marginTop:8,color:"#999"},children:["# ",c("remote.env.installCommand")]}),i.jsx("div",{children:"pip install runicorn"})]})]}),okText:c("remote.form.cancel")});return}if(C.versionStatus==="too_old"){an.error({title:c("remote.env.versionTooOldTitle"),width:600,content:i.jsxs("div",{children:[i.jsx("p",{children:c("remote.env.versionTooOldMessage",{version:C.runicornVersion})}),i.jsx("p",{style:{marginTop:16},children:c("remote.env.upgradeInstructions")}),i.jsx("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:i.jsx("div",{children:"pip install --upgrade runicorn"})})]}),okText:c("remote.form.cancel")});return}if(C.versionStatus==="mismatch"){an.warning({title:c("remote.env.versionMismatchTitle"),width:600,content:i.jsxs("div",{children:[i.jsx("p",{children:c("remote.env.versionMismatchMessage")}),i.jsxs("div",{style:{marginTop:16,padding:"12px",background:"#fff7e6",borderRadius:"4px"},children:[i.jsxs("div",{children:[i.jsxs("strong",{children:[c("remote.env.localVersion"),":"]})," ",g]}),i.jsxs("div",{style:{marginTop:4},children:[i.jsxs("strong",{children:[c("remote.env.remoteVersion"),":"]})," ",C.runicornVersion]})]}),i.jsx("p",{style:{marginTop:16,color:"#faad14"},children:c("remote.env.versionMismatchWarning")})]}),okText:c("remote.env.continueAnyway"),cancelText:c("remote.form.cancel"),onOk:()=>{n(d)}});return}n(d)};return s.length===0?i.jsxs(te,{title:c("remote.env.title"),children:[i.jsx(Ge,{description:c("remote.env.noEnvs")}),i.jsx(fe,{onClick:a,style:{marginTop:16},children:c("remote.form.cancel")})]}):i.jsxs(te,{title:i.jsxs(U,{children:[i.jsx(Or,{style:{color:"#52c41a"}}),i.jsx("span",{children:c("remote.env.title")})]}),children:[i.jsx(ui,{alertId:"remote.env.selectHint",message:c("remote.env.selectHint"),description:c("remote.env.selectDescription"),type:"info",showIcon:!0,style:{marginBottom:16}}),i.jsx(Ir.Group,{value:d,onChange:C=>h(C.target.value),style:{width:"100%"},children:i.jsx(Hn,{dataSource:s,size:"small",renderItem:C=>{const I=v[C.name]||{loading:!0},M=()=>C.type==="conda"?i.jsx(Se,{color:"green",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"conda"}):C.type==="system"?i.jsx(Se,{style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"system"}):C.type==="venv"?i.jsx(Se,{color:"orange",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"venv"}):null;return i.jsx(Hn.Item,{style:{cursor:"pointer",background:d===C.name?"#f0f5ff":"transparent",padding:"6px 12px",borderRadius:"4px",marginBottom:"2px",minHeight:"auto"},onClick:()=>h(C.name),children:i.jsxs(pn,{style:{width:"100%"},align:"middle",children:[i.jsx(Ve,{flex:"none",style:{marginRight:12},children:i.jsx(Ir,{value:C.name})}),i.jsx(Ve,{flex:"auto",children:i.jsxs("div",{style:{lineHeight:"1.2"},children:[i.jsx("div",{children:i.jsxs(U,{size:4,children:[i.jsx(Pn,{strong:!0,style:{fontSize:"14px",lineHeight:"1.2"},children:C.name}),M(),C.isDefault&&i.jsx(Se,{color:"blue",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:c("remote.env.default")})]})}),i.jsx("div",{style:{marginTop:"2px"},children:i.jsx(Pn,{type:"secondary",code:!0,style:{fontSize:"11px",lineHeight:"1.2"},children:C.path})})]})}),i.jsx(Ve,{flex:"none",style:{textAlign:"right",minWidth:140},children:i.jsxs("div",{style:{lineHeight:"1.2"},children:[i.jsx("div",{children:I.loading?i.jsx(Jt,{indicator:i.jsx(pu,{style:{fontSize:12}})}):I.error?i.jsxs(Pn,{type:"danger",style:{fontSize:"11px"},children:[i.jsx(is,{})," ",c("remote.env.detectFailed")]}):i.jsx(Pn,{type:"secondary",style:{fontSize:"11px"},children:I.pythonVersion||"N/A"})}),i.jsx("div",{style:{marginTop:"2px"},children:I.loading?i.jsx(Jt,{indicator:i.jsx(pu,{style:{fontSize:12}})}):I.error?i.jsx(Pn,{type:"danger",style:{fontSize:"11px"},children:"N/A"}):I.runicornVersion?I.versionStatus==="too_old"?i.jsxs(Pn,{type:"danger",style:{fontSize:"11px"},children:[i.jsx(is,{})," Runicorn ",I.runicornVersion]}):I.versionStatus==="mismatch"?i.jsxs(Pn,{type:"warning",style:{fontSize:"11px"},children:[i.jsx(qo,{})," Runicorn ",I.runicornVersion]}):i.jsxs(Pn,{type:"success",style:{fontSize:"11px"},children:["Runicorn ",I.runicornVersion]}):i.jsxs(Pn,{type:"warning",style:{fontSize:"11px"},children:[i.jsx(qo,{})," ",c("remote.env.runicornNotInstalled")]})})]})})]})})}})}),i.jsx(ui,{alertId:"remote.env.checkRunicorn",type:"warning",message:c("remote.env.checkRunicorn"),description:c("remote.env.checkRunicornHint"),icon:i.jsx(qo,{}),style:{marginTop:16,marginBottom:16}}),i.jsxs(U,{style:{marginTop:16},children:[i.jsx(fe,{type:"primary",icon:i.jsx(Zv,{}),onClick:j,loading:l,size:"large",children:c("remote.env.continue")}),i.jsx(fe,{onClick:a,disabled:l,children:c("remote.form.cancel")})]})]})}function eS(){const[s,r]=S.useState([]),[n,a]=S.useState(!1),[l,c]=S.useState(null),d=S.useCallback(async()=>{a(!0),c(null);try{const h=await X0();r(h)}catch(h){c(h instanceof Error?h.message:"Failed to fetch sessions")}finally{a(!1)}},[]);return S.useEffect(()=>{d();const h=setInterval(d,5e3);return()=>clearInterval(h)},[d]),{sessions:s,loading:n,error:l,refetch:d}}const si="/api/remote/connections/saved";function tS(){return`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function Du(s){const r={...s};return Object.keys(r).forEach(n=>{r[n]===void 0&&delete r[n]}),r}function nS(){const[s,r]=S.useState([]),[n,a]=S.useState(!1);S.useEffect(()=>{(async()=>{try{a(!0);const m=await fetch(si);if(m.ok){const v=await m.json();r(v.connections||[])}}catch(m){console.error("Failed to load saved connections:",m)}finally{a(!1)}})()},[]);const l=S.useCallback(async(g,m)=>{const v={id:tS(),name:g.saveName||`${g.username}@${g.host}`,host:g.host,port:g.port,username:g.username,authMethod:g.authMethod,password:g.password||void 0,privateKeyPath:g.privateKeyPath,condaEnv:m,remoteRoot:g.remoteRoot,localPort:g.localPort,remotePort:g.remotePort,createdAt:Date.now()};console.log("Creating new connection:",{name:v.name,hasPassword:!!v.password,hasRemoteRoot:!!v.remoteRoot,condaEnv:v.condaEnv});const y=[...s,Du(v)];try{if(!(await fetch(si,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok)throw new Error("Failed to save connections");r(y)}catch(k){throw console.error("Failed to save connection:",k),k}return v.id},[s]),c=S.useCallback(async(g,m)=>{const v=s.map(y=>y.id===g?Du({...y,...m}):y);console.log("Updating connection:",{id:g,updates:m});try{if(!(await fetch(si,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).ok)throw new Error("Failed to update connection");r(v)}catch(y){throw console.error("Failed to update connection:",y),y}},[s]),d=S.useCallback(async g=>{const m=s.filter(v=>v.id!==g);try{if(!(await fetch(si,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok)throw new Error("Failed to delete connection");r(m)}catch(v){throw console.error("Failed to delete connection:",v),v}},[s]),h=S.useCallback(g=>s.find(m=>m.id===g),[s]);return{connections:s,loading:n,saveConnection:l,updateConnection:c,deleteConnection:d,getConnection:h}}const{Title:rS,Paragraph:sS,Text:Yt}=Ae;function iS(){const{t:s}=qe(),[r,n]=S.useState(!1),[a,l]=S.useState(!1),[c,d]=S.useState(!1),[h,g]=S.useState(!1),[m,v]=S.useState(!1),[y,k]=S.useState(null),[j,C]=S.useState(null),[I,M]=S.useState(!1),[$,A]=S.useState(null),[E,w]=S.useState("connect"),[T,D]=S.useState(""),{sessions:q,refetch:J}=eS(),{connections:V,saveConnection:H,updateConnection:ee,deleteConnection:oe}=nS(),Z=async z=>{n(!0),l(!1);try{await oi(z),n(!1),l(!0),X.success(s("remote.message.connectSuccess")),d(!0);const ie=`${z.username}@${z.host}:${z.port}`,Ce=await Lu(ie);if(k({connectionId:ie,config:z,condaEnvs:Ce.envs||[],selectedEnv:void 0,remoteConfig:void 0}),z.saveName){const ct=z.savePassword&&z.authMethod==="password",_t=ct?z:{...z,password:void 0};console.log("Saving connection:",{saveName:z.saveName,savePassword:z.savePassword,authMethod:z.authMethod,hasPassword:!!z.password,shouldSavePassword:ct});const Zt=await H(_t);C(Zt),X.success(s("remote.message.configSaved"))}}catch(ie){X.error(ie instanceof Error?ie.message:s("remote.message.connectFailed")),l(!1),await Rr(z.host,z.port,z.username).catch(()=>{})}finally{n(!1),d(!1)}},ne=async z=>{if(y){g(!0);try{const ie=await di(y.connectionId,z);k({...y,selectedEnv:z,remoteConfig:ie}),j&&ee(j,{condaEnv:z})}catch(ie){throw X.error(ie instanceof Error?ie.message:s("remote.config.fetchFailed")),ie}finally{g(!1)}}},de=async(z,ie)=>{if(!(!y||!y.remoteConfig)){v(!0);try{const Ce={...y.config,remoteRoot:z,localPort:ie,remotePort:y.remoteConfig.suggestedRemotePort,condaEnv:y.selectedEnv};j&&await ee(j,{remoteRoot:z,localPort:ie,remotePort:y.remoteConfig.suggestedRemotePort}),await Ou(Ce),await J(),X.success(s("remote.message.viewerStarted")),k(null),C(null),l(!1)}catch(Ce){throw X.error(Ce instanceof Error?Ce.message:s("remote.message.viewerStartFailed")),Ce}finally{v(!1)}}},he=async()=>{if(!y)return;const{host:z,port:ie,username:Ce}=y.config;await Rr(z,ie,Ce),k(null),l(!1),d(!1),g(!1),C(null),X.info(s("remote.message.cancelled"))},be=async z=>{try{const ie=await Z0(z);if(ie.success)X.success({content:i.jsxs("div",{children:[i.jsx("div",{children:s("remote.message.testSuccess")}),ie.pythonVersion&&i.jsxs("div",{style:{fontSize:"12px",marginTop:4},children:["Python ",ie.pythonVersion]})]}),duration:3});else throw new Error(ie.error||"Connection test failed")}catch(ie){throw X.error(ie instanceof Error?ie.message:s("remote.message.testFailed")),ie}},pe=async z=>{if(z.authMethod==="password"&&!z.password){A(z),w("connect"),M(!0);return}await G(z,z.password)},G=async(z,ie)=>{n(!0),l(!1);try{const Ce={host:z.host,port:z.port,username:z.username,authMethod:z.authMethod,password:ie||z.password,privateKeyPath:z.privateKeyPath,remoteRoot:z.remoteRoot||"",localPort:z.localPort,remotePort:z.remotePort};await oi(Ce),n(!1),l(!0),X.success(s("remote.message.connectSuccess")),d(!0);const ct=`${Ce.username}@${Ce.host}:${Ce.port}`,_t=await Lu(ct);k({connectionId:ct,config:Ce,condaEnvs:_t.envs||[],selectedEnv:z.condaEnv,remoteConfig:void 0})}catch(Ce){throw X.error(Ce instanceof Error?Ce.message:s("remote.message.connectFailed")),l(!1),await Rr(z.host,z.port,z.username).catch(()=>{}),Ce}finally{n(!1),d(!1)}},se=async z=>{if(!z.condaEnv||!z.remoteRoot){X.warning(s("remote.message.incompleteConfig"));return}if(z.authMethod==="password"&&!z.password){A(z),w("quickstart"),M(!0);return}await ue(z,z.password)},ue=async(z,ie)=>{n(!0),l(!1),d(!0),g(!0);try{const Ce={host:z.host,port:z.port,username:z.username,authMethod:z.authMethod,password:ie||z.password,privateKeyPath:z.privateKeyPath,remoteRoot:z.remoteRoot,localPort:z.localPort,remotePort:z.remotePort};await oi(Ce),n(!1),l(!0),X.success(s("remote.message.connectSuccess"));const ct=`${Ce.username}@${Ce.host}:${Ce.port}`,_t=await di(ct,z.condaEnv),Zt={...Ce,remoteRoot:z.remoteRoot,remotePort:_t.suggestedRemotePort,condaEnv:z.condaEnv};await Ou(Zt),await J(),X.success(s("remote.message.viewerStarted"))}catch(Ce){throw X.error(Ce instanceof Error?Ce.message:s("remote.message.viewerStartFailed")),l(!1),await Rr(z.host,z.port,z.username).catch(()=>{}),Ce}finally{n(!1),d(!1),g(!1)}},ye=async z=>{try{await Au(z.sessionId),await J(),y||(l(!1),C(null)),X.success(s("remote.message.viewerStopped"))}catch(ie){throw X.error(ie instanceof Error?ie.message:s("remote.message.viewerStopFailed")),ie}},Je=async z=>{try{await Au(z.sessionId),await Rr(z.host,z.sshPort||22,z.username||"user"),await J(),y||(l(!1),C(null)),X.success(s("remote.message.disconnected"))}catch(ie){throw X.error(ie instanceof Error?ie.message:s("remote.message.disconnectFailed")),ie}},Xe=q.filter(z=>z.status!=="stopped"),W=new Set(q.map(z=>z.host)).size,ae=async()=>{if(!$||!T){X.warning(s("remote.form.password")+" "+s("remote.form.required"));return}try{E==="connect"?await G($,T):await ue($,T),M(!1),D(""),A(null)}catch{}},ze=()=>{M(!1),D(""),A(null)};return i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:24},children:[i.jsxs(rS,{level:2,children:[i.jsx(os,{})," ",s("remote.title")]}),i.jsx(sS,{type:"secondary",children:s("remote.subtitle")})]}),i.jsx(ui,{alertId:"remote.intro",type:"info",message:s("remote.help.architecture"),description:s("remote.help.advantages"),showIcon:!0,style:{marginBottom:24}}),i.jsxs(pn,{gutter:16,style:{marginBottom:24},children:[i.jsx(Ve,{span:8,children:i.jsx(te,{children:i.jsx(yt,{title:s("remote.stats.activeSessions"),value:Xe.length,prefix:i.jsx(ln,{})})})}),i.jsx(Ve,{span:8,children:i.jsx(te,{children:i.jsx(yt,{title:s("remote.stats.savedConfigs"),value:V.length,prefix:i.jsx(Qv,{})})})}),i.jsx(Ve,{span:8,children:i.jsx(te,{children:i.jsx(yt,{title:s("remote.stats.connectedServers"),value:W,prefix:i.jsx(os,{})})})})]}),i.jsxs(pn,{gutter:24,children:[i.jsx(Ve,{xs:24,lg:12,children:y?y.remoteConfig?i.jsx(Jt,{spinning:h,tip:s("remote.config.fetchingConfig"),children:i.jsx(Y0,{config:y.remoteConfig,sshConfig:y.config,onConfirm:de,onCancel:he,loading:m})}):i.jsx(Jt,{spinning:c,tip:s("remote.env.fetching"),children:i.jsx(Q0,{envs:y.condaEnvs||[],connectionId:y.connectionId,onSelect:ne,onCancel:he,loading:h})}):i.jsxs(i.Fragment,{children:[i.jsx(te,{title:s("remote.form.title"),style:{marginBottom:24},children:a&&c?i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"large",children:[i.jsx(Xt,{message:s("remote.message.connectSuccess"),description:s("remote.env.fetching"),type:"success",showIcon:!0,icon:i.jsx(Or,{})}),i.jsx("div",{style:{textAlign:"center",padding:"24px 0"},children:i.jsx(Jt,{size:"large",tip:s("remote.env.detectingEnvironments")})})]}):i.jsx(N0,{onSubmit:Z,onTest:be,loading:r})}),!a&&!c&&i.jsx(V0,{connections:V,onQuickStart:se,onConnect:pe,onDelete:oe,loading:r})]})}),i.jsx(Ve,{xs:24,lg:12,children:i.jsx(te,{title:i.jsxs(U,{children:[s("remote.session.title"),Xe.length>0&&i.jsxs(Yt,{type:"secondary",children:["(",Xe.length,")"]})]}),children:Xe.length===0?i.jsx(Ge,{description:i.jsxs(U,{direction:"vertical",children:[i.jsx(Yt,{type:"secondary",children:s("remote.session.noActiveSessions")}),i.jsx(Yt,{type:"secondary",style:{fontSize:"12px"},children:s("remote.session.startNewConnection")})]}),style:{margin:"40px 0"}}):Xe.map(z=>i.jsx(H0,{session:z,onStop:ye,onDisconnect:Je},z.sessionId))})})]}),i.jsx(te,{title:s("remote.help.title"),style:{marginTop:24},children:i.jsxs(U,{direction:"vertical",children:[i.jsx(Yt,{children:s("remote.help.step1")}),i.jsx(Yt,{children:s("remote.help.step2")}),i.jsx(Yt,{children:s("remote.help.step3")}),i.jsx(Yt,{children:s("remote.help.step4")}),i.jsx(Yt,{children:s("remote.help.step5")}),i.jsx(Yt,{children:s("remote.help.step6")})]})}),i.jsx(an,{title:s("remote.form.enterPassword"),open:I,onOk:ae,onCancel:ze,okText:s("remote.form.connectButton"),cancelText:s("remote.form.cancel"),confirmLoading:r,centered:!0,width:400,children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsxs(Yt,{children:[s("remote.form.connectionTo"),": ",i.jsx(Yt,{strong:!0,children:$==null?void 0:$.name})]}),i.jsxs(Yt,{type:"secondary",children:[$==null?void 0:$.username,"@",$==null?void 0:$.host]}),i.jsx(Nt.Password,{placeholder:s("remote.form.password"),value:T,onChange:z=>D(z.target.value),onPressEnter:ae,autoFocus:!0,size:"large"})]})})]})}const{Text:br,Title:oS}=Ae;function aS(){const{t:s}=qe(),[r,n]=S.useState(!0),[a,l]=S.useState(null),c=async()=>{n(!0);try{const[h,g,m]=await Promise.all([ud(),ka(),fd().catch(()=>({total_artifacts:0}))]);l({health:h,config:g,artifacts:m})}catch(h){console.error("Failed to load system info:",h),X.error("Failed to load system information")}finally{n(!1)}};S.useEffect(()=>{c()},[]);const d=()=>{var v,y,k,j,C,I,M,$,A,E;if(!a)return;const h=a.config.config_file||"Not available",g=a.config.config_file?a.config.config_file.replace("config.json","rate_limits.json"):"Not available",m=`
Runicorn System Information
===========================

Version Information:
- Runicorn: ${a.health.version}
- Status: ${a.health.status}

Storage Configuration:
- Storage Root: ${a.config.storage||a.config.user_root_dir||"Not configured"}

Configuration Files:
- Main Config: ${h}
- Rate Limit Config: ${g}

Cache Statistics:
- Enabled: ${((v=a.health.cache)==null?void 0:v.enabled)||"N/A"}
- Hit Rate: ${((y=a.health.cache)==null?void 0:y.hit_rate)||"N/A"}
- Hits: ${((k=a.health.cache)==null?void 0:k.hits)||0}
- Misses: ${((j=a.health.cache)==null?void 0:j.misses)||0}
- Size: ${((C=a.health.cache)==null?void 0:C.size)||0}/${((I=a.health.cache)==null?void 0:I.max_size)||0}

Artifacts Statistics:
- Total Artifacts: ${((M=a.artifacts)==null?void 0:M.total_artifacts)||0}
- Total Versions: ${(($=a.artifacts)==null?void 0:$.total_versions)||0}
- Deduplication: ${(A=a.artifacts)!=null&&A.dedup_enabled?"Enabled":"Disabled"}
- Space Saved: ${(E=a.artifacts)!=null&&E.dedup_ratio?(a.artifacts.dedup_ratio*100).toFixed(1)+"%":"N/A"}

Generated: ${new Date().toLocaleString()}
`.trim();navigator.clipboard.writeText(m).then(()=>{X.success(s("settings.system_info.copied"))}).catch(()=>{X.error(s("settings.system_info.copy_failed"))})};return r||!a?i.jsxs("div",{style:{padding:24,textAlign:"center"},children:[i.jsx(Jt,{size:"large"}),i.jsx("div",{style:{marginTop:16},children:i.jsx(br,{type:"secondary",children:s("settings.system_info.loading")})})]}):i.jsxs(U,{direction:"vertical",size:"middle",style:{width:"100%",padding:24},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs(oS,{level:4,style:{margin:0},children:[i.jsx(mi,{})," ",s("settings.system_info.title")]}),i.jsxs(U,{children:[i.jsx(fe,{icon:i.jsx(Er,{}),onClick:c,size:"small",children:s("settings.system_info.refresh")}),i.jsx(fe,{icon:i.jsx(e_,{}),onClick:d,size:"small",children:s("settings.system_info.copy_all")})]})]}),i.jsx(te,{size:"small",title:s("settings.system_info.version_info"),children:i.jsxs(we,{column:1,size:"small",children:[i.jsx(we.Item,{label:s("settings.system_info.runicorn_version"),children:i.jsx(Se,{color:"blue",children:a.health.version})}),i.jsx(we.Item,{label:s("settings.system_info.api_status"),children:i.jsx(Se,{color:a.health.status==="ok"?"green":"red",children:a.health.status.toUpperCase()})})]})}),i.jsx(te,{size:"small",title:s("settings.system_info.storage_config"),children:i.jsx(we,{column:1,size:"small",children:i.jsx(we.Item,{label:s("settings.system_info.storage_root"),children:i.jsx(br,{code:!0,copyable:!0,children:a.config.storage||a.config.user_root_dir||"Not configured"})})})}),i.jsx(te,{size:"small",title:s("settings.system_info.config_files"),children:i.jsxs(we,{column:1,size:"small",children:[i.jsx(we.Item,{label:s("settings.system_info.config_file"),children:i.jsx(br,{code:!0,copyable:!0,style:{fontSize:12},children:a.config.config_file||"Not available"})}),i.jsx(we.Item,{label:s("settings.system_info.rate_limit_config"),children:i.jsx(br,{code:!0,copyable:!0,style:{fontSize:12},children:a.config.config_file?a.config.config_file.replace("config.json","rate_limits.json"):"Not available"})})]})}),a.health.cache&&i.jsx(te,{size:"small",title:s("settings.system_info.cache_stats"),children:i.jsxs(we,{column:2,size:"small",children:[i.jsx(we.Item,{label:s("settings.system_info.cache_status"),children:i.jsx(Se,{color:a.health.cache.enabled?"green":"default",children:a.health.cache.enabled?"Enabled":"Disabled"})}),i.jsx(we.Item,{label:s("settings.system_info.hit_rate"),children:i.jsx(br,{strong:!0,children:a.health.cache.hit_rate})}),i.jsx(we.Item,{label:s("settings.system_info.hits"),children:a.health.cache.hits}),i.jsx(we.Item,{label:s("settings.system_info.misses"),children:a.health.cache.misses}),i.jsxs(we.Item,{label:s("settings.system_info.cache_size"),children:[a.health.cache.size," / ",a.health.cache.max_size]})]})}),a.artifacts&&a.artifacts.total_artifacts>0&&i.jsx(te,{size:"small",title:s("settings.system_info.artifacts_stats"),children:i.jsxs(we,{column:2,size:"small",children:[i.jsx(we.Item,{label:s("settings.system_info.total_artifacts"),children:a.artifacts.total_artifacts}),i.jsx(we.Item,{label:s("settings.system_info.total_versions"),children:a.artifacts.total_versions}),i.jsx(we.Item,{label:s("settings.system_info.deduplication"),children:i.jsx(Se,{color:a.artifacts.dedup_enabled?"green":"default",children:a.artifacts.dedup_enabled?"Enabled":"Disabled"})}),a.artifacts.dedup_enabled&&a.artifacts.dedup_ratio&&i.jsx(we.Item,{label:s("settings.system_info.space_saved"),children:i.jsxs(br,{type:"success",strong:!0,children:[(a.artifacts.dedup_ratio*100).toFixed(1),"%"]})})]})})]})}const lS={"remote.intro":{zh:"Remote Viewer 架构介绍",en:"Remote Viewer Architecture Intro"},"remote.env.selectHint":{zh:"远程环境选择提示",en:"Remote Environment Selection Hint"},"remote.env.checkRunicorn":{zh:"Runicorn版本检查提示",en:"Runicorn Version Check Hint"},"remote.config.pathNotExists":{zh:"存储路径不存在提示",en:"Storage Path Not Exists Hint"}};function cS(){const{t:s,i18n:r}=qe(),[n,a]=S.useState([]),[l,c]=S.useState(!1),d=async()=>{c(!0);try{const v=await Md();a(v)}catch{X.error(s("settings.failedToLoadDismissedAlerts"))}finally{c(!1)}};S.useEffect(()=>{d()},[]);const h=async v=>{try{await G0(v),X.success(s("settings.alertRestored")),d()}catch{X.error(s("settings.failedToRestoreAlert"))}},g=async()=>{try{await q0(),X.success(s("settings.allAlertsRestored")),a([])}catch{X.error(s("settings.failedToClearAlerts"))}},m=v=>{const y=lS[v];return y?r.language==="zh"?y.zh:y.en:v};return i.jsx(te,{title:s("settings.dismissedAlerts"),extra:n.length>0&&i.jsx(fe,{icon:i.jsx(Er,{}),onClick:g,size:"small",children:s("settings.restoreAll")}),children:n.length===0?i.jsx(Ge,{image:Ge.PRESENTED_IMAGE_SIMPLE,description:s("settings.noDismissedAlerts")}):i.jsx(Hn,{dataSource:n,loading:l,renderItem:v=>i.jsx(Hn.Item,{actions:[i.jsx(Fe,{title:s("settings.restoreAlert"),children:i.jsx(fe,{type:"text",icon:i.jsx(Ra,{}),onClick:()=>h(v)})})],children:i.jsx(Hn.Item.Meta,{title:m(v),description:i.jsx("span",{style:{fontSize:"12px",color:"#999"},children:v})})})})})}const uS=[{label:"Aurora",value:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)"},{label:"Sunset",value:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)"},{label:"Ocean",value:"linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)"},{label:"Forest",value:"linear-gradient(135deg, #a8e063 0%, #56ab2f 100%)"}];function dS({open:s,onClose:r,value:n,onChange:a}){const{t:l}=qe(),{token:c}=kr.useToken(),d=w=>a({...n,...w});l("settings.appearance.density_compact"),l("settings.appearance.density_default"),l("settings.appearance.density_loose");const[h,g]=S.useState(""),[m,v]=S.useState(""),[y,k]=S.useState(!1),[j,C]=S.useState(!1);S.useEffect(()=>{let w=!0;return s&&ka().then(({user_root_dir:T,storage:D})=>{w&&(g(T||""),v(D||""))}).catch(()=>{}),()=>{w=!1}},[s]);const I=async()=>{if(!h||h.trim().length<2){X.warning(l("settings.messages.enter_valid_path"));return}try{k(!0);const w=await y_(h.trim());v(w.storage),X.success(l("settings.messages.updated"))}catch(w){X.error(typeof(w==null?void 0:w.message)=="string"?w.message:l("settings.messages.update_failed"))}finally{k(!1)}},M=()=>i.jsx(U,{direction:"vertical",style:{width:"100%"},size:"middle",children:i.jsx(te,{size:"small",title:i.jsxs(U,{children:[i.jsx(rs,{}),l("settings.cards.theme")]}),children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.theme.mode")}),i.jsx(Ir.Group,{value:n.themeMode,onChange:w=>d({themeMode:w.target.value}),options:[{label:l("settings.theme.light"),value:"light"},{label:l("settings.theme.dark"),value:"dark"},{label:l("settings.theme.auto"),value:"auto"}],optionType:"button",style:{width:"100%",marginTop:8}})]}),i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.appearance.primary_color")}),i.jsx("div",{style:{marginTop:8},children:i.jsx(mu,{value:n.accentColor,onChange:w=>d({accentColor:w.toHexString()}),showText:!0,format:"hex"})})]}),i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.appearance.density")}),i.jsx(Yo,{value:n.density,onChange:w=>d({density:w}),options:[{label:l("settings.appearance.density_compact"),value:"compact"},{label:l("settings.appearance.density_default"),value:"default"},{label:l("settings.appearance.density_loose"),value:"loose"}],style:{width:"100%",marginTop:8}})]})]})})}),$=()=>i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(te,{size:"small",title:i.jsxs(U,{children:[i.jsx(gu,{}),l("settings.cards.background")]}),children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("background.type.label")}),i.jsx(Yo,{value:n.backgroundType,onChange:w=>d({backgroundType:w}),options:[{label:l("background.type.image"),value:"image"},{label:l("background.type.gradient"),value:"gradient"},{label:l("background.type.color"),value:"color"}],style:{width:"100%",marginTop:8}})]}),n.backgroundType==="image"&&i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("background.image_url")}),i.jsx(Nt,{placeholder:l("background.image_url.placeholder"),value:n.backgroundImageUrl,onChange:w=>d({backgroundImageUrl:w.target.value}),style:{marginTop:8}}),n.backgroundImageUrl&&i.jsx("div",{style:{border:"1px solid #eee",borderRadius:6,overflow:"hidden",marginTop:8},children:i.jsx("img",{src:n.backgroundImageUrl,style:{width:"100%",display:"block",maxHeight:120,objectFit:"cover"},alt:l("background.image_preview")})})]}),n.backgroundType==="gradient"&&i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("background.gradient_presets")}),i.jsx(Yo,{value:n.backgroundGradient,onChange:w=>d({backgroundGradient:w}),options:uS,style:{width:"100%",marginTop:8}})]}),n.backgroundType==="color"&&i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("background.color")}),i.jsx("div",{style:{marginTop:8},children:i.jsx(mu,{value:n.backgroundColor,onChange:w=>d({backgroundColor:w.toHexString()}),showText:!0,format:"hex"})})]}),i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("background.opacity")}),i.jsx(ts,{min:0,max:1,step:.01,value:n.backgroundOpacity,onChange:w=>d({backgroundOpacity:Array.isArray(w)?w[0]:w}),marks:{0:"0%",.5:"50%",1:"100%"},style:{marginTop:8}})]})]})}),i.jsx(te,{size:"small",title:i.jsxs(U,{children:[i.jsx(ln,{}),l("settings.cards.visual_effects")]}),children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.glass")}),i.jsx("div",{style:{fontSize:"12px",color:c.colorTextSecondary},children:l("settings.glass.desc")})]}),i.jsx(Et,{checked:n.glass,onChange:w=>d({glass:w})})]}),n.glass&&i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("background.blur")}),i.jsx(ts,{min:0,max:30,step:1,value:n.backgroundBlur,onChange:w=>d({backgroundBlur:Array.isArray(w)?w[0]:w}),marks:{0:"0px",15:"15px",30:"30px"},style:{marginTop:8}})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.performance.animations")}),i.jsx("div",{style:{fontSize:"12px",color:c.colorTextSecondary},children:l("settings.animations.ui_desc")})]}),i.jsx(Et,{checked:n.animationsEnabled,onChange:w=>d({animationsEnabled:w})})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.performance.chart_animations")}),i.jsx("div",{style:{fontSize:"12px",color:c.colorTextSecondary},children:l("settings.animations.chart_desc")})]}),i.jsx(Et,{checked:n.enableChartAnimations,onChange:w=>d({enableChartAnimations:w})})]})]})})]}),A=()=>i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(te,{size:"small",title:i.jsxs(U,{children:[i.jsx(cn,{}),l("settings.cards.storage")]}),children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},children:[i.jsx(Xt,{type:"info",message:l("settings.data.current_storage",{path:m||l("settings.data.not_configured")||"Not configured"}),style:{marginBottom:12}}),i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.data.user_root.label")}),i.jsx(Nt,{placeholder:l("settings.data.user_root.placeholder"),value:h,onChange:w=>g(w.target.value),style:{marginTop:8}}),i.jsx(Ae.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0 8px 0"},children:l("settings.data.note")}),i.jsx(fe,{loading:y,type:"primary",onClick:I,block:!0,children:l("settings.data.save")})]})]})}),i.jsx(te,{size:"small",title:i.jsxs(U,{children:[i.jsx(gi,{}),l("settings.cards.import_export")]}),children:i.jsx(U,{direction:"vertical",style:{width:"100%"},children:i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("offline_import.title")}),i.jsx(Ae.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0"},children:l("offline_import.desc")}),i.jsx(n_.Dragger,{accept:".zip,.tar.gz,.tgz",multiple:!1,showUploadList:!1,disabled:j,beforeUpload:async w=>{try{C(!0);const T=await v_(w),D=((T==null?void 0:T.new_run_ids)||[]).length;X.success(l("offline_import.success",{count:D}))}catch(T){X.error(typeof(T==null?void 0:T.message)=="string"?T.message:l("offline_import.failed"))}finally{C(!1)}return!1},style:{padding:"12px"},children:i.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[i.jsx("div",{style:{marginBottom:4,fontSize:"14px"},children:l("offline_import.drag")}),i.jsx("div",{style:{fontSize:"11px",color:c.colorTextSecondary},children:l("offline_import.supports")}),j&&i.jsx("div",{style:{marginTop:4,color:c.colorPrimary,fontSize:"12px"},children:l("offline_import.importing")})]})})]})})}),i.jsx(cS,{})]}),E=()=>i.jsxs(U,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(te,{size:"small",title:i.jsxs(U,{children:[i.jsx(ln,{}),l("settings.cards.performance")]}),children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.performance.auto_refresh")}),i.jsx("div",{style:{fontSize:"12px",color:c.colorTextSecondary},children:l("settings.auto_refresh.desc")})]}),i.jsx(Et,{checked:n.autoRefresh,onChange:w=>d({autoRefresh:w})})]}),n.autoRefresh&&i.jsx("div",{children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.performance.refresh_interval")}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[i.jsx(da,{min:1,max:60,value:n.refreshInterval,onChange:w=>d({refreshInterval:w||5}),style:{width:80}}),i.jsx("span",{style:{fontSize:"12px",color:c.colorTextSecondary},children:l("settings.units.seconds")})]})]})}),i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.charts.default_height")}),i.jsx(ts,{min:200,max:600,step:20,value:n.defaultChartHeight,onChange:w=>d({defaultChartHeight:Array.isArray(w)?w[0]:w}),marks:{200:"200px",300:"300px",400:"400px",600:"600px"},style:{marginTop:8}})]}),i.jsx("div",{children:i.jsxs("div",{style:{marginTop:8},children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.charts.max_points")}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[i.jsx(da,{min:100,max:1e4,step:100,value:n.maxDataPoints,onChange:w=>d({maxDataPoints:w||1e3}),style:{width:120}}),i.jsx("span",{style:{fontSize:"12px",color:c.colorTextSecondary},children:l("settings.units.points")})]})]})})]})}),i.jsx(te,{size:"small",title:i.jsxs(U,{children:[i.jsx(r_,{}),l("settings.cards.advanced")]}),children:i.jsxs(U,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.charts.grid_lines")}),i.jsx("div",{style:{fontSize:"12px",color:c.colorTextSecondary},children:l("settings.grid_lines.desc")})]}),i.jsx(Et,{checked:n.showGridLines,onChange:w=>d({showGridLines:w})})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Ae.Text,{strong:!0,children:l("settings.performance.sounds")}),i.jsx("div",{style:{fontSize:"12px",color:c.colorTextSecondary},children:l("settings.sounds.desc")})]}),i.jsx(Et,{checked:n.enableSounds,onChange:w=>d({enableSounds:w})})]})]})})]});return i.jsx(t_,{title:i.jsxs(U,{children:[i.jsx(Ca,{}),i.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:l("settings.drawer.title")})]}),width:600,open:s,onClose:r,destroyOnClose:!0,styles:{body:{padding:"16px"}},children:i.jsx(us,{defaultActiveKey:"appearance",items:[{key:"appearance",label:i.jsxs(U,{children:[i.jsx(rs,{}),i.jsx("span",{children:l("settings.tabs.appearance")})]}),children:M()},{key:"layout",label:i.jsxs(U,{children:[i.jsx(gu,{}),i.jsx("span",{children:l("settings.tabs.layout")})]}),children:$()},{key:"data",label:i.jsxs(U,{children:[i.jsx(cn,{}),i.jsx("span",{children:l("settings.tabs.data")})]}),children:A()},{key:"performance",label:i.jsxs(U,{children:[i.jsx(ln,{}),i.jsx("span",{children:l("settings.tabs.performance")})]}),children:E()},{key:"system_info",label:i.jsxs(U,{children:[i.jsx(mi,{}),i.jsx("span",{children:l("settings.tabs.system_info")})]}),children:i.jsx(aS,{})}],tabPosition:"top",size:"small"})})}const{Header:fS,Content:hS,Footer:pS}=ad;function gS(){var T;const s=Rv(),n=[s.pathname.startsWith("/remote")?"remote":s.pathname.startsWith("/artifacts")?"artifacts":(s.pathname.startsWith("/runs/"),"experiments")],{t:a,i18n:l}=qe(),c={themeMode:"auto",accentColor:"#1677ff",density:"default",glass:!0,backgroundType:"gradient",backgroundImageUrl:"",backgroundGradient:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",backgroundColor:"#0b1220",backgroundOpacity:.9,backgroundBlur:8,autoRefresh:!0,refreshInterval:5,animationsEnabled:!0,enableSounds:!1,defaultChartHeight:320,showGridLines:!0,enableChartAnimations:!0,maxDataPoints:1e3},[d,h]=S.useState(()=>{try{const D=localStorage.getItem("ui_settings");return D?{...c,...JSON.parse(D)}:c}catch{return c}});S.useEffect(()=>{try{localStorage.setItem("ui_settings",JSON.stringify(d))}catch{}},[d]);const[g,m]=S.useState(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);S.useEffect(()=>{if(!window.matchMedia)return;const D=window.matchMedia("(prefers-color-scheme: dark)"),q=J=>m(J.matches);try{D.addEventListener("change",q)}catch{D.addListener(q)}return()=>{try{D.removeEventListener("change",q)}catch{D.removeListener(q)}}},[]);const v=d.themeMode==="dark"||d.themeMode==="auto"&&g,y=S.useMemo(()=>{const D=[v?kr.darkAlgorithm:kr.defaultAlgorithm];return d.density==="compact"&&D.push(kr.compactAlgorithm),D},[v,d.density]),k=S.useMemo(()=>{const D={colorPrimary:d.accentColor};return d.density==="loose"&&(D.borderRadius=10,D.padding=16),D},[d.accentColor,d.density]),j=S.useMemo(()=>{const D={position:"fixed",inset:0,zIndex:0,pointerEvents:"none",opacity:d.backgroundOpacity,transition:"background 0.3s ease"};return d.backgroundType==="image"&&d.backgroundImageUrl?(D.backgroundImage=`url(${d.backgroundImageUrl})`,D.backgroundSize="cover",D.backgroundRepeat="no-repeat",D.backgroundPosition="center center"):d.backgroundType==="gradient"?D.backgroundImage=d.backgroundGradient:D.background=d.backgroundColor,D},[d.backgroundType,d.backgroundImageUrl,d.backgroundGradient,d.backgroundColor,d.backgroundOpacity]),C=S.useMemo(()=>{const D={borderRadius:8,transition:d.animationsEnabled?"all 0.3s ease":"none"};return d.glass?{...D,background:v?"rgba(0,0,0,0.25)":"rgba(255,255,255,0.6)",backdropFilter:`blur(${d.backgroundBlur}px)`,WebkitBackdropFilter:`blur(${d.backgroundBlur}px)`,boxShadow:v?"0 4px 30px rgba(0,0,0,0.3)":"0 4px 30px rgba(0,0,0,0.1)"}:{...D,background:v?"#111a2c":"#fff"}},[d.glass,d.backgroundBlur,d.animationsEnabled,v]),[I,M]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const D=await ka();(!D.user_root_dir||D.user_root_dir.trim()==="")&&M(!0)}catch{}})()},[]);const[$,A]=S.useState("loading"),[E,w]=S.useState(0);return S.useEffect(()=>{let D=!0;const q=async()=>{try{await ud(),D&&(A("ok"),w(0))}catch{D&&w(H=>{const ee=H+1;return ee>=2&&A("down"),ee})}};q();const J=(d.autoRefresh?d.refreshInterval:5)*1e3,V=setInterval(q,J);return()=>{D=!1,clearInterval(V)}},[d.autoRefresh,d.refreshInterval]),i.jsx(s_,{theme:{algorithm:y,token:{...k,motion:d.animationsEnabled}},children:i.jsxs(Y_,{value:{settings:d,setSettings:h},children:[i.jsx("div",{style:j}),i.jsxs(ad,{style:{minHeight:"100vh",position:"relative",zIndex:1,background:"transparent",transition:d.animationsEnabled?"all 0.3s ease":"none"},children:[i.jsxs(fS,{style:{display:"flex",alignItems:"center"},children:[i.jsx("div",{style:{color:"#fff",fontWeight:700,marginRight:24},children:a("app.title")}),i.jsx(i_,{theme:"dark",mode:"horizontal",selectedKeys:n,items:[{key:"experiments",icon:i.jsx(rd,{}),label:i.jsx(Go,{to:"/",children:a("menu.experiments")})},{key:"artifacts",icon:i.jsx(cn,{}),label:i.jsx(Go,{to:"/artifacts",children:a("menu.artifacts")})},{key:"remote",icon:i.jsx(os,{}),label:i.jsx(Go,{to:"/remote",children:a("menu.remote")})}],style:{flex:1,minWidth:0}}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[$==="ok"&&i.jsx(Se,{color:"green",children:a("tag.api_ok")}),$==="loading"&&i.jsx(Se,{color:"processing",children:a("tag.api_loading")}),$==="down"&&i.jsx(Se,{children:a("tag.api_down")}),i.jsx(ht,{size:"small",value:(T=l.language)!=null&&T.startsWith("zh")?"zh":"en",onChange:D=>l.changeLanguage(D),style:{width:88},options:[{value:"en",label:"EN"},{value:"zh",label:"中文"}]}),i.jsx(fe,{type:"link",icon:i.jsx(Ca,{style:{color:"#fff"}}),onClick:()=>M(!0)})]})]}),i.jsx(hS,{style:{padding:"24px"},children:i.jsx("div",{style:{...C,padding:24,minHeight:360},children:i.jsxs(Pv,{children:[i.jsx(qr,{path:"/",element:i.jsx(k0,{})}),i.jsx(qr,{path:"/runs/:id",element:i.jsx(uw,{})}),i.jsx(qr,{path:"/artifacts",element:i.jsx(E0,{})}),i.jsx(qr,{path:"/artifacts/:name",element:i.jsx($0,{})}),i.jsx(qr,{path:"/remote",element:i.jsx(iS,{})})]})})}),i.jsxs(pS,{style:{textAlign:"center"},children:[" ",new Date().getFullYear()," ",a("app.title")]})]}),i.jsx(dS,{open:I,onClose:()=>M(!1),value:d,onChange:h})]})})}const _e=s=>typeof s=="string",Xr=()=>{let s,r;const n=new Promise((a,l)=>{s=a,r=l});return n.resolve=s,n.reject=r,n},zu=s=>s==null?"":""+s,mS=(s,r,n)=>{s.forEach(a=>{r[a]&&(n[a]=r[a])})},xS=/###/g,Mu=s=>s&&s.indexOf("###")>-1?s.replace(xS,"."):s,$u=s=>!s||_e(s),ns=(s,r,n)=>{const a=_e(r)?r.split("."):r;let l=0;for(;l<a.length-1;){if($u(s))return{};const c=Mu(a[l]);!s[c]&&n&&(s[c]=new n),Object.prototype.hasOwnProperty.call(s,c)?s=s[c]:s={},++l}return $u(s)?{}:{obj:s,k:Mu(a[l])}},Nu=(s,r,n)=>{const{obj:a,k:l}=ns(s,r,Object);if(a!==void 0||r.length===1){a[l]=n;return}let c=r[r.length-1],d=r.slice(0,r.length-1),h=ns(s,d,Object);for(;h.obj===void 0&&d.length;)c=`${d[d.length-1]}.${c}`,d=d.slice(0,d.length-1),h=ns(s,d,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=n},yS=(s,r,n,a)=>{const{obj:l,k:c}=ns(s,r,Object);l[c]=l[c]||[],l[c].push(n)},fi=(s,r)=>{const{obj:n,k:a}=ns(s,r);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},vS=(s,r,n)=>{const a=fi(s,n);return a!==void 0?a:fi(r,n)},$d=(s,r,n)=>{for(const a in r)a!=="__proto__"&&a!=="constructor"&&(a in s?_e(s[a])||s[a]instanceof String||_e(r[a])||r[a]instanceof String?n&&(s[a]=r[a]):$d(s[a],r[a],n):s[a]=r[a]);return s},jr=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const wS=s=>_e(s)?s.replace(/[&<>"'\/]/g,r=>_S[r]):s;class SS{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const n=this.regExpMap.get(r);if(n!==void 0)return n;const a=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,a),this.regExpQueue.push(r),a}}const bS=[" ",",","?","!",";"],jS=new SS(20),CS=(s,r,n)=>{r=r||"",n=n||"";const a=bS.filter(d=>r.indexOf(d)<0&&n.indexOf(d)<0);if(a.length===0)return!0;const l=jS.getRegExp(`(${a.map(d=>d==="?"?"\\?":d).join("|")})`);let c=!l.test(s);if(!c){const d=s.indexOf(n);d>0&&!l.test(s.substring(0,d))&&(c=!0)}return c},wa=(s,r,n=".")=>{if(!s)return;if(s[r])return Object.prototype.hasOwnProperty.call(s,r)?s[r]:void 0;const a=r.split(n);let l=s;for(let c=0;c<a.length;){if(!l||typeof l!="object")return;let d,h="";for(let g=c;g<a.length;++g)if(g!==c&&(h+=n),h+=a[g],d=l[h],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&g<a.length-1)continue;c+=g-c+1;break}l=d}return l},as=s=>s==null?void 0:s.replace("_","-"),RS={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,r){var n,a;(a=(n=console==null?void 0:console[s])==null?void 0:n.apply)==null||a.call(n,console,r)}};class hi{constructor(r,n={}){this.init(r,n)}init(r,n={}){this.prefix=n.prefix||"i18next:",this.logger=r||RS,this.options=n,this.debug=n.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,n,a,l){return l&&!this.debug?null:(_e(r[0])&&(r[0]=`${a}${this.prefix} ${r[0]}`),this.logger[n](r))}create(r){return new hi(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new hi(this.logger,r)}}var hn=new hi;class Ri{constructor(){this.observers={}}on(r,n){return r.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const l=this.observers[a].get(n)||0;this.observers[a].set(n,l+1)}),this}off(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r].delete(n)}}emit(r,...n){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([l,c])=>{for(let d=0;d<c;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([l,c])=>{for(let d=0;d<c;d++)l.apply(l,[r,...n])})}}class Fu extends Ri{constructor(r,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const n=this.options.ns.indexOf(r);n>-1&&this.options.ns.splice(n,1)}getResource(r,n,a,l={}){var m,v;const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;r.indexOf(".")>-1?h=r.split("."):(h=[r,n],a&&(Array.isArray(a)?h.push(...a):_e(a)&&c?h.push(...a.split(c)):h.push(a)));const g=fi(this.data,h);return!g&&!n&&!a&&r.indexOf(".")>-1&&(r=h[0],n=h[1],a=h.slice(2).join(".")),g||!d||!_e(a)?g:wa((v=(m=this.data)==null?void 0:m[r])==null?void 0:v[n],a,c)}addResource(r,n,a,l,c={silent:!1}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[r,n];a&&(h=h.concat(d?a.split(d):a)),r.indexOf(".")>-1&&(h=r.split("."),l=n,n=h[1]),this.addNamespaces(n),Nu(this.data,h,l),c.silent||this.emit("added",r,n,a,l)}addResources(r,n,a,l={silent:!1}){for(const c in a)(_e(a[c])||Array.isArray(a[c]))&&this.addResource(r,n,c,a[c],{silent:!0});l.silent||this.emit("added",r,n,a)}addResourceBundle(r,n,a,l,c,d={silent:!1,skipCopy:!1}){let h=[r,n];r.indexOf(".")>-1&&(h=r.split("."),l=a,a=n,n=h[1]),this.addNamespaces(n);let g=fi(this.data,h)||{};d.skipCopy||(a=JSON.parse(JSON.stringify(a))),l?$d(g,a,c):g={...g,...a},Nu(this.data,h,g),d.silent||this.emit("added",r,n,a)}removeResourceBundle(r,n){this.hasResourceBundle(r,n)&&delete this.data[r][n],this.removeNamespaces(n),this.emit("removed",r,n)}hasResourceBundle(r,n){return this.getResource(r,n)!==void 0}getResourceBundle(r,n){return n||(n=this.options.defaultNS),this.getResource(r,n)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const n=this.getDataByLanguage(r);return!!(n&&Object.keys(n)||[]).find(l=>n[l]&&Object.keys(n[l]).length>0)}toJSON(){return this.data}}var Nd={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,r,n,a,l){return s.forEach(c=>{var d;r=((d=this.processors[c])==null?void 0:d.process(r,n,a,l))??r}),r}};const Fd=Symbol("i18next/PATH_KEY");function PS(){const s=[],r=Object.create(null);let n;return r.get=(a,l)=>{var c;return(c=n==null?void 0:n.revoke)==null||c.call(n),l===Fd?s:(s.push(l),n=Proxy.revocable(a,r),n.proxy)},Proxy.revocable(Object.create(null),r).proxy}function Sa(s,r){const{[Fd]:n}=s(PS());return n.join((r==null?void 0:r.keySeparator)??".")}const Uu={},Bu=s=>!_e(s)&&typeof s!="boolean"&&typeof s!="number";class pi extends Ri{constructor(r,n={}){super(),mS(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=hn.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,n={interpolation:{}}){const a={...n};if(r==null)return!1;const l=this.resolve(r,a);return(l==null?void 0:l.res)!==void 0}extractFromKey(r,n){let a=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let c=n.ns||this.options.defaultNS||[];const d=a&&r.indexOf(a)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!CS(r,a,l);if(d&&!h){const g=r.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:r,namespaces:_e(c)?[c]:c};const m=r.split(a);(a!==l||a===l&&this.options.ns.indexOf(m[0])>-1)&&(c=m.shift()),r=m.join(l)}return{key:r,namespaces:_e(c)?[c]:c}}translate(r,n,a){let l=typeof n=="object"?{...n}:n;if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof l=="object"&&(l={...l}),l||(l={}),r==null)return"";typeof r=="function"&&(r=Sa(r,{...this.options,...l})),Array.isArray(r)||(r=[String(r)]);const c=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:h,namespaces:g}=this.extractFromKey(r[r.length-1],l),m=g[g.length-1];let v=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const y=l.lng||this.language,k=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return k?c?{res:`${m}${v}${h}`,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:m,usedParams:this.getUsedParamsDetails(l)}:`${m}${v}${h}`:c?{res:h,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:m,usedParams:this.getUsedParamsDetails(l)}:h;const j=this.resolve(r,l);let C=j==null?void 0:j.res;const I=(j==null?void 0:j.usedKey)||h,M=(j==null?void 0:j.exactUsedKey)||h,$=["[object Number]","[object Function]","[object RegExp]"],A=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,w=l.count!==void 0&&!_e(l.count),T=pi.hasDefaultValue(l),D=w?this.pluralResolver.getSuffix(y,l.count,l):"",q=l.ordinal&&w?this.pluralResolver.getSuffix(y,l.count,{ordinal:!1}):"",J=w&&!l.ordinal&&l.count===0,V=J&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${D}`]||l[`defaultValue${q}`]||l.defaultValue;let H=C;E&&!C&&T&&(H=V);const ee=Bu(H),oe=Object.prototype.toString.apply(H);if(E&&H&&ee&&$.indexOf(oe)<0&&!(_e(A)&&Array.isArray(H))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(I,H,{...l,ns:g}):`key '${h} (${this.language})' returned an object instead of string.`;return c?(j.res=Z,j.usedParams=this.getUsedParamsDetails(l),j):Z}if(d){const Z=Array.isArray(H),ne=Z?[]:{},de=Z?M:I;for(const he in H)if(Object.prototype.hasOwnProperty.call(H,he)){const be=`${de}${d}${he}`;T&&!C?ne[he]=this.translate(be,{...l,defaultValue:Bu(V)?V[he]:void 0,joinArrays:!1,ns:g}):ne[he]=this.translate(be,{...l,joinArrays:!1,ns:g}),ne[he]===be&&(ne[he]=H[he])}C=ne}}else if(E&&_e(A)&&Array.isArray(C))C=C.join(A),C&&(C=this.extendTranslation(C,r,l,a));else{let Z=!1,ne=!1;!this.isValidLookup(C)&&T&&(Z=!0,C=V),this.isValidLookup(C)||(ne=!0,C=h);const he=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ne?void 0:C,be=T&&V!==C&&this.options.updateMissing;if(ne||Z||be){if(this.logger.log(be?"updateKey":"missingKey",y,m,h,be?V:C),d){const ue=this.resolve(h,{...l,keySeparator:!1});ue&&ue.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let pe=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let ue=0;ue<G.length;ue++)pe.push(G[ue]);else this.options.saveMissingTo==="all"?pe=this.languageUtils.toResolveHierarchy(l.lng||this.language):pe.push(l.lng||this.language);const se=(ue,ye,Je)=>{var W;const Xe=T&&Je!==C?Je:he;this.options.missingKeyHandler?this.options.missingKeyHandler(ue,m,ye,Xe,be,l):(W=this.backendConnector)!=null&&W.saveMissing&&this.backendConnector.saveMissing(ue,m,ye,Xe,be,l),this.emit("missingKey",ue,m,ye,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?pe.forEach(ue=>{const ye=this.pluralResolver.getSuffixes(ue,l);J&&l[`defaultValue${this.options.pluralSeparator}zero`]&&ye.indexOf(`${this.options.pluralSeparator}zero`)<0&&ye.push(`${this.options.pluralSeparator}zero`),ye.forEach(Je=>{se([ue],h+Je,l[`defaultValue${Je}`]||V)})}):se(pe,h,V))}C=this.extendTranslation(C,r,l,j,a),ne&&C===h&&this.options.appendNamespaceToMissingKey&&(C=`${m}${v}${h}`),(ne||Z)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${v}${h}`:h,Z?C:void 0,l))}return c?(j.res=C,j.usedParams=this.getUsedParamsDetails(l),j):C}extendTranslation(r,n,a,l,c){var g,m;if((g=this.i18nFormat)!=null&&g.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const v=_e(r)&&(((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(v){const j=r.match(this.interpolator.nestingRegexp);y=j&&j.length}let k=a.replace&&!_e(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(k={...this.options.interpolation.defaultVariables,...k}),r=this.interpolator.interpolate(r,k,a.lng||this.language||l.usedLng,a),v){const j=r.match(this.interpolator.nestingRegexp),C=j&&j.length;y<C&&(a.nest=!1)}!a.lng&&l&&l.res&&(a.lng=this.language||l.usedLng),a.nest!==!1&&(r=this.interpolator.nest(r,(...j)=>(c==null?void 0:c[0])===j[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${j[0]} in key: ${n[0]}`),null):this.translate(...j,n),a)),a.interpolation&&this.interpolator.reset()}const d=a.postProcess||this.options.postProcess,h=_e(d)?[d]:d;return r!=null&&(h!=null&&h.length)&&a.applyPostProcessor!==!1&&(r=Nd.handle(h,r,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),r}resolve(r,n={}){let a,l,c,d,h;return _e(r)&&(r=[r]),r.forEach(g=>{if(this.isValidLookup(a))return;const m=this.extractFromKey(g,n),v=m.key;l=v;let y=m.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const k=n.count!==void 0&&!_e(n.count),j=k&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(_e(n.context)||typeof n.context=="number")&&n.context!=="",I=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);y.forEach(M=>{var $,A;this.isValidLookup(a)||(h=M,!Uu[`${I[0]}-${M}`]&&(($=this.utils)!=null&&$.hasLoadedNamespace)&&!((A=this.utils)!=null&&A.hasLoadedNamespace(h))&&(Uu[`${I[0]}-${M}`]=!0,this.logger.warn(`key "${l}" for languages "${I.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),I.forEach(E=>{var D;if(this.isValidLookup(a))return;d=E;const w=[v];if((D=this.i18nFormat)!=null&&D.addLookupKeys)this.i18nFormat.addLookupKeys(w,v,E,M,n);else{let q;k&&(q=this.pluralResolver.getSuffix(E,n.count,n));const J=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(k&&(n.ordinal&&q.indexOf(V)===0&&w.push(v+q.replace(V,this.options.pluralSeparator)),w.push(v+q),j&&w.push(v+J)),C){const H=`${v}${this.options.contextSeparator||"_"}${n.context}`;w.push(H),k&&(n.ordinal&&q.indexOf(V)===0&&w.push(H+q.replace(V,this.options.pluralSeparator)),w.push(H+q),j&&w.push(H+J))}}let T;for(;T=w.pop();)this.isValidLookup(a)||(c=T,a=this.getResource(E,M,T,n))}))})}),{res:a,usedKey:l,exactUsedKey:c,usedLng:d,usedNS:h}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,n,a,l={}){var c;return(c=this.i18nFormat)!=null&&c.getResource?this.i18nFormat.getResource(r,n,a,l):this.resourceStore.getResource(r,n,a,l)}getUsedParamsDetails(r={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=r.replace&&!_e(r.replace);let l=a?r.replace:r;if(a&&typeof r.count<"u"&&(l.count=r.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!a){l={...l};for(const c of n)delete l[c]}return l}static hasDefaultValue(r){const n="defaultValue";for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&n===a.substring(0,n.length)&&r[a]!==void 0)return!0;return!1}}class Wu{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=hn.create("languageUtils")}getScriptPartFromCode(r){if(r=as(r),!r||r.indexOf("-")<0)return null;const n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(r){if(r=as(r),!r||r.indexOf("-")<0)return r;const n=r.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(r){if(_e(r)&&r.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(r)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let n;return r.forEach(a=>{if(n)return;const l=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(l))&&(n=l)}),!n&&this.options.supportedLngs&&r.forEach(a=>{if(n)return;const l=this.getScriptPartFromCode(a);if(this.isSupportedCode(l))return n=l;const c=this.getLanguagePartFromCode(a);if(this.isSupportedCode(c))return n=c;n=this.options.supportedLngs.find(d=>{if(d===c)return d;if(!(d.indexOf("-")<0&&c.indexOf("-")<0)&&(d.indexOf("-")>0&&c.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===c||d.indexOf(c)===0&&c.length>1))return d})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),_e(r)&&(r=[r]),Array.isArray(r))return r;if(!n)return r.default||[];let a=r[n];return a||(a=r[this.getScriptPartFromCode(n)]),a||(a=r[this.formatLanguageCode(n)]),a||(a=r[this.getLanguagePartFromCode(n)]),a||(a=r.default),a||[]}toResolveHierarchy(r,n){const a=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],r),l=[],c=d=>{d&&(this.isSupportedCode(d)?l.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return _e(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(r))):_e(r)&&c(this.formatLanguageCode(r)),a.forEach(d=>{l.indexOf(d)<0&&c(this.formatLanguageCode(d))}),l}}const Hu={zero:0,one:1,two:2,few:3,many:4,other:5},Vu={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class TS{constructor(r,n={}){this.languageUtils=r,this.options=n,this.logger=hn.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,n){this.rules[r]=n}clearCache(){this.pluralRulesCache={}}getRule(r,n={}){const a=as(r==="dev"?"en":r),l=n.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:a,type:l});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let d;try{d=new Intl.PluralRules(a,{type:l})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Vu;if(!r.match(/-|_/))return Vu;const g=this.languageUtils.getLanguagePartFromCode(r);d=this.getRule(g,n)}return this.pluralRulesCache[c]=d,d}needsPlural(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(r,n,a={}){return this.getSuffixes(r,a).map(l=>`${n}${l}`)}getSuffixes(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),a?a.resolvedOptions().pluralCategories.sort((l,c)=>Hu[l]-Hu[c]).map(l=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${l}`):[]}getSuffix(r,n,a={}){const l=this.getRule(r,a);return l?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${l.select(n)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",n,a))}}const Ku=(s,r,n,a=".",l=!0)=>{let c=vS(s,r,n);return!c&&l&&_e(n)&&(c=wa(s,n,a),c===void 0&&(c=wa(r,n,a))),c},oa=s=>s.replace(/\$/g,"$$$$");class kS{constructor(r={}){var n;this.logger=hn.create("interpolator"),this.options=r,this.format=((n=r==null?void 0:r.interpolation)==null?void 0:n.format)||(a=>a),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:n,escapeValue:a,useRawValueToEscape:l,prefix:c,prefixEscaped:d,suffix:h,suffixEscaped:g,formatSeparator:m,unescapeSuffix:v,unescapePrefix:y,nestingPrefix:k,nestingPrefixEscaped:j,nestingSuffix:C,nestingSuffixEscaped:I,nestingOptionsSeparator:M,maxReplaces:$,alwaysFormat:A}=r.interpolation;this.escape=n!==void 0?n:wS,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=c?jr(c):d||"{{",this.suffix=h?jr(h):g||"}}",this.formatSeparator=m||",",this.unescapePrefix=v?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=k?jr(k):j||jr("$t("),this.nestingSuffix=C?jr(C):I||jr(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=$||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(n,a)=>(n==null?void 0:n.source)===a?(n.lastIndex=0,n):new RegExp(a,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,n,a,l){var j;let c,d,h;const g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=C=>{if(C.indexOf(this.formatSeparator)<0){const A=Ku(n,g,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,a,{...l,...n,interpolationkey:C}):A}const I=C.split(this.formatSeparator),M=I.shift().trim(),$=I.join(this.formatSeparator).trim();return this.format(Ku(n,g,M,this.options.keySeparator,this.options.ignoreJSONStructure),$,a,{...l,...n,interpolationkey:M})};this.resetRegExp();const v=(l==null?void 0:l.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((j=l==null?void 0:l.interpolation)==null?void 0:j.skipOnVariables)!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>oa(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?oa(this.escape(C)):oa(C)}].forEach(C=>{for(h=0;c=C.regex.exec(r);){const I=c[1].trim();if(d=m(I),d===void 0)if(typeof v=="function"){const $=v(r,c,l);d=_e($)?$:""}else if(l&&Object.prototype.hasOwnProperty.call(l,I))d="";else if(y){d=c[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${r}`),d="";else!_e(d)&&!this.useRawValueToEscape&&(d=zu(d));const M=C.safeValue(d);if(r=r.replace(c[0],M),y?(C.regex.lastIndex+=d.length,C.regex.lastIndex-=c[0].length):C.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),r}nest(r,n,a={}){let l,c,d;const h=(g,m)=>{const v=this.nestingOptionsSeparator;if(g.indexOf(v)<0)return g;const y=g.split(new RegExp(`${v}[ ]*{`));let k=`{${y[1]}`;g=y[0],k=this.interpolate(k,d);const j=k.match(/'/g),C=k.match(/"/g);(((j==null?void 0:j.length)??0)%2===0&&!C||C.length%2!==0)&&(k=k.replace(/'/g,'"'));try{d=JSON.parse(k),m&&(d={...m,...d})}catch(I){return this.logger.warn(`failed parsing options string in nesting for key ${g}`,I),`${g}${v}${k}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,g};for(;l=this.nestingRegexp.exec(r);){let g=[];d={...a},d=d.replace&&!_e(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const m=/{.*}/.test(l[1])?l[1].lastIndexOf("}")+1:l[1].indexOf(this.formatSeparator);if(m!==-1&&(g=l[1].slice(m).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),l[1]=l[1].slice(0,m)),c=n(h.call(this,l[1].trim(),d),d),c&&l[0]===r&&!_e(c))return c;_e(c)||(c=zu(c)),c||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${r}`),c=""),g.length&&(c=g.reduce((v,y)=>this.format(v,y,a.lng,{...a,interpolationkey:l[1].trim()}),c.trim())),r=r.replace(l[0],c),this.regexp.lastIndex=0}return r}}const IS=s=>{let r=s.toLowerCase().trim();const n={};if(s.indexOf("(")>-1){const a=s.split("(");r=a[0].toLowerCase().trim();const l=a[1].substring(0,a[1].length-1);r==="currency"&&l.indexOf(":")<0?n.currency||(n.currency=l.trim()):r==="relativetime"&&l.indexOf(":")<0?n.range||(n.range=l.trim()):l.split(";").forEach(d=>{if(d){const[h,...g]=d.split(":"),m=g.join(":").trim().replace(/^'+|'+$/g,""),v=h.trim();n[v]||(n[v]=m),m==="false"&&(n[v]=!1),m==="true"&&(n[v]=!0),isNaN(m)||(n[v]=parseInt(m,10))}})}return{formatName:r,formatOptions:n}},Gu=s=>{const r={};return(n,a,l)=>{let c=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(c={...c,[l.interpolationkey]:void 0});const d=a+JSON.stringify(c);let h=r[d];return h||(h=s(as(a),l),r[d]=h),h(n)}},ES=s=>(r,n,a)=>s(as(n),a)(r);class OS{constructor(r={}){this.logger=hn.create("formatter"),this.options=r,this.init(r)}init(r,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const a=n.cacheInBuiltFormats?Gu:ES;this.formats={number:a((l,c)=>{const d=new Intl.NumberFormat(l,{...c});return h=>d.format(h)}),currency:a((l,c)=>{const d=new Intl.NumberFormat(l,{...c,style:"currency"});return h=>d.format(h)}),datetime:a((l,c)=>{const d=new Intl.DateTimeFormat(l,{...c});return h=>d.format(h)}),relativetime:a((l,c)=>{const d=new Intl.RelativeTimeFormat(l,{...c});return h=>d.format(h,c.range||"day")}),list:a((l,c)=>{const d=new Intl.ListFormat(l,{...c});return h=>d.format(h)})}}add(r,n){this.formats[r.toLowerCase().trim()]=n}addCached(r,n){this.formats[r.toLowerCase().trim()]=Gu(n)}format(r,n,a,l={}){const c=n.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(g=>g.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,g)=>{var y;const{formatName:m,formatOptions:v}=IS(g);if(this.formats[m]){let k=h;try{const j=((y=l==null?void 0:l.formatParams)==null?void 0:y[l.interpolationkey])||{},C=j.locale||j.lng||l.locale||l.lng||a;k=this.formats[m](h,C,{...v,...l,...j})}catch(j){this.logger.warn(j)}return k}else this.logger.warn(`there was no format function for ${m}`);return h},r)}}const AS=(s,r)=>{s.pending[r]!==void 0&&(delete s.pending[r],s.pendingCount--)};class LS extends Ri{constructor(r,n,a,l={}){var c,d;super(),this.backend=r,this.store=n,this.services=a,this.languageUtils=a.languageUtils,this.options=l,this.logger=hn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],(d=(c=this.backend)==null?void 0:c.init)==null||d.call(c,a,l.backend,l)}queueLoad(r,n,a,l){const c={},d={},h={},g={};return r.forEach(m=>{let v=!0;n.forEach(y=>{const k=`${m}|${y}`;!a.reload&&this.store.hasResourceBundle(m,y)?this.state[k]=2:this.state[k]<0||(this.state[k]===1?d[k]===void 0&&(d[k]=!0):(this.state[k]=1,v=!1,d[k]===void 0&&(d[k]=!0),c[k]===void 0&&(c[k]=!0),g[y]===void 0&&(g[y]=!0)))}),v||(h[m]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(g)}}loaded(r,n,a){const l=r.split("|"),c=l[0],d=l[1];n&&this.emit("failedLoading",c,d,n),!n&&a&&this.store.addResourceBundle(c,d,a,void 0,void 0,{skipCopy:!0}),this.state[r]=n?-1:2,n&&a&&(this.state[r]=0);const h={};this.queue.forEach(g=>{yS(g.loaded,[c],d),AS(g,r),n&&g.errors.push(n),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(m=>{h[m]||(h[m]={});const v=g.loaded[m];v.length&&v.forEach(y=>{h[m][y]===void 0&&(h[m][y]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(g=>!g.done)}read(r,n,a,l=0,c=this.retryTimeout,d){if(!r.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:n,fcName:a,tried:l,wait:c,callback:d});return}this.readingCalls++;const h=(m,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(m&&v&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,r,n,a,l+1,c*2,d)},c);return}d(m,v)},g=this.backend[a].bind(this.backend);if(g.length===2){try{const m=g(r,n);m&&typeof m.then=="function"?m.then(v=>h(null,v)).catch(h):h(null,m)}catch(m){h(m)}return}return g(r,n,h)}prepareLoading(r,n,a={},l){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();_e(r)&&(r=this.languageUtils.toResolveHierarchy(r)),_e(n)&&(n=[n]);const c=this.queueLoad(r,n,a,l);if(!c.toLoad.length)return c.pending.length||l(),null;c.toLoad.forEach(d=>{this.loadOne(d)})}load(r,n,a){this.prepareLoading(r,n,{},a)}reload(r,n,a){this.prepareLoading(r,n,{reload:!0},a)}loadOne(r,n=""){const a=r.split("|"),l=a[0],c=a[1];this.read(l,c,"read",void 0,void 0,(d,h)=>{d&&this.logger.warn(`${n}loading namespace ${c} for language ${l} failed`,d),!d&&h&&this.logger.log(`${n}loaded namespace ${c} for language ${l}`,h),this.loaded(r,d,h)})}saveMissing(r,n,a,l,c,d={},h=()=>{}){var g,m,v,y,k;if((m=(g=this.services)==null?void 0:g.utils)!=null&&m.hasLoadedNamespace&&!((y=(v=this.services)==null?void 0:v.utils)!=null&&y.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${a}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((k=this.backend)!=null&&k.create){const j={...d,isUpdate:c},C=this.backend.create.bind(this.backend);if(C.length<6)try{let I;C.length===5?I=C(r,n,a,l,j):I=C(r,n,a,l),I&&typeof I.then=="function"?I.then(M=>h(null,M)).catch(h):h(null,I)}catch(I){h(I)}else C(r,n,a,l,h,j)}!r||!r[0]||this.store.addResource(r[0],n,a,l)}}}const qu=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let r={};if(typeof s[1]=="object"&&(r=s[1]),_e(s[1])&&(r.defaultValue=s[1]),_e(s[2])&&(r.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const n=s[3]||s[2];Object.keys(n).forEach(a=>{r[a]=n[a]})}return r},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Yu=s=>{var r,n;return _e(s.ns)&&(s.ns=[s.ns]),_e(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),_e(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((n=(r=s.supportedLngs)==null?void 0:r.indexOf)==null?void 0:n.call(r,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},ii=()=>{},DS=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(n=>{typeof s[n]=="function"&&(s[n]=s[n].bind(s))})};class ls extends Ri{constructor(r={},n){if(super(),this.options=Yu(r),this.services={},this.logger=hn,this.modules={external:[]},DS(this),n&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,n),this;setTimeout(()=>{this.init(r,n)},0)}}init(r={},n){this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(_e(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=qu();this.options={...a,...this.options,...Yu(r)},this.options.interpolation={...a.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const l=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?hn.init(l(this.modules.logger),this.options):hn.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=OS;const v=new Wu(this.options);this.store=new Fu(this.options.resources,this.options);const y=this.services;y.logger=hn,y.resourceStore=this.store,y.languageUtils=v,y.pluralResolver=new TS(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(y.formatter=l(m),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new kS(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new LS(l(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(j,...C)=>{this.emit(j,...C)}),this.modules.languageDetector&&(y.languageDetector=l(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=l(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new pi(this.services,this.options),this.translator.on("*",(j,...C)=>{this.emit(j,...C)}),this.modules.external.forEach(j=>{j.init&&j.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ii),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...v)=>this.store[m](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...v)=>(this.store[m](...v),this)});const h=Xr(),g=()=>{const m=(v,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(y),n(v,y)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),h}loadResources(r,n=ii){var c,d;let a=n;const l=_e(r)?r:this.language;if(typeof r=="function"&&(a=r),!this.options.resources||this.options.partialBundledLanguages){if((l==null?void 0:l.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const h=[],g=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(y=>{y!=="cimode"&&h.indexOf(y)<0&&h.push(y)})};l?g(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>g(v)),(d=(c=this.options.preload)==null?void 0:c.forEach)==null||d.call(c,m=>g(m)),this.services.backendConnector.load(h,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(m)})}else a(null)}reloadResources(r,n,a){const l=Xr();return typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=void 0),r||(r=this.languages),n||(n=this.options.ns),a||(a=ii),this.services.backendConnector.reload(r,n,c=>{l.resolve(),a(c)}),l}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&Nd.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let n=0;n<this.languages.length;n++){const a=this.languages[n];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,n){this.isLanguageChangingTo=r;const a=Xr();this.emit("languageChanging",r);const l=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},c=(h,g)=>{g?this.isLanguageChangingTo===r&&(l(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,a.resolve((...m)=>this.t(...m)),n&&n(h,(...m)=>this.t(...m))},d=h=>{var v,y;!r&&!h&&this.services.languageDetector&&(h=[]);const g=_e(h)?h:h&&h[0],m=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(_e(h)?[h]:h);m&&(this.language||l(m),this.translator.language||this.translator.changeLanguage(m),(y=(v=this.services.languageDetector)==null?void 0:v.cacheUserLanguage)==null||y.call(v,m)),this.loadResources(m,k=>{c(k,m)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(r),a}getFixedT(r,n,a){const l=(c,d,...h)=>{let g;typeof d!="object"?g=this.options.overloadTranslationOptionHandler([c,d].concat(h)):g={...d},g.lng=g.lng||l.lng,g.lngs=g.lngs||l.lngs,g.ns=g.ns||l.ns,g.keyPrefix!==""&&(g.keyPrefix=g.keyPrefix||a||l.keyPrefix);const m=this.options.keySeparator||".";let v;return g.keyPrefix&&Array.isArray(c)?v=c.map(y=>(typeof y=="function"&&(y=Sa(y,{...this.options,...d})),`${g.keyPrefix}${m}${y}`)):(typeof c=="function"&&(c=Sa(c,{...this.options,...d})),v=g.keyPrefix?`${g.keyPrefix}${m}${c}`:c),this.t(v,g)};return _e(r)?l.lng=r:l.lngs=r,l.ns=n,l.keyPrefix=a,l}t(...r){var n;return(n=this.translator)==null?void 0:n.translate(...r)}exists(...r){var n;return(n=this.translator)==null?void 0:n.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=n.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const d=(h,g)=>{const m=this.services.backendConnector.state[`${h}|${g}`];return m===-1||m===0||m===2};if(n.precheck){const h=n.precheck(this,d);if(h!==void 0)return h}return!!(this.hasResourceBundle(a,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(a,r)&&(!l||d(c,r)))}loadNamespaces(r,n){const a=Xr();return this.options.ns?(_e(r)&&(r=[r]),r.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{a.resolve(),n&&n(l)}),a):(n&&n(),Promise.resolve())}loadLanguages(r,n){const a=Xr();_e(r)&&(r=[r]);const l=this.options.preload||[],c=r.filter(d=>l.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return c.length?(this.options.preload=l.concat(c),this.loadResources(d=>{a.resolve(),n&&n(d)}),a):(n&&n(),Promise.resolve())}dir(r){var l,c;if(r||(r=this.resolvedLanguage||(((l=this.languages)==null?void 0:l.length)>0?this.languages[0]:this.language)),!r)return"rtl";try{const d=new Intl.Locale(r);if(d&&d.getTextInfo){const h=d.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((c=this.services)==null?void 0:c.languageUtils)||new Wu(qu());return r.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(a.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},n){return new ls(r,n)}cloneInstance(r={},n=ii){const a=r.forkResourceStore;a&&delete r.forkResourceStore;const l={...this.options,...r,isClone:!0},c=new ls(l);if((r.debug!==void 0||r.prefix!==void 0)&&(c.logger=c.logger.clone(r)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},a){const h=Object.keys(this.store.data).reduce((g,m)=>(g[m]={...this.store.data[m]},g[m]=Object.keys(g[m]).reduce((v,y)=>(v[y]={...g[m][y]},v),g[m]),g),{});c.store=new Fu(h,l),c.services.resourceStore=c.store}return c.translator=new pi(c.services,l),c.translator.on("*",(h,...g)=>{c.emit(h,...g)}),c.init(l,n),c.translator.options=l,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const vt=ls.createInstance();vt.createInstance=ls.createInstance;vt.createInstance;vt.dir;vt.init;vt.loadResources;vt.reloadResources;vt.use;vt.changeLanguage;vt.getFixedT;vt.t;vt.exists;vt.setDefaultNamespace;vt.hasLoadedNamespace;vt.loadNamespaces;vt.loadLanguages;var Ud=[],zS=Ud.forEach,MS=Ud.slice;function $S(s){return zS.call(MS.call(arguments,1),function(r){if(r)for(var n in r)s[n]===void 0&&(s[n]=r[n])}),s}var Ju=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,NS=function(r,n,a){var l=a||{};l.path=l.path||"/";var c=encodeURIComponent(n),d="".concat(r,"=").concat(c);if(l.maxAge>0){var h=l.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");d+="; Max-Age=".concat(Math.floor(h))}if(l.domain){if(!Ju.test(l.domain))throw new TypeError("option domain is invalid");d+="; Domain=".concat(l.domain)}if(l.path){if(!Ju.test(l.path))throw new TypeError("option path is invalid");d+="; Path=".concat(l.path)}if(l.expires){if(typeof l.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+="; Expires=".concat(l.expires.toUTCString())}if(l.httpOnly&&(d+="; HttpOnly"),l.secure&&(d+="; Secure"),l.sameSite){var g=typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite;switch(g){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return d},Xu={create:function(r,n,a,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+a*60*1e3)),l&&(c.domain=l),document.cookie=NS(r,encodeURIComponent(n),c)},read:function(r){for(var n="".concat(r,"="),a=document.cookie.split(";"),l=0;l<a.length;l++){for(var c=a[l];c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(n)===0)return c.substring(n.length,c.length)}return null},remove:function(r){this.create(r,"",-1)}},FS={name:"cookie",lookup:function(r){var n;if(r.lookupCookie&&typeof document<"u"){var a=Xu.read(r.lookupCookie);a&&(n=a)}return n},cacheUserLanguage:function(r,n){n.lookupCookie&&typeof document<"u"&&Xu.create(n.lookupCookie,r,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},US={name:"querystring",lookup:function(r){var n;if(typeof window<"u"){var a=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));for(var l=a.substring(1),c=l.split("&"),d=0;d<c.length;d++){var h=c[d].indexOf("=");if(h>0){var g=c[d].substring(0,h);g===r.lookupQuerystring&&(n=c[d].substring(h+1))}}}return n}},Zr=null,Zu=function(){if(Zr!==null)return Zr;try{Zr=window!=="undefined"&&window.localStorage!==null;var r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{Zr=!1}return Zr},BS={name:"localStorage",lookup:function(r){var n;if(r.lookupLocalStorage&&Zu()){var a=window.localStorage.getItem(r.lookupLocalStorage);a&&(n=a)}return n},cacheUserLanguage:function(r,n){n.lookupLocalStorage&&Zu()&&window.localStorage.setItem(n.lookupLocalStorage,r)}},Qr=null,Qu=function(){if(Qr!==null)return Qr;try{Qr=window!=="undefined"&&window.sessionStorage!==null;var r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{Qr=!1}return Qr},WS={name:"sessionStorage",lookup:function(r){var n;if(r.lookupSessionStorage&&Qu()){var a=window.sessionStorage.getItem(r.lookupSessionStorage);a&&(n=a)}return n},cacheUserLanguage:function(r,n){n.lookupSessionStorage&&Qu()&&window.sessionStorage.setItem(n.lookupSessionStorage,r)}},HS={name:"navigator",lookup:function(r){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var a=0;a<navigator.languages.length;a++)n.push(navigator.languages[a]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},VS={name:"htmlTag",lookup:function(r){var n,a=r.htmlTag||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(n=a.getAttribute("lang")),n}},KS={name:"path",lookup:function(r){var n;if(typeof window<"u"){var a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(a instanceof Array)if(typeof r.lookupFromPathIndex=="number"){if(typeof a[r.lookupFromPathIndex]!="string")return;n=a[r.lookupFromPathIndex].replace("/","")}else n=a[0].replace("/","")}return n}},GS={name:"subdomain",lookup:function(r){var n=typeof r.lookupFromSubdomainIndex=="number"?r.lookupFromSubdomainIndex+1:1,a=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(a)return a[n]}},Bd=!1;try{document.cookie,Bd=!0}catch{}var Wd=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Bd||Wd.splice(1,1);function qS(){return{order:Wd,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(r){return r}}}var Hd=function(){function s(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a_(this,s),this.type="languageDetector",this.detectors={},this.init(r,n)}return o_(s,[{key:"init",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=$S(a,this.options||{},qS()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(c){return c.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=l,this.addDetector(FS),this.addDetector(US),this.addDetector(BS),this.addDetector(WS),this.addDetector(HS),this.addDetector(VS),this.addDetector(KS),this.addDetector(GS)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var a=this;n||(n=this.options.order);var l=[];return n.forEach(function(c){if(a.detectors[c]){var d=a.detectors[c].lookup(a.options);d&&typeof d=="string"&&(d=[d]),d&&(l=l.concat(d))}}),l=l.map(function(c){return a.options.convertDetectedLanguage(c)}),this.services.languageUtils.getBestMatchFromCodes?l:l.length>0?l[0]:null}},{key:"cacheUserLanguage",value:function(n,a){var l=this;a||(a=this.options.caches),a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||a.forEach(function(c){l.detectors[c]&&l.detectors[c].cacheUserLanguage(n,l.options)}))}}])}();Hd.type="languageDetector";const YS={"app.title":"Runicorn Viewer","menu.runs":"Runs","menu.experiments":"Experiments","menu.comparison":"Comparison","menu.remote":"Remote","tag.api_ok":"API OK","tag.api_loading":"API…","tag.api_down":"API DOWN","table.project":"Project","table.name":"Name","table.run_id":"Run ID","table.status":"Status","table.best_metric":"Best Metric","table.pid":"PID","table.created":"Created","table.actions":"Actions","table.view":"View","table.duration":"Duration",pause:"Pause",Info:"Info",View:"View","Load Lineage Graph":"Load Lineage Graph",actions:"Actions",view:"View",edit:"Edit","common.dontShowAgain":"Don't show again",delete:"Delete",download:"Download",upload:"Upload",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close"},JS={"experiments.total_runs":"Total Runs","experiments.running":"Running","experiments.finished":"Finished","experiments.failed":"Failed","experiments.interrupted":"Interrupted","experiments.best_metric":"Best Metric","experiments.artifacts_created":"Artifacts","experiments.artifacts_created_tip":"{{count}} artifacts created","experiments.search_placeholder":"Search by name or ID...","experiments.compare":"Compare","experiments.export":"Export","experiments.delete":"Delete","experiments.cancel":"Cancel","experiments.fetch_failed":"Failed to fetch runs","experiments.delete_confirm_title":"Delete Runs","experiments.delete_confirm_content":"Delete {{count}} selected runs? This cannot be undone.","experiments.delete_success":"Successfully deleted {{count}} runs","experiments.delete_failed":"Failed to delete runs","experiments.export_started":"Exporting runs...","experiments.select_multiple":"Please select at least 2 runs to compare","experiments.compare_hint":"Use the comparison feature in the run detail page","experiments.select_one":"Please select at least one run to export","experiments.export_success":"Successfully exported {{count}} runs","experiments.export_failed":"Failed to export runs","experiments.export_json":"Export as JSON","experiments.export_csv":"Export as CSV","experiments.auto_refresh":"Auto-refresh","experiments.check_status":"Check Status","experiments.check_status_tooltip":"Check if running experiments are still alive and update their status","experiments.move_to_bin_title":"Move to Recycle Bin","experiments.soft_delete_confirm_content":"Move {{count}} selected runs to recycle bin?","experiments.soft_delete_note":"Files will be preserved and can be restored later.","experiments.move_to_bin":"Move to Bin","experiments.soft_delete_success":"Moved {{count}} runs to recycle bin","experiments.new_runs":"New runs detected","experiments.select_one_delete":"Please select at least one run to delete","experiments.delete_warning":"This cannot be undone!","experiments.no_runs":"No experiments found","experiments.table_total":"{{from}}-{{to}} of {{total}} items","runs.refresh":"Refresh","runs.auto_refresh_hint":"Auto refresh every 5s","runs.auto_refresh":"Auto Refresh","runs.filter.project":"Project:","runs.filter.name":"Name:","runs.filter.all":"All","runs.refreshing":"Refreshing...","run.title":"Run {{id}}","run.descriptions.status":"Status","run.descriptions.pid":"PID","run.descriptions.project":"Project","run.descriptions.name":"Name","run.descriptions.dir":"Run Dir","run.descriptions.logs":"Logs","run.descriptions.metrics":"Metrics Events","run.load_failed":"Failed to load run details","run.metrics_failed":"Failed to load metrics","metrics.title":"Metrics","metrics.more_columns":"More Columns","metrics.more_columns_tooltip":"Display charts in multiple columns for better comparison","metrics.none":"No step metrics yet.","logs.title":"Live Logs","logs.status.connected":"Connected","logs.status.connecting":"Connecting...","logs.status.disconnected":"Disconnected","logs.status.retry_in":"retry in {{sec}}s","logs.tooltip.autoscroll":"Automatically scroll to the latest line","logs.autoscroll":"Auto Scroll","logs.tooltip.filter_tqdm":"Hide tqdm progress frames to reduce noise","logs.filter_tqdm":"Filter tqdm","logs.clear":"Clear","logs.copy":"Copy","logs.copied":"Copied logs to clipboard","logs.copy_failed":"Copy failed","gpu.util":"Util","gpu.mem":"Memory","gpu.power":"Power","gpu.temp":"Temp","gpu.chart.util":"GPU Utilization %","gpu.chart.mem":"Memory Used %","gpu.chart.power":"Power (W)","gpu.chart.temp":"Temperature (°C)","gpu.not_available":"GPU telemetry not available","gpu.title":"GPU Telemetry","gpu.detail":"GPUs: {{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"Polling every 2s","compare.title":"Compare Runs (Same Experiment)","compare.select.runs":"Runs:","compare.select.runs.placeholder":"Select runs to overlay","compare.select.metrics":"Metrics:","compare.select.metrics.placeholder":"Select metric keys","compare.stepx":"Step X:","compare.refresh":"Refresh","compare.tip":"Select one or more runs and metrics to overlay.","comparison.select_runs":"Select Runs","comparison.select_runs_placeholder":"Choose runs to compare","comparison.select_metrics":"Select Metrics","comparison.select_metrics_placeholder":"Choose metrics to display","comparison.refresh":"Refresh","comparison.x_axis":"X-Axis","comparison.fetch_failed":"Failed to fetch runs","comparison.load_failed":"Failed to load metrics","comparison.loading":"Loading metrics...","comparison.no_runs_selected":"Select runs to start comparison","comparison.no_metrics_selected":"No metrics available or selected","comparison.need_multiple":"Please select at least 2 runs for comparison","comparison.best_results":"Best Results","comparison.info_title":"Cross-Experiment Comparison","comparison.info_desc":"Compare runs across different projects and experiments. For comparing runs within the same experiment, use the comparison feature in the run detail page.","recycle_bin.title":"Recycle Bin","recycle_bin.tooltip":"View and restore deleted experiments","recycle_bin.description":"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.","recycle_bin.original_status":"Original Status","recycle_bin.deleted_at":"Deleted At","recycle_bin.restore_single":"Restore this run","recycle_bin.restore_selected":"Restore Selected","recycle_bin.empty_bin":"Empty Bin","recycle_bin.empty_confirm_title":"Empty Recycle Bin","recycle_bin.empty_confirm_desc":"This will permanently delete all runs in recycle bin. This cannot be undone!","recycle_bin.empty_confirm":"Yes, Delete All","recycle_bin.fetch_failed":"Failed to load recycle bin","recycle_bin.select_to_restore":"Please select runs to restore","recycle_bin.restore_success":"Restored {{count}} runs","recycle_bin.restore_failed":"Failed to restore runs","recycle_bin.empty_success":"Permanently deleted {{count}} runs","recycle_bin.empty_failed":"Failed to empty recycle bin","recycle_bin.empty_state":"Recycle bin is empty","recycle_bin.selection_info":"{{count}} runs selected for restoration","recycle_bin.table_total":"{{from}}-{{to}} of {{total}} items"},XS={"menu.artifacts":"Artifacts","artifacts.title":"Artifacts","artifacts.description":"Version-controlled models, datasets, and files","artifacts.type.all":"All Types","artifacts.type.model":"Models","artifacts.type.dataset":"Datasets","artifacts.type.config":"Configs","artifacts.type.code":"Code","artifacts.type.custom":"Custom","artifacts.search_placeholder":"Search artifacts...","artifacts.no_artifacts":"No artifacts found","artifacts.create_first":"Create your first artifact by logging it from your training code","artifacts.latest_version":"Latest: v{{version}}","artifacts.versions_count":"{{count}} versions","artifacts.size":"Size","artifacts.files":"Files","artifacts.created":"Created","artifacts.updated":"Updated","artifacts.aliases":"Aliases","artifacts.view_versions":"View Versions","artifacts.download":"Download","artifacts.delete":"Delete","artifacts.delete_confirm":"Delete artifact {{name}}:v{{version}}?","artifacts.delete_warning":"This action cannot be undone!","artifacts.stats.total":"Total Artifacts","artifacts.stats.total_versions":"Total Versions","artifacts.stats.total_size":"Total Size","artifacts.stats.dedup_saved":"Space Saved (Dedup)","artifact.detail.title":"Artifact: {{name}}","artifact.detail.version":"Version {{version}}","artifact.detail.type":"Type","artifact.detail.status":"Status","artifact.detail.created_by":"Created By","artifact.detail.created_at":"Created At","artifact.detail.size":"Size","artifact.detail.files_count":"Files","artifact.detail.description":"Description","artifact.detail.metadata":"Metadata","artifact.detail.tags":"Tags","artifact.detail.no_description":"No description provided","artifact.detail.no_metadata":"No metadata","artifact.detail.no_tags":"No tags","artifact.detail.storage_path":"Storage Path","artifact.versions.title":"Version History","artifact.versions.current":"Current Version","artifact.versions.all":"All Versions","artifact.versions.compare":"Compare Versions","artifact.versions.version":"Version","artifact.versions.date":"Date","artifact.versions.run":"Run","artifact.versions.size":"Size","artifact.versions.files":"Files","artifact.versions.actions":"Actions","artifact.files.title":"Files","artifact.files.name":"Name","artifact.files.size":"Size","artifact.files.hash":"Hash","artifact.files.download_file":"Download File","artifact.files.no_files":"No files in this artifact","artifact.references.title":"External References","artifact.references.uri":"URI","artifact.references.checksum":"Checksum","artifact.references.no_references":"No external references","artifact.lineage.title":"Lineage Graph","artifact.lineage.description":"Shows how this artifact was created and how it is used","artifact.lineage.upstream":"Upstream Dependencies","artifact.lineage.downstream":"Downstream Usage","artifact.lineage.no_dependencies":"No dependencies found","artifact.lineage.loading":"Loading lineage graph...","artifact.lineage.error":"Failed to load lineage graph","artifact.lineage.node.artifact":"Artifact","artifact.lineage.node.run":"Run","artifact.lineage.edge.uses":"uses","artifact.lineage.edge.produces":"produces","artifact.training.tab":"Training History","artifact.training.title":"Training Information","artifact.training.no_data":"No training information available","artifact.training.view_run":"View Training Run","artifact.training.run_name":"Run Name","artifact.training.project":"Project","artifact.training.status":"Status","artifact.training.duration":"Duration","artifact.training.created_at":"Created At","artifact.training.key_metrics":"Key Metrics","artifact.performance.tab":"Performance","artifact.performance.title":"Performance History","artifact.performance.no_data":"No performance data available","artifact.performance.select_metrics":"Select metrics to display","artifact.performance.select_metrics_hint":"Please select metrics to display","artifact.performance.metrics":"Metrics","artifacts.stage":"Stage","artifacts.stage.experimental":"Experimental","artifacts.stage.staging":"Staging","artifacts.stage.production":"Production","artifacts.stage.archived":"Archived"},ZS={"remote.title":"Remote Viewer","remote.subtitle":"Connect to remote server via SSH and start Viewer","remote.form.title":"Step 1: Connect to Remote Server","remote.form.connectButton":"Connect to Server","remote.form.host":"Remote Host","remote.form.hostPlaceholder":"192.168.1.100 or server.example.com","remote.form.port":"SSH Port","remote.form.username":"Username","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"Authentication Method","remote.form.password":"Password","remote.form.passwordAuth":"Password","remote.form.keyAuth":"Private Key","remote.form.privateKey":"Private Key Path","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"Passphrase (optional)","remote.form.remoteRoot":"Remote Storage Path","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"Local Port","remote.form.localPortHelp":"Leave empty to auto-assign","remote.form.remotePort":"Remote Port","remote.form.saveConfig":"Save this connection","remote.form.savePassword":"Also save password (insecure, use with caution)","remote.form.saveName":"Configuration Name","remote.form.saveNamePlaceholder":"GPU Server - Lab","remote.form.browse":"Browse...","remote.form.connect":"Connect and Start Viewer","remote.form.testConnection":"Test Connection","remote.form.cancel":"Cancel","remote.form.enterPassword":"Enter Password","remote.form.connectionTo":"Connection to","remote.form.required":"is required","remote.session.title":"Active Sessions","remote.session.noActiveSessions":"No active sessions","remote.session.startNewConnection":"Start a new connection to begin","remote.session.localAccess":"Local Access","remote.session.remotePath":"Remote Path","remote.session.sshPort":"SSH Port","remote.session.remotePort":"Remote Viewer Port","remote.session.remotePid":"Remote PID","remote.session.startedAt":"Started At","remote.session.open":"Open Viewer","remote.session.stop":"Stop","remote.session.disconnect":"Disconnect","remote.session.reconnect":"Reconnect","remote.status.connecting":"Connecting...","remote.status.running":"Running","remote.status.stopping":"Stopping...","remote.status.stopped":"Stopped","remote.status.error":"Error","remote.status.disconnected":"Disconnected","remote.saved.title":"Saved Connections","remote.saved.quickStart":"Quick Start","remote.saved.connectOnly":"Connect Only","remote.saved.edit":"Edit","remote.saved.delete":"Delete","remote.saved.empty":"No saved connections","remote.saved.emptyHint":"Save frequently used connection configs for quick access","remote.message.connectSuccess":"SSH connected successfully","remote.message.connectFailed":"Failed to connect via SSH","remote.message.viewerStarted":"Remote Viewer started successfully!","remote.message.viewerStartFailed":"Failed to start Remote Viewer","remote.message.viewerStopped":"Remote Viewer stopped","remote.message.viewerStopFailed":"Failed to stop Remote Viewer","remote.message.disconnected":"Disconnected","remote.message.disconnectFailed":"Failed to disconnect","remote.message.testSuccess":"Connection test successful","remote.message.testFailed":"Connection test failed","remote.message.configSaved":"Configuration saved","remote.message.configDeleted":"Configuration deleted","remote.message.confirmDelete":"Are you sure you want to delete this connection?","remote.message.confirmDisconnect":"Are you sure you want to disconnect? This will stop the remote Viewer.","remote.message.sessionLost":"Session disconnected. Reconnect?","remote.message.passwordNotSaved":"Password not saved, please re-enter password","remote.message.incompleteConfig":"Incomplete connection config, please reconfigure","remote.message.cancelled":"Cancelled","remote.error.sshAuthFailed":"SSH authentication failed. Please check username and password","remote.error.remotePathNotFound":"Remote path does not exist","remote.error.portInUse":"Local port is already in use","remote.error.connectionTimeout":"Connection timeout","remote.error.invalidConfig":"Invalid configuration","remote.error.unknown":"Unknown error","remote.help.title":"Help","remote.help.step1":"1. Fill in SSH connection info for remote server","remote.help.step2":"2. Choose authentication method (password or key)","remote.help.step3":"3. Specify remote storage path","remote.help.step4":'4. Click "Connect and Start Viewer"',"remote.help.step5":"5. Wait for Remote Viewer to start","remote.help.step6":'6. Click "Open Viewer" to access in new window',"remote.help.architecture":"Remote Viewer uses a VSCode Remote-like architecture, running Viewer on remote server and accessing via SSH tunnel.","remote.help.advantages":"Advantages: Real-time access, no sync needed, saves storage","remote.stats.activeSessions":"Active Sessions","remote.stats.savedConfigs":"Saved Configs","remote.stats.connectedServers":"Connected Servers","remote.env.title":"Select Conda Environment","remote.env.selectHint":"Multiple Python environments detected","remote.env.selectDescription":"Please select the conda environment you want to use. The system will check if runicorn is installed in that environment.","remote.env.default":"Default","remote.env.system":"System","remote.env.checkRunicorn":"Will check runicorn installation","remote.env.checkRunicornHint":"If runicorn is not installed in the selected environment, you will be prompted to install it.","remote.env.continue":"Continue","remote.env.detecting":"Detecting Environment","remote.env.detectingEnvironment":"Detecting {{env}} environment, please wait...","remote.env.detectFailed":"Detection failed","remote.env.detectFailedMessage":"Unable to detect Python and Runicorn versions in this environment. Please check network connection or environment configuration.","remote.env.runicornNotInstalled":"Not installed","remote.env.runicornNotInstalledTitle":"Runicorn Not Installed","remote.env.runicornNotInstalledMessage":"The selected environment does not have Runicorn installed, cannot start Remote Viewer.","remote.env.installInstructions":"Please install Runicorn on the remote server:","remote.env.activateCommand":"Activate environment","remote.env.installCommand":"Install Runicorn","remote.env.versionTooOldTitle":"Runicorn Version Too Old","remote.env.versionTooOldMessage":"The remote Runicorn version is {{version}}, which is below 0.5.0 and does not support Remote Viewer.","remote.env.upgradeInstructions":"Please upgrade to the latest version:","remote.env.versionMismatchTitle":"Runicorn Version Mismatch","remote.env.versionMismatchMessage":"Local and remote Runicorn versions do not match, which may cause functionality issues or degraded experience.","remote.env.localVersion":"Local Version","remote.env.remoteVersion":"Remote Version","remote.env.versionMismatchWarning":"It is recommended to keep versions consistent for the best experience, but you can still continue.","remote.env.continueAnyway":"Continue Anyway","remote.env.noEnvs":"No Python environments detected","remote.env.fetching":"Detecting conda environments...","remote.env.detectingEnvironments":"Detecting Python environments, please wait...","remote.config.title":"Step 3: Confirm Server Configuration","remote.config.connected":"SSH Connected Successfully","remote.config.pythonVersion":"Python Version","remote.config.runicornVersion":"Runicorn Version","remote.config.storageRoot":"Storage Root","remote.config.exists":"Exists","remote.config.notExists":"Not Exists","remote.config.suggestedPort":"Suggested Port","remote.config.confirmStorageRoot":"Confirm Remote Storage Root","remote.config.startViewer":"Start Remote Viewer","remote.config.pathNotExistsWarning":"Storage path does not exist","remote.config.pathNotExistsHint":"The directory will be created automatically on first use","remote.config.fetchingConfig":"Fetching server configuration...","remote.config.fetchFailed":"Failed to fetch server configuration"},QS={"settings.system_info.title":"System Information","settings.system_info.refresh":"Refresh","settings.system_info.copy_all":"Copy All","settings.system_info.copied":"System information copied to clipboard","settings.system_info.copy_failed":"Failed to copy to clipboard","settings.system_info.loading":"Loading system information...","settings.system_info.version_info":"Version Information","settings.system_info.runicorn_version":"Runicorn Version","settings.system_info.api_status":"API Status","settings.system_info.storage_config":"Storage Configuration","settings.system_info.storage_root":"Storage Root","settings.system_info.config_files":"Configuration Files","settings.system_info.config_file":"Main Config","settings.system_info.rate_limit_config":"Rate Limit Config","settings.system_info.cache_stats":"Cache Statistics","settings.system_info.cache_status":"Status","settings.system_info.hit_rate":"Hit Rate","settings.system_info.hits":"Hits","settings.system_info.misses":"Misses","settings.system_info.cache_size":"Cache Size","settings.system_info.artifacts_stats":"Artifacts Statistics","settings.system_info.total_artifacts":"Total Artifacts","settings.system_info.total_versions":"Total Versions","settings.system_info.deduplication":"Deduplication","settings.system_info.space_saved":"Space Saved","settings.system_info.help_text":'This information is useful for debugging and support. Click "Copy All" to copy all details to clipboard.',"settings.drawer.title":"Settings","settings.theme.title":"Theme","settings.theme.mode":"Mode","settings.theme.light":"Light","settings.theme.dark":"Dark","settings.theme.auto":"Follow System","settings.appearance.primary_color":"Primary Color","settings.appearance.density":"Density","settings.appearance.density_compact":"Compact (high info density)","settings.appearance.density_default":"Default","settings.appearance.density_loose":"Loose (more whitespace)","settings.glass":"Glass effect","settings.glass.on":"On","settings.glass.off":"Off","settings.performance.auto_refresh":"Auto Refresh","settings.performance.refresh_interval":"Refresh Interval","settings.performance.animations":"UI Animations","settings.performance.chart_animations":"Chart Animations","settings.performance.sounds":"Sound Notifications","settings.charts.default_height":"Default Chart Height","settings.charts.grid_lines":"Show Grid Lines","settings.charts.max_points":"Max Data Points","settings.animations.ui_desc":"Page transitions, hover effects, modal animations","settings.animations.chart_desc":"Chart data loading animations, smooth transitions","settings.units.seconds":"seconds","settings.units.points":"points","settings.units.pixels":"px","settings.data.not_configured":"Not configured","settings.auto_refresh.desc":"Automatically refresh experiment data","settings.grid_lines.desc":"Display grid lines in charts for better readability","settings.sounds.desc":"Play notification sounds for alerts and status changes","settings.glass.desc":"Glass morphism effect with background blur","settings.tabs.appearance":"Appearance","settings.tabs.layout":"Layout","settings.tabs.data":"Data","settings.tabs.performance":"Performance","settings.tabs.system_info":"System Info","settings.cards.theme":"Theme","settings.cards.background":"Background","settings.cards.visual_effects":"Visual Effects","settings.cards.storage":"Storage Settings","settings.cards.import_export":"Import & Export","settings.cards.performance":"Performance","settings.cards.advanced":"Advanced","settings.data.title":"Data Directory","settings.data.current_storage":"Current storage: {{path}}","settings.data.user_root.label":"User root directory (lower priority than env RUNICORN_DIR)","settings.data.user_root.placeholder":"e.g. D:\\RunicornData","settings.data.note":"Saved to user config and takes effect immediately. If RUNICORN_DIR is set, it has higher priority.","settings.data.save":"Save Data Directory","settings.messages.enter_valid_path":"Please enter a valid absolute path (e.g. D:\\RunicornData)","settings.messages.updated":"User root updated","settings.messages.update_failed":"Update failed","background.title":"Background","background.type.label":"Background Type","background.type.image":"Image","background.type.gradient":"Gradient","background.type.color":"Color","background.image_url":"Image URL","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"Background preview","background.gradient_presets":"Gradient presets","background.color":"Background color","background.opacity":"Opacity","background.blur":"Blur","offline_import.title":"Offline Import (zip / tar.gz)","offline_import.desc":"Import runs exported from offline Linux servers into the local storage for viewing.","offline_import.drag":"Drag file here or click to select","offline_import.supports":"Supports .zip / .tar.gz (internal layout: project/name/runs/<run_id>)","offline_import.importing":"Importing…","offline_import.success":"Imported {{count}} new runs.","offline_import.failed":"Import failed","remote_moved.title":"Remote Sync","remote_moved.tip":'Remote live sync has moved to a dedicated page. Use the top "Remote" menu or click to open.',"chart.controls.title":"Chart Controls","chart.log_y":"Log Scale Y","chart.log_y_tooltip":"Use logarithmic y-axis (hides non-positive values)","chart.auto_scale":"Auto Scale Y","chart.auto_scale_tooltip":"Dynamic y-axis (do not force start at 0)","chart.smooth":"Smoothing","chart.smooth_tooltip":"Exponential moving average smoothing","chart.x_axis":"X Axis","chart.x_axis_tooltip":"X-axis source column","chart.export_csv":"Export CSV","chart.y_axis_controls":"Y-Axis","chart.linear":"Linear","chart.log":"Log","chart.auto":"Auto","chart.fixed":"Fixed","chart.off":"Off","remote.title":"Remote Sync (SSH)","remote.desc":"Establish SSH connection to a Linux server, browse and choose a remote directory as data source, mirror to local storage and visualize on the Runs page.","remote.connect.title":"Connect to server","remote.placeholder.host":"Host, e.g. 10.0.0.2","remote.placeholder.port":"Port","remote.placeholder.user":"Username","remote.placeholder.password":"Password (optional)","remote.placeholder.pkey":"Private key content (optional)","remote.placeholder.pkey_path":"Or private key path (optional, e.g. ~/.ssh/id_rsa)","remote.connect.button":"Connect","remote.connected":"Connected: {{user}}@{{host}}:{{port}}","remote.disconnect":"Disconnect","remote.choose.title":"Choose remote directory","remote.current_dir":"Current:","remote.up":"Up","remote.refresh":"Refresh","remote.empty":"Empty or no permission","remote.interval.suffix":"sec","remote.sync_dir":"Sync this directory","remote.tip":"Select project/name/runs (new) or runs (legacy) instead of a specific <run_id>.","remote.tasks.title":"Sync Tasks","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"Stop","remote.tasks.none":"No tasks","remote.to_runs":"After syncing, go to the Runs page for visualization.","remote.msg.fill_host_user":"Please fill host and username","remote.msg.ssh_connected":"SSH connected","remote.msg.connect_failed":"Connection failed","remote.msg.dir_failed":"Failed to list directory","remote.msg.need_connect":"Please connect SSH first","remote.msg.need_path":"Please choose a remote directory","remote.msg.started":"Live sync started","remote.msg.start_failed":"Failed to start","remote.msg.mirror_configured":"Mirror mode configured successfully","settings.dismissedAlerts":"Dismissed Alerts","settings.noDismissedAlerts":"No dismissed alerts","settings.restoreAlert":"Restore","settings.restoreAll":"Restore All","settings.alertRestored":"Alert restored","settings.allAlertsRestored":"All alerts restored","settings.failedToLoadDismissedAlerts":"Failed to load dismissed alerts","settings.failedToRestoreAlert":"Failed to restore alert","settings.failedToClearAlerts":"Failed to clear alerts"},eb={...YS,...JS,...XS,...ZS,...QS},tb={"app.title":"Runicorn 查看器","menu.runs":"运行","menu.experiments":"实验管理","menu.comparison":"对比分析","menu.remote":"远程","tag.api_ok":"API 正常","tag.api_loading":"API…","tag.api_down":"API 不可用","table.project":"项目","table.name":"实验","table.run_id":"运行 ID","table.status":"状态","table.best_metric":"最佳指标","table.pid":"PID","table.created":"创建时间","table.actions":"操作","table.view":"查看","table.duration":"耗时",pause:"暂停",Info:"信息",View:"查看","Load Lineage Graph":"加载血缘关系图",actions:"操作",view:"查看",edit:"编辑","common.dontShowAgain":"不再提示",delete:"删除",download:"下载",upload:"上传",save:"保存",cancel:"取消",confirm:"确认",close:"关闭"},nb={"experiments.total_runs":"总运行数","experiments.running":"运行中","experiments.finished":"已完成","experiments.failed":"失败","experiments.interrupted":"已中断","experiments.best_metric":"最佳指标","experiments.artifacts_created":"产出模型","experiments.artifacts_created_tip":"创建了 {{count}} 个模型","experiments.artifacts_used":"使用模型","experiments.search_placeholder":"搜索实验名称或ID...","experiments.compare":"对比","experiments.export":"导出","experiments.delete":"删除","experiments.cancel":"取消","experiments.fetch_failed":"获取运行列表失败","experiments.delete_confirm_title":"删除运行","experiments.delete_confirm_content":"确定要删除选中的 {{count}} 个运行吗？此操作无法撤销。","experiments.delete_success":"成功删除 {{count}} 个运行","experiments.delete_failed":"删除失败","experiments.export_started":"正在导出运行数据...","experiments.select_multiple":"请至少选择2个运行进行对比","experiments.compare_hint":"请使用运行详情页面的对比功能","experiments.select_one":"请至少选择一个运行进行导出","experiments.export_success":"成功导出 {{count}} 个运行","experiments.export_failed":"导出失败","experiments.export_json":"导出为 JSON","experiments.export_csv":"导出为 CSV","experiments.auto_refresh":"自动刷新","experiments.check_status":"检查状态","experiments.check_status_tooltip":"检查运行中的实验是否仍然存活并更新其状态","experiments.move_to_bin_title":"移至回收站","experiments.soft_delete_confirm_content":"将{{count}}个选中的运行移至回收站？","experiments.soft_delete_note":"文件将被保留，稍后可以恢复。","experiments.move_to_bin":"移至回收站","experiments.soft_delete_success":"已将{{count}}个运行移至回收站","experiments.new_runs":"检测到新运行","experiments.select_one_delete":"请至少选择一个运行进行删除","experiments.delete_warning":"此操作不可撤销！","experiments.no_runs":"未找到实验","experiments.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项","runs.refresh":"刷新","runs.auto_refresh_hint":"每 5 秒自动刷新","runs.auto_refresh":"自动刷新","runs.filter.project":"项目：","runs.filter.name":"实验：","runs.filter.all":"全部","runs.refreshing":"刷新中...","run.title":"运行 {{id}}","run.descriptions.status":"状态","run.descriptions.pid":"PID","run.descriptions.project":"项目","run.descriptions.name":"实验","run.descriptions.dir":"运行目录","run.descriptions.logs":"日志","run.descriptions.metrics":"指标事件","run.load_failed":"加载运行详情失败","run.metrics_failed":"加载指标失败","metrics.title":"指标","metrics.more_columns":"多列布局","metrics.more_columns_tooltip":"多列显示图表以便更好地对比","metrics.none":"暂无步进指标。","logs.title":"实时日志","logs.status.connected":"已连接","logs.status.connecting":"连接中...","logs.status.disconnected":"已断开","logs.status.retry_in":"{{sec}} 秒后重试","logs.tooltip.autoscroll":"自动滚动到最新行","logs.autoscroll":"自动滚动","logs.tooltip.filter_tqdm":"隐藏 tqdm 进度帧以降低噪声","logs.filter_tqdm":"过滤 tqdm","logs.clear":"清空","logs.copy":"复制","logs.copied":"已复制日志到剪贴板","logs.copy_failed":"复制失败","gpu.util":"利用率","gpu.mem":"显存","gpu.power":"功耗","gpu.temp":"温度","gpu.chart.util":"GPU 利用率 %","gpu.chart.mem":"显存使用 %","gpu.chart.power":"功耗 (W)","gpu.chart.temp":"温度 (°C)","gpu.not_available":"GPU 面板不可用","gpu.title":"GPU 面板","gpu.detail":"GPU 数：{{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"每 2 秒轮询","compare.title":"对比运行（同一实验）","compare.select.runs":"运行：","compare.select.runs.placeholder":"选择需要叠加的运行","compare.select.metrics":"指标：","compare.select.metrics.placeholder":"选择指标键","compare.stepx":"横轴：","compare.refresh":"刷新","compare.tip":"选择一个或多个运行与指标以叠加展示。","comparison.select_runs":"选择运行","comparison.select_runs_placeholder":"选择要对比的运行","comparison.select_metrics":"选择指标","comparison.select_metrics_placeholder":"选择要显示的指标","comparison.refresh":"刷新","comparison.x_axis":"X轴","comparison.fetch_failed":"获取运行列表失败","comparison.load_failed":"加载指标数据失败","comparison.loading":"正在加载指标...","comparison.no_runs_selected":"请选择运行开始对比","comparison.no_metrics_selected":"没有可用或已选择的指标","comparison.need_multiple":"请至少选择2个运行进行对比","comparison.best_results":"最佳结果","comparison.info_title":"跨实验对比","comparison.info_desc":"在不同项目和实验之间对比运行。如需对比同一实验内的运行，请使用运行详情页面的对比功能。","recycle_bin.title":"回收站","recycle_bin.tooltip":"查看和恢复已删除的实验","recycle_bin.description":"回收站包含已软删除的实验。文件被保留，可以恢复。","recycle_bin.original_status":"原始状态","recycle_bin.deleted_at":"删除时间","recycle_bin.restore_single":"恢复此运行","recycle_bin.restore_selected":"恢复选中项","recycle_bin.empty_bin":"清空回收站","recycle_bin.empty_confirm_title":"清空回收站","recycle_bin.empty_confirm_desc":"这将永久删除回收站中的所有运行。此操作不可撤销！","recycle_bin.empty_confirm":"是的，全部删除","recycle_bin.fetch_failed":"加载回收站失败","recycle_bin.select_to_restore":"请选择要恢复的运行","recycle_bin.restore_success":"已恢复{{count}}个运行","recycle_bin.restore_failed":"恢复运行失败","recycle_bin.empty_success":"已永久删除{{count}}个运行","recycle_bin.empty_failed":"清空回收站失败","recycle_bin.empty_state":"回收站为空","recycle_bin.selection_info":"已选择{{count}}个运行用于恢复","recycle_bin.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项"},rb={"run.artifacts.title":"关联的模型与数据集","run.artifacts.created":"创建的模型","run.artifacts.used":"使用的模型","run.artifacts.no_created":"此实验未创建任何模型或数据集","run.artifacts.no_used":"此实验未使用任何模型或数据集","menu.artifacts":"模型仓库","artifacts.title":"模型仓库","artifacts.description":"版本控制的模型、数据集和文件","artifacts.type.all":"全部类型","artifacts.type.model":"模型","artifacts.type.dataset":"数据集","artifacts.type.config":"配置","artifacts.type.code":"代码","artifacts.type.custom":"自定义","artifacts.search_placeholder":"搜索模型和数据集...","artifacts.no_artifacts":"未找到模型","artifacts.create_first":"在训练代码中通过 run.log_artifact() 创建您的第一个模型","artifacts.latest_version":"最新：v{{version}}","artifacts.versions_count":"{{count}} 个版本","artifacts.size":"大小","artifacts.files":"文件数","artifacts.created":"创建时间","artifacts.updated":"更新时间","artifacts.aliases":"别名","artifacts.view_versions":"查看版本","artifacts.download":"下载","artifacts.delete":"删除","artifacts.delete_confirm":"删除模型 {{name}}:v{{version}}？","artifacts.delete_warning":"此操作不可撤销！","artifacts.stats.total":"总模型数","artifacts.stats.total_versions":"总版本数","artifacts.stats.total_size":"总大小","artifacts.stats.dedup_saved":"去重节省空间","artifact.detail.title":"模型：{{name}}","artifact.detail.version":"版本 {{version}}","artifact.detail.type":"类型","artifact.detail.status":"状态","artifact.detail.created_by":"创建者","artifact.detail.created_at":"创建时间","artifact.detail.size":"大小","artifact.detail.files_count":"文件数","artifact.detail.description":"描述","artifact.detail.metadata":"元数据","artifact.detail.tags":"标签","artifact.detail.no_description":"无描述","artifact.detail.no_metadata":"无元数据","artifact.detail.no_tags":"无标签","artifact.detail.storage_path":"存储路径","artifact.versions.title":"版本历史","artifact.versions.current":"当前版本","artifact.versions.all":"所有版本","artifact.versions.compare":"对比版本","artifact.versions.version":"版本","artifact.versions.date":"日期","artifact.versions.run":"运行","artifact.versions.size":"大小","artifact.versions.files":"文件数","artifact.versions.actions":"操作","artifact.files.title":"文件","artifact.files.name":"文件名","artifact.files.size":"大小","artifact.files.hash":"哈希值","artifact.files.download_file":"下载文件","artifact.files.no_files":"此模型无文件","artifact.references.title":"外部引用","artifact.references.uri":"URI","artifact.references.checksum":"校验和","artifact.references.no_references":"无外部引用","artifact.lineage.title":"血缘关系图","artifact.lineage.description":"显示此模型的创建过程和使用情况","artifact.lineage.upstream":"上游依赖","artifact.lineage.downstream":"下游使用","artifact.lineage.no_dependencies":"未找到依赖关系","artifact.lineage.loading":"正在加载血缘关系图...","artifact.lineage.error":"加载血缘关系图失败","artifact.lineage.node.artifact":"模型","artifact.lineage.node.run":"运行","artifact.lineage.edge.uses":"使用","artifact.lineage.edge.produces":"产出","artifact.training.tab":"训练历史","artifact.training.title":"训练信息","artifact.training.no_data":"暂无训练信息","artifact.training.view_run":"查看训练实验","artifact.training.run_name":"实验名称","artifact.training.project":"项目","artifact.training.status":"状态","artifact.training.duration":"持续时间","artifact.training.created_at":"创建时间","artifact.training.key_metrics":"关键指标","artifact.performance.tab":"性能趋势","artifact.performance.title":"性能历史","artifact.performance.no_data":"暂无性能数据","artifact.performance.select_metrics":"选择要显示的指标","artifact.performance.select_metrics_hint":"请选择要显示的指标","artifact.performance.metrics":"指标值","artifacts.stage":"阶段","artifacts.stage.experimental":"实验阶段","artifacts.stage.staging":"预发布","artifacts.stage.production":"生产环境","artifacts.stage.archived":"已归档"},sb={"remote.title":"Remote Viewer","remote.subtitle":"通过 SSH 连接到远程服务器并启动 Viewer","remote.form.title":"第一步：连接到远程服务器","remote.form.connectButton":"连接到服务器","remote.form.host":"远程主机","remote.form.hostPlaceholder":"192.168.1.100 或 server.example.com","remote.form.port":"SSH 端口","remote.form.username":"用户名","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"认证方式","remote.form.password":"密码","remote.form.passwordAuth":"密码认证","remote.form.keyAuth":"私钥认证","remote.form.privateKey":"私钥路径","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"密码短语（可选）","remote.form.remoteRoot":"远程存储路径","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"本地端口","remote.form.localPortHelp":"留空自动分配","remote.form.remotePort":"远程端口","remote.form.saveConfig":"保存此连接配置","remote.form.savePassword":"同时保存密码（不安全，请谨慎使用）","remote.form.saveName":"配置名称","remote.form.saveNamePlaceholder":"GPU 服务器 - 实验室","remote.form.browse":"浏览...","remote.form.connect":"连接并启动 Viewer","remote.form.testConnection":"测试连接","remote.form.cancel":"取消","remote.form.enterPassword":"请输入密码","remote.form.connectionTo":"连接到","remote.form.required":"是必填项","remote.session.title":"活动会话","remote.session.noActiveSessions":"暂无活动会话","remote.session.startNewConnection":"创建新连接以开始","remote.session.localAccess":"本地访问","remote.session.remotePath":"远程路径","remote.session.sshPort":"SSH 端口","remote.session.remotePort":"远程 Viewer 端口","remote.session.remotePid":"远程进程 ID","remote.session.startedAt":"启动时间","remote.session.open":"打开 Viewer","remote.session.stop":"停止","remote.session.disconnect":"断开连接","remote.session.reconnect":"重新连接","remote.status.connecting":"正在连接...","remote.status.running":"运行中","remote.status.stopping":"正在停止...","remote.status.stopped":"已停止","remote.status.error":"错误","remote.status.disconnected":"已断开","remote.saved.title":"已保存的连接","remote.saved.empty":"暂无保存的连接配置","remote.saved.emptyHint":'连接成功后勾选"保存配置"即可保存',"remote.saved.quickStart":"快速启动","remote.saved.connectOnly":"仅连接","remote.saved.edit":"编辑","remote.saved.delete":"删除","remote.message.connectSuccess":"SSH 连接成功","remote.message.connectFailed":"SSH 连接失败","remote.message.viewerStarted":"Remote Viewer 启动成功！","remote.message.viewerStartFailed":"Remote Viewer 启动失败","remote.message.viewerStopped":"Remote Viewer 已停止","remote.message.viewerStopFailed":"停止 Remote Viewer 失败","remote.message.disconnected":"已断开连接","remote.message.disconnectFailed":"断开连接失败","remote.message.testSuccess":"连接测试成功","remote.message.testFailed":"连接测试失败","remote.message.configSaved":"配置已保存","remote.message.configDeleted":"配置已删除","remote.message.confirmDelete":"确定要删除此连接配置吗？","remote.message.confirmDisconnect":"确定要断开连接吗？这将停止远程 Viewer。","remote.message.sessionLost":"会话已断开，是否重新连接？","remote.message.passwordNotSaved":"密码未保存，请重新输入密码","remote.message.incompleteConfig":"连接配置不完整，请重新配置","remote.message.cancelled":"已取消","remote.error.sshAuthFailed":"SSH 认证失败，请检查用户名和密码","remote.error.remotePathNotFound":"远程路径不存在","remote.error.portInUse":"本地端口已被占用","remote.error.connectionTimeout":"连接超时","remote.error.invalidConfig":"配置无效","remote.error.unknown":"未知错误","remote.help.title":"使用帮助","remote.help.step1":"1. 填写远程服务器的 SSH 连接信息","remote.help.step2":"2. 选择认证方式（密码或私钥）","remote.help.step3":"3. 指定远程存储路径","remote.help.step4":'4. 点击"连接并启动"按钮',"remote.help.step5":"5. 等待 Remote Viewer 启动","remote.help.step6":'6. 点击"打开 Viewer"在新窗口中访问',"remote.help.architecture":"Remote Viewer 采用类似 VSCode Remote 的架构，在远程服务器上运行 Viewer，通过 SSH 隧道访问。","remote.help.advantages":"优势：实时访问、无需同步、节省存储空间","remote.stats.activeSessions":"活动会话","remote.stats.savedConfigs":"保存的配置","remote.stats.connectedServers":"已连接服务器","remote.env.title":"选择 Conda 环境","remote.env.selectHint":"检测到多个 Python 环境","remote.env.selectDescription":"请选择一个环境来运行 Runicorn Viewer","remote.env.default":"默认","remote.env.system":"系统","remote.env.checkRunicorn":"确保目标环境已安装 Runicorn","remote.env.checkRunicornHint":"如果环境中没有安装 Runicorn，请先运行: pip install runicorn","remote.env.fetching":"正在检测环境...","remote.env.detectingEnvironments":"正在列出 Conda 环境...","remote.env.detectFailed":"检测失败","remote.env.runicornNotInstalled":"未安装","remote.env.noEnvs":"未检测到 Conda 环境","remote.env.confirmButton":"确认并启动 Viewer","remote.env.cancelButton":"取消","remote.env.continue":"继续","remote.env.detecting":"正在检测环境","remote.env.detectingEnvironment":"正在检测 {{env}} 环境，请稍候...","remote.env.detectFailedMessage":"无法检测该环境的 Python 和 Runicorn 版本，请检查网络连接或环境配置。","remote.env.runicornNotInstalledTitle":"Runicorn 未安装","remote.env.runicornNotInstalledMessage":"选中的环境中未安装 Runicorn，无法启动 Remote Viewer。","remote.env.installInstructions":"请在远程服务器上安装 Runicorn：","remote.env.activateCommand":"激活环境","remote.env.installCommand":"安装 Runicorn","remote.env.versionTooOldTitle":"Runicorn 版本过低","remote.env.versionTooOldMessage":"远程环境的 Runicorn 版本为 {{version}}，低于 0.5.0，不支持 Remote Viewer 功能。","remote.env.upgradeInstructions":"请升级到最新版本：","remote.env.versionMismatchTitle":"Runicorn 版本不一致","remote.env.versionMismatchMessage":"本地和远程的 Runicorn 版本不一致，可能导致功能异常或体验下降。","remote.env.localVersion":"本地版本","remote.env.remoteVersion":"远程版本","remote.env.versionMismatchWarning":"建议保持版本一致以获得最佳体验，但您仍可以继续连接。","remote.env.continueAnyway":"仍然继续","remote.config.title":"第三步：确认服务器配置","remote.config.connected":"SSH 连接成功","remote.config.pythonVersion":"Python 版本","remote.config.runicornVersion":"Runicorn 版本","remote.config.storageRoot":"存储路径","remote.config.exists":"存在","remote.config.notExists":"不存在","remote.config.suggestedPort":"建议端口","remote.config.confirmStorageRoot":"确认远程存储路径","remote.config.startViewer":"启动 Remote Viewer","remote.config.pathNotExistsWarning":"存储路径不存在","remote.config.pathNotExistsHint":"将在首次使用时自动创建该目录","remote.config.fetchingConfig":"正在获取服务器配置...","remote.config.fetchFailed":"获取服务器配置失败"},ib={"settings.system_info.title":"系统信息","settings.system_info.refresh":"刷新","settings.system_info.copy_all":"复制全部","settings.system_info.copied":"系统信息已复制到剪贴板","settings.system_info.copy_failed":"复制到剪贴板失败","settings.system_info.loading":"加载系统信息中...","settings.system_info.version_info":"版本信息","settings.system_info.runicorn_version":"Runicorn 版本","settings.system_info.api_status":"API 状态","settings.system_info.storage_config":"存储配置","settings.system_info.storage_root":"存储根目录","settings.system_info.config_files":"配置文件","settings.system_info.config_file":"主配置","settings.system_info.rate_limit_config":"速率限制配置","settings.system_info.cache_stats":"缓存统计","settings.system_info.cache_status":"状态","settings.system_info.hit_rate":"命中率","settings.system_info.hits":"命中次数","settings.system_info.misses":"未命中次数","settings.system_info.cache_size":"缓存大小","settings.system_info.artifacts_stats":"Artifacts 统计","settings.system_info.total_artifacts":"总 Artifacts","settings.system_info.total_versions":"总版本数","settings.system_info.deduplication":"去重","settings.system_info.space_saved":"节省空间","settings.system_info.help_text":'此信息对调试和技术支持很有用。点击"复制全部"将所有详情复制到剪贴板。',"settings.drawer.title":"设置","settings.theme.title":"主题","settings.theme.mode":"模式","settings.theme.light":"浅色","settings.theme.dark":"深色","settings.theme.auto":"跟随系统","settings.appearance.primary_color":"主色","settings.appearance.density":"密度","settings.appearance.density_compact":"紧凑型（信息密度高）","settings.appearance.density_default":"默认","settings.appearance.density_loose":"宽松型（留白更舒适）","settings.glass":"玻璃效果","settings.glass.on":"开启","settings.glass.off":"关闭","settings.performance.auto_refresh":"自动刷新","settings.performance.refresh_interval":"刷新间隔","settings.performance.animations":"UI动画","settings.performance.chart_animations":"图表动画","settings.performance.sounds":"声音通知","settings.charts.default_height":"默认图表高度","settings.charts.grid_lines":"显示网格线","settings.charts.max_points":"最大数据点数","settings.animations.ui_desc":"页面切换、悬停效果、弹窗动画","settings.animations.chart_desc":"图表数据加载动画、平滑过渡","settings.units.seconds":"秒","settings.units.points":"数据点","settings.units.pixels":"像素","settings.data.not_configured":"未配置","settings.auto_refresh.desc":"自动刷新实验数据","settings.grid_lines.desc":"在图表中显示网格线以提高可读性","settings.sounds.desc":"为警告和状态变化播放通知声音","settings.glass.desc":"玻璃拟态效果，带背景模糊","settings.tabs.appearance":"外观","settings.tabs.layout":"布局","settings.tabs.data":"数据","settings.tabs.performance":"性能","settings.tabs.system_info":"系统信息","settings.cards.theme":"主题","settings.cards.background":"背景","settings.cards.visual_effects":"视觉效果","settings.cards.storage":"存储设置","settings.cards.import_export":"导入导出","settings.cards.performance":"性能","settings.cards.advanced":"高级选项","settings.data.title":"数据目录","settings.data.current_storage":"当前存储根（storage）：{{path}}","settings.data.user_root.label":"用户根目录（优先级低于环境变量 RUNICORN_DIR）","settings.data.user_root.placeholder":"例如：D:\\RunicornData","settings.data.note":"设置将写入用户配置并立即生效；若设置了环境变量 RUNICORN_DIR，则优先使用环境变量。","settings.data.save":"保存数据目录","settings.messages.enter_valid_path":"请输入有效的目录绝对路径（例如 D:\\RunicornData）","settings.messages.updated":"用户根目录已更新","settings.messages.update_failed":"更新失败","background.title":"背景","background.type.label":"背景类型","background.type.image":"图片","background.type.gradient":"渐变","background.type.color":"纯色","background.image_url":"图片地址（URL）","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"背景预览","background.gradient_presets":"渐变预设","background.color":"背景颜色","background.opacity":"不透明度","background.blur":"模糊强度","offline_import.title":"离线导入（zip / tar.gz）","offline_import.desc":"将离线 Linux 服务器导出的运行记录导入到本机存储以便查看。","offline_import.drag":"将文件拖拽到此处，或点击选择本地归档","offline_import.supports":"支持 .zip / .tar.gz（内部目录为 project/name/runs/<run_id>）","offline_import.importing":"正在导入…","offline_import.success":"导入成功：{{count}} 个新运行。","offline_import.failed":"导入失败","remote_moved.title":"远程同步","remote_moved.tip":"远程实时同步已移动到独立页面，请通过顶部「Remote」进入或点击打开。","chart.controls.title":"图表控件","chart.log_y":"对数Y轴","chart.log_y_tooltip":"使用对数Y轴（隐藏非正值）","chart.auto_scale":"自动缩放Y轴","chart.auto_scale_tooltip":"动态Y轴范围（不强制从0开始）","chart.smooth":"平滑度","chart.smooth_tooltip":"指数移动平均平滑","chart.x_axis":"X轴","chart.x_axis_tooltip":"X轴数据来源列","chart.export_csv":"导出CSV","chart.y_axis_controls":"Y轴控制","chart.linear":"线性","chart.log":"对数","chart.auto":"自动","chart.fixed":"固定","chart.off":"关闭","remote.title":"远程同步（SSH）","remote.desc":'建立到 Linux 服务器的 SSH 连接，浏览并选择远程目录作为数据源，实时镜像到本地 storage 并在"运行"页可视化。',"remote.connect.title":"连接到服务器","remote.placeholder.host":"主机，例如 10.0.0.2","remote.placeholder.port":"端口","remote.placeholder.user":"用户名","remote.placeholder.password":"密码（可选）","remote.placeholder.pkey":"私钥内容（可选）","remote.placeholder.pkey_path":"或 私钥路径（可选，如 ~/.ssh/id_rsa）","remote.connect.button":"连接","remote.connected":"已连接：{{user}}@{{host}}:{{port}}","remote.disconnect":"断开","remote.choose.title":"选择远程目录","remote.current_dir":"当前目录：","remote.up":"上一级","remote.refresh":"刷新","remote.empty":"空目录或无权限","remote.interval.suffix":"秒","remote.sync_dir":"同步此目录","remote.tip":"建议选择到 project/name/runs（新结构）或 runs（旧结构）而不是具体 <run_id>。","remote.tasks.title":"同步任务","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"停止","remote.tasks.none":"暂无任务","remote.to_runs":'同步成功后，前往 "运行" 页面查看可视化。',"remote.msg.fill_host_user":"请填写主机与用户名","remote.msg.ssh_connected":"SSH 已连接","remote.msg.connect_failed":"连接失败","remote.msg.dir_failed":"读取目录失败","remote.msg.need_connect":"请先建立 SSH 连接","remote.msg.need_path":"请选择远程目录","remote.msg.started":"已启动实时同步","remote.msg.start_failed":"启动失败","remote.msg.mirror_configured":"镜像模式配置成功","settings.dismissedAlerts":"已关闭的提示","settings.noDismissedAlerts":"暂无已关闭的提示","settings.restoreAlert":"恢复显示","settings.restoreAll":"全部恢复","settings.alertRestored":"提示已恢复显示","settings.allAlertsRestored":"所有提示已恢复显示","settings.failedToLoadDismissedAlerts":"加载失败","settings.failedToRestoreAlert":"恢复失败","settings.failedToClearAlerts":"清除失败"},ob={...tb,...nb,...rb,...sb,...ib},ab={en:{translation:eb},zh:{translation:ob}};vt.use(Hd).use(B_).init({resources:ab,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]}});fa.createRoot(document.getElementById("root")).render(i.jsx(Tv.StrictMode,{children:i.jsx(kv,{children:i.jsx(gS,{})})}));
