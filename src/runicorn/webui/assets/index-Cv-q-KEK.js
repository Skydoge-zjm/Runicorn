import{r as v,c as oo,u as Qn,e as Pu,f as $n,h as ox,L as Ia,i as lx,j as Nn,R as cx,B as ux}from"./react-vendor-CmzOffZA.js";import{T as Ee,S as M,a as $e,b as ht,B as xe,s as re,c as Me,C as de,D as Gn,d as Kn,e as ft,R as ri,A as ir,f as dx,g as ur,h as Au,i as Vt,j as Du,k as es,l as vn,F as Fr,E as rt,m as lo,n as zu,o as qn,p as Ka,q as co,r as $r,t as bn,u as jt,v as Ve,P as Mu,w as Yn,x as nr,y as fx,z as hx,G as px,I as sr,H as Dr,J as Xn,K as Nr,L as gx,M as mx,U as $u,N as Nu,O as uo,Q as Jc,V as _x,W as yx,X as Ys,Y as wn,Z as xx,_ as Va,$ as fo,a0 as Fu,a1 as vx,a2 as wx,a3 as Xs,a4 as bx,a5 as Sx,a6 as jx,a7 as Uu,a8 as Mt,a9 as Bu,aa as Cx,ab as Rx,ac as ho,ad as kx,ae as Ox,af as po,ag as Wu,ah as Hu,ai as qa,aj as Tx,ak as Ex,al as Zc,am as Ix,an as Lx,ao as Px,ap as Ax,aq as Dx,ar as Qc,as as eu,at as La,au as zx,av as Mx,aw as $x,ax as Gu,ay as Pa,az as Nx,aA as Fx,aB as Ux,aC as Bx}from"./antd-vendor-Bfy28dbL.js";import{c as Wx,E as yn}from"./echarts-vendor-gZj4oTaR.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Ku={exports:{}},ni={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx=v,Gx=Symbol.for("react.element"),Kx=Symbol.for("react.fragment"),Vx=Object.prototype.hasOwnProperty,qx=Hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yx={key:!0,ref:!0,__self:!0,__source:!0};function Vu(s,r,n){var o,l={},u=null,d=null;n!==void 0&&(u=""+n),r.key!==void 0&&(u=""+r.key),r.ref!==void 0&&(d=r.ref);for(o in r)Vx.call(r,o)&&!Yx.hasOwnProperty(o)&&(l[o]=r[o]);if(s&&s.defaultProps)for(o in r=s.defaultProps,r)l[o]===void 0&&(l[o]=r[o]);return{$$typeof:Gx,type:s,key:u,ref:d,props:l,_owner:qx.current}}ni.Fragment=Kx;ni.jsx=Vu;ni.jsxs=Vu;Ku.exports=ni;var i=Ku.exports,Ya={},tu=oo;Ya.createRoot=tu.createRoot,Ya.hydrateRoot=tu.hydrateRoot;const Aa={},Xx=(Aa==null?void 0:Aa.VITE_API_BASE)||"/api",De=s=>`${Xx}${s}`;async function Jx(s){const r=await fetch(De(`/runs/${s}`));if(!r.ok)throw new Error(await r.text());return r.json()}async function Da(s){const r=await fetch(De(`/runs/${s}/metrics_step`));if(!r.ok)throw new Error(await r.text());return r.json()}async function Zx(){const s=await fetch(De("/health"));if(!s.ok)throw new Error(await s.text());return s.json()}async function qu(){const s=await fetch(De("/gpu/telemetry"));if(!s.ok)throw new Error(await s.text());return s.json()}async function Qx(s,r){const n=await fetch(De(`/projects/${encodeURIComponent(s)}/names/${encodeURIComponent(r)}/runs`));if(!n.ok)throw new Error(await n.text());return n.json()}async function Yu(){const s=await fetch(De("/config"));if(!s.ok)throw new Error(await s.text());return s.json()}async function ev(s){const r=await fetch(De("/config/user_root_dir"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:s})});if(!r.ok)throw new Error(await r.text());return r.json()}async function za(){const s=await fetch(De("/config/ssh_connections"));if(!s.ok)throw new Error(await s.text());return s.json()}async function tv(s){const r=await fetch(De("/config/ssh_connections"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok)throw new Error(await r.text());return r.json()}async function rv(s){const r=await fetch(De(`/config/ssh_connections/${encodeURIComponent(s)}`),{method:"DELETE"});if(!r.ok)throw new Error(await r.text());return r.json()}async function nv(s){const r=await fetch(De(`/config/ssh_connections/${encodeURIComponent(s)}/details`));if(!r.ok)throw new Error(await r.text());return r.json()}async function sv(s){const r=new FormData;r.append("file",s);const n=await fetch(De("/import/archive"),{method:"POST",body:r});if(!n.ok)throw new Error(await n.text());return n.json()}async function iv(s){const r=await fetch(De("/unified/connect"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok)throw new Error(await r.text());return r.json()}async function av(){const s=await fetch(De("/unified/disconnect"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!s.ok)throw new Error(await s.text());return s.json()}async function ov(){const s=await fetch(De("/unified/status"));if(!s.ok)throw new Error(await s.text());return s.json()}async function lv(s){const r=await fetch(De("/unified/configure_mode"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok)throw new Error(await r.text());return r.json()}async function cv(s){const r=new URLSearchParams({path:s||""}),n=await fetch(De(`/unified/listdir?${r.toString()}`));if(!n.ok)throw new Error(await n.text());return n.json()}async function uv(s){const r=await fetch(De("/ssh/mirror/start"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok)throw new Error(await r.text());return r.json()}async function dv(s){const r=await fetch(De("/ssh/mirror/stop"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:s})});if(!r.ok)throw new Error(await r.text());return r.json()}async function fv(){const s=await fetch(De("/ssh/mirror/list"));if(!s.ok)throw new Error(await s.text());return s.json()}async function hv(){const s=await fetch(De("/status/check"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(await s.text());return s.json()}async function pv(s){const r=await fetch(De("/runs/soft-delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:s})});if(!r.ok)throw new Error(await r.text());return r.json()}async function gv(){const s=await fetch(De("/recycle-bin"));if(!s.ok)throw new Error(await s.text());return s.json()}async function mv(s){const r=await fetch(De("/recycle-bin/restore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:s})});if(!r.ok)throw new Error(await r.text());return r.json()}async function _v(){const s=await fetch(De("/recycle-bin/empty"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})});if(!s.ok)throw new Error(await s.text());return s.json()}async function yv(s){const r=s?`?type=${s}`:"",n=await fetch(De(`/artifacts${r}`));if(!n.ok)throw new Error(await n.text());return n.json()}async function xv(s,r){const o=await fetch(De(`/artifacts/${s}/versions`));if(!o.ok)throw new Error(await o.text());return o.json()}async function vv(s,r,n){const l=await fetch(De(`/artifacts/${s}/v${r}`));if(!l.ok)throw new Error(await l.text());return l.json()}async function wv(s,r,n){const l=await fetch(De(`/artifacts/${s}/v${r}/files`));if(!l.ok)throw new Error(await l.text());return l.json()}async function bv(s,r,n,o=3){const l=new URLSearchParams({max_depth:o.toString()}),u=await fetch(De(`/artifacts/${s}/v${r}/lineage?${l.toString()}`));if(!u.ok)throw new Error(await u.text());return u.json()}async function Sv(){const s=await fetch(De("/artifacts/stats"));if(!s.ok)throw new Error(await s.text());return s.json()}async function jv(s,r,n,o=!1){const l=new URLSearchParams({permanent:o.toString()}),u=await fetch(De(`/artifacts/${s}/v${r}?${l.toString()}`),{method:"DELETE"});if(!u.ok)throw new Error(await u.text());return u.json()}async function Cv(){const s=await fetch(De("/remote/disconnect"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(await s.text());return s.json()}async function Xu(){const s=await fetch(De("/remote/status"));if(!s.ok)throw new Error(await s.text());return s.json()}async function Xa(){const s=await fetch(De("/remote/sync"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(await s.text());return s.json()}async function Rv(){const s=await fetch(De("/remote/verify"));if(!s.ok)throw new Error(await s.text());return s.json()}const kv=(s,r,n,o)=>{var u,d,h,m;const l=[n,{code:r,...o||{}}];if((d=(u=s==null?void 0:s.services)==null?void 0:u.logger)!=null&&d.forward)return s.services.logger.forward(l,"warn","react-i18next::",!0);Jr(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(m=(h=s==null?void 0:s.services)==null?void 0:h.logger)!=null&&m.warn?s.services.logger.warn(...l):console!=null&&console.warn&&console.warn(...l)},ru={},Ja=(s,r,n,o)=>{Jr(n)&&ru[n]||(Jr(n)&&(ru[n]=new Date),kv(s,r,n,o))},Ju=(s,r)=>()=>{if(s.isInitialized)r();else{const n=()=>{setTimeout(()=>{s.off("initialized",n)},0),r()};s.on("initialized",n)}},Za=(s,r,n)=>{s.loadNamespaces(r,Ju(s,n))},nu=(s,r,n,o)=>{if(Jr(n)&&(n=[n]),s.options.preload&&s.options.preload.indexOf(r)>-1)return Za(s,n,o);n.forEach(l=>{s.options.ns.indexOf(l)<0&&s.options.ns.push(l)}),s.loadLanguages(r,Ju(s,o))},Ov=(s,r,n={})=>!r.languages||!r.languages.length?(Ja(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(s,{lng:n.lng,precheck:(o,l)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!l(o.isLanguageChangingTo,s))return!1}}),Jr=s=>typeof s=="string",Tv=s=>typeof s=="object"&&s!==null,Ev=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Iv={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Lv=s=>Iv[s],Pv=s=>s.replace(Ev,Lv);let Qa={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Pv};const Av=(s={})=>{Qa={...Qa,...s}},Dv=()=>Qa;let Zu;const zv=s=>{Zu=s},Mv=()=>Zu,$v={type:"3rdParty",init(s){Av(s.options.react),zv(s)}},Nv=v.createContext();class Fv{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Uv=(s,r)=>{const n=v.useRef();return v.useEffect(()=>{n.current=s},[s,r]),n.current},Qu=(s,r,n,o)=>s.getFixedT(r,n,o),Bv=(s,r,n,o)=>v.useCallback(Qu(s,r,n,o),[s,r,n,o]),ct=(s,r={})=>{var w,O,X,J;const{i18n:n}=r,{i18n:o,defaultNS:l}=v.useContext(Nv)||{},u=n||o||Mv();if(u&&!u.reportNamespaces&&(u.reportNamespaces=new Fv),!u){Ja(u,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const Z=(H,N)=>Jr(N)?N:Tv(N)&&Jr(N.defaultValue)?N.defaultValue:Array.isArray(H)?H[H.length-1]:H,V=[Z,{},!1];return V.t=Z,V.i18n={},V.ready=!1,V}(w=u.options.react)!=null&&w.wait&&Ja(u,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...Dv(),...u.options.react,...r},{useSuspense:h,keyPrefix:m}=d;let _=l||((O=u.options)==null?void 0:O.defaultNS);_=Jr(_)?[_]:_||["translation"],(J=(X=u.reportNamespaces).addUsedNamespaces)==null||J.call(X,_);const S=(u.isInitialized||u.initializedStoreOnce)&&_.every(Z=>Ov(Z,u,d)),x=Bv(u,r.lng||null,d.nsMode==="fallback"?_:_[0],m),I=()=>x,k=()=>Qu(u,r.lng||null,d.nsMode==="fallback"?_:_[0],m),[L,D]=v.useState(I);let G=_.join();r.lng&&(G=`${r.lng}${G}`);const B=Uv(G),E=v.useRef(!0);v.useEffect(()=>{const{bindI18n:Z,bindI18nStore:V}=d;E.current=!0,!S&&!h&&(r.lng?nu(u,r.lng,_,()=>{E.current&&D(k)}):Za(u,_,()=>{E.current&&D(k)})),S&&B&&B!==G&&E.current&&D(k);const H=()=>{E.current&&D(k)};return Z&&(u==null||u.on(Z,H)),V&&(u==null||u.store.on(V,H)),()=>{E.current=!1,u&&Z&&(Z==null||Z.split(" ").forEach(N=>u.off(N,H))),V&&u&&V.split(" ").forEach(N=>u.store.off(N,H))}},[u,G]),v.useEffect(()=>{E.current&&S&&D(I)},[u,m,S]);const C=[L,u,S];if(C.t=L,C.i18n=u,C.ready=S,S||!S&&!h)return C;throw new Promise(Z=>{r.lng?nu(u,r.lng,_,()=>Z()):Za(u,_,()=>Z())})};function Wv(s){return!!(/\d{1,3}%\|/.test(s)||/it\/(s|sec)/i.test(s)||/ETA|elapsed/i.test(s))}function Hv({url:s,persistKey:r}){const{t:n}=ct(),[o,l]=v.useState(()=>{if(!r)return[];try{const C=localStorage.getItem(r);if(!C)return[];const w=JSON.parse(C);return Array.isArray(w)?w.slice(-2e3):[]}catch{return[]}}),[u,d]=v.useState(!0),[h,m]=v.useState(!0),[_,S]=v.useState("connecting"),[x,I]=v.useState(0),k=v.useRef(null),L=v.useRef(null),D=v.useRef(null),G=v.useRef(500);v.useEffect(()=>{let C=!1;const w=()=>{try{L.current&&L.current.close()}catch{}S("connecting");const O=new WebSocket(s);L.current=O,O.onopen=()=>{S("connected"),G.current=500,I(0)},O.onmessage=J=>{const Z=String(J.data);h&&Wv(Z)||l(V=>{const N=[...V,Z].slice(-2e3);try{r&&localStorage.setItem(r,JSON.stringify(N))}catch{}return N})};const X=()=>{if(C)return;S("disconnected");const J=Math.min(1e4,G.current);G.current=Math.min(1e4,Math.floor(G.current*1.8)),I(J),D.current&&window.clearTimeout(D.current),D.current=window.setTimeout(()=>{I(0),w()},J)};O.onerror=X,O.onclose=X};return w(),()=>{var O;C=!0;try{(O=L.current)==null||O.close()}catch{}D.current&&window.clearTimeout(D.current)}},[s,h,r]),v.useEffect(()=>{u&&k.current&&(k.current.scrollTop=k.current.scrollHeight)},[o,u]);const B=async()=>{try{await navigator.clipboard.writeText(o.join(`
`)),re.success(n("logs.copied"))}catch{re.error(n("logs.copy_failed"))}},E=v.useMemo(()=>_==="connected"?i.jsx(Ee,{color:"green",children:n("logs.status.connected")}):_==="connecting"?i.jsx(Ee,{color:"processing",children:n("logs.status.connecting")}):i.jsxs(Ee,{color:"default",children:[n("logs.status.disconnected"),x?`, ${n("logs.status.retry_in",{sec:Math.ceil(x/1e3)})}`:""]}),[_,x,n]);return i.jsxs("div",{children:[i.jsxs(M,{style:{marginBottom:8},children:[E,i.jsx($e,{title:n("logs.tooltip.autoscroll"),children:i.jsxs("span",{children:[n("logs.autoscroll")," ",i.jsx(ht,{checked:u,onChange:d,style:{marginLeft:6}})]})}),i.jsx($e,{title:n("logs.tooltip.filter_tqdm"),children:i.jsxs("span",{children:[n("logs.filter_tqdm")," ",i.jsx(ht,{checked:h,onChange:m,style:{marginLeft:6}})]})}),i.jsx(xe,{size:"small",onClick:()=>{l([]);try{r&&localStorage.removeItem(r)}catch{}},children:n("logs.clear")}),i.jsx(xe,{size:"small",onClick:B,children:n("logs.copy")})]}),i.jsx("div",{ref:k,style:{height:320,overflow:"auto",background:"#0b1020",color:"#e6e9ef",padding:12,borderRadius:8,fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:12},children:o.map((C,w)=>i.jsx("div",{children:C},w))})]})}function go(s){const r=v.useRef(null),n=v.useRef(null);v.useEffect(()=>{if(!r.current)return;const h=r.current;let m=null;const _=()=>{m!=null&&cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var I,k,L;try{(L=(k=(I=n.current)==null?void 0:I.getEchartsInstance())==null?void 0:k.resize)==null||L.call(k)}catch{}})};let S=null;const x=window.ResizeObserver;return x&&(S=new x(()=>_()),S.observe(h)),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_),S&&S.disconnect(),m!=null&&cancelAnimationFrame(m)}},[]),v.useEffect(()=>{var m,_;const h=(_=(m=n.current)==null?void 0:m.getEchartsInstance)==null?void 0:_.call(m);if(h&&s.group)try{h.group=s.group,Wx(s.group)}catch{}},[s.group]);const o=v.useMemo(()=>({width:"100%",height:"100%",...s.style||{}}),[s.style]),{group:l,style:u,...d}=s;return i.jsx("div",{ref:r,style:{width:"100%",height:"100%"},children:i.jsx(yn,{ref:n,...d,style:o})})}const ed=v.createContext(void 0),Gv=({children:s,value:r})=>i.jsx(ed.Provider,{value:r,children:s}),si=()=>{const s=v.useContext(ed);if(!s)throw new Error("useSettings must be used within a SettingsProvider");return s},q={spacing:{xs:8,sm:12,md:16,lg:24,xl:32},borderRadius:{md:8},colors:{primary:"#1677ff",success:"#52c41a",warning:"#faad14",info:"#13c2c2"},typography:{fontSize:{xs:12,sm:14,md:16,lg:18},fontWeight:{semibold:600}}},{Text:Kv}=Me,Vv=v.memo(function({metrics:r,xKey:n,yKeys:o,title:l,height:u,persistKey:d,group:h}){const{t:m}=ct(),{settings:_}=si(),S=u??_.defaultChartHeight,[x,I]=v.useState(!1),[k,L]=v.useState(!0),[D,G]=v.useState(0),B=["iter","step","batch","global_step","time"],E=(r==null?void 0:r.columns)||[],C=v.useMemo(()=>B.filter(N=>E.includes(N)),[E]),[w,O]=v.useState(n),X=v.useRef(!1);v.useEffect(()=>{if(n&&E.includes(n))O(n);else if(!E.includes(w)){const N=C.find(Boolean);N&&O(N)}},[n,E,C,w]),v.useEffect(()=>{if(!(!d||X.current)){try{const N=localStorage.getItem(`MetricChart:${d}`);if(N){const ie=JSON.parse(N);typeof ie.useLog=="boolean"&&I(ie.useLog),typeof ie.dynamicScale=="boolean"&&L(ie.dynamicScale),typeof ie.smoothing=="number"&&G(ie.smoothing),ie.xAxisKey&&E.includes(ie.xAxisKey)&&O(ie.xAxisKey)}}catch{}X.current=!0}},[d,E]),v.useEffect(()=>{if(d)try{localStorage.setItem(`MetricChart:${d}`,JSON.stringify({useLog:x,dynamicScale:k,smoothing:D,xAxisKey:w}))}catch{}},[d,x,k,D,w]);const J=N=>{const ie=String(N).toLowerCase();if(ie.includes("loss")||ie.includes("error"))return"min";if(ie.includes("acc")||ie.includes("f1")||ie.includes("auc")||ie.includes("map")||ie.includes("precision")||ie.includes("recall"))return"max"},Z=(N,ie)=>{if(!ie)return N;let ae=null;return N.map(ne=>ne==null?(ae=null,null):(ae=ae==null?ne:ie*ne+(1-ie)*ae,ae))},V=v.useMemo(()=>{var be,pe;const N=E.includes(w)?w:n,ie=r.rows.map(U=>{const Q=U[N],fe=Q===""||Q==null?null:Number(Q);return fe==null||Number.isNaN(fe)?null:fe});let ae=ie;if(N==="time"){const U=ie.find(Q=>Q!=null)??0;ae=ie.map(Q=>Q==null?null:Q-U)}const ne=E.includes("stage")&&(N==="global_step"||N==="time"),ue=[];if(ne){const U=r.rows;let Q=U.length?((be=U[0])==null?void 0:be.stage)??null:null;for(let fe=1;fe<U.length;fe++){const Re=(pe=U[fe])==null?void 0:pe.stage,Qe=Re==null||Re===""?Q:Re;if(Qe!==Q){const nt=ae[fe];nt!=null&&ue.push({xAxis:nt}),Q=Qe}}}const he=o.map(U=>{var le;const Q=r.rows.map(Ie=>{const Be=Ie[U]===""||Ie[U]==null?null:Number(Ie[U]),We=Be==null||Number.isNaN(Be)?null:Be;return x&&(We==null||We<=0)?null:We}),fe=Z(Q,Math.min(.95,Math.max(0,D))),Re=fe.filter(Ie=>Ie!=null).length,Qe=Re<=12||Re<=Math.ceil((((le=r==null?void 0:r.rows)==null?void 0:le.length)||0)*.2),nt=J(U),W={name:U,type:"line",smooth:!0,showSymbol:Qe,symbolSize:Qe?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:fe.slice(0,_.maxDataPoints),markPoint:nt?{data:[{type:nt,name:nt==="max"?"Best (max)":"Best (min)"}],symbolSize:60}:void 0};if(U===o[0]){const Ie=ue;Ie.length&&(W.markLine={silent:!0,symbol:"none",lineStyle:{type:"dashed",color:"#bbb",width:1},label:{show:!1},data:Ie})}return W});return{title:{text:l,left:"center",top:q.spacing.xs,textStyle:{fontSize:q.typography.fontSize.md,fontWeight:q.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:o,top:q.spacing.xl,padding:[5,10]},xAxis:{type:"category",data:ae},yAxis:{type:x?"log":"value",scale:k,min:k?"dataMin":0},grid:{left:50,right:30,top:o.length>3?70:o.length>1?60:50,bottom:80,show:_.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:he,animation:_.enableChartAnimations,animationDuration:_.enableChartAnimations?1e3:0}},[r,n,w,o,l,x,k,D,E,_.enableChartAnimations,_.maxDataPoints,_.showGridLines]),H=()=>{try{const N=E.includes(w)?w:n,ie=[N,...o],ae=[];ae.push(ie.join(","));for(const be of r.rows){const pe=[],U=be[N];pe.push(U==null?"":String(U));for(const Q of o){const fe=be[Q];pe.push(fe==null?"":String(fe))}ae.push(pe.join(","))}const ne=new Blob([ae.join(`
`)],{type:"text/csv;charset=utf-8;"}),ue=URL.createObjectURL(ne),he=document.createElement("a");he.href=ue,he.download=`${l.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(ue)}catch{}};return i.jsxs("div",{children:[i.jsx(de,{size:"small",style:{marginBottom:q.spacing.md,borderRadius:q.borderRadius.md},bodyStyle:{padding:`${q.spacing.sm}px ${q.spacing.md}px`},children:i.jsxs(M,{wrap:!0,size:"small",style:{width:"100%"},children:[i.jsx($e,{title:m("chart.log_y_tooltip"),children:i.jsx(ht,{checkedChildren:m("chart.log"),unCheckedChildren:m("chart.linear"),checked:x,onChange:I,size:"small"})}),i.jsx($e,{title:m("chart.auto_scale_tooltip"),children:i.jsx(ht,{checkedChildren:m("chart.auto"),unCheckedChildren:m("chart.fixed"),checked:k,onChange:L,size:"small"})}),i.jsx(Gn,{type:"vertical",style:{margin:"0 4px"}}),i.jsxs(M,{size:"small",style:{minWidth:140,maxWidth:200},children:[i.jsxs(Kv,{type:"secondary",style:{fontSize:q.typography.fontSize.xs,whiteSpace:"nowrap"},children:[m("chart.smooth"),":"]}),i.jsx(Kn,{min:0,max:.95,step:.05,value:D,onChange:N=>G(Array.isArray(N)?N[0]:N),style:{width:90},tooltip:{formatter:N=>N?`${(N*100).toFixed(0)}%`:m("chart.off")}})]}),i.jsx(Gn,{type:"vertical",style:{margin:"0 4px"}}),i.jsx(ft,{size:"small",value:E.includes(w)?w:n,style:{minWidth:100},onChange:O,options:(C.length?C:[n]).map(N=>({value:N,label:`${m("chart.x_axis")}: ${N}`}))}),i.jsx(Gn,{type:"vertical",style:{margin:"0 4px"}}),i.jsx(xe,{size:"small",icon:i.jsx(ri,{}),onClick:H,children:m("chart.export_csv")})]})}),i.jsx("div",{style:{height:S,width:"100%"},children:i.jsx(go,{option:V,group:h})})]})},(s,r)=>s.metrics===r.metrics&&s.xKey===r.xKey&&JSON.stringify(s.yKeys)===JSON.stringify(r.yKeys)&&s.title===r.title&&s.height===r.height&&s.persistKey===r.persistKey&&s.group===r.group),qv=120;function Yv(){const{t:s}=ct(),[r,n]=v.useState(null),[o,l]=v.useState(""),[u,d]=v.useState(!1),h=v.useRef([]),[m,_]=v.useState(0),S=v.useRef(null),[x,I]=v.useState([]);v.useEffect(()=>{let V;const H=async()=>{if(!u)try{const N=await qu();if(!(N!=null&&N.available)){n(!1),l((N==null?void 0:N.reason)||s("gpu.not_available"));return}n(!0);const ie={ts:N.ts||Date.now()/1e3,gpus:N.gpus||[]},ae=h.current.slice();for(ae.push(ie);ae.length>qv;)ae.shift();h.current=ae,_(ne=>ne+1)}catch(N){n(!1),l((N==null?void 0:N.message)||s("gpu.not_available"))}};return H(),V=setInterval(H,2e3),()=>clearInterval(V)},[u]);const{times:k,gpuNames:L,seriesUtil:D,seriesMem:G,seriesPower:B,seriesTemp:E}=v.useMemo(()=>{const V=h.current,H=V.map(pe=>new Date((pe.ts||0)*1e3).toLocaleTimeString()),N=V.reduce((pe,U)=>{var Q;return Math.max(pe,((Q=U.gpus)==null?void 0:Q.length)||0)},0),ie=[];for(let pe=0;pe<N;pe++){const U=V.find(Q=>Q.gpus&&Q.gpus[pe]);ie.push(U?`GPU${U.gpus[pe].index} ${U.gpus[pe].name}`:`GPU${pe}`)}const ae=pe=>new Array(N).fill(0).map((U,Q)=>({name:ie[Q]||`GPU${Q}`,type:"line",smooth:!0,showSymbol:!1,connectNulls:!0,data:V.map(fe=>{const Re=fe.gpus&&fe.gpus[Q]?pe(fe.gpus[Q]):null;return Re==null?null:Number(Re)})})),ne=ae(pe=>pe.util_gpu),ue=ae(pe=>pe.mem_used_pct),he=ae(pe=>pe.power_w),be=ae(pe=>pe.temp_c);return{times:H,gpuNames:ie,seriesUtil:ne,seriesMem:ue,seriesPower:he,seriesTemp:be}},[m]),C=v.useMemo(()=>{const V=h.current[h.current.length-1],H={utilAvg:0,memAvg:0,powerNow:0,powerMax:0,tempMax:0};if(!V||!V.gpus||V.gpus.length===0)return H;const N=V.gpus,ie=N.length,ae=ue=>ue.reduce((he,be)=>he+(Number.isFinite(be)?be:0),0),ne={util:N.map(ue=>Number(ue.util_gpu??0)),mem:N.map(ue=>Number(ue.mem_used_pct??0)),pwr:N.map(ue=>Number(ue.power_w??0)),pmax:N.map(ue=>Number(ue.power_limit_w??0)),temp:N.map(ue=>Number(ue.temp_c??0))};return H.utilAvg=Math.round(ae(ne.util)/ie),H.memAvg=Math.round(ae(ne.mem)/ie),H.powerNow=Math.round(ae(ne.pwr)),H.powerMax=Math.round(ae(ne.pmax)),H.tempMax=Math.max(...ne.temp),H},[m]),w={left:48,right:16,top:40,bottom:40},O=v.useMemo(()=>({title:{text:s("gpu.chart.util")},tooltip:{trigger:"axis"},legend:{data:D.map(V=>V.name)},xAxis:{type:"category",data:k},yAxis:{type:"value",min:0,max:100},grid:w,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:D}),[k,D,s]),X=v.useMemo(()=>({title:{text:s("gpu.chart.mem")},tooltip:{trigger:"axis"},legend:{data:G.map(V=>V.name)},xAxis:{type:"category",data:k},yAxis:{type:"value",min:0,max:100},grid:w,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:G}),[k,G,s]),J=v.useMemo(()=>({title:{text:s("gpu.chart.power")},tooltip:{trigger:"axis"},legend:{data:B.map(V=>V.name)},xAxis:{type:"category",data:k},yAxis:{type:"value",min:"dataMin",scale:!0},grid:w,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:B}),[k,B,s]),Z=v.useMemo(()=>({title:{text:s("gpu.chart.temp")},tooltip:{trigger:"axis"},legend:{data:E.map(V=>V.name)},xAxis:{type:"category",data:k},yAxis:{type:"value",min:"dataMin",scale:!0},grid:w,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:E}),[k,E,s]);return r===!1?i.jsx(ir,{type:"warning",showIcon:!0,message:s("gpu.not_available"),description:o||void 0}):i.jsxs("div",{ref:S,style:{position:"relative"},children:[i.jsxs(M,{align:"center",style:{marginBottom:8},children:[i.jsx(Me.Text,{type:"secondary",children:s("polling.every2s")}),i.jsxs("span",{style:{marginLeft:12},children:[s("pause")," ",i.jsx(ht,{checked:u,onChange:d})]})]}),i.jsx(dx,{activeKey:x,onChange:V=>{I(V),setTimeout(()=>{try{window.dispatchEvent(new Event("resize"))}catch{}},350)},items:[{key:"util",label:s("gpu.chart.util"),children:i.jsx(yn,{option:O,style:{height:260,width:"100%"}})},{key:"mem",label:s("gpu.chart.mem"),children:i.jsx(yn,{option:X,style:{height:260,width:"100%"}})},{key:"power",label:s("gpu.chart.power"),children:i.jsx(yn,{option:J,style:{height:260,width:"100%"}})},{key:"temp",label:s("gpu.chart.temp"),children:i.jsx(yn,{option:Z,style:{height:260,width:"100%"}})}]}),r&&x.indexOf("power")===-1&&i.jsxs("div",{style:{position:"absolute",right:12,top:12,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[i.jsx(ur,{style:{marginRight:6}}),s("gpu.power")," ",C.powerNow,C.powerMax?`/${C.powerMax}`:""," W"]}),r&&x.indexOf("util")===-1&&i.jsxs("div",{style:{position:"absolute",right:12,top:44,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[i.jsx(Au,{style:{marginRight:6}}),s("gpu.util")," ",C.utilAvg,"%"]}),r&&x.indexOf("mem")===-1&&i.jsxs("div",{style:{position:"absolute",right:12,top:76,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[i.jsx(Vt,{style:{marginRight:6}}),s("gpu.mem")," ",C.memAvg,"%"]}),r&&x.indexOf("temp")===-1&&i.jsxs("div",{style:{position:"absolute",right:12,top:108,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[i.jsx(Du,{style:{marginRight:6}}),s("gpu.temp")," ",C.tempMax,"°C"]})]})}const{Text:Xv}=Me;function Jv(s,r){if(!r)return s;let n=null;return s.map(o=>o==null?(n=null,null):(n=n==null?o:r*o+(1-r)*n,n))}const Zv=v.memo(function({runs:r,xKey:n,yKey:o,title:l,height:u,persistKey:d,group:h}){const{t:m}=ct(),{settings:_}=si(),S=u??_.defaultChartHeight,[x,I]=v.useState(!1),[k,L]=v.useState(!0),[D,G]=v.useState(0),B=v.useRef(!1);v.useEffect(()=>{if(!(!d||B.current)){try{const w=localStorage.getItem(`MultiRunMetric:${d}`);if(w){const O=JSON.parse(w);typeof O.useLog=="boolean"&&I(O.useLog),typeof O.dynamicScale=="boolean"&&L(O.dynamicScale),typeof O.smoothing=="number"&&G(O.smoothing)}}catch{}B.current=!0}},[d]),v.useEffect(()=>{if(d)try{localStorage.setItem(`MultiRunMetric:${d}`,JSON.stringify({useLog:x,dynamicScale:k,smoothing:D}))}catch{}},[d,x,k,D]);const E=v.useMemo(()=>{const w=r.map(O=>{var ie,ae;(ie=O.metrics)!=null&&ie.columns;const X=((ae=O.metrics)==null?void 0:ae.rows)||[],J=X.map(ne=>{const ue=ne[n],he=ue===""||ue==null?null:Number(ue);return he==null||Number.isNaN(he)?null:he});let Z=J;if(n==="time"){const ne=J.find(ue=>ue!=null)??0;Z=J.map(ue=>ue==null?null:ue-ne)}const V=X.map(ne=>{const ue=ne[o],he=ue===""||ue==null?null:Number(ue);return x&&(he==null||he<=0)||he==null||Number.isNaN(he)?null:he}),H=Jv(V,Math.min(.95,Math.max(0,D))),N=[];for(let ne=0;ne<H.length;ne++){const ue=Z[ne],he=H[ne];ue!=null&&he!=null&&N.push([ue,he])}return{name:O.label||O.id,type:"line",smooth:!0,showSymbol:N.length<=12,symbolSize:N.length<=12?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:N.slice(0,_.maxDataPoints)}});return{title:{text:l,left:"center",top:q.spacing.xs,textStyle:{fontSize:q.typography.fontSize.md,fontWeight:q.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:r.map(O=>O.label||O.id),top:q.spacing.xl,type:"scroll",padding:[5,10]},xAxis:{type:"value",name:n},yAxis:{type:x?"log":"value",scale:k,min:k?"dataMin":0},grid:{left:50,right:30,top:r.length>3?70:r.length>1?60:50,bottom:80,show:_.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:w,animation:_.enableChartAnimations,animationDuration:_.enableChartAnimations?1e3:0}},[r,n,o,l,x,k,D,_.enableChartAnimations,_.maxDataPoints,_.showGridLines]),C=()=>{var w;try{const X=[["run_id",n,o].join(",")];for(const H of r){const N=((w=H.metrics)==null?void 0:w.rows)||[];for(const ie of N){const ae=ie[n],ne=ie[o],ue=[H.id,ae==null?"":String(ae),ne==null?"":String(ne)];X.push(ue.join(","))}}const J=new Blob([X.join(`
`)],{type:"text/csv;charset=utf-8;"}),Z=URL.createObjectURL(J),V=document.createElement("a");V.href=Z,V.download=`${l.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(Z)}catch{}};return i.jsxs("div",{children:[i.jsx(de,{size:"small",style:{marginBottom:q.spacing.md,borderRadius:q.borderRadius.md},bodyStyle:{padding:`${q.spacing.sm}px ${q.spacing.md}px`},children:i.jsxs(M,{wrap:!0,size:"small",style:{width:"100%"},children:[i.jsx($e,{title:m("chart.log_y_tooltip"),children:i.jsx(ht,{checkedChildren:m("chart.log"),unCheckedChildren:m("chart.linear"),checked:x,onChange:I,size:"small"})}),i.jsx($e,{title:m("chart.auto_scale_tooltip"),children:i.jsx(ht,{checkedChildren:m("chart.auto"),unCheckedChildren:m("chart.fixed"),checked:k,onChange:L,size:"small"})}),i.jsx(Gn,{type:"vertical",style:{margin:"0 4px"}}),i.jsxs(M,{size:"small",style:{minWidth:140,maxWidth:200},children:[i.jsxs(Xv,{type:"secondary",style:{fontSize:q.typography.fontSize.xs,whiteSpace:"nowrap"},children:[m("chart.smooth"),":"]}),i.jsx(Kn,{min:0,max:.95,step:.05,value:D,onChange:w=>G(Array.isArray(w)?w[0]:w),style:{width:90},tooltip:{formatter:w=>w?`${(w*100).toFixed(0)}%`:m("chart.off")}})]}),i.jsx(Gn,{type:"vertical",style:{margin:"0 4px"}}),i.jsx(xe,{size:"small",icon:i.jsx(ri,{}),onClick:C,children:m("chart.export_csv")})]})}),i.jsx("div",{style:{height:S,width:"100%"},children:i.jsx(go,{option:E,group:h})})]})},(s,r)=>JSON.stringify(s.runs)===JSON.stringify(r.runs)&&s.xKey===r.xKey&&s.yKey===r.yKey&&s.title===r.title&&s.height===r.height&&s.persistKey===r.persistKey&&s.group===r.group);function Qv(s){if(s===0)return"0 B";const r=1024,n=["B","KB","MB","GB","TB"],o=Math.floor(Math.log(s)/Math.log(r));return parseFloat((s/Math.pow(r,o)).toFixed(2))+" "+n[o]}function td(s){if(!s||s===0)return"-";const r=s<1e10?s*1e3:s,n=new Date(r);return isNaN(n.getTime())?"-":n.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function ew(s){if(!s||s<=0)return"0s";const r=Math.floor(s/1e3),n=Math.floor(r/60),o=Math.floor(n/60),l=Math.floor(o/24);if(l>0){const u=o%24;return`${l}d ${u}h`}if(o>0){const u=n%60;return`${o}h ${u}m`}if(n>0){const u=r%60;return`${n}m ${u}s`}return`${r}s`}const su={log:(...s)=>{},error:(...s)=>{},warn:(...s)=>{},info:(...s)=>{},debug:(...s)=>{},table:s=>{}},{TabPane:iu}=es,tw=s=>{switch(s){case"model":return i.jsx(lo,{});case"dataset":return i.jsx(Vt,{});case"config":return i.jsx(co,{});case"code":return i.jsx(Ka,{});default:return i.jsx(qn,{})}},rw=s=>{switch(s){case"production":return"green";case"staging":return"blue";case"experimental":return"orange";case"archived":return"default";default:return"default"}};function nw({runId:s}){const{t:r}=ct(),n=Qn(),[o,l]=v.useState(!1),[u,d]=v.useState([]),[h,m]=v.useState([]);v.useEffect(()=>{_()},[s]);const _=async()=>{l(!0);try{const x=await fetch(`/api/runs/${s}/artifacts`);if(!x.ok){const k=await x.text();throw su.error(`API error: ${x.status} ${x.statusText}`,k),new Error(`Failed to load artifacts: ${x.statusText}`)}const I=await x.json();su.info("Loaded artifacts:",I),d(I.created||[]),m(I.used||[])}catch(x){re.error(`Failed to load artifacts: ${x}`)}finally{l(!1)}},S=[{title:r("artifacts.name"),dataIndex:"name",key:"name",render:(x,I)=>i.jsxs(M,{children:[tw(I.type),i.jsx("a",{onClick:()=>n(`/artifacts/${x}`),children:x})]})},{title:r("artifacts.version"),dataIndex:"version",key:"version",width:100,render:x=>i.jsxs(Ee,{children:["v",x]})},{title:r("artifacts.aliases"),dataIndex:"aliases",key:"aliases",render:x=>i.jsx(M,{size:4,children:x.map(I=>i.jsx(Ee,{color:"blue",children:I},I))})},{title:r("artifacts.stage"),dataIndex:"lifecycle_stage",key:"lifecycle_stage",render:x=>x&&i.jsx(Ee,{color:rw(x),children:r(`artifacts.stage.${x}`)})},{title:r("artifacts.size"),dataIndex:"size_bytes",key:"size_bytes",width:100,render:x=>Qv(x)},{title:r("artifacts.created"),dataIndex:"created_at",key:"created_at",width:180,render:x=>td(x)},{title:r("actions"),key:"actions",width:100,render:(x,I)=>i.jsx(xe,{type:"link",size:"small",onClick:()=>n(`/artifacts/${I.name}?version=${I.version}`),children:r("view")})}];return o?i.jsx("div",{style:{textAlign:"center",padding:"40px"},children:i.jsx(vn,{size:"large"})}):i.jsxs(es,{defaultActiveKey:"created",children:[i.jsx(iu,{tab:i.jsxs("span",{children:[i.jsx(lo,{})," ",r("run.artifacts.created")," (",u.length,")"]}),children:u.length>0?i.jsx(Fr,{dataSource:u,columns:S,rowKey:x=>`${x.name}-v${x.version}`,size:"small",pagination:{pageSize:10}}):i.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:r("run.artifacts.no_created")})},"created"),i.jsx(iu,{tab:i.jsxs("span",{children:[i.jsx(zu,{})," ",r("run.artifacts.used")," (",h.length,")"]}),children:h.length>0?i.jsx(Fr,{dataSource:h,columns:S,rowKey:x=>`${x.name}-v${x.version}`,size:"small",pagination:{pageSize:10}}):i.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:r("run.artifacts.no_used")})},"used")]})}function sw(){return i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"large",children:[i.jsx(bn,{gutter:[q.spacing.md,q.spacing.md],children:[1,2,3,4].map(s=>i.jsx(jt,{xs:24,sm:12,md:6,children:i.jsx(de,{children:i.jsx($r,{active:!0,paragraph:{rows:1}})})},s))}),i.jsx(de,{children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx($r.Button,{active:!0,style:{width:"100%",height:40}}),[1,2,3,4,5,6,7,8].map(s=>i.jsx($r,{active:!0,paragraph:{rows:0}},s))]})})]})}function rd(){return i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"large",children:[i.jsx(de,{children:i.jsx($r,{active:!0,paragraph:{rows:4}})}),i.jsx(de,{children:i.jsx($r,{active:!0,paragraph:{rows:2}})}),i.jsx(bn,{gutter:[q.spacing.md,q.spacing.md],children:[1,2,3,4].map(s=>i.jsx(jt,{xs:24,md:12,children:i.jsx(de,{children:i.jsx($r.Image,{active:!0,style:{width:"100%",height:300}})})},s))}),i.jsx(de,{children:i.jsx($r,{active:!0,paragraph:{rows:6}})})]})}function iw({rows:s=4}){return i.jsx(de,{children:i.jsx($r,{active:!0,paragraph:{rows:s}})})}const Ma={};function aw(){const{id:s=""}=Pu(),{t:r}=ct(),{settings:n}=si(),[o,l]=v.useState(null),[u,d]=v.useState({columns:[],rows:[]}),[h,m]=v.useState(!1),[_,S]=v.useState(!1),[x,I]=v.useState(null),[k,L]=v.useState(()=>{try{return localStorage.getItem(`run:${s}:step:xAxis`)||"global_step"}catch{return"global_step"}}),[D,G]=v.useState(()=>{try{return localStorage.getItem(`run:${s}:layout:twoCol`)==="1"}catch{return!0}}),[B,E]=v.useState(window.innerWidth);v.useEffect(()=>{const W=()=>E(window.innerWidth);return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const[C,w]=v.useState(null),O=v.useRef([]),[X,J]=v.useState([]),[Z,V]=v.useState([]),[H,N]=v.useState([]),[ie,ae]=v.useState({}),ne=async(W=!0)=>{W&&m(!0);try{const le=await Jx(s);l(le),I(new Date)}catch{re.error(r("run.load_failed")||"Failed to load run details")}finally{W&&m(!1)}},ue=async(W=!0)=>{W&&S(!0);try{const le=await Da(s);d(le)}catch{re.error(r("run.metrics_failed")||"Failed to load metrics")}finally{W&&S(!1)}};v.useEffect(()=>{ne(),ue();const W=setInterval(()=>{ne(!1),ue(!1)},3e3);return()=>clearInterval(W)},[s]),v.useEffect(()=>{(async()=>{if(!(o!=null&&o.project)||!(o!=null&&o.name)){J([]);return}try{const W=await Qx(o.project,o.name);J(W||[]),V(le=>le&&le.length?le:[s])}catch{J([])}})()},[o==null?void 0:o.project,o==null?void 0:o.name,s]),v.useEffect(()=>{let W=!1;return(async()=>{const le={...ie};for(const Ie of Z)if(!le[Ie])try{const Be=await Da(Ie);W||(le[Ie]=Be)}catch{}W||ae(le)})(),()=>{W=!0}},[Z]),v.useEffect(()=>{try{localStorage.setItem(`run:${s}:step:xAxis`,k)}catch{}},[s,k]),v.useEffect(()=>{try{localStorage.setItem(`run:${s}:layout:twoCol`,D?"1":"0")}catch{}},[s,D]);const he=W=>{const le=O.current;if(le.length<2)return null;const Ie=le[le.length-1],Be=le[le.length-2],We=Ie[W]-Be[W];return We>=2?i.jsx(fx,{style:{color:"#52c41a",marginLeft:6}}):We<=-2?i.jsx(hx,{style:{color:"#fa541c",marginLeft:6}}):i.jsx(px,{style:{color:"#8c8c8c",marginLeft:6}})};v.useEffect(()=>{let W;const le=async()=>{try{const Ie=await qu();if(!(Ie!=null&&Ie.available)||!(Ie!=null&&Ie.gpus)||!Ie.gpus.length)return;const Be=Ie.gpus,We=Be.length,qt=me=>me.reduce(($,se)=>$+(Number.isFinite(se)?se:0),0),Yt=Math.round(qt(Be.map(me=>Number(me.util_gpu??0)))/We),pt=Math.round(qt(Be.map(me=>Number(me.mem_used_pct??0)))/We),hr=Math.round(qt(Be.map(me=>Number(me.power_w??0)))),ot=Math.max(...Be.map(me=>Number(me.temp_c??0)));w({util:Yt,mem:pt,power:hr,temp:ot,gpus:Be});const K=Date.now()/1e3,oe=O.current.slice();for(oe.push({t:K,util:Yt,mem:pt,power:hr,temp:ot});oe.length>60;)oe.shift();O.current=oe}catch{}};return le(),W=setInterval(le,2e3),()=>clearInterval(W)},[s]);const be=location.protocol==="https:"?"wss":"ws",pe=v.useMemo(()=>{const W=(Ma==null?void 0:Ma.VITE_API_BASE)||"/api";return/^https?:/i.test(W)?`${W.replace(/^http/i,be).replace(/\/$/,"")}/runs/${s}/logs/ws`:`${be}://${location.host}${W.replace(/\/$/,"")}/runs/${s}/logs/ws`},[s,be]),U=(W,le)=>{var Ie;if(!((Ie=W==null?void 0:W.rows)!=null&&Ie.length))return!1;for(const Be of W.rows){const We=Be[le];if(We==null||We==="")continue;const qt=Number(We);if(!Number.isNaN(qt))return!0}return!1},Q=new Set(["epoch","global_step","iter","step","batch","time","stage"]),fe=v.useMemo(()=>(u.columns||[]).filter(W=>!Q.has(W)&&U(u,W)),[u]),Re=v.useMemo(()=>{const W=new Set;for(const le of Z){const Ie=ie[le];if(!Ie)continue;const Be=Ie.columns||[];for(const We of Be)!Q.has(We)&&U(Ie,We)&&W.add(We)}return Array.from(W).sort()},[Z,ie]),Qe=v.useMemo(()=>({display:"grid",gridTemplateColumns:D&&B>=900?"repeat(auto-fit, minmax(400px, 1fr))":"1fr",gap:16,width:"100%",maxWidth:"100%"}),[D,B]),nt=v.useMemo(()=>{const W=n.defaultChartHeight;return B>=1200?W+30:B>=900?W:Math.max(250,W-40)},[B,n.defaultChartHeight]);return h&&!o?i.jsx(rd,{}):i.jsxs(M,{direction:"vertical",size:"large",style:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:[i.jsxs(de,{title:i.jsxs(M,{children:[i.jsx("span",{children:r("run.title",{id:s})}),(o==null?void 0:o.status)&&i.jsx(Ee,{color:o.status==="running"?"processing":o.status==="finished"?"success":o.status==="failed"?"error":"default",children:o.status}),x&&i.jsx($e,{title:`Last updated: ${x.toLocaleTimeString()}`,children:i.jsx(nr,{status:"processing",text:"Auto-refreshing"})})]}),extra:i.jsxs(M,{children:[i.jsx($e,{title:r("metrics.more_columns_tooltip")||"Display charts in multiple columns for better comparison",children:i.jsxs("span",{children:[r("metrics.more_columns")," ",i.jsx(ht,{checked:D,onChange:G})]})}),i.jsx($e,{title:"Manual refresh",children:i.jsx(xe,{type:"text",icon:i.jsx(Yn,{}),loading:h,onClick:()=>{ne(),ue(),re.success("Data refreshed")}})})]}),children:[i.jsx(vn,{spinning:h,children:i.jsx(Ve,{bordered:!0,size:"middle",column:{xs:1,sm:1,md:2,lg:2,xl:2},labelStyle:{fontWeight:600,fontSize:"14px",color:"#262626",width:"120px"},contentStyle:{fontSize:"14px",color:"#595959",fontFamily:"inherit"},items:[{key:"project",label:r("run.descriptions.project"),children:o!=null&&o.project?i.jsx(Ee,{color:"blue",style:{fontSize:"13px",padding:"4px 8px"},children:o.project}):"-"},{key:"name",label:r("run.descriptions.name"),children:o!=null&&o.name?i.jsx(Ee,{color:"purple",style:{fontSize:"13px",padding:"4px 8px"},children:o.name}):"-"},{key:"status",label:r("run.descriptions.status"),children:o!=null&&o.status?i.jsx(Ee,{color:o.status==="running"?"processing":o.status==="finished"?"success":o.status==="failed"?"error":"default",style:{fontSize:"13px",padding:"4px 8px",fontWeight:500},children:o.status.toUpperCase()}):"-"},{key:"pid",label:r("run.descriptions.pid"),children:o!=null&&o.pid?i.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#1677ff"},children:o.pid}):"-"},{key:"run_dir",label:r("run.descriptions.dir"),children:o!=null&&o.run_dir?i.jsx("div",{style:{fontSize:"13px",wordBreak:"break-all",lineHeight:"1.5",maxWidth:"400px",color:"#595959"},children:o.run_dir}):"-"},{key:"logs",label:r("run.descriptions.logs"),children:o!=null&&o.logs?i.jsx("div",{style:{fontSize:"13px",wordBreak:"break-all",lineHeight:"1.5",maxWidth:"400px",color:"#595959"},children:o.logs}):"-"}]})}),i.jsx("div",{style:{height:12}}),i.jsx("div",{style:{marginBottom:8},children:i.jsxs(M,{size:"large",wrap:!0,children:[i.jsxs("span",{children:[i.jsx(Au,{style:{marginRight:6}}),r("gpu.util")," ",(C==null?void 0:C.util)??"-","% ",he("util")]}),i.jsxs("span",{children:[i.jsx(Vt,{style:{marginRight:6}}),r("gpu.mem")," ",(C==null?void 0:C.mem)??"-","% ",he("mem")]}),i.jsxs("span",{children:[i.jsx(ur,{style:{marginRight:6}}),r("gpu.power")," ",(C==null?void 0:C.power)??"-"," W ",he("power")]}),i.jsxs("span",{children:[i.jsx(Du,{style:{marginRight:6}}),r("gpu.temp")," ",(C==null?void 0:C.temp)??"-","°C ",he("temp")]}),(C==null?void 0:C.gpus)&&i.jsx(Mu,{placement:"bottom",content:i.jsx("div",{style:{minWidth:220},children:C.gpus.map((W,le)=>i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:r("gpu.tooltip.item",{index:W.index,name:W.name})}),i.jsx("span",{style:{color:"#555"},children:r("gpu.tooltip.metrics",{util:Math.round(W.util_gpu??0),mem:Math.round(W.mem_used_pct??0),power:Math.round(W.power_w??0),temp:Math.round(W.temp_c??0)})})]},le))}),children:i.jsx(Ee,{color:"blue",style:{cursor:"pointer"},children:r("gpu.detail",{count:C.gpus.length})})})]})})]}),i.jsx(de,{title:i.jsxs(M,{children:[i.jsx("span",{children:r("compare.title")}),Z.length>1&&H.length>0&&i.jsx(nr,{count:`${Z.length} runs × ${H.length} metrics`,style:{backgroundColor:"#52c41a"}})]}),extra:i.jsxs(M,{children:[i.jsx($e,{title:"Select all available metrics",children:i.jsx(xe,{size:"small",type:"dashed",onClick:()=>N(Re),disabled:Re.length===0,children:"Select All Metrics"})}),i.jsx($e,{title:"Clear all selections",children:i.jsx(xe,{size:"small",type:"text",onClick:()=>{N([]),V([s])},children:"Clear"})})]}),children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsxs(M,{wrap:!0,style:{width:"100%"},children:[i.jsxs("div",{style:{minWidth:200,maxWidth:B>=768?360:"100%"},children:[i.jsx("div",{style:{marginBottom:4,fontSize:"14px",fontWeight:500},children:r("compare.select.runs")}),i.jsx(ft,{mode:"multiple",allowClear:!0,value:Z,onChange:V,placeholder:r("compare.select.runs.placeholder"),style:{width:"100%",minWidth:200},options:(X||[]).map(W=>({value:W.id,label:W.id}))})]}),i.jsxs("div",{style:{minWidth:200,maxWidth:B>=768?300:"100%"},children:[i.jsx("div",{style:{marginBottom:4,fontSize:"14px",fontWeight:500},children:i.jsxs(M,{children:[i.jsx("span",{children:r("compare.select.metrics")}),i.jsxs(M.Compact,{children:[i.jsx($e,{title:"Common loss metrics",children:i.jsx(xe,{size:"small",type:"text",onClick:()=>{const W=Re.filter(le=>le.toLowerCase().includes("loss")||le.toLowerCase().includes("error"));N(W)},children:"Loss"})}),i.jsx($e,{title:"Common accuracy metrics",children:i.jsx(xe,{size:"small",type:"text",onClick:()=>{const W=Re.filter(le=>le.toLowerCase().includes("acc")||le.toLowerCase().includes("accuracy"));N(W)},children:"Acc"})})]})]})}),i.jsx(ft,{mode:"multiple",allowClear:!0,value:H,onChange:N,placeholder:r("compare.select.metrics.placeholder"),style:{width:"100%",minWidth:200},options:Re.map(W=>({value:W,label:W})),maxTagCount:"responsive"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:8},children:[i.jsxs("div",{children:[i.jsx("div",{style:{marginBottom:4,fontSize:"14px",fontWeight:500},children:r("compare.stepx")}),i.jsx(ft,{size:"small",value:k,onChange:W=>L(W),style:{width:140},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),i.jsx(xe,{size:"small",onClick:async()=>{const W={};for(const le of Z)try{W[le]=await Da(le)}catch{}ae(W)},children:r("compare.refresh")})]})]}),H.length===0||Z.length===0?i.jsx(ir,{type:"info",showIcon:!0,message:r("compare.tip")}):i.jsx("div",{style:Qe,children:H.map(W=>i.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px"},children:i.jsx(Zv,{title:W,xKey:k,yKey:W,runs:Z.map(le=>({id:le,metrics:ie[le]||{columns:[],rows:[]}})),height:nt,group:`overlay-group-${s}`,persistKey:`run:${s}:overlay:${W}`})},W))})]})}),i.jsx(de,{title:i.jsxs(M,{children:[i.jsx("span",{children:r("metrics.title")}),i.jsx(nr,{count:fe.length,showZero:!0,style:{backgroundColor:"#1677ff"}}),_&&i.jsx(vn,{size:"small"})]}),extra:i.jsxs(M,{wrap:!0,children:[i.jsxs("span",{children:[r("compare.stepx")," ",i.jsx(ft,{size:"small",value:k,onChange:W=>L(W),style:{width:140},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),i.jsx($e,{title:"Refresh metrics",children:i.jsx(xe,{type:"text",size:"small",icon:i.jsx(Yn,{}),loading:_,onClick:()=>ue()})})]}),children:fe.length===0?i.jsx(ir,{type:"info",showIcon:!0,message:r("metrics.none")}):i.jsx("div",{style:Qe,children:fe.map(W=>i.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px"},children:i.jsx(Vv,{metrics:u,xKey:k,yKeys:[W],title:W,height:nt,group:`step-group-${s}`,persistKey:`run:${s}:step:${W}`})},W))})}),i.jsx(de,{title:i.jsxs(M,{children:[i.jsx("span",{children:r("gpu.title")}),C&&C.gpus&&i.jsx(nr,{count:C.gpus.length,showZero:!0,style:{backgroundColor:"#52c41a"}})]}),extra:i.jsx($e,{title:r("polling.every2s"),children:i.jsx(Ee,{color:"processing",children:"Auto-polling"})}),children:i.jsx(Yv,{})}),((o==null?void 0:o.artifacts_created_count)>0||(o==null?void 0:o.artifacts_used_count)>0)&&i.jsx(de,{title:i.jsxs(M,{children:[i.jsx(lo,{}),r("run.artifacts.title")]}),children:i.jsx(nw,{runId:s})}),i.jsx(de,{title:i.jsxs(M,{children:[i.jsx("span",{children:r("logs.title")}),i.jsx(Ee,{color:"cyan",children:"Real-time"})]}),styles:{body:{padding:0}},children:i.jsx(Hv,{url:pe,persistKey:`run_${s}_logs`})})]})}const{TextArea:ow}=sr;function lw({config:s,onChange:r,disabled:n}){const{t:o}=ct(),l=u=>{const d=new FileReader;return d.onload=h=>{var _;const m=(_=h.target)==null?void 0:_.result;r({...s,privateKey:m})},d.readAsText(u),!1};return i.jsxs(Dr,{layout:"vertical",children:[i.jsx(Dr.Item,{label:o("remote_storage.form.host"),required:!0,help:o("remote_storage.form.host_help"),children:i.jsx(sr,{value:s.host,onChange:u=>r({...s,host:u.target.value}),placeholder:o("remote_storage.form.host_placeholder"),disabled:n})}),i.jsxs(M,{style:{width:"100%"},children:[i.jsx(Dr.Item,{label:o("remote_storage.form.port"),style:{flex:1},children:i.jsx(Xn,{value:s.port,onChange:u=>r({...s,port:u||22}),min:1,max:65535,style:{width:"100%"},disabled:n})}),i.jsx(Dr.Item,{label:o("remote_storage.form.username"),required:!0,style:{flex:2},children:i.jsx(sr,{value:s.username,onChange:u=>r({...s,username:u.target.value}),placeholder:o("remote_storage.form.username_placeholder"),disabled:n})})]}),i.jsx(Dr.Item,{label:o("remote_storage.form.auth_method"),children:i.jsxs(Nr.Group,{value:s.authMethod,onChange:u=>r({...s,authMethod:u.target.value}),disabled:n,children:[i.jsxs(Nr,{value:"key",children:[i.jsx(gx,{})," ",o("remote_storage.form.auth_key")]}),i.jsxs(Nr,{value:"password",children:[i.jsx(mx,{})," ",o("remote_storage.form.auth_password")]}),i.jsx(Nr,{value:"agent",children:o("remote_storage.form.auth_agent")})]})}),s.authMethod==="key"&&i.jsxs(i.Fragment,{children:[i.jsxs(Dr.Item,{label:o("remote_storage.form.private_key"),children:[i.jsx(ow,{rows:6,value:s.privateKey||"",onChange:u=>r({...s,privateKey:u.target.value}),placeholder:o("remote_storage.form.private_key_placeholder"),style:{fontFamily:"monospace",fontSize:12},disabled:n}),i.jsxs(M,{style:{marginTop:8},children:[i.jsx($u,{beforeUpload:l,showUploadList:!1,accept:".pem,.key,*",disabled:n,children:i.jsx(xe,{icon:i.jsx(Nu,{}),disabled:n,children:o("remote_storage.form.select_key_file")})}),s.privateKey&&i.jsx(Ee,{color:"success",children:o("remote_storage.form.key_loaded")})]})]}),i.jsx(Dr.Item,{label:o("remote_storage.form.private_key_passphrase"),children:i.jsx(sr.Password,{value:s.passphrase||"",onChange:u=>r({...s,passphrase:u.target.value}),placeholder:o("remote_storage.form.private_key_passphrase_placeholder"),disabled:n})})]}),s.authMethod==="password"&&i.jsx(Dr.Item,{label:o("remote_storage.form.password"),children:i.jsx(sr.Password,{value:s.password||"",onChange:u=>r({...s,password:u.target.value}),placeholder:o("remote_storage.form.password_placeholder"),disabled:n})})]})}const{Title:cw,Text:at}=Me;function uw(){const{t:s}=ct(),[r,n]=v.useState("smart"),[o,l]=v.useState({host:"",port:22,username:"",authMethod:"key",password:"",privateKey:"",privateKeyPath:"",passphrase:""}),[u,d]=v.useState([]),[h,m]=v.useState(!1),[_,S]=v.useState(!1),[x,I]=v.useState(""),[k,L]=v.useState(!1),[D,G]=v.useState(!1),[B,E]=v.useState(null),[C,w]=v.useState(""),[O,X]=v.useState("~"),[J,Z]=v.useState([]),[V,H]=v.useState(!1),[N,ie]=v.useState(""),[ae,ne]=v.useState(!1),[ue,he]=v.useState(!0),[be,pe]=v.useState(10),[U,Q]=v.useState(!1),[fe,Re]=v.useState(null),[Qe,nt]=v.useState(2),[W,le]=v.useState([]);v.useEffect(()=>{const $=async()=>{var ee,Se,je,Tt;try{const qe=await ov();G(qe.connected),E(qe.connected?qe:null),w(qe.connection_id||""),(Se=(ee=qe.modes)==null?void 0:ee.smart)!=null&&Se.active&&ne(!0),(Tt=(je=qe.modes)==null?void 0:je.mirror)!=null&&Tt.tasks&&le(qe.modes.mirror.tasks||[])}catch{}};$();const se=setInterval($,2e3);return()=>clearInterval(se)},[]),v.useEffect(()=>{(async()=>{try{const se=await za();d(se.connections||[])}catch{}})()},[]),v.useEffect(()=>{if(!ae||!U)return;const $=setInterval(async()=>{var se,ee;try{const Se=await Xu();Re(Se.sync_progress),((se=Se.sync_progress)==null?void 0:se.status)==="completed"&&(Q(!1),re.success(s("remote_storage.sync.complete"))),((ee=Se.sync_progress)==null?void 0:ee.status)==="failed"&&(Q(!1),re.error(s("remote_storage.sync.failed")))}catch{}},2e3);return()=>clearInterval($)},[ae,U]),v.useEffect(()=>{if(!D||r!=="mirror")return;const $=async()=>{try{const ee=await fv();le(ee.mirrors||[])}catch{}};$();const se=setInterval($,3e3);return()=>clearInterval(se)},[D,r]);const Ie=async($,se)=>{const ee=$||o;if(!ee.host||!ee.username){re.error(s("remote.msg.fill_host_user"));return}L(!0);try{const Se=await iv({host:ee.host,port:ee.port,username:ee.username,password:ee.authMethod==="password"?ee.password:void 0,private_key:ee.authMethod==="key"?ee.privateKey:void 0,private_key_path:ee.authMethod==="key"?ee.privateKeyPath:void 0,passphrase:ee.passphrase,use_agent:ee.authMethod==="agent"});if(Se.ok){if(re.success(s("remote.msg.ssh_connected")),G(!0),E(Se),w(Se.connection_id),h&&!se)try{await tv({host:ee.host,port:ee.port,username:ee.username,name:x||`${ee.username}@${ee.host}`,auth_method:ee.authMethod,private_key_path:ee.privateKeyPath,remember_password:_,password:_?ee.password:void 0,private_key:_?ee.privateKey:void 0,passphrase:_?ee.passphrase:void 0});const je=await za();d(je.connections||[])}catch(je){console.error("Failed to save connection:",je)}await pt("~")}}catch(Se){re.error(`${s("remote.msg.connect_failed")}: ${Se.message}`)}finally{L(!1)}},Be=async()=>{try{await av(),re.success(s("remote_storage.msg.disconnect_success")),We()}catch($){re.error(`${s("remote_storage.msg.disconnect_failed")}: ${$.message}`)}},We=()=>{G(!1),E(null),w(""),ne(!1),Q(!1),Re(null),Z([]),ie("")},qt=async $=>{try{const se=await nv($.key);if(!se.ok||!se.connection){re.error(s("remote_storage.msg.load_failed"));return}const ee=se.connection,Se={host:ee.host||"",port:ee.port||22,username:ee.username||"",authMethod:ee.auth_method||(ee.password?"password":"key"),password:ee.password||"",privateKey:ee.private_key||"",privateKeyPath:ee.private_key_path||"",passphrase:ee.passphrase||""};l(Se),I(ee.name||""),m(!0),S(ee.remember_password||!1),ee.remember_password&&(ee.password||ee.private_key)&&(re.info(s("remote_storage.msg.auto_connecting")),Ie(Se,!0))}catch(se){re.error(`${s("remote_storage.msg.load_failed")}: ${se.message}`)}},Yt=async $=>{try{await rv($);const se=await za();d(se.connections||[]),re.success(s("remote_storage.msg.connection_deleted"))}catch(se){re.error(`${s("remote_storage.msg.delete_failed")}: ${se.message}`)}},pt=async $=>{if(D){H(!0);try{const se=await cv($);Z(se.items||[]),X(se.current_path||$)}catch(se){re.error(`${s("remote.msg.dir_failed")}: ${se.message}`)}finally{H(!1)}}},hr=()=>{const $=O;if($==="~"||$==="/")return;if($.startsWith("~")){const je=$.slice(1).split("/").filter(Boolean);if(je.length<=1){pt("~");return}const Tt="~/"+je.slice(0,-1).join("/");pt(Tt);return}const se=$.split("/").filter(Boolean);se.pop();const ee="/"+se.join("/");pt(ee||"/")},ot=async()=>{if(!D||!N){re.warning(s("remote.msg.need_path"));return}if(r==="smart")try{(await lv({mode:"smart",remote_root:N,auto_sync:ue,sync_interval_minutes:be})).ok&&(ne(!0),Q(!0),await Xa(),re.success(s("remote_storage.msg.smart_configured")))}catch($){re.error(`${s("remote_storage.msg.config_failed")}: ${$.message}`)}else try{await uv({session_id:C,remote_root:N,interval:Qe}),re.success(s("remote.msg.started"));try{window.dispatchEvent(new Event("runicorn:refresh"))}catch{}}catch($){re.error(`${s("remote.msg.start_failed")}: ${$.message}`)}},K=async $=>{try{await dv($),re.info(s("remote.tasks.stop"))}catch{}},oe=async()=>{Q(!0);try{await Xa(),re.info(s("remote_storage.msg.sync_started"))}catch($){re.error(`${s("remote_storage.sync.failed")}: ${$.message}`),Q(!1)}},me=async()=>{try{(await Rv()).connected?re.success(s("remote_storage.msg.verify_ok")):re.warning(s("remote_storage.msg.verify_failed"))}catch($){re.error(`${s("remote_storage.status.verify")}: ${$.message}`)}};return i.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:24},children:[i.jsxs(cw,{level:2,children:[i.jsx(uo,{})," ",s("unified_remote.title")]}),i.jsx(at,{type:"secondary",children:s("unified_remote.subtitle")}),i.jsxs(M,{direction:"vertical",style:{width:"100%",marginTop:24},size:"large",children:[D&&i.jsx(ir,{type:"success",icon:i.jsx(Jc,{}),message:s("unified_remote.connection_active"),description:i.jsxs(M,{children:[i.jsxs(at,{children:[B==null?void 0:B.username,"@",B==null?void 0:B.host,":",B==null?void 0:B.port]}),i.jsx(Ee,{color:"green",children:s("unified_remote.connected")})]}),action:i.jsx(xe,{danger:!0,size:"small",onClick:Be,children:s("remote.disconnect")})}),!D&&i.jsxs(de,{title:s("unified_remote.ssh_config_title"),children:[u.length>0&&i.jsxs("div",{style:{marginBottom:16},children:[i.jsxs(at,{strong:!0,children:[s("remote_storage.saved_connections"),":"]}),i.jsx(M,{direction:"vertical",style:{width:"100%",marginTop:8},children:u.map($=>i.jsxs("div",{style:{padding:"8px 12px",border:"1px solid #f0f0f0",borderRadius:4,display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:se=>{se.currentTarget.style.borderColor="#1890ff",se.currentTarget.style.background="#f0f8ff"},onMouseLeave:se=>{se.currentTarget.style.borderColor="#f0f0f0",se.currentTarget.style.background="transparent"},onClick:()=>qt($),children:[i.jsxs(M,{children:[i.jsx(Jc,{}),i.jsx(at,{children:$.name||$.key}),$.has_password||$.has_private_key?i.jsx($e,{title:s("remote_storage.one_click_connect"),children:i.jsx(Ee,{color:"green",icon:i.jsx(ur,{}),children:s("remote_storage.password_saved")})}):i.jsx($e,{title:s("remote_storage.need_password"),children:i.jsx(Ee,{children:s("remote_storage.no_password")})})]}),i.jsx(xe,{size:"small",danger:!0,onClick:se=>{se.stopPropagation(),Yt($.key)},children:s("remote_storage.actions.delete")})]},$.key))})]}),i.jsx(lw,{config:o,onChange:l,disabled:D}),i.jsxs(M,{direction:"vertical",style:{width:"100%",marginTop:16},children:[i.jsxs(M,{children:[i.jsx(ht,{checked:h,onChange:m}),i.jsx(at,{children:s("remote_storage.remember_connection")})]}),h&&i.jsxs(i.Fragment,{children:[i.jsx(sr,{placeholder:s("remote_storage.connection_name_placeholder"),value:x,onChange:$=>I($.target.value),style:{marginBottom:8}}),i.jsxs(M,{children:[i.jsx(ht,{checked:_,onChange:S,disabled:!h}),i.jsx(at,{children:s("remote_storage.remember_password")}),i.jsx($e,{title:s("remote_storage.remember_password_tooltip"),children:i.jsx(Ee,{color:"orange",children:s("remote_storage.warning")})})]})]})]}),i.jsx(xe,{type:"primary",loading:k,onClick:()=>Ie(),style:{marginTop:16},children:s("unified_remote.connect")})]}),D&&i.jsx(de,{children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"large",children:[i.jsxs("div",{children:[i.jsxs(at,{strong:!0,style:{marginRight:16},children:[s("remote_storage.sync.mode"),":"]}),i.jsxs(Nr.Group,{value:r,onChange:$=>n($.target.value),children:[i.jsx(Nr.Button,{value:"smart",children:i.jsxs(M,{children:[i.jsx(ur,{}),s("unified_remote.mode.smart"),i.jsx(Ee,{color:"blue",children:s("unified_remote.mode.smart_tag")})]})}),i.jsx(Nr.Button,{value:"mirror",children:i.jsxs(M,{children:[i.jsx(_x,{}),s("unified_remote.mode.mirror")]})})]})]}),i.jsx(ir,{type:r==="smart"?"info":"warning",showIcon:!0,message:s(r==="smart"?"remote_storage.features.advantages":"unified_remote.mirror.title"),description:r==="smart"?i.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[i.jsxs("li",{children:[i.jsx("strong",{children:s("remote_storage.features.fast_init")}),": ",s("remote_storage.features.fast_init_desc")]}),i.jsxs("li",{children:[i.jsx("strong",{children:s("remote_storage.features.save_space")}),": ",s("remote_storage.features.save_space_desc")]}),i.jsxs("li",{children:[i.jsx("strong",{children:s("remote_storage.features.on_demand")}),": ",s("remote_storage.features.on_demand_desc")]})]}):i.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[i.jsx("li",{children:s("unified_remote.mirror.desc_1")}),i.jsx("li",{children:s("unified_remote.mirror.desc_2")}),i.jsx("li",{children:s("unified_remote.mirror.desc_4")})]})}),i.jsx(de,{title:s("remote.choose.title"),size:"small",children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsxs(M,{children:[i.jsx(at,{children:s("remote.current_dir")}),i.jsx(at,{code:!0,children:O}),i.jsx(xe,{size:"small",icon:i.jsx(yx,{}),onClick:hr,children:s("remote.up")}),i.jsx(xe,{size:"small",icon:i.jsx(Yn,{}),loading:V,onClick:()=>pt(O),children:s("remote.refresh")})]}),i.jsx("div",{style:{maxHeight:300,overflow:"auto",border:"1px solid #f0f0f0",borderRadius:4,padding:8},children:V?i.jsx("div",{style:{textAlign:"center",padding:20},children:i.jsx(vn,{})}):J.length===0?i.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:s("remote.empty")}):J.map($=>i.jsx("div",{style:{cursor:$.type==="dir"?"pointer":"default",padding:"4px 8px",borderRadius:4,transition:"background 0.2s",background:N===$.path?"#e6f7ff":"transparent"},onMouseEnter:se=>{$.type==="dir"&&N!==$.path&&(se.currentTarget.style.background="#f5f5f5")},onMouseLeave:se=>{N!==$.path&&(se.currentTarget.style.background="transparent")},onClick:()=>{$.type==="dir"&&(ie($.path),pt($.path))},children:i.jsxs(M,{children:[$.type==="dir"?i.jsx(Nu,{style:{color:"#1890ff"}}):i.jsx(Ys,{}),i.jsx(at,{strong:$.type==="dir",children:$.name}),$.type==="file"&&$.size>0&&i.jsxs(at,{type:"secondary",style:{fontSize:12},children:["(",($.size/1024).toFixed(1)," KB)"]})]})},$.path))}),i.jsxs(M,{style:{width:"100%"},children:[i.jsxs(at,{children:[s("remote_storage.form.remote_root"),":"]}),i.jsx(sr,{value:N||O,onChange:$=>ie($.target.value),style:{flex:1},placeholder:s("remote_storage.form.remote_root_placeholder")})]}),i.jsx(M,{style:{width:"100%"},children:r==="smart"?i.jsxs(i.Fragment,{children:[i.jsx(ht,{checked:ue,onChange:he}),i.jsx(at,{children:s("remote_storage.form.auto_sync")}),ue&&i.jsxs(i.Fragment,{children:[i.jsx(at,{children:s("remote_storage.form.auto_sync_interval")}),i.jsx(Xn,{value:be,onChange:$=>pe($||10),min:1,max:60,style:{width:80}}),i.jsx(at,{children:s("remote_storage.form.auto_sync_interval_suffix")})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(at,{children:[s("remote.interval.suffix"),":"]}),i.jsx(Xn,{value:Qe,onChange:$=>nt($||2),min:1,max:60,style:{width:100},addonAfter:s("remote.interval.suffix")})]})}),i.jsx(xe,{type:"primary",icon:r==="smart"?i.jsx(Vt,{}):i.jsx(wn,{}),onClick:ot,disabled:!N,block:!0,children:s(r==="smart"?"remote_storage.form.connect_button":"remote.sync_dir")}),i.jsx(ir,{type:"info",message:s("remote.tip"),closable:!0})]})}),r==="smart"&&ae&&i.jsx(de,{size:"small",children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsxs(M,{children:[i.jsx(nr,{status:"success"}),i.jsx(at,{strong:!0,children:s("remote_storage.status.connected")})]}),i.jsx(Ve,{size:"small",column:2,children:i.jsx(Ve.Item,{label:s("remote_storage.status.remote_dir"),children:N})}),i.jsxs(M,{children:[i.jsx(xe,{icon:i.jsx(wn,{}),onClick:oe,loading:U,children:s("remote_storage.status.manual_sync")}),i.jsx(xe,{onClick:me,children:s("remote_storage.status.verify")})]})]})}),r==="mirror"&&W.length>0&&i.jsx(de,{title:s("remote.tasks.title"),size:"small",children:i.jsx(M,{direction:"vertical",style:{width:"100%"},children:W.map($=>i.jsx(de,{size:"small",style:{background:"#fafafa"},children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsxs(M,{style:{width:"100%",justifyContent:"space-between"},children:[i.jsxs(M,{direction:"vertical",size:"small",children:[i.jsx(at,{strong:!0,children:$.remote_root}),i.jsxs(at,{type:"secondary",style:{fontSize:12},children:["→ ",$.local_root]})]}),i.jsx(nr,{status:$.alive?"processing":"default",text:$.alive?s("unified_remote.mirror.status_running"):s("unified_remote.mirror.status_stopped")})]}),i.jsxs(Ve,{size:"small",column:3,children:[i.jsx(Ve.Item,{label:s("unified_remote.mirror.copied"),children:$.stats.copied_files||0}),i.jsxs(Ve.Item,{label:s("unified_remote.mirror.appended"),children:[$.stats.appended_bytes||0," B"]}),i.jsx(Ve.Item,{label:s("unified_remote.mirror.scans"),children:$.stats.scans||0})]}),$.alive&&i.jsx(xe,{size:"small",danger:!0,icon:i.jsx(xx,{}),onClick:()=>K($.id),children:s("remote.tasks.stop")})]})},$.id))})})]})})]})]})}function dw({open:s,onClose:r,onRestore:n}){const{t:o}=ct(),[l,u]=v.useState([]),[d,h]=v.useState(!1),[m,_]=v.useState([]),[S,x]=v.useState(!1),[I,k]=v.useState(!1),L=v.useCallback(async()=>{if(s){h(!0);try{const E=await gv();u(E.deleted_runs||[])}catch{re.error(o("recycle_bin.fetch_failed")||"Failed to load recycle bin")}finally{h(!1)}}},[s,o]);v.useEffect(()=>{s&&(L(),_([]))},[s,L]);const D=async()=>{if(m.length===0){re.warning(o("recycle_bin.select_to_restore")||"Please select runs to restore");return}x(!0);try{const E=await mv(m);E.restored_count>0?(re.success(o("recycle_bin.restore_success",{count:E.restored_count})||`Restored ${E.restored_count} runs`),_([]),L(),n==null||n()):re.warning("No runs were restored")}catch{re.error(o("recycle_bin.restore_failed")||"Failed to restore runs")}finally{x(!1)}},G=async()=>{k(!0);try{const E=await _v();re.success(o("recycle_bin.empty_success",{count:E.permanently_deleted})||`Permanently deleted ${E.permanently_deleted} runs`),L()}catch{re.error(o("recycle_bin.empty_failed")||"Failed to empty recycle bin")}finally{k(!1)}},B=[{title:o("table.run_id"),dataIndex:"id",key:"id",render:E=>i.jsx(Me.Text,{code:!0,style:{fontSize:"12px"},children:E})},{title:o("table.project"),dataIndex:"project",key:"project",render:E=>i.jsx(Ee,{color:"blue",children:E})},{title:o("table.name"),dataIndex:"name",key:"name",render:E=>i.jsx(Ee,{color:"purple",children:E})},{title:o("recycle_bin.original_status"),dataIndex:"original_status",key:"original_status",render:E=>i.jsx(Ee,{color:E==="running"?"processing":E==="finished"?"success":E==="failed"?"error":"default",children:E})},{title:o("recycle_bin.deleted_at"),dataIndex:"deleted_at",key:"deleted_at",render:E=>i.jsx($e,{title:new Date(E*1e3).toLocaleString(),children:new Date(E*1e3).toLocaleDateString()})},{title:o("table.actions"),key:"actions",render:(E,C)=>i.jsx(M,{size:"small",children:i.jsx($e,{title:o("recycle_bin.restore_single"),children:i.jsx(xe,{type:"text",size:"small",icon:i.jsx(Va,{}),onClick:async()=>{_([C.id]),await D()}})})})}];return i.jsx(fo,{title:i.jsxs(M,{children:[i.jsx(Xs,{}),i.jsx("span",{children:o("recycle_bin.title")||"Recycle Bin"}),i.jsx(Ee,{color:"orange",children:l.length})]}),open:s,onCancel:r,width:800,footer:[i.jsx(xe,{onClick:r,children:o("experiments.cancel")||"Close"},"close"),i.jsxs(xe,{type:"primary",icon:i.jsx(Va,{}),loading:S,disabled:m.length===0,onClick:D,children:[o("recycle_bin.restore_selected")||"Restore Selected",m.length>0&&` (${m.length})`]},"restore"),i.jsx(vx,{title:o("recycle_bin.empty_confirm_title")||"Empty Recycle Bin",description:o("recycle_bin.empty_confirm_desc")||"This will permanently delete all runs in recycle bin. This cannot be undone!",okText:o("recycle_bin.empty_confirm")||"Yes, Delete All",okType:"danger",cancelText:o("experiments.cancel")||"Cancel",onConfirm:G,children:i.jsx(xe,{danger:!0,icon:i.jsx(wx,{}),loading:I,disabled:l.length===0,children:o("recycle_bin.empty_bin")||"Empty Bin"})},"empty")],children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(ir,{message:o("recycle_bin.description")||"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.",type:"info",icon:i.jsx(Fu,{}),showIcon:!0}),i.jsx(Fr,{rowSelection:{selectedRowKeys:m,onChange:E=>_(E),getCheckboxProps:E=>({disabled:!1})},dataSource:l,columns:B,loading:d,rowKey:"id",size:"small",pagination:{pageSize:10,showSizeChanger:!1,showQuickJumper:!1,showTotal:(E,C)=>o("recycle_bin.table_total",{from:C[0],to:C[1],total:E})||`${C[0]}-${C[1]} of ${E} items`},locale:{emptyText:i.jsx("div",{style:{padding:20,textAlign:"center"},children:i.jsx(Me.Text,{type:"secondary",children:o("recycle_bin.empty_state")||"Recycle bin is empty"})})}}),m.length>0&&i.jsx(ir,{message:o("recycle_bin.selection_info",{count:m.length})||`${m.length} runs selected for restoration`,type:"info",style:{marginTop:8}})]})})}var mo={exports:{}},ts={},ii={exports:{}},nd={},sd={exports:{}},fw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hw=fw,pw=hw;function id(){}function ad(){}ad.resetWarningCache=id;var gw=function(){function s(o,l,u,d,h,m){if(m!==pw){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}s.isRequired=s;function r(){return s}var n={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:ad,resetWarningCache:id};return n.PropTypes=n,n};sd.exports=gw();var ai=sd.exports,eo={exports:{}};function od(s){var r,n,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var l=s.length;for(r=0;r<l;r++)s[r]&&(n=od(s[r]))&&(o&&(o+=" "),o+=n)}else for(n in s)s[n]&&(o&&(o+=" "),o+=n);return o}function au(){for(var s,r,n=0,o="",l=arguments.length;n<l;n++)(s=arguments[n])&&(r=od(s))&&(o&&(o+=" "),o+=r);return o}eo.exports=au,eo.exports.clsx=au;var mw=eo.exports,Ze={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.dontSetMe=ww;dr.findInArray=_w;dr.int=vw;dr.isFunction=yw;dr.isNum=xw;function _w(s,r){for(let n=0,o=s.length;n<o;n++)if(r.apply(r,[s[n],n,s]))return s[n]}function yw(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function xw(s){return typeof s=="number"&&!isNaN(s)}function vw(s){return parseInt(s,10)}function ww(s,r,n){if(s[r])return new Error(`Invalid prop ${r} passed to ${n} - do not set this, set it on the child.`)}var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.browserPrefixToKey=cd;Zr.browserPrefixToStyle=bw;Zr.default=void 0;Zr.getPrefix=ld;const $a=["Moz","Webkit","O","ms"];function ld(){var n,o;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(o=(n=window.document)==null?void 0:n.documentElement)==null?void 0:o.style;if(!r||s in r)return"";for(let l=0;l<$a.length;l++)if(cd(s,$a[l])in r)return $a[l];return""}function cd(s,r){return r?`${r}${Sw(s)}`:s}function bw(s,r){return r?`-${r.toLowerCase()}-${s}`:s}function Sw(s){let r="",n=!0;for(let o=0;o<s.length;o++)n?(r+=s[o].toUpperCase(),n=!1):s[o]==="-"?n=!0:r+=s[o];return r}Zr.default=ld();Object.defineProperty(Ze,"__esModule",{value:!0});Ze.addClassName=fd;Ze.addEvent=Cw;Ze.addUserSelectStyles=zw;Ze.createCSSTransform=Lw;Ze.createSVGTransform=Pw;Ze.getTouch=Aw;Ze.getTouchIdentifier=Dw;Ze.getTranslation=_o;Ze.innerHeight=Tw;Ze.innerWidth=Ew;Ze.matchesSelector=dd;Ze.matchesSelectorAndParentsTo=jw;Ze.offsetXYFromParent=Iw;Ze.outerHeight=kw;Ze.outerWidth=Ow;Ze.removeClassName=hd;Ze.removeEvent=Rw;Ze.scheduleRemoveUserSelectStyles=Mw;var $t=dr,ou=ud(Zr);function ud(s,r){if(typeof WeakMap=="function")var n=new WeakMap,o=new WeakMap;return(ud=function(l,u){if(!u&&l&&l.__esModule)return l;var d,h,m={__proto__:null,default:l};if(l===null||typeof l!="object"&&typeof l!="function")return m;if(d=u?o:n){if(d.has(l))return d.get(l);d.set(l,m)}for(const _ in l)_!=="default"&&{}.hasOwnProperty.call(l,_)&&((h=(d=Object.defineProperty)&&Object.getOwnPropertyDescriptor(l,_))&&(h.get||h.set)?d(m,_,h):m[_]=l[_]);return m})(s,r)}let Ks="";function dd(s,r){return Ks||(Ks=(0,$t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,$t.isFunction)(s[n])})),(0,$t.isFunction)(s[Ks])?s[Ks](r):!1}function jw(s,r,n){let o=s;do{if(dd(o,r))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}function Cw(s,r,n,o){if(!s)return;const l={capture:!0,...o};s.addEventListener?s.addEventListener(r,n,l):s.attachEvent?s.attachEvent("on"+r,n):s["on"+r]=n}function Rw(s,r,n,o){if(!s)return;const l={capture:!0,...o};s.removeEventListener?s.removeEventListener(r,n,l):s.detachEvent?s.detachEvent("on"+r,n):s["on"+r]=null}function kw(s){let r=s.clientHeight;const n=s.ownerDocument.defaultView.getComputedStyle(s);return r+=(0,$t.int)(n.borderTopWidth),r+=(0,$t.int)(n.borderBottomWidth),r}function Ow(s){let r=s.clientWidth;const n=s.ownerDocument.defaultView.getComputedStyle(s);return r+=(0,$t.int)(n.borderLeftWidth),r+=(0,$t.int)(n.borderRightWidth),r}function Tw(s){let r=s.clientHeight;const n=s.ownerDocument.defaultView.getComputedStyle(s);return r-=(0,$t.int)(n.paddingTop),r-=(0,$t.int)(n.paddingBottom),r}function Ew(s){let r=s.clientWidth;const n=s.ownerDocument.defaultView.getComputedStyle(s);return r-=(0,$t.int)(n.paddingLeft),r-=(0,$t.int)(n.paddingRight),r}function Iw(s,r,n){const l=r===r.ownerDocument.body?{left:0,top:0}:r.getBoundingClientRect(),u=(s.clientX+r.scrollLeft-l.left)/n,d=(s.clientY+r.scrollTop-l.top)/n;return{x:u,y:d}}function Lw(s,r){const n=_o(s,r,"px");return{[(0,ou.browserPrefixToKey)("transform",ou.default)]:n}}function Pw(s,r){return _o(s,r,"")}function _o(s,r,n){let{x:o,y:l}=s,u=`translate(${o}${n},${l}${n})`;if(r){const d=`${typeof r.x=="string"?r.x:r.x+n}`,h=`${typeof r.y=="string"?r.y:r.y+n}`;u=`translate(${d}, ${h})`+u}return u}function Aw(s,r){return s.targetTouches&&(0,$t.findInArray)(s.targetTouches,n=>r===n.identifier)||s.changedTouches&&(0,$t.findInArray)(s.changedTouches,n=>r===n.identifier)}function Dw(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier}function zw(s){if(!s)return;let r=s.getElementById("react-draggable-style-el");r||(r=s.createElement("style"),r.type="text/css",r.id="react-draggable-style-el",r.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,r.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(r)),s.body&&fd(s.body,"react-draggable-transparent-selection")}function Mw(s){window.requestAnimationFrame?window.requestAnimationFrame(()=>{lu(s)}):lu(s)}function lu(s){if(s)try{if(s.body&&hd(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{const r=(s.defaultView||window).getSelection();r&&r.type!=="Caret"&&r.removeAllRanges()}}catch{}}function fd(s,r){s.classList?s.classList.add(r):s.className.match(new RegExp(`(?:^|\\s)${r}(?!\\S)`))||(s.className+=` ${r}`)}function hd(s,r){s.classList?s.classList.remove(r):s.className=s.className.replace(new RegExp(`(?:^|\\s)${r}(?!\\S)`,"g"),"")}var fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.canDragX=Fw;fr.canDragY=Uw;fr.createCoreData=Ww;fr.createDraggableData=Hw;fr.getBoundPosition=$w;fr.getControlPosition=Bw;fr.snapToGrid=Nw;var zt=dr,xn=Ze;function $w(s,r,n){if(!s.props.bounds)return[r,n];let{bounds:o}=s.props;o=typeof o=="string"?o:Gw(o);const l=yo(s);if(typeof o=="string"){const{ownerDocument:u}=l,d=u.defaultView;let h;if(o==="parent"?h=l.parentNode:h=l.getRootNode().querySelector(o),!(h instanceof d.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const m=h,_=d.getComputedStyle(l),S=d.getComputedStyle(m);o={left:-l.offsetLeft+(0,zt.int)(S.paddingLeft)+(0,zt.int)(_.marginLeft),top:-l.offsetTop+(0,zt.int)(S.paddingTop)+(0,zt.int)(_.marginTop),right:(0,xn.innerWidth)(m)-(0,xn.outerWidth)(l)-l.offsetLeft+(0,zt.int)(S.paddingRight)-(0,zt.int)(_.marginRight),bottom:(0,xn.innerHeight)(m)-(0,xn.outerHeight)(l)-l.offsetTop+(0,zt.int)(S.paddingBottom)-(0,zt.int)(_.marginBottom)}}return(0,zt.isNum)(o.right)&&(r=Math.min(r,o.right)),(0,zt.isNum)(o.bottom)&&(n=Math.min(n,o.bottom)),(0,zt.isNum)(o.left)&&(r=Math.max(r,o.left)),(0,zt.isNum)(o.top)&&(n=Math.max(n,o.top)),[r,n]}function Nw(s,r,n){const o=Math.round(r/s[0])*s[0],l=Math.round(n/s[1])*s[1];return[o,l]}function Fw(s){return s.props.axis==="both"||s.props.axis==="x"}function Uw(s){return s.props.axis==="both"||s.props.axis==="y"}function Bw(s,r,n){const o=typeof r=="number"?(0,xn.getTouch)(s,r):null;if(typeof r=="number"&&!o)return null;const l=yo(n),u=n.props.offsetParent||l.offsetParent||l.ownerDocument.body;return(0,xn.offsetXYFromParent)(o||s,u,n.props.scale)}function Ww(s,r,n){const o=!(0,zt.isNum)(s.lastX),l=yo(s);return o?{node:l,deltaX:0,deltaY:0,lastX:r,lastY:n,x:r,y:n}:{node:l,deltaX:r-s.lastX,deltaY:n-s.lastY,lastX:s.lastX,lastY:s.lastY,x:r,y:n}}function Hw(s,r){const n=s.props.scale;return{node:r.node,x:s.state.x+r.deltaX/n,y:s.state.y+r.deltaY/n,deltaX:r.deltaX/n,deltaY:r.deltaY/n,lastX:s.state.x,lastY:s.state.y}}function Gw(s){return{left:s.left,top:s.top,right:s.right,bottom:s.bottom}}function yo(s){const r=s.findDOMNode();if(!r)throw new Error("<DraggableCore>: Unmounted during event!");return r}var oi={},li={};Object.defineProperty(li,"__esModule",{value:!0});li.default=Kw;function Kw(){}Object.defineProperty(oi,"__esModule",{value:!0});oi.default=void 0;var Na=pd(v),bt=xo(ai),Vw=xo(oo),_t=Ze,zr=fr,Fa=dr,Fn=xo(li);function xo(s){return s&&s.__esModule?s:{default:s}}function pd(s,r){if(typeof WeakMap=="function")var n=new WeakMap,o=new WeakMap;return(pd=function(l,u){if(!u&&l&&l.__esModule)return l;var d,h,m={__proto__:null,default:l};if(l===null||typeof l!="object"&&typeof l!="function")return m;if(d=u?o:n){if(d.has(l))return d.get(l);d.set(l,m)}for(const _ in l)_!=="default"&&{}.hasOwnProperty.call(l,_)&&((h=(d=Object.defineProperty)&&Object.getOwnPropertyDescriptor(l,_))&&(h.get||h.set)?d(m,_,h):m[_]=l[_]);return m})(s,r)}function St(s,r,n){return(r=qw(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function qw(s){var r=Yw(s,"string");return typeof r=="symbol"?r:r+""}function Yw(s,r){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}const rr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Mr=rr.mouse,ci=class extends Na.Component{constructor(){super(...arguments),St(this,"dragging",!1),St(this,"lastX",NaN),St(this,"lastY",NaN),St(this,"touchIdentifier",null),St(this,"mounted",!1),St(this,"handleDragStart",r=>{if(this.props.onMouseDown(r),!this.props.allowAnyClick&&typeof r.button=="number"&&r.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:o}=n;if(this.props.disabled||!(r.target instanceof o.defaultView.Node)||this.props.handle&&!(0,_t.matchesSelectorAndParentsTo)(r.target,this.props.handle,n)||this.props.cancel&&(0,_t.matchesSelectorAndParentsTo)(r.target,this.props.cancel,n))return;r.type==="touchstart"&&!this.props.allowMobileScroll&&r.preventDefault();const l=(0,_t.getTouchIdentifier)(r);this.touchIdentifier=l;const u=(0,zr.getControlPosition)(r,l,this);if(u==null)return;const{x:d,y:h}=u,m=(0,zr.createCoreData)(this,d,h);(0,Fn.default)("DraggableCore: handleDragStart: %j",m),(0,Fn.default)("calling",this.props.onStart),!(this.props.onStart(r,m)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,_t.addUserSelectStyles)(o),this.dragging=!0,this.lastX=d,this.lastY=h,(0,_t.addEvent)(o,Mr.move,this.handleDrag),(0,_t.addEvent)(o,Mr.stop,this.handleDragStop))}),St(this,"handleDrag",r=>{const n=(0,zr.getControlPosition)(r,this.touchIdentifier,this);if(n==null)return;let{x:o,y:l}=n;if(Array.isArray(this.props.grid)){let h=o-this.lastX,m=l-this.lastY;if([h,m]=(0,zr.snapToGrid)(this.props.grid,h,m),!h&&!m)return;o=this.lastX+h,l=this.lastY+m}const u=(0,zr.createCoreData)(this,o,l);if((0,Fn.default)("DraggableCore: handleDrag: %j",u),this.props.onDrag(r,u)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const m=document.createEvent("MouseEvents");m.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(m)}return}this.lastX=o,this.lastY=l}),St(this,"handleDragStop",r=>{if(!this.dragging)return;const n=(0,zr.getControlPosition)(r,this.touchIdentifier,this);if(n==null)return;let{x:o,y:l}=n;if(Array.isArray(this.props.grid)){let m=o-this.lastX||0,_=l-this.lastY||0;[m,_]=(0,zr.snapToGrid)(this.props.grid,m,_),o=this.lastX+m,l=this.lastY+_}const u=(0,zr.createCoreData)(this,o,l);if(this.props.onStop(r,u)===!1||this.mounted===!1)return!1;const h=this.findDOMNode();h&&this.props.enableUserSelectHack&&(0,_t.scheduleRemoveUserSelectStyles)(h.ownerDocument),(0,Fn.default)("DraggableCore: handleDragStop: %j",u),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,h&&((0,Fn.default)("DraggableCore: Removing handlers"),(0,_t.removeEvent)(h.ownerDocument,Mr.move,this.handleDrag),(0,_t.removeEvent)(h.ownerDocument,Mr.stop,this.handleDragStop))}),St(this,"onMouseDown",r=>(Mr=rr.mouse,this.handleDragStart(r))),St(this,"onMouseUp",r=>(Mr=rr.mouse,this.handleDragStop(r))),St(this,"onTouchStart",r=>(Mr=rr.touch,this.handleDragStart(r))),St(this,"onTouchEnd",r=>(Mr=rr.touch,this.handleDragStop(r)))}componentDidMount(){this.mounted=!0;const r=this.findDOMNode();r&&(0,_t.addEvent)(r,rr.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const r=this.findDOMNode();if(r){const{ownerDocument:n}=r;(0,_t.removeEvent)(n,rr.mouse.move,this.handleDrag),(0,_t.removeEvent)(n,rr.touch.move,this.handleDrag),(0,_t.removeEvent)(n,rr.mouse.stop,this.handleDragStop),(0,_t.removeEvent)(n,rr.touch.stop,this.handleDragStop),(0,_t.removeEvent)(r,rr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_t.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var r,n,o;return(r=this.props)!=null&&r.nodeRef?(o=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:o.current:Vw.default.findDOMNode(this)}render(){return Na.cloneElement(Na.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};oi.default=ci;St(ci,"displayName","DraggableCore");St(ci,"propTypes",{allowAnyClick:bt.default.bool,allowMobileScroll:bt.default.bool,children:bt.default.node.isRequired,disabled:bt.default.bool,enableUserSelectHack:bt.default.bool,offsetParent:function(s,r){if(s[r]&&s[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:bt.default.arrayOf(bt.default.number),handle:bt.default.string,cancel:bt.default.string,nodeRef:bt.default.object,onStart:bt.default.func,onDrag:bt.default.func,onStop:bt.default.func,onMouseDown:bt.default.func,scale:bt.default.number,className:Fa.dontSetMe,style:Fa.dontSetMe,transform:Fa.dontSetMe});St(ci,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"DraggableCore",{enumerable:!0,get:function(){return m.default}}),s.default=void 0;var r=x(v),n=S(ai),o=S(oo),l=mw,u=Ze,d=fr,h=dr,m=S(oi),_=S(li);function S(B){return B&&B.__esModule?B:{default:B}}function x(B,E){if(typeof WeakMap=="function")var C=new WeakMap,w=new WeakMap;return(x=function(O,X){if(!X&&O&&O.__esModule)return O;var J,Z,V={__proto__:null,default:O};if(O===null||typeof O!="object"&&typeof O!="function")return V;if(J=X?w:C){if(J.has(O))return J.get(O);J.set(O,V)}for(const H in O)H!=="default"&&{}.hasOwnProperty.call(O,H)&&((Z=(J=Object.defineProperty)&&Object.getOwnPropertyDescriptor(O,H))&&(Z.get||Z.set)?J(V,H,Z):V[H]=O[H]);return V})(B,E)}function I(){return I=Object.assign?Object.assign.bind():function(B){for(var E=1;E<arguments.length;E++){var C=arguments[E];for(var w in C)({}).hasOwnProperty.call(C,w)&&(B[w]=C[w])}return B},I.apply(null,arguments)}function k(B,E,C){return(E=L(E))in B?Object.defineProperty(B,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):B[E]=C,B}function L(B){var E=D(B,"string");return typeof E=="symbol"?E:E+""}function D(B,E){if(typeof B!="object"||!B)return B;var C=B[Symbol.toPrimitive];if(C!==void 0){var w=C.call(B,E);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(B)}class G extends r.Component{static getDerivedStateFromProps(E,C){let{position:w}=E,{prevPropsPosition:O}=C;return w&&(!O||w.x!==O.x||w.y!==O.y)?((0,_.default)("Draggable: getDerivedStateFromProps %j",{position:w,prevPropsPosition:O}),{x:w.x,y:w.y,prevPropsPosition:{...w}}):null}constructor(E){super(E),k(this,"onDragStart",(C,w)=>{if((0,_.default)("Draggable: onDragStart: %j",w),this.props.onStart(C,(0,d.createDraggableData)(this,w))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),k(this,"onDrag",(C,w)=>{if(!this.state.dragging)return!1;(0,_.default)("Draggable: onDrag: %j",w);const O=(0,d.createDraggableData)(this,w),X={x:O.x,y:O.y,slackX:0,slackY:0};if(this.props.bounds){const{x:Z,y:V}=X;X.x+=this.state.slackX,X.y+=this.state.slackY;const[H,N]=(0,d.getBoundPosition)(this,X.x,X.y);X.x=H,X.y=N,X.slackX=this.state.slackX+(Z-X.x),X.slackY=this.state.slackY+(V-X.y),O.x=X.x,O.y=X.y,O.deltaX=X.x-this.state.x,O.deltaY=X.y-this.state.y}if(this.props.onDrag(C,O)===!1)return!1;this.setState(X)}),k(this,"onDragStop",(C,w)=>{if(!this.state.dragging||this.props.onStop(C,(0,d.createDraggableData)(this,w))===!1)return!1;(0,_.default)("Draggable: onDragStop: %j",w);const X={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:Z,y:V}=this.props.position;X.x=Z,X.y=V}this.setState(X)}),this.state={dragging:!1,dragged:!1,x:E.position?E.position.x:E.defaultPosition.x,y:E.position?E.position.y:E.defaultPosition.y,prevPropsPosition:{...E.position},slackX:0,slackY:0,isElementSVG:!1},E.position&&!(E.onDrag||E.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var E,C;return((C=(E=this.props)==null?void 0:E.nodeRef)==null?void 0:C.current)??o.default.findDOMNode(this)}render(){const{axis:E,bounds:C,children:w,defaultPosition:O,defaultClassName:X,defaultClassNameDragging:J,defaultClassNameDragged:Z,position:V,positionOffset:H,scale:N,...ie}=this.props;let ae={},ne=null;const he=!!!V||this.state.dragging,be=V||O,pe={x:(0,d.canDragX)(this)&&he?this.state.x:be.x,y:(0,d.canDragY)(this)&&he?this.state.y:be.y};this.state.isElementSVG?ne=(0,u.createSVGTransform)(pe,H):ae=(0,u.createCSSTransform)(pe,H);const U=(0,l.clsx)(w.props.className||"",X,{[J]:this.state.dragging,[Z]:this.state.dragged});return r.createElement(m.default,I({},ie,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(w),{className:U,style:{...w.props.style,...ae},transform:ne}))}}s.default=G,k(G,"displayName","Draggable"),k(G,"propTypes",{...m.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:h.dontSetMe,style:h.dontSetMe,transform:h.dontSetMe}),k(G,"defaultProps",{...m.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(nd);const{default:gd,DraggableCore:Xw}=nd;ii.exports=gd;ii.exports.default=gd;ii.exports.DraggableCore=Xw;var Jw=ii.exports,vo={};vo.__esModule=!0;vo.cloneElement=n0;var Zw=Qw(v);function Qw(s){return s&&s.__esModule?s:{default:s}}function cu(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function uu(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cu(Object(n),!0).forEach(function(o){e0(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}function e0(s,r,n){return r=t0(r),r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function t0(s){var r=r0(s,"string");return typeof r=="symbol"?r:String(r)}function r0(s,r){if(typeof s!="object"||s===null)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function n0(s,r){return r.style&&s.props.style&&(r.style=uu(uu({},s.props.style),r.style)),r.className&&s.props.className&&(r.className=s.props.className+" "+r.className),Zw.default.cloneElement(s,r)}var rs={};rs.__esModule=!0;rs.resizableProps=void 0;var Oe=s0(ai);function s0(s){return s&&s.__esModule?s:{default:s}}var i0={axis:Oe.default.oneOf(["both","x","y","none"]),className:Oe.default.string,children:Oe.default.element.isRequired,draggableOpts:Oe.default.shape({allowAnyClick:Oe.default.bool,cancel:Oe.default.string,children:Oe.default.node,disabled:Oe.default.bool,enableUserSelectHack:Oe.default.bool,offsetParent:Oe.default.node,grid:Oe.default.arrayOf(Oe.default.number),handle:Oe.default.string,nodeRef:Oe.default.object,onStart:Oe.default.func,onDrag:Oe.default.func,onStop:Oe.default.func,onMouseDown:Oe.default.func,scale:Oe.default.number}),height:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var l=n[0];if(l.axis==="both"||l.axis==="y"){var u;return(u=Oe.default.number).isRequired.apply(u,n)}return Oe.default.number.apply(Oe.default,n)},handle:Oe.default.oneOfType([Oe.default.node,Oe.default.func]),handleSize:Oe.default.arrayOf(Oe.default.number),lockAspectRatio:Oe.default.bool,maxConstraints:Oe.default.arrayOf(Oe.default.number),minConstraints:Oe.default.arrayOf(Oe.default.number),onResizeStop:Oe.default.func,onResizeStart:Oe.default.func,onResize:Oe.default.func,resizeHandles:Oe.default.arrayOf(Oe.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Oe.default.number,width:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var l=n[0];if(l.axis==="both"||l.axis==="x"){var u;return(u=Oe.default.number).isRequired.apply(u,n)}return Oe.default.number.apply(Oe.default,n)}};rs.resizableProps=i0;ts.__esModule=!0;ts.default=void 0;var Un=u0(v),a0=Jw,o0=vo,l0=rs,c0=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function md(s){if(typeof WeakMap!="function")return null;var r=new WeakMap,n=new WeakMap;return(md=function(l){return l?n:r})(s)}function u0(s,r){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var n=md(r);if(n&&n.has(s))return n.get(s);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in s)if(u!=="default"&&Object.prototype.hasOwnProperty.call(s,u)){var d=l?Object.getOwnPropertyDescriptor(s,u):null;d&&(d.get||d.set)?Object.defineProperty(o,u,d):o[u]=s[u]}return o.default=s,n&&n.set(s,o),o}function to(){return to=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},to.apply(this,arguments)}function d0(s,r){if(s==null)return{};var n={},o=Object.keys(s),l,u;for(u=0;u<o.length;u++)l=o[u],!(r.indexOf(l)>=0)&&(n[l]=s[l]);return n}function du(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function Ua(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?du(Object(n),!0).forEach(function(o){f0(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}function f0(s,r,n){return r=h0(r),r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function h0(s){var r=p0(s,"string");return typeof r=="symbol"?r:String(r)}function p0(s,r){if(typeof s!="object"||s===null)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function g0(s,r){s.prototype=Object.create(r.prototype),s.prototype.constructor=s,ro(s,r)}function ro(s,r){return ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},ro(s,r)}var wo=function(s){g0(r,s);function r(){for(var o,l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return o=s.call.apply(s,[this].concat(u))||this,o.handleRefs={},o.lastHandleRect=null,o.slack=null,o}var n=r.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(l,u){var d=this.props,h=d.minConstraints,m=d.maxConstraints,_=d.lockAspectRatio;if(!h&&!m&&!_)return[l,u];if(_){var S=this.props.width/this.props.height,x=l-this.props.width,I=u-this.props.height;Math.abs(x)>Math.abs(I*S)?u=l/S:l=u*S}var k=l,L=u,D=this.slack||[0,0],G=D[0],B=D[1];return l+=G,u+=B,h&&(l=Math.max(h[0],l),u=Math.max(h[1],u)),m&&(l=Math.min(m[0],l),u=Math.min(m[1],u)),this.slack=[G+(k-l),B+(L-u)],[l,u]},n.resizeHandler=function(l,u){var d=this;return function(h,m){var _=m.node,S=m.deltaX,x=m.deltaY;l==="onResizeStart"&&d.resetData();var I=(d.props.axis==="both"||d.props.axis==="x")&&u!=="n"&&u!=="s",k=(d.props.axis==="both"||d.props.axis==="y")&&u!=="e"&&u!=="w";if(!(!I&&!k)){var L=u[0],D=u[u.length-1],G=_.getBoundingClientRect();if(d.lastHandleRect!=null){if(D==="w"){var B=G.left-d.lastHandleRect.left;S+=B}if(L==="n"){var E=G.top-d.lastHandleRect.top;x+=E}}d.lastHandleRect=G,D==="w"&&(S=-S),L==="n"&&(x=-x);var C=d.props.width+(I?S/d.props.transformScale:0),w=d.props.height+(k?x/d.props.transformScale:0),O=d.runConstraints(C,w);C=O[0],w=O[1];var X=C!==d.props.width||w!==d.props.height,J=typeof d.props[l]=="function"?d.props[l]:null,Z=l==="onResize"&&!X;J&&!Z&&(h.persist==null||h.persist(),J(h,{node:_,size:{width:C,height:w},handle:u})),l==="onResizeStop"&&d.resetData()}}},n.renderResizeHandle=function(l,u){var d=this.props.handle;if(!d)return Un.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+l,ref:u});if(typeof d=="function")return d(l,u);var h=typeof d.type=="string",m=Ua({ref:u},h?{}:{handleAxis:l});return Un.cloneElement(d,m)},n.render=function(){var l=this,u=this.props,d=u.children,h=u.className,m=u.draggableOpts;u.width,u.height,u.handle,u.handleSize,u.lockAspectRatio,u.axis,u.minConstraints,u.maxConstraints,u.onResize,u.onResizeStop,u.onResizeStart;var _=u.resizeHandles;u.transformScale;var S=d0(u,c0);return(0,o0.cloneElement)(d,Ua(Ua({},S),{},{className:(h?h+" ":"")+"react-resizable",children:[].concat(d.props.children,_.map(function(x){var I,k=(I=l.handleRefs[x])!=null?I:l.handleRefs[x]=Un.createRef();return Un.createElement(a0.DraggableCore,to({},m,{nodeRef:k,key:"resizableHandle-"+x,onStop:l.resizeHandler("onResizeStop",x),onStart:l.resizeHandler("onResizeStart",x),onDrag:l.resizeHandler("onResize",x)}),l.renderResizeHandle(x,k))}))}))},r}(Un.Component);ts.default=wo;wo.propTypes=l0.resizableProps;wo.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var ui={};ui.__esModule=!0;ui.default=void 0;var Ba=v0(v),m0=_d(ai),_0=_d(ts),y0=rs,x0=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function _d(s){return s&&s.__esModule?s:{default:s}}function yd(s){if(typeof WeakMap!="function")return null;var r=new WeakMap,n=new WeakMap;return(yd=function(l){return l?n:r})(s)}function v0(s,r){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var n=yd(r);if(n&&n.has(s))return n.get(s);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in s)if(u!=="default"&&Object.prototype.hasOwnProperty.call(s,u)){var d=l?Object.getOwnPropertyDescriptor(s,u):null;d&&(d.get||d.set)?Object.defineProperty(o,u,d):o[u]=s[u]}return o.default=s,n&&n.set(s,o),o}function no(){return no=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},no.apply(this,arguments)}function fu(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function Js(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?fu(Object(n),!0).forEach(function(o){w0(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):fu(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}function w0(s,r,n){return r=b0(r),r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function b0(s){var r=S0(s,"string");return typeof r=="symbol"?r:String(r)}function S0(s,r){if(typeof s!="object"||s===null)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function j0(s,r){if(s==null)return{};var n={},o=Object.keys(s),l,u;for(u=0;u<o.length;u++)l=o[u],!(r.indexOf(l)>=0)&&(n[l]=s[l]);return n}function C0(s,r){s.prototype=Object.create(r.prototype),s.prototype.constructor=s,so(s,r)}function so(s,r){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},so(s,r)}var xd=function(s){C0(r,s);function r(){for(var o,l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return o=s.call.apply(s,[this].concat(u))||this,o.state={width:o.props.width,height:o.props.height,propsWidth:o.props.width,propsHeight:o.props.height},o.onResize=function(h,m){var _=m.size;o.props.onResize?(h.persist==null||h.persist(),o.setState(_,function(){return o.props.onResize&&o.props.onResize(h,m)})):o.setState(_)},o}r.getDerivedStateFromProps=function(l,u){return u.propsWidth!==l.width||u.propsHeight!==l.height?{width:l.width,height:l.height,propsWidth:l.width,propsHeight:l.height}:null};var n=r.prototype;return n.render=function(){var l=this.props,u=l.handle,d=l.handleSize;l.onResize;var h=l.onResizeStart,m=l.onResizeStop,_=l.draggableOpts,S=l.minConstraints,x=l.maxConstraints,I=l.lockAspectRatio,k=l.axis;l.width,l.height;var L=l.resizeHandles,D=l.style,G=l.transformScale,B=j0(l,x0);return Ba.createElement(_0.default,{axis:k,draggableOpts:_,handle:u,handleSize:d,height:this.state.height,lockAspectRatio:I,maxConstraints:x,minConstraints:S,onResizeStart:h,onResize:this.onResize,onResizeStop:m,resizeHandles:L,transformScale:G,width:this.state.width},Ba.createElement("div",no({},B,{style:Js(Js({},D),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},r}(Ba.Component);ui.default=xd;xd.propTypes=Js(Js({},y0.resizableProps),{},{children:m0.default.element});mo.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var R0=mo.exports.Resizable=ts.default;mo.exports.ResizableBox=ui.default;const k0=s=>{const{onResize:r,width:n,...o}=s;return n?i.jsx(R0,{width:n,height:0,handle:i.jsx("span",{className:"react-resizable-handle",onClick:l=>{l.stopPropagation()}}),onResize:r,draggableOpts:{enableUserSelectHack:!1},children:i.jsx("th",{...o})}):i.jsx("th",{...o})};var Zs={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Zs.exports;(function(s,r){(function(){var n,o="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",h="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",_=500,S="__lodash_placeholder__",x=1,I=2,k=4,L=1,D=2,G=1,B=2,E=4,C=8,w=16,O=32,X=64,J=128,Z=256,V=512,H=30,N="...",ie=800,ae=16,ne=1,ue=2,he=3,be=1/0,pe=9007199254740991,U=17976931348623157e292,Q=NaN,fe=4294967295,Re=fe-1,Qe=fe>>>1,nt=[["ary",J],["bind",G],["bindKey",B],["curry",C],["curryRight",w],["flip",V],["partial",O],["partialRight",X],["rearg",Z]],W="[object Arguments]",le="[object Array]",Ie="[object AsyncFunction]",Be="[object Boolean]",We="[object Date]",qt="[object DOMException]",Yt="[object Error]",pt="[object Function]",hr="[object GeneratorFunction]",ot="[object Map]",K="[object Number]",oe="[object Null]",me="[object Object]",$="[object Promise]",se="[object Proxy]",ee="[object RegExp]",Se="[object Set]",je="[object String]",Tt="[object Symbol]",qe="[object Undefined]",jr="[object WeakMap]",ns="[object WeakSet]",Cr="[object ArrayBuffer]",pr="[object DataView]",Qr="[object Float32Array]",en="[object Float64Array]",fi="[object Int8Array]",hi="[object Int16Array]",pi="[object Int32Array]",gi="[object Uint8Array]",mi="[object Uint8ClampedArray]",_i="[object Uint16Array]",yi="[object Uint32Array]",kd=/\b__p \+= '';/g,Od=/\b(__p \+=) '' \+/g,Td=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bo=/&(?:amp|lt|gt|quot|#39);/g,So=/[&<>"']/g,Ed=RegExp(bo.source),Id=RegExp(So.source),Ld=/<%-([\s\S]+?)%>/g,Pd=/<%([\s\S]+?)%>/g,jo=/<%=([\s\S]+?)%>/g,Ad=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dd=/^\w*$/,zd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xi=/[\\^$.*+?()[\]{}|]/g,Md=RegExp(xi.source),vi=/^\s+/,$d=/\s/,Nd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fd=/\{\n\/\* \[wrapped with (.+)\] \*/,Ud=/,? & /,Bd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wd=/[()=,{}\[\]\/\s]/,Hd=/\\(\\)?/g,Gd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Co=/\w*$/,Kd=/^[-+]0x[0-9a-f]+$/i,Vd=/^0b[01]+$/i,qd=/^\[object .+?Constructor\]$/,Yd=/^0o[0-7]+$/i,Xd=/^(?:0|[1-9]\d*)$/,Jd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ss=/($^)/,Zd=/['\n\r\u2028\u2029\\]/g,is="\\ud800-\\udfff",Qd="\\u0300-\\u036f",ef="\\ufe20-\\ufe2f",tf="\\u20d0-\\u20ff",Ro=Qd+ef+tf,ko="\\u2700-\\u27bf",Oo="a-z\\xdf-\\xf6\\xf8-\\xff",rf="\\xac\\xb1\\xd7\\xf7",nf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sf="\\u2000-\\u206f",af=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",To="A-Z\\xc0-\\xd6\\xd8-\\xde",Eo="\\ufe0e\\ufe0f",Io=rf+nf+sf+af,wi="['’]",of="["+is+"]",Lo="["+Io+"]",as="["+Ro+"]",Po="\\d+",lf="["+ko+"]",Ao="["+Oo+"]",Do="[^"+is+Io+Po+ko+Oo+To+"]",bi="\\ud83c[\\udffb-\\udfff]",cf="(?:"+as+"|"+bi+")",zo="[^"+is+"]",Si="(?:\\ud83c[\\udde6-\\uddff]){2}",ji="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="["+To+"]",Mo="\\u200d",$o="(?:"+Ao+"|"+Do+")",uf="(?:"+tn+"|"+Do+")",No="(?:"+wi+"(?:d|ll|m|re|s|t|ve))?",Fo="(?:"+wi+"(?:D|LL|M|RE|S|T|VE))?",Uo=cf+"?",Bo="["+Eo+"]?",df="(?:"+Mo+"(?:"+[zo,Si,ji].join("|")+")"+Bo+Uo+")*",ff="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wo=Bo+Uo+df,pf="(?:"+[lf,Si,ji].join("|")+")"+Wo,gf="(?:"+[zo+as+"?",as,Si,ji,of].join("|")+")",mf=RegExp(wi,"g"),_f=RegExp(as,"g"),Ci=RegExp(bi+"(?="+bi+")|"+gf+Wo,"g"),yf=RegExp([tn+"?"+Ao+"+"+No+"(?="+[Lo,tn,"$"].join("|")+")",uf+"+"+Fo+"(?="+[Lo,tn+$o,"$"].join("|")+")",tn+"?"+$o+"+"+No,tn+"+"+Fo,hf,ff,Po,pf].join("|"),"g"),xf=RegExp("["+Mo+is+Ro+Eo+"]"),vf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bf=-1,Ke={};Ke[Qr]=Ke[en]=Ke[fi]=Ke[hi]=Ke[pi]=Ke[gi]=Ke[mi]=Ke[_i]=Ke[yi]=!0,Ke[W]=Ke[le]=Ke[Cr]=Ke[Be]=Ke[pr]=Ke[We]=Ke[Yt]=Ke[pt]=Ke[ot]=Ke[K]=Ke[me]=Ke[ee]=Ke[Se]=Ke[je]=Ke[jr]=!1;var Ge={};Ge[W]=Ge[le]=Ge[Cr]=Ge[pr]=Ge[Be]=Ge[We]=Ge[Qr]=Ge[en]=Ge[fi]=Ge[hi]=Ge[pi]=Ge[ot]=Ge[K]=Ge[me]=Ge[ee]=Ge[Se]=Ge[je]=Ge[Tt]=Ge[gi]=Ge[mi]=Ge[_i]=Ge[yi]=!0,Ge[Yt]=Ge[pt]=Ge[jr]=!1;var Sf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},jf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Rf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kf=parseFloat,Of=parseInt,Ho=typeof $n=="object"&&$n&&$n.Object===Object&&$n,Tf=typeof self=="object"&&self&&self.Object===Object&&self,ut=Ho||Tf||Function("return this")(),Ri=r&&!r.nodeType&&r,Ur=Ri&&!0&&s&&!s.nodeType&&s,Go=Ur&&Ur.exports===Ri,ki=Go&&Ho.process,Nt=function(){try{var j=Ur&&Ur.require&&Ur.require("util").types;return j||ki&&ki.binding&&ki.binding("util")}catch{}}(),Ko=Nt&&Nt.isArrayBuffer,Vo=Nt&&Nt.isDate,qo=Nt&&Nt.isMap,Yo=Nt&&Nt.isRegExp,Xo=Nt&&Nt.isSet,Jo=Nt&&Nt.isTypedArray;function Et(j,P,T){switch(T.length){case 0:return j.call(P);case 1:return j.call(P,T[0]);case 2:return j.call(P,T[0],T[1]);case 3:return j.call(P,T[0],T[1],T[2])}return j.apply(P,T)}function Ef(j,P,T,te){for(var we=-1,Ne=j==null?0:j.length;++we<Ne;){var st=j[we];P(te,st,T(st),j)}return te}function Ft(j,P){for(var T=-1,te=j==null?0:j.length;++T<te&&P(j[T],T,j)!==!1;);return j}function If(j,P){for(var T=j==null?0:j.length;T--&&P(j[T],T,j)!==!1;);return j}function Zo(j,P){for(var T=-1,te=j==null?0:j.length;++T<te;)if(!P(j[T],T,j))return!1;return!0}function Rr(j,P){for(var T=-1,te=j==null?0:j.length,we=0,Ne=[];++T<te;){var st=j[T];P(st,T,j)&&(Ne[we++]=st)}return Ne}function os(j,P){var T=j==null?0:j.length;return!!T&&rn(j,P,0)>-1}function Oi(j,P,T){for(var te=-1,we=j==null?0:j.length;++te<we;)if(T(P,j[te]))return!0;return!1}function Ye(j,P){for(var T=-1,te=j==null?0:j.length,we=Array(te);++T<te;)we[T]=P(j[T],T,j);return we}function kr(j,P){for(var T=-1,te=P.length,we=j.length;++T<te;)j[we+T]=P[T];return j}function Ti(j,P,T,te){var we=-1,Ne=j==null?0:j.length;for(te&&Ne&&(T=j[++we]);++we<Ne;)T=P(T,j[we],we,j);return T}function Lf(j,P,T,te){var we=j==null?0:j.length;for(te&&we&&(T=j[--we]);we--;)T=P(T,j[we],we,j);return T}function Ei(j,P){for(var T=-1,te=j==null?0:j.length;++T<te;)if(P(j[T],T,j))return!0;return!1}var Pf=Ii("length");function Af(j){return j.split("")}function Df(j){return j.match(Bd)||[]}function Qo(j,P,T){var te;return T(j,function(we,Ne,st){if(P(we,Ne,st))return te=Ne,!1}),te}function ls(j,P,T,te){for(var we=j.length,Ne=T+(te?1:-1);te?Ne--:++Ne<we;)if(P(j[Ne],Ne,j))return Ne;return-1}function rn(j,P,T){return P===P?Vf(j,P,T):ls(j,el,T)}function zf(j,P,T,te){for(var we=T-1,Ne=j.length;++we<Ne;)if(te(j[we],P))return we;return-1}function el(j){return j!==j}function tl(j,P){var T=j==null?0:j.length;return T?Pi(j,P)/T:Q}function Ii(j){return function(P){return P==null?n:P[j]}}function Li(j){return function(P){return j==null?n:j[P]}}function rl(j,P,T,te,we){return we(j,function(Ne,st,He){T=te?(te=!1,Ne):P(T,Ne,st,He)}),T}function Mf(j,P){var T=j.length;for(j.sort(P);T--;)j[T]=j[T].value;return j}function Pi(j,P){for(var T,te=-1,we=j.length;++te<we;){var Ne=P(j[te]);Ne!==n&&(T=T===n?Ne:T+Ne)}return T}function Ai(j,P){for(var T=-1,te=Array(j);++T<j;)te[T]=P(T);return te}function $f(j,P){return Ye(P,function(T){return[T,j[T]]})}function nl(j){return j&&j.slice(0,ol(j)+1).replace(vi,"")}function It(j){return function(P){return j(P)}}function Di(j,P){return Ye(P,function(T){return j[T]})}function Sn(j,P){return j.has(P)}function sl(j,P){for(var T=-1,te=j.length;++T<te&&rn(P,j[T],0)>-1;);return T}function il(j,P){for(var T=j.length;T--&&rn(P,j[T],0)>-1;);return T}function Nf(j,P){for(var T=j.length,te=0;T--;)j[T]===P&&++te;return te}var Ff=Li(Sf),Uf=Li(jf);function Bf(j){return"\\"+Rf[j]}function Wf(j,P){return j==null?n:j[P]}function nn(j){return xf.test(j)}function Hf(j){return vf.test(j)}function Gf(j){for(var P,T=[];!(P=j.next()).done;)T.push(P.value);return T}function zi(j){var P=-1,T=Array(j.size);return j.forEach(function(te,we){T[++P]=[we,te]}),T}function al(j,P){return function(T){return j(P(T))}}function Or(j,P){for(var T=-1,te=j.length,we=0,Ne=[];++T<te;){var st=j[T];(st===P||st===S)&&(j[T]=S,Ne[we++]=T)}return Ne}function cs(j){var P=-1,T=Array(j.size);return j.forEach(function(te){T[++P]=te}),T}function Kf(j){var P=-1,T=Array(j.size);return j.forEach(function(te){T[++P]=[te,te]}),T}function Vf(j,P,T){for(var te=T-1,we=j.length;++te<we;)if(j[te]===P)return te;return-1}function qf(j,P,T){for(var te=T+1;te--;)if(j[te]===P)return te;return te}function sn(j){return nn(j)?Xf(j):Pf(j)}function Xt(j){return nn(j)?Jf(j):Af(j)}function ol(j){for(var P=j.length;P--&&$d.test(j.charAt(P)););return P}var Yf=Li(Cf);function Xf(j){for(var P=Ci.lastIndex=0;Ci.test(j);)++P;return P}function Jf(j){return j.match(Ci)||[]}function Zf(j){return j.match(yf)||[]}var Qf=function j(P){P=P==null?ut:an.defaults(ut.Object(),P,an.pick(ut,wf));var T=P.Array,te=P.Date,we=P.Error,Ne=P.Function,st=P.Math,He=P.Object,Mi=P.RegExp,eh=P.String,Ut=P.TypeError,us=T.prototype,th=Ne.prototype,on=He.prototype,ds=P["__core-js_shared__"],fs=th.toString,Ue=on.hasOwnProperty,rh=0,ll=function(){var e=/[^.]+$/.exec(ds&&ds.keys&&ds.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),hs=on.toString,nh=fs.call(He),sh=ut._,ih=Mi("^"+fs.call(Ue).replace(xi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ps=Go?P.Buffer:n,Tr=P.Symbol,gs=P.Uint8Array,cl=ps?ps.allocUnsafe:n,ms=al(He.getPrototypeOf,He),ul=He.create,dl=on.propertyIsEnumerable,_s=us.splice,fl=Tr?Tr.isConcatSpreadable:n,jn=Tr?Tr.iterator:n,Br=Tr?Tr.toStringTag:n,ys=function(){try{var e=Vr(He,"defineProperty");return e({},"",{}),e}catch{}}(),ah=P.clearTimeout!==ut.clearTimeout&&P.clearTimeout,oh=te&&te.now!==ut.Date.now&&te.now,lh=P.setTimeout!==ut.setTimeout&&P.setTimeout,xs=st.ceil,vs=st.floor,$i=He.getOwnPropertySymbols,ch=ps?ps.isBuffer:n,hl=P.isFinite,uh=us.join,dh=al(He.keys,He),it=st.max,gt=st.min,fh=te.now,hh=P.parseInt,pl=st.random,ph=us.reverse,Ni=Vr(P,"DataView"),Cn=Vr(P,"Map"),Fi=Vr(P,"Promise"),ln=Vr(P,"Set"),Rn=Vr(P,"WeakMap"),kn=Vr(He,"create"),ws=Rn&&new Rn,cn={},gh=qr(Ni),mh=qr(Cn),_h=qr(Fi),yh=qr(ln),xh=qr(Rn),bs=Tr?Tr.prototype:n,On=bs?bs.valueOf:n,gl=bs?bs.toString:n;function p(e){if(Je(e)&&!Ce(e)&&!(e instanceof Ae)){if(e instanceof Bt)return e;if(Ue.call(e,"__wrapped__"))return mc(e)}return new Bt(e)}var un=function(){function e(){}return function(t){if(!Xe(t))return{};if(ul)return ul(t);e.prototype=t;var a=new e;return e.prototype=n,a}}();function Ss(){}function Bt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}p.templateSettings={escape:Ld,evaluate:Pd,interpolate:jo,variable:"",imports:{_:p}},p.prototype=Ss.prototype,p.prototype.constructor=p,Bt.prototype=un(Ss.prototype),Bt.prototype.constructor=Bt;function Ae(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fe,this.__views__=[]}function vh(){var e=new Ae(this.__wrapped__);return e.__actions__=Ct(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ct(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ct(this.__views__),e}function wh(){if(this.__filtered__){var e=new Ae(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function bh(){var e=this.__wrapped__.value(),t=this.__dir__,a=Ce(e),c=t<0,f=a?e.length:0,g=Ap(0,f,this.__views__),y=g.start,b=g.end,R=b-y,A=c?b:y-1,z=this.__iteratees__,F=z.length,Y=0,ce=gt(R,this.__takeCount__);if(!a||!c&&f==R&&ce==R)return Nl(e,this.__actions__);var _e=[];e:for(;R--&&Y<ce;){A+=t;for(var Te=-1,ye=e[A];++Te<F;){var Pe=z[Te],ze=Pe.iteratee,At=Pe.type,wt=ze(ye);if(At==ue)ye=wt;else if(!wt){if(At==ne)continue e;break e}}_e[Y++]=ye}return _e}Ae.prototype=un(Ss.prototype),Ae.prototype.constructor=Ae;function Wr(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function Sh(){this.__data__=kn?kn(null):{},this.size=0}function jh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ch(e){var t=this.__data__;if(kn){var a=t[e];return a===m?n:a}return Ue.call(t,e)?t[e]:n}function Rh(e){var t=this.__data__;return kn?t[e]!==n:Ue.call(t,e)}function kh(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=kn&&t===n?m:t,this}Wr.prototype.clear=Sh,Wr.prototype.delete=jh,Wr.prototype.get=Ch,Wr.prototype.has=Rh,Wr.prototype.set=kh;function gr(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function Oh(){this.__data__=[],this.size=0}function Th(e){var t=this.__data__,a=js(t,e);if(a<0)return!1;var c=t.length-1;return a==c?t.pop():_s.call(t,a,1),--this.size,!0}function Eh(e){var t=this.__data__,a=js(t,e);return a<0?n:t[a][1]}function Ih(e){return js(this.__data__,e)>-1}function Lh(e,t){var a=this.__data__,c=js(a,e);return c<0?(++this.size,a.push([e,t])):a[c][1]=t,this}gr.prototype.clear=Oh,gr.prototype.delete=Th,gr.prototype.get=Eh,gr.prototype.has=Ih,gr.prototype.set=Lh;function mr(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function Ph(){this.size=0,this.__data__={hash:new Wr,map:new(Cn||gr),string:new Wr}}function Ah(e){var t=zs(this,e).delete(e);return this.size-=t?1:0,t}function Dh(e){return zs(this,e).get(e)}function zh(e){return zs(this,e).has(e)}function Mh(e,t){var a=zs(this,e),c=a.size;return a.set(e,t),this.size+=a.size==c?0:1,this}mr.prototype.clear=Ph,mr.prototype.delete=Ah,mr.prototype.get=Dh,mr.prototype.has=zh,mr.prototype.set=Mh;function Hr(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new mr;++t<a;)this.add(e[t])}function $h(e){return this.__data__.set(e,m),this}function Nh(e){return this.__data__.has(e)}Hr.prototype.add=Hr.prototype.push=$h,Hr.prototype.has=Nh;function Jt(e){var t=this.__data__=new gr(e);this.size=t.size}function Fh(){this.__data__=new gr,this.size=0}function Uh(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function Bh(e){return this.__data__.get(e)}function Wh(e){return this.__data__.has(e)}function Hh(e,t){var a=this.__data__;if(a instanceof gr){var c=a.__data__;if(!Cn||c.length<l-1)return c.push([e,t]),this.size=++a.size,this;a=this.__data__=new mr(c)}return a.set(e,t),this.size=a.size,this}Jt.prototype.clear=Fh,Jt.prototype.delete=Uh,Jt.prototype.get=Bh,Jt.prototype.has=Wh,Jt.prototype.set=Hh;function ml(e,t){var a=Ce(e),c=!a&&Yr(e),f=!a&&!c&&Ar(e),g=!a&&!c&&!f&&pn(e),y=a||c||f||g,b=y?Ai(e.length,eh):[],R=b.length;for(var A in e)(t||Ue.call(e,A))&&!(y&&(A=="length"||f&&(A=="offset"||A=="parent")||g&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||vr(A,R)))&&b.push(A);return b}function _l(e){var t=e.length;return t?e[Ji(0,t-1)]:n}function Gh(e,t){return Ms(Ct(e),Gr(t,0,e.length))}function Kh(e){return Ms(Ct(e))}function Ui(e,t,a){(a!==n&&!Zt(e[t],a)||a===n&&!(t in e))&&_r(e,t,a)}function Tn(e,t,a){var c=e[t];(!(Ue.call(e,t)&&Zt(c,a))||a===n&&!(t in e))&&_r(e,t,a)}function js(e,t){for(var a=e.length;a--;)if(Zt(e[a][0],t))return a;return-1}function Vh(e,t,a,c){return Er(e,function(f,g,y){t(c,f,a(f),y)}),c}function yl(e,t){return e&&or(t,lt(t),e)}function qh(e,t){return e&&or(t,kt(t),e)}function _r(e,t,a){t=="__proto__"&&ys?ys(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function Bi(e,t){for(var a=-1,c=t.length,f=T(c),g=e==null;++a<c;)f[a]=g?n:ba(e,t[a]);return f}function Gr(e,t,a){return e===e&&(a!==n&&(e=e<=a?e:a),t!==n&&(e=e>=t?e:t)),e}function Wt(e,t,a,c,f,g){var y,b=t&x,R=t&I,A=t&k;if(a&&(y=f?a(e,c,f,g):a(e)),y!==n)return y;if(!Xe(e))return e;var z=Ce(e);if(z){if(y=zp(e),!b)return Ct(e,y)}else{var F=mt(e),Y=F==pt||F==hr;if(Ar(e))return Bl(e,b);if(F==me||F==W||Y&&!f){if(y=R||Y?{}:oc(e),!b)return R?Cp(e,qh(y,e)):jp(e,yl(y,e))}else{if(!Ge[F])return f?e:{};y=Mp(e,F,b)}}g||(g=new Jt);var ce=g.get(e);if(ce)return ce;g.set(e,y),zc(e)?e.forEach(function(ye){y.add(Wt(ye,t,a,ye,e,g))}):Ac(e)&&e.forEach(function(ye,Pe){y.set(Pe,Wt(ye,t,a,Pe,e,g))});var _e=A?R?la:oa:R?kt:lt,Te=z?n:_e(e);return Ft(Te||e,function(ye,Pe){Te&&(Pe=ye,ye=e[Pe]),Tn(y,Pe,Wt(ye,t,a,Pe,e,g))}),y}function Yh(e){var t=lt(e);return function(a){return xl(a,e,t)}}function xl(e,t,a){var c=a.length;if(e==null)return!c;for(e=He(e);c--;){var f=a[c],g=t[f],y=e[f];if(y===n&&!(f in e)||!g(y))return!1}return!0}function vl(e,t,a){if(typeof e!="function")throw new Ut(d);return zn(function(){e.apply(n,a)},t)}function En(e,t,a,c){var f=-1,g=os,y=!0,b=e.length,R=[],A=t.length;if(!b)return R;a&&(t=Ye(t,It(a))),c?(g=Oi,y=!1):t.length>=l&&(g=Sn,y=!1,t=new Hr(t));e:for(;++f<b;){var z=e[f],F=a==null?z:a(z);if(z=c||z!==0?z:0,y&&F===F){for(var Y=A;Y--;)if(t[Y]===F)continue e;R.push(z)}else g(t,F,c)||R.push(z)}return R}var Er=Vl(ar),wl=Vl(Hi,!0);function Xh(e,t){var a=!0;return Er(e,function(c,f,g){return a=!!t(c,f,g),a}),a}function Cs(e,t,a){for(var c=-1,f=e.length;++c<f;){var g=e[c],y=t(g);if(y!=null&&(b===n?y===y&&!Pt(y):a(y,b)))var b=y,R=g}return R}function Jh(e,t,a,c){var f=e.length;for(a=ke(a),a<0&&(a=-a>f?0:f+a),c=c===n||c>f?f:ke(c),c<0&&(c+=f),c=a>c?0:$c(c);a<c;)e[a++]=t;return e}function bl(e,t){var a=[];return Er(e,function(c,f,g){t(c,f,g)&&a.push(c)}),a}function dt(e,t,a,c,f){var g=-1,y=e.length;for(a||(a=Np),f||(f=[]);++g<y;){var b=e[g];t>0&&a(b)?t>1?dt(b,t-1,a,c,f):kr(f,b):c||(f[f.length]=b)}return f}var Wi=ql(),Sl=ql(!0);function ar(e,t){return e&&Wi(e,t,lt)}function Hi(e,t){return e&&Sl(e,t,lt)}function Rs(e,t){return Rr(t,function(a){return wr(e[a])})}function Kr(e,t){t=Lr(t,e);for(var a=0,c=t.length;e!=null&&a<c;)e=e[lr(t[a++])];return a&&a==c?e:n}function jl(e,t,a){var c=t(e);return Ce(e)?c:kr(c,a(e))}function xt(e){return e==null?e===n?qe:oe:Br&&Br in He(e)?Pp(e):Kp(e)}function Gi(e,t){return e>t}function Zh(e,t){return e!=null&&Ue.call(e,t)}function Qh(e,t){return e!=null&&t in He(e)}function ep(e,t,a){return e>=gt(t,a)&&e<it(t,a)}function Ki(e,t,a){for(var c=a?Oi:os,f=e[0].length,g=e.length,y=g,b=T(g),R=1/0,A=[];y--;){var z=e[y];y&&t&&(z=Ye(z,It(t))),R=gt(z.length,R),b[y]=!a&&(t||f>=120&&z.length>=120)?new Hr(y&&z):n}z=e[0];var F=-1,Y=b[0];e:for(;++F<f&&A.length<R;){var ce=z[F],_e=t?t(ce):ce;if(ce=a||ce!==0?ce:0,!(Y?Sn(Y,_e):c(A,_e,a))){for(y=g;--y;){var Te=b[y];if(!(Te?Sn(Te,_e):c(e[y],_e,a)))continue e}Y&&Y.push(_e),A.push(ce)}}return A}function tp(e,t,a,c){return ar(e,function(f,g,y){t(c,a(f),g,y)}),c}function In(e,t,a){t=Lr(t,e),e=dc(e,t);var c=e==null?e:e[lr(Gt(t))];return c==null?n:Et(c,e,a)}function Cl(e){return Je(e)&&xt(e)==W}function rp(e){return Je(e)&&xt(e)==Cr}function np(e){return Je(e)&&xt(e)==We}function Ln(e,t,a,c,f){return e===t?!0:e==null||t==null||!Je(e)&&!Je(t)?e!==e&&t!==t:sp(e,t,a,c,Ln,f)}function sp(e,t,a,c,f,g){var y=Ce(e),b=Ce(t),R=y?le:mt(e),A=b?le:mt(t);R=R==W?me:R,A=A==W?me:A;var z=R==me,F=A==me,Y=R==A;if(Y&&Ar(e)){if(!Ar(t))return!1;y=!0,z=!1}if(Y&&!z)return g||(g=new Jt),y||pn(e)?sc(e,t,a,c,f,g):Ip(e,t,R,a,c,f,g);if(!(a&L)){var ce=z&&Ue.call(e,"__wrapped__"),_e=F&&Ue.call(t,"__wrapped__");if(ce||_e){var Te=ce?e.value():e,ye=_e?t.value():t;return g||(g=new Jt),f(Te,ye,a,c,g)}}return Y?(g||(g=new Jt),Lp(e,t,a,c,f,g)):!1}function ip(e){return Je(e)&&mt(e)==ot}function Vi(e,t,a,c){var f=a.length,g=f,y=!c;if(e==null)return!g;for(e=He(e);f--;){var b=a[f];if(y&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++f<g;){b=a[f];var R=b[0],A=e[R],z=b[1];if(y&&b[2]){if(A===n&&!(R in e))return!1}else{var F=new Jt;if(c)var Y=c(A,z,R,e,t,F);if(!(Y===n?Ln(z,A,L|D,c,F):Y))return!1}}return!0}function Rl(e){if(!Xe(e)||Up(e))return!1;var t=wr(e)?ih:qd;return t.test(qr(e))}function ap(e){return Je(e)&&xt(e)==ee}function op(e){return Je(e)&&mt(e)==Se}function lp(e){return Je(e)&&Ws(e.length)&&!!Ke[xt(e)]}function kl(e){return typeof e=="function"?e:e==null?Ot:typeof e=="object"?Ce(e)?El(e[0],e[1]):Tl(e):Yc(e)}function qi(e){if(!Dn(e))return dh(e);var t=[];for(var a in He(e))Ue.call(e,a)&&a!="constructor"&&t.push(a);return t}function cp(e){if(!Xe(e))return Gp(e);var t=Dn(e),a=[];for(var c in e)c=="constructor"&&(t||!Ue.call(e,c))||a.push(c);return a}function Yi(e,t){return e<t}function Ol(e,t){var a=-1,c=Rt(e)?T(e.length):[];return Er(e,function(f,g,y){c[++a]=t(f,g,y)}),c}function Tl(e){var t=ua(e);return t.length==1&&t[0][2]?cc(t[0][0],t[0][1]):function(a){return a===e||Vi(a,e,t)}}function El(e,t){return fa(e)&&lc(t)?cc(lr(e),t):function(a){var c=ba(a,e);return c===n&&c===t?Sa(a,e):Ln(t,c,L|D)}}function ks(e,t,a,c,f){e!==t&&Wi(t,function(g,y){if(f||(f=new Jt),Xe(g))up(e,t,y,a,ks,c,f);else{var b=c?c(pa(e,y),g,y+"",e,t,f):n;b===n&&(b=g),Ui(e,y,b)}},kt)}function up(e,t,a,c,f,g,y){var b=pa(e,a),R=pa(t,a),A=y.get(R);if(A){Ui(e,a,A);return}var z=g?g(b,R,a+"",e,t,y):n,F=z===n;if(F){var Y=Ce(R),ce=!Y&&Ar(R),_e=!Y&&!ce&&pn(R);z=R,Y||ce||_e?Ce(b)?z=b:et(b)?z=Ct(b):ce?(F=!1,z=Bl(R,!0)):_e?(F=!1,z=Wl(R,!0)):z=[]:Mn(R)||Yr(R)?(z=b,Yr(b)?z=Nc(b):(!Xe(b)||wr(b))&&(z=oc(R))):F=!1}F&&(y.set(R,z),f(z,R,c,g,y),y.delete(R)),Ui(e,a,z)}function Il(e,t){var a=e.length;if(a)return t+=t<0?a:0,vr(t,a)?e[t]:n}function Ll(e,t,a){t.length?t=Ye(t,function(g){return Ce(g)?function(y){return Kr(y,g.length===1?g[0]:g)}:g}):t=[Ot];var c=-1;t=Ye(t,It(ge()));var f=Ol(e,function(g,y,b){var R=Ye(t,function(A){return A(g)});return{criteria:R,index:++c,value:g}});return Mf(f,function(g,y){return Sp(g,y,a)})}function dp(e,t){return Pl(e,t,function(a,c){return Sa(e,c)})}function Pl(e,t,a){for(var c=-1,f=t.length,g={};++c<f;){var y=t[c],b=Kr(e,y);a(b,y)&&Pn(g,Lr(y,e),b)}return g}function fp(e){return function(t){return Kr(t,e)}}function Xi(e,t,a,c){var f=c?zf:rn,g=-1,y=t.length,b=e;for(e===t&&(t=Ct(t)),a&&(b=Ye(e,It(a)));++g<y;)for(var R=0,A=t[g],z=a?a(A):A;(R=f(b,z,R,c))>-1;)b!==e&&_s.call(b,R,1),_s.call(e,R,1);return e}function Al(e,t){for(var a=e?t.length:0,c=a-1;a--;){var f=t[a];if(a==c||f!==g){var g=f;vr(f)?_s.call(e,f,1):ea(e,f)}}return e}function Ji(e,t){return e+vs(pl()*(t-e+1))}function hp(e,t,a,c){for(var f=-1,g=it(xs((t-e)/(a||1)),0),y=T(g);g--;)y[c?g:++f]=e,e+=a;return y}function Zi(e,t){var a="";if(!e||t<1||t>pe)return a;do t%2&&(a+=e),t=vs(t/2),t&&(e+=e);while(t);return a}function Le(e,t){return ga(uc(e,t,Ot),e+"")}function pp(e){return _l(gn(e))}function gp(e,t){var a=gn(e);return Ms(a,Gr(t,0,a.length))}function Pn(e,t,a,c){if(!Xe(e))return e;t=Lr(t,e);for(var f=-1,g=t.length,y=g-1,b=e;b!=null&&++f<g;){var R=lr(t[f]),A=a;if(R==="__proto__"||R==="constructor"||R==="prototype")return e;if(f!=y){var z=b[R];A=c?c(z,R,b):n,A===n&&(A=Xe(z)?z:vr(t[f+1])?[]:{})}Tn(b,R,A),b=b[R]}return e}var Dl=ws?function(e,t){return ws.set(e,t),e}:Ot,mp=ys?function(e,t){return ys(e,"toString",{configurable:!0,enumerable:!1,value:Ca(t),writable:!0})}:Ot;function _p(e){return Ms(gn(e))}function Ht(e,t,a){var c=-1,f=e.length;t<0&&(t=-t>f?0:f+t),a=a>f?f:a,a<0&&(a+=f),f=t>a?0:a-t>>>0,t>>>=0;for(var g=T(f);++c<f;)g[c]=e[c+t];return g}function yp(e,t){var a;return Er(e,function(c,f,g){return a=t(c,f,g),!a}),!!a}function Os(e,t,a){var c=0,f=e==null?c:e.length;if(typeof t=="number"&&t===t&&f<=Qe){for(;c<f;){var g=c+f>>>1,y=e[g];y!==null&&!Pt(y)&&(a?y<=t:y<t)?c=g+1:f=g}return f}return Qi(e,t,Ot,a)}function Qi(e,t,a,c){var f=0,g=e==null?0:e.length;if(g===0)return 0;t=a(t);for(var y=t!==t,b=t===null,R=Pt(t),A=t===n;f<g;){var z=vs((f+g)/2),F=a(e[z]),Y=F!==n,ce=F===null,_e=F===F,Te=Pt(F);if(y)var ye=c||_e;else A?ye=_e&&(c||Y):b?ye=_e&&Y&&(c||!ce):R?ye=_e&&Y&&!ce&&(c||!Te):ce||Te?ye=!1:ye=c?F<=t:F<t;ye?f=z+1:g=z}return gt(g,Re)}function zl(e,t){for(var a=-1,c=e.length,f=0,g=[];++a<c;){var y=e[a],b=t?t(y):y;if(!a||!Zt(b,R)){var R=b;g[f++]=y===0?0:y}}return g}function Ml(e){return typeof e=="number"?e:Pt(e)?Q:+e}function Lt(e){if(typeof e=="string")return e;if(Ce(e))return Ye(e,Lt)+"";if(Pt(e))return gl?gl.call(e):"";var t=e+"";return t=="0"&&1/e==-be?"-0":t}function Ir(e,t,a){var c=-1,f=os,g=e.length,y=!0,b=[],R=b;if(a)y=!1,f=Oi;else if(g>=l){var A=t?null:Tp(e);if(A)return cs(A);y=!1,f=Sn,R=new Hr}else R=t?[]:b;e:for(;++c<g;){var z=e[c],F=t?t(z):z;if(z=a||z!==0?z:0,y&&F===F){for(var Y=R.length;Y--;)if(R[Y]===F)continue e;t&&R.push(F),b.push(z)}else f(R,F,a)||(R!==b&&R.push(F),b.push(z))}return b}function ea(e,t){return t=Lr(t,e),e=dc(e,t),e==null||delete e[lr(Gt(t))]}function $l(e,t,a,c){return Pn(e,t,a(Kr(e,t)),c)}function Ts(e,t,a,c){for(var f=e.length,g=c?f:-1;(c?g--:++g<f)&&t(e[g],g,e););return a?Ht(e,c?0:g,c?g+1:f):Ht(e,c?g+1:0,c?f:g)}function Nl(e,t){var a=e;return a instanceof Ae&&(a=a.value()),Ti(t,function(c,f){return f.func.apply(f.thisArg,kr([c],f.args))},a)}function ta(e,t,a){var c=e.length;if(c<2)return c?Ir(e[0]):[];for(var f=-1,g=T(c);++f<c;)for(var y=e[f],b=-1;++b<c;)b!=f&&(g[f]=En(g[f]||y,e[b],t,a));return Ir(dt(g,1),t,a)}function Fl(e,t,a){for(var c=-1,f=e.length,g=t.length,y={};++c<f;){var b=c<g?t[c]:n;a(y,e[c],b)}return y}function ra(e){return et(e)?e:[]}function na(e){return typeof e=="function"?e:Ot}function Lr(e,t){return Ce(e)?e:fa(e,t)?[e]:gc(Fe(e))}var xp=Le;function Pr(e,t,a){var c=e.length;return a=a===n?c:a,!t&&a>=c?e:Ht(e,t,a)}var Ul=ah||function(e){return ut.clearTimeout(e)};function Bl(e,t){if(t)return e.slice();var a=e.length,c=cl?cl(a):new e.constructor(a);return e.copy(c),c}function sa(e){var t=new e.constructor(e.byteLength);return new gs(t).set(new gs(e)),t}function vp(e,t){var a=t?sa(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function wp(e){var t=new e.constructor(e.source,Co.exec(e));return t.lastIndex=e.lastIndex,t}function bp(e){return On?He(On.call(e)):{}}function Wl(e,t){var a=t?sa(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function Hl(e,t){if(e!==t){var a=e!==n,c=e===null,f=e===e,g=Pt(e),y=t!==n,b=t===null,R=t===t,A=Pt(t);if(!b&&!A&&!g&&e>t||g&&y&&R&&!b&&!A||c&&y&&R||!a&&R||!f)return 1;if(!c&&!g&&!A&&e<t||A&&a&&f&&!c&&!g||b&&a&&f||!y&&f||!R)return-1}return 0}function Sp(e,t,a){for(var c=-1,f=e.criteria,g=t.criteria,y=f.length,b=a.length;++c<y;){var R=Hl(f[c],g[c]);if(R){if(c>=b)return R;var A=a[c];return R*(A=="desc"?-1:1)}}return e.index-t.index}function Gl(e,t,a,c){for(var f=-1,g=e.length,y=a.length,b=-1,R=t.length,A=it(g-y,0),z=T(R+A),F=!c;++b<R;)z[b]=t[b];for(;++f<y;)(F||f<g)&&(z[a[f]]=e[f]);for(;A--;)z[b++]=e[f++];return z}function Kl(e,t,a,c){for(var f=-1,g=e.length,y=-1,b=a.length,R=-1,A=t.length,z=it(g-b,0),F=T(z+A),Y=!c;++f<z;)F[f]=e[f];for(var ce=f;++R<A;)F[ce+R]=t[R];for(;++y<b;)(Y||f<g)&&(F[ce+a[y]]=e[f++]);return F}function Ct(e,t){var a=-1,c=e.length;for(t||(t=T(c));++a<c;)t[a]=e[a];return t}function or(e,t,a,c){var f=!a;a||(a={});for(var g=-1,y=t.length;++g<y;){var b=t[g],R=c?c(a[b],e[b],b,a,e):n;R===n&&(R=e[b]),f?_r(a,b,R):Tn(a,b,R)}return a}function jp(e,t){return or(e,da(e),t)}function Cp(e,t){return or(e,ic(e),t)}function Es(e,t){return function(a,c){var f=Ce(a)?Ef:Vh,g=t?t():{};return f(a,e,ge(c,2),g)}}function dn(e){return Le(function(t,a){var c=-1,f=a.length,g=f>1?a[f-1]:n,y=f>2?a[2]:n;for(g=e.length>3&&typeof g=="function"?(f--,g):n,y&&vt(a[0],a[1],y)&&(g=f<3?n:g,f=1),t=He(t);++c<f;){var b=a[c];b&&e(t,b,c,g)}return t})}function Vl(e,t){return function(a,c){if(a==null)return a;if(!Rt(a))return e(a,c);for(var f=a.length,g=t?f:-1,y=He(a);(t?g--:++g<f)&&c(y[g],g,y)!==!1;);return a}}function ql(e){return function(t,a,c){for(var f=-1,g=He(t),y=c(t),b=y.length;b--;){var R=y[e?b:++f];if(a(g[R],R,g)===!1)break}return t}}function Rp(e,t,a){var c=t&G,f=An(e);function g(){var y=this&&this!==ut&&this instanceof g?f:e;return y.apply(c?a:this,arguments)}return g}function Yl(e){return function(t){t=Fe(t);var a=nn(t)?Xt(t):n,c=a?a[0]:t.charAt(0),f=a?Pr(a,1).join(""):t.slice(1);return c[e]()+f}}function fn(e){return function(t){return Ti(Vc(Kc(t).replace(mf,"")),e,"")}}function An(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=un(e.prototype),c=e.apply(a,t);return Xe(c)?c:a}}function kp(e,t,a){var c=An(e);function f(){for(var g=arguments.length,y=T(g),b=g,R=hn(f);b--;)y[b]=arguments[b];var A=g<3&&y[0]!==R&&y[g-1]!==R?[]:Or(y,R);if(g-=A.length,g<a)return ec(e,t,Is,f.placeholder,n,y,A,n,n,a-g);var z=this&&this!==ut&&this instanceof f?c:e;return Et(z,this,y)}return f}function Xl(e){return function(t,a,c){var f=He(t);if(!Rt(t)){var g=ge(a,3);t=lt(t),a=function(b){return g(f[b],b,f)}}var y=e(t,a,c);return y>-1?f[g?t[y]:y]:n}}function Jl(e){return xr(function(t){var a=t.length,c=a,f=Bt.prototype.thru;for(e&&t.reverse();c--;){var g=t[c];if(typeof g!="function")throw new Ut(d);if(f&&!y&&Ds(g)=="wrapper")var y=new Bt([],!0)}for(c=y?c:a;++c<a;){g=t[c];var b=Ds(g),R=b=="wrapper"?ca(g):n;R&&ha(R[0])&&R[1]==(J|C|O|Z)&&!R[4].length&&R[9]==1?y=y[Ds(R[0])].apply(y,R[3]):y=g.length==1&&ha(g)?y[b]():y.thru(g)}return function(){var A=arguments,z=A[0];if(y&&A.length==1&&Ce(z))return y.plant(z).value();for(var F=0,Y=a?t[F].apply(this,A):z;++F<a;)Y=t[F].call(this,Y);return Y}})}function Is(e,t,a,c,f,g,y,b,R,A){var z=t&J,F=t&G,Y=t&B,ce=t&(C|w),_e=t&V,Te=Y?n:An(e);function ye(){for(var Pe=arguments.length,ze=T(Pe),At=Pe;At--;)ze[At]=arguments[At];if(ce)var wt=hn(ye),Dt=Nf(ze,wt);if(c&&(ze=Gl(ze,c,f,ce)),g&&(ze=Kl(ze,g,y,ce)),Pe-=Dt,ce&&Pe<A){var tt=Or(ze,wt);return ec(e,t,Is,ye.placeholder,a,ze,tt,b,R,A-Pe)}var Qt=F?a:this,Sr=Y?Qt[e]:e;return Pe=ze.length,b?ze=Vp(ze,b):_e&&Pe>1&&ze.reverse(),z&&R<Pe&&(ze.length=R),this&&this!==ut&&this instanceof ye&&(Sr=Te||An(Sr)),Sr.apply(Qt,ze)}return ye}function Zl(e,t){return function(a,c){return tp(a,e,t(c),{})}}function Ls(e,t){return function(a,c){var f;if(a===n&&c===n)return t;if(a!==n&&(f=a),c!==n){if(f===n)return c;typeof a=="string"||typeof c=="string"?(a=Lt(a),c=Lt(c)):(a=Ml(a),c=Ml(c)),f=e(a,c)}return f}}function ia(e){return xr(function(t){return t=Ye(t,It(ge())),Le(function(a){var c=this;return e(t,function(f){return Et(f,c,a)})})})}function Ps(e,t){t=t===n?" ":Lt(t);var a=t.length;if(a<2)return a?Zi(t,e):t;var c=Zi(t,xs(e/sn(t)));return nn(t)?Pr(Xt(c),0,e).join(""):c.slice(0,e)}function Op(e,t,a,c){var f=t&G,g=An(e);function y(){for(var b=-1,R=arguments.length,A=-1,z=c.length,F=T(z+R),Y=this&&this!==ut&&this instanceof y?g:e;++A<z;)F[A]=c[A];for(;R--;)F[A++]=arguments[++b];return Et(Y,f?a:this,F)}return y}function Ql(e){return function(t,a,c){return c&&typeof c!="number"&&vt(t,a,c)&&(a=c=n),t=br(t),a===n?(a=t,t=0):a=br(a),c=c===n?t<a?1:-1:br(c),hp(t,a,c,e)}}function As(e){return function(t,a){return typeof t=="string"&&typeof a=="string"||(t=Kt(t),a=Kt(a)),e(t,a)}}function ec(e,t,a,c,f,g,y,b,R,A){var z=t&C,F=z?y:n,Y=z?n:y,ce=z?g:n,_e=z?n:g;t|=z?O:X,t&=~(z?X:O),t&E||(t&=-4);var Te=[e,t,f,ce,F,_e,Y,b,R,A],ye=a.apply(n,Te);return ha(e)&&fc(ye,Te),ye.placeholder=c,hc(ye,e,t)}function aa(e){var t=st[e];return function(a,c){if(a=Kt(a),c=c==null?0:gt(ke(c),292),c&&hl(a)){var f=(Fe(a)+"e").split("e"),g=t(f[0]+"e"+(+f[1]+c));return f=(Fe(g)+"e").split("e"),+(f[0]+"e"+(+f[1]-c))}return t(a)}}var Tp=ln&&1/cs(new ln([,-0]))[1]==be?function(e){return new ln(e)}:Oa;function tc(e){return function(t){var a=mt(t);return a==ot?zi(t):a==Se?Kf(t):$f(t,e(t))}}function yr(e,t,a,c,f,g,y,b){var R=t&B;if(!R&&typeof e!="function")throw new Ut(d);var A=c?c.length:0;if(A||(t&=-97,c=f=n),y=y===n?y:it(ke(y),0),b=b===n?b:ke(b),A-=f?f.length:0,t&X){var z=c,F=f;c=f=n}var Y=R?n:ca(e),ce=[e,t,a,c,f,z,F,g,y,b];if(Y&&Hp(ce,Y),e=ce[0],t=ce[1],a=ce[2],c=ce[3],f=ce[4],b=ce[9]=ce[9]===n?R?0:e.length:it(ce[9]-A,0),!b&&t&(C|w)&&(t&=-25),!t||t==G)var _e=Rp(e,t,a);else t==C||t==w?_e=kp(e,t,b):(t==O||t==(G|O))&&!f.length?_e=Op(e,t,a,c):_e=Is.apply(n,ce);var Te=Y?Dl:fc;return hc(Te(_e,ce),e,t)}function rc(e,t,a,c){return e===n||Zt(e,on[a])&&!Ue.call(c,a)?t:e}function nc(e,t,a,c,f,g){return Xe(e)&&Xe(t)&&(g.set(t,e),ks(e,t,n,nc,g),g.delete(t)),e}function Ep(e){return Mn(e)?n:e}function sc(e,t,a,c,f,g){var y=a&L,b=e.length,R=t.length;if(b!=R&&!(y&&R>b))return!1;var A=g.get(e),z=g.get(t);if(A&&z)return A==t&&z==e;var F=-1,Y=!0,ce=a&D?new Hr:n;for(g.set(e,t),g.set(t,e);++F<b;){var _e=e[F],Te=t[F];if(c)var ye=y?c(Te,_e,F,t,e,g):c(_e,Te,F,e,t,g);if(ye!==n){if(ye)continue;Y=!1;break}if(ce){if(!Ei(t,function(Pe,ze){if(!Sn(ce,ze)&&(_e===Pe||f(_e,Pe,a,c,g)))return ce.push(ze)})){Y=!1;break}}else if(!(_e===Te||f(_e,Te,a,c,g))){Y=!1;break}}return g.delete(e),g.delete(t),Y}function Ip(e,t,a,c,f,g,y){switch(a){case pr:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Cr:return!(e.byteLength!=t.byteLength||!g(new gs(e),new gs(t)));case Be:case We:case K:return Zt(+e,+t);case Yt:return e.name==t.name&&e.message==t.message;case ee:case je:return e==t+"";case ot:var b=zi;case Se:var R=c&L;if(b||(b=cs),e.size!=t.size&&!R)return!1;var A=y.get(e);if(A)return A==t;c|=D,y.set(e,t);var z=sc(b(e),b(t),c,f,g,y);return y.delete(e),z;case Tt:if(On)return On.call(e)==On.call(t)}return!1}function Lp(e,t,a,c,f,g){var y=a&L,b=oa(e),R=b.length,A=oa(t),z=A.length;if(R!=z&&!y)return!1;for(var F=R;F--;){var Y=b[F];if(!(y?Y in t:Ue.call(t,Y)))return!1}var ce=g.get(e),_e=g.get(t);if(ce&&_e)return ce==t&&_e==e;var Te=!0;g.set(e,t),g.set(t,e);for(var ye=y;++F<R;){Y=b[F];var Pe=e[Y],ze=t[Y];if(c)var At=y?c(ze,Pe,Y,t,e,g):c(Pe,ze,Y,e,t,g);if(!(At===n?Pe===ze||f(Pe,ze,a,c,g):At)){Te=!1;break}ye||(ye=Y=="constructor")}if(Te&&!ye){var wt=e.constructor,Dt=t.constructor;wt!=Dt&&"constructor"in e&&"constructor"in t&&!(typeof wt=="function"&&wt instanceof wt&&typeof Dt=="function"&&Dt instanceof Dt)&&(Te=!1)}return g.delete(e),g.delete(t),Te}function xr(e){return ga(uc(e,n,xc),e+"")}function oa(e){return jl(e,lt,da)}function la(e){return jl(e,kt,ic)}var ca=ws?function(e){return ws.get(e)}:Oa;function Ds(e){for(var t=e.name+"",a=cn[t],c=Ue.call(cn,t)?a.length:0;c--;){var f=a[c],g=f.func;if(g==null||g==e)return f.name}return t}function hn(e){var t=Ue.call(p,"placeholder")?p:e;return t.placeholder}function ge(){var e=p.iteratee||Ra;return e=e===Ra?kl:e,arguments.length?e(arguments[0],arguments[1]):e}function zs(e,t){var a=e.__data__;return Fp(t)?a[typeof t=="string"?"string":"hash"]:a.map}function ua(e){for(var t=lt(e),a=t.length;a--;){var c=t[a],f=e[c];t[a]=[c,f,lc(f)]}return t}function Vr(e,t){var a=Wf(e,t);return Rl(a)?a:n}function Pp(e){var t=Ue.call(e,Br),a=e[Br];try{e[Br]=n;var c=!0}catch{}var f=hs.call(e);return c&&(t?e[Br]=a:delete e[Br]),f}var da=$i?function(e){return e==null?[]:(e=He(e),Rr($i(e),function(t){return dl.call(e,t)}))}:Ta,ic=$i?function(e){for(var t=[];e;)kr(t,da(e)),e=ms(e);return t}:Ta,mt=xt;(Ni&&mt(new Ni(new ArrayBuffer(1)))!=pr||Cn&&mt(new Cn)!=ot||Fi&&mt(Fi.resolve())!=$||ln&&mt(new ln)!=Se||Rn&&mt(new Rn)!=jr)&&(mt=function(e){var t=xt(e),a=t==me?e.constructor:n,c=a?qr(a):"";if(c)switch(c){case gh:return pr;case mh:return ot;case _h:return $;case yh:return Se;case xh:return jr}return t});function Ap(e,t,a){for(var c=-1,f=a.length;++c<f;){var g=a[c],y=g.size;switch(g.type){case"drop":e+=y;break;case"dropRight":t-=y;break;case"take":t=gt(t,e+y);break;case"takeRight":e=it(e,t-y);break}}return{start:e,end:t}}function Dp(e){var t=e.match(Fd);return t?t[1].split(Ud):[]}function ac(e,t,a){t=Lr(t,e);for(var c=-1,f=t.length,g=!1;++c<f;){var y=lr(t[c]);if(!(g=e!=null&&a(e,y)))break;e=e[y]}return g||++c!=f?g:(f=e==null?0:e.length,!!f&&Ws(f)&&vr(y,f)&&(Ce(e)||Yr(e)))}function zp(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&Ue.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function oc(e){return typeof e.constructor=="function"&&!Dn(e)?un(ms(e)):{}}function Mp(e,t,a){var c=e.constructor;switch(t){case Cr:return sa(e);case Be:case We:return new c(+e);case pr:return vp(e,a);case Qr:case en:case fi:case hi:case pi:case gi:case mi:case _i:case yi:return Wl(e,a);case ot:return new c;case K:case je:return new c(e);case ee:return wp(e);case Se:return new c;case Tt:return bp(e)}}function $p(e,t){var a=t.length;if(!a)return e;var c=a-1;return t[c]=(a>1?"& ":"")+t[c],t=t.join(a>2?", ":" "),e.replace(Nd,`{
/* [wrapped with `+t+`] */
`)}function Np(e){return Ce(e)||Yr(e)||!!(fl&&e&&e[fl])}function vr(e,t){var a=typeof e;return t=t??pe,!!t&&(a=="number"||a!="symbol"&&Xd.test(e))&&e>-1&&e%1==0&&e<t}function vt(e,t,a){if(!Xe(a))return!1;var c=typeof t;return(c=="number"?Rt(a)&&vr(t,a.length):c=="string"&&t in a)?Zt(a[t],e):!1}function fa(e,t){if(Ce(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Pt(e)?!0:Dd.test(e)||!Ad.test(e)||t!=null&&e in He(t)}function Fp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ha(e){var t=Ds(e),a=p[t];if(typeof a!="function"||!(t in Ae.prototype))return!1;if(e===a)return!0;var c=ca(a);return!!c&&e===c[0]}function Up(e){return!!ll&&ll in e}var Bp=ds?wr:Ea;function Dn(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||on;return e===a}function lc(e){return e===e&&!Xe(e)}function cc(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==n||e in He(a))}}function Wp(e){var t=Us(e,function(c){return a.size===_&&a.clear(),c}),a=t.cache;return t}function Hp(e,t){var a=e[1],c=t[1],f=a|c,g=f<(G|B|J),y=c==J&&a==C||c==J&&a==Z&&e[7].length<=t[8]||c==(J|Z)&&t[7].length<=t[8]&&a==C;if(!(g||y))return e;c&G&&(e[2]=t[2],f|=a&G?0:E);var b=t[3];if(b){var R=e[3];e[3]=R?Gl(R,b,t[4]):b,e[4]=R?Or(e[3],S):t[4]}return b=t[5],b&&(R=e[5],e[5]=R?Kl(R,b,t[6]):b,e[6]=R?Or(e[5],S):t[6]),b=t[7],b&&(e[7]=b),c&J&&(e[8]=e[8]==null?t[8]:gt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=f,e}function Gp(e){var t=[];if(e!=null)for(var a in He(e))t.push(a);return t}function Kp(e){return hs.call(e)}function uc(e,t,a){return t=it(t===n?e.length-1:t,0),function(){for(var c=arguments,f=-1,g=it(c.length-t,0),y=T(g);++f<g;)y[f]=c[t+f];f=-1;for(var b=T(t+1);++f<t;)b[f]=c[f];return b[t]=a(y),Et(e,this,b)}}function dc(e,t){return t.length<2?e:Kr(e,Ht(t,0,-1))}function Vp(e,t){for(var a=e.length,c=gt(t.length,a),f=Ct(e);c--;){var g=t[c];e[c]=vr(g,a)?f[g]:n}return e}function pa(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var fc=pc(Dl),zn=lh||function(e,t){return ut.setTimeout(e,t)},ga=pc(mp);function hc(e,t,a){var c=t+"";return ga(e,$p(c,qp(Dp(c),a)))}function pc(e){var t=0,a=0;return function(){var c=fh(),f=ae-(c-a);if(a=c,f>0){if(++t>=ie)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Ms(e,t){var a=-1,c=e.length,f=c-1;for(t=t===n?c:t;++a<t;){var g=Ji(a,f),y=e[g];e[g]=e[a],e[a]=y}return e.length=t,e}var gc=Wp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zd,function(a,c,f,g){t.push(f?g.replace(Hd,"$1"):c||a)}),t});function lr(e){if(typeof e=="string"||Pt(e))return e;var t=e+"";return t=="0"&&1/e==-be?"-0":t}function qr(e){if(e!=null){try{return fs.call(e)}catch{}try{return e+""}catch{}}return""}function qp(e,t){return Ft(nt,function(a){var c="_."+a[0];t&a[1]&&!os(e,c)&&e.push(c)}),e.sort()}function mc(e){if(e instanceof Ae)return e.clone();var t=new Bt(e.__wrapped__,e.__chain__);return t.__actions__=Ct(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Yp(e,t,a){(a?vt(e,t,a):t===n)?t=1:t=it(ke(t),0);var c=e==null?0:e.length;if(!c||t<1)return[];for(var f=0,g=0,y=T(xs(c/t));f<c;)y[g++]=Ht(e,f,f+=t);return y}function Xp(e){for(var t=-1,a=e==null?0:e.length,c=0,f=[];++t<a;){var g=e[t];g&&(f[c++]=g)}return f}function Jp(){var e=arguments.length;if(!e)return[];for(var t=T(e-1),a=arguments[0],c=e;c--;)t[c-1]=arguments[c];return kr(Ce(a)?Ct(a):[a],dt(t,1))}var Zp=Le(function(e,t){return et(e)?En(e,dt(t,1,et,!0)):[]}),Qp=Le(function(e,t){var a=Gt(t);return et(a)&&(a=n),et(e)?En(e,dt(t,1,et,!0),ge(a,2)):[]}),eg=Le(function(e,t){var a=Gt(t);return et(a)&&(a=n),et(e)?En(e,dt(t,1,et,!0),n,a):[]});function tg(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===n?1:ke(t),Ht(e,t<0?0:t,c)):[]}function rg(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===n?1:ke(t),t=c-t,Ht(e,0,t<0?0:t)):[]}function ng(e,t){return e&&e.length?Ts(e,ge(t,3),!0,!0):[]}function sg(e,t){return e&&e.length?Ts(e,ge(t,3),!0):[]}function ig(e,t,a,c){var f=e==null?0:e.length;return f?(a&&typeof a!="number"&&vt(e,t,a)&&(a=0,c=f),Jh(e,t,a,c)):[]}function _c(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=a==null?0:ke(a);return f<0&&(f=it(c+f,0)),ls(e,ge(t,3),f)}function yc(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=c-1;return a!==n&&(f=ke(a),f=a<0?it(c+f,0):gt(f,c-1)),ls(e,ge(t,3),f,!0)}function xc(e){var t=e==null?0:e.length;return t?dt(e,1):[]}function ag(e){var t=e==null?0:e.length;return t?dt(e,be):[]}function og(e,t){var a=e==null?0:e.length;return a?(t=t===n?1:ke(t),dt(e,t)):[]}function lg(e){for(var t=-1,a=e==null?0:e.length,c={};++t<a;){var f=e[t];c[f[0]]=f[1]}return c}function vc(e){return e&&e.length?e[0]:n}function cg(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=a==null?0:ke(a);return f<0&&(f=it(c+f,0)),rn(e,t,f)}function ug(e){var t=e==null?0:e.length;return t?Ht(e,0,-1):[]}var dg=Le(function(e){var t=Ye(e,ra);return t.length&&t[0]===e[0]?Ki(t):[]}),fg=Le(function(e){var t=Gt(e),a=Ye(e,ra);return t===Gt(a)?t=n:a.pop(),a.length&&a[0]===e[0]?Ki(a,ge(t,2)):[]}),hg=Le(function(e){var t=Gt(e),a=Ye(e,ra);return t=typeof t=="function"?t:n,t&&a.pop(),a.length&&a[0]===e[0]?Ki(a,n,t):[]});function pg(e,t){return e==null?"":uh.call(e,t)}function Gt(e){var t=e==null?0:e.length;return t?e[t-1]:n}function gg(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=c;return a!==n&&(f=ke(a),f=f<0?it(c+f,0):gt(f,c-1)),t===t?qf(e,t,f):ls(e,el,f,!0)}function mg(e,t){return e&&e.length?Il(e,ke(t)):n}var _g=Le(wc);function wc(e,t){return e&&e.length&&t&&t.length?Xi(e,t):e}function yg(e,t,a){return e&&e.length&&t&&t.length?Xi(e,t,ge(a,2)):e}function xg(e,t,a){return e&&e.length&&t&&t.length?Xi(e,t,n,a):e}var vg=xr(function(e,t){var a=e==null?0:e.length,c=Bi(e,t);return Al(e,Ye(t,function(f){return vr(f,a)?+f:f}).sort(Hl)),c});function wg(e,t){var a=[];if(!(e&&e.length))return a;var c=-1,f=[],g=e.length;for(t=ge(t,3);++c<g;){var y=e[c];t(y,c,e)&&(a.push(y),f.push(c))}return Al(e,f),a}function ma(e){return e==null?e:ph.call(e)}function bg(e,t,a){var c=e==null?0:e.length;return c?(a&&typeof a!="number"&&vt(e,t,a)?(t=0,a=c):(t=t==null?0:ke(t),a=a===n?c:ke(a)),Ht(e,t,a)):[]}function Sg(e,t){return Os(e,t)}function jg(e,t,a){return Qi(e,t,ge(a,2))}function Cg(e,t){var a=e==null?0:e.length;if(a){var c=Os(e,t);if(c<a&&Zt(e[c],t))return c}return-1}function Rg(e,t){return Os(e,t,!0)}function kg(e,t,a){return Qi(e,t,ge(a,2),!0)}function Og(e,t){var a=e==null?0:e.length;if(a){var c=Os(e,t,!0)-1;if(Zt(e[c],t))return c}return-1}function Tg(e){return e&&e.length?zl(e):[]}function Eg(e,t){return e&&e.length?zl(e,ge(t,2)):[]}function Ig(e){var t=e==null?0:e.length;return t?Ht(e,1,t):[]}function Lg(e,t,a){return e&&e.length?(t=a||t===n?1:ke(t),Ht(e,0,t<0?0:t)):[]}function Pg(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===n?1:ke(t),t=c-t,Ht(e,t<0?0:t,c)):[]}function Ag(e,t){return e&&e.length?Ts(e,ge(t,3),!1,!0):[]}function Dg(e,t){return e&&e.length?Ts(e,ge(t,3)):[]}var zg=Le(function(e){return Ir(dt(e,1,et,!0))}),Mg=Le(function(e){var t=Gt(e);return et(t)&&(t=n),Ir(dt(e,1,et,!0),ge(t,2))}),$g=Le(function(e){var t=Gt(e);return t=typeof t=="function"?t:n,Ir(dt(e,1,et,!0),n,t)});function Ng(e){return e&&e.length?Ir(e):[]}function Fg(e,t){return e&&e.length?Ir(e,ge(t,2)):[]}function Ug(e,t){return t=typeof t=="function"?t:n,e&&e.length?Ir(e,n,t):[]}function _a(e){if(!(e&&e.length))return[];var t=0;return e=Rr(e,function(a){if(et(a))return t=it(a.length,t),!0}),Ai(t,function(a){return Ye(e,Ii(a))})}function bc(e,t){if(!(e&&e.length))return[];var a=_a(e);return t==null?a:Ye(a,function(c){return Et(t,n,c)})}var Bg=Le(function(e,t){return et(e)?En(e,t):[]}),Wg=Le(function(e){return ta(Rr(e,et))}),Hg=Le(function(e){var t=Gt(e);return et(t)&&(t=n),ta(Rr(e,et),ge(t,2))}),Gg=Le(function(e){var t=Gt(e);return t=typeof t=="function"?t:n,ta(Rr(e,et),n,t)}),Kg=Le(_a);function Vg(e,t){return Fl(e||[],t||[],Tn)}function qg(e,t){return Fl(e||[],t||[],Pn)}var Yg=Le(function(e){var t=e.length,a=t>1?e[t-1]:n;return a=typeof a=="function"?(e.pop(),a):n,bc(e,a)});function Sc(e){var t=p(e);return t.__chain__=!0,t}function Xg(e,t){return t(e),e}function $s(e,t){return t(e)}var Jg=xr(function(e){var t=e.length,a=t?e[0]:0,c=this.__wrapped__,f=function(g){return Bi(g,e)};return t>1||this.__actions__.length||!(c instanceof Ae)||!vr(a)?this.thru(f):(c=c.slice(a,+a+(t?1:0)),c.__actions__.push({func:$s,args:[f],thisArg:n}),new Bt(c,this.__chain__).thru(function(g){return t&&!g.length&&g.push(n),g}))});function Zg(){return Sc(this)}function Qg(){return new Bt(this.value(),this.__chain__)}function em(){this.__values__===n&&(this.__values__=Mc(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}}function tm(){return this}function rm(e){for(var t,a=this;a instanceof Ss;){var c=mc(a);c.__index__=0,c.__values__=n,t?f.__wrapped__=c:t=c;var f=c;a=a.__wrapped__}return f.__wrapped__=e,t}function nm(){var e=this.__wrapped__;if(e instanceof Ae){var t=e;return this.__actions__.length&&(t=new Ae(this)),t=t.reverse(),t.__actions__.push({func:$s,args:[ma],thisArg:n}),new Bt(t,this.__chain__)}return this.thru(ma)}function sm(){return Nl(this.__wrapped__,this.__actions__)}var im=Es(function(e,t,a){Ue.call(e,a)?++e[a]:_r(e,a,1)});function am(e,t,a){var c=Ce(e)?Zo:Xh;return a&&vt(e,t,a)&&(t=n),c(e,ge(t,3))}function om(e,t){var a=Ce(e)?Rr:bl;return a(e,ge(t,3))}var lm=Xl(_c),cm=Xl(yc);function um(e,t){return dt(Ns(e,t),1)}function dm(e,t){return dt(Ns(e,t),be)}function fm(e,t,a){return a=a===n?1:ke(a),dt(Ns(e,t),a)}function jc(e,t){var a=Ce(e)?Ft:Er;return a(e,ge(t,3))}function Cc(e,t){var a=Ce(e)?If:wl;return a(e,ge(t,3))}var hm=Es(function(e,t,a){Ue.call(e,a)?e[a].push(t):_r(e,a,[t])});function pm(e,t,a,c){e=Rt(e)?e:gn(e),a=a&&!c?ke(a):0;var f=e.length;return a<0&&(a=it(f+a,0)),Hs(e)?a<=f&&e.indexOf(t,a)>-1:!!f&&rn(e,t,a)>-1}var gm=Le(function(e,t,a){var c=-1,f=typeof t=="function",g=Rt(e)?T(e.length):[];return Er(e,function(y){g[++c]=f?Et(t,y,a):In(y,t,a)}),g}),mm=Es(function(e,t,a){_r(e,a,t)});function Ns(e,t){var a=Ce(e)?Ye:Ol;return a(e,ge(t,3))}function _m(e,t,a,c){return e==null?[]:(Ce(t)||(t=t==null?[]:[t]),a=c?n:a,Ce(a)||(a=a==null?[]:[a]),Ll(e,t,a))}var ym=Es(function(e,t,a){e[a?0:1].push(t)},function(){return[[],[]]});function xm(e,t,a){var c=Ce(e)?Ti:rl,f=arguments.length<3;return c(e,ge(t,4),a,f,Er)}function vm(e,t,a){var c=Ce(e)?Lf:rl,f=arguments.length<3;return c(e,ge(t,4),a,f,wl)}function wm(e,t){var a=Ce(e)?Rr:bl;return a(e,Bs(ge(t,3)))}function bm(e){var t=Ce(e)?_l:pp;return t(e)}function Sm(e,t,a){(a?vt(e,t,a):t===n)?t=1:t=ke(t);var c=Ce(e)?Gh:gp;return c(e,t)}function jm(e){var t=Ce(e)?Kh:_p;return t(e)}function Cm(e){if(e==null)return 0;if(Rt(e))return Hs(e)?sn(e):e.length;var t=mt(e);return t==ot||t==Se?e.size:qi(e).length}function Rm(e,t,a){var c=Ce(e)?Ei:yp;return a&&vt(e,t,a)&&(t=n),c(e,ge(t,3))}var km=Le(function(e,t){if(e==null)return[];var a=t.length;return a>1&&vt(e,t[0],t[1])?t=[]:a>2&&vt(t[0],t[1],t[2])&&(t=[t[0]]),Ll(e,dt(t,1),[])}),Fs=oh||function(){return ut.Date.now()};function Om(e,t){if(typeof t!="function")throw new Ut(d);return e=ke(e),function(){if(--e<1)return t.apply(this,arguments)}}function Rc(e,t,a){return t=a?n:t,t=e&&t==null?e.length:t,yr(e,J,n,n,n,n,t)}function kc(e,t){var a;if(typeof t!="function")throw new Ut(d);return e=ke(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=n),a}}var ya=Le(function(e,t,a){var c=G;if(a.length){var f=Or(a,hn(ya));c|=O}return yr(e,c,t,a,f)}),Oc=Le(function(e,t,a){var c=G|B;if(a.length){var f=Or(a,hn(Oc));c|=O}return yr(t,c,e,a,f)});function Tc(e,t,a){t=a?n:t;var c=yr(e,C,n,n,n,n,n,t);return c.placeholder=Tc.placeholder,c}function Ec(e,t,a){t=a?n:t;var c=yr(e,w,n,n,n,n,n,t);return c.placeholder=Ec.placeholder,c}function Ic(e,t,a){var c,f,g,y,b,R,A=0,z=!1,F=!1,Y=!0;if(typeof e!="function")throw new Ut(d);t=Kt(t)||0,Xe(a)&&(z=!!a.leading,F="maxWait"in a,g=F?it(Kt(a.maxWait)||0,t):g,Y="trailing"in a?!!a.trailing:Y);function ce(tt){var Qt=c,Sr=f;return c=f=n,A=tt,y=e.apply(Sr,Qt),y}function _e(tt){return A=tt,b=zn(Pe,t),z?ce(tt):y}function Te(tt){var Qt=tt-R,Sr=tt-A,Xc=t-Qt;return F?gt(Xc,g-Sr):Xc}function ye(tt){var Qt=tt-R,Sr=tt-A;return R===n||Qt>=t||Qt<0||F&&Sr>=g}function Pe(){var tt=Fs();if(ye(tt))return ze(tt);b=zn(Pe,Te(tt))}function ze(tt){return b=n,Y&&c?ce(tt):(c=f=n,y)}function At(){b!==n&&Ul(b),A=0,c=R=f=b=n}function wt(){return b===n?y:ze(Fs())}function Dt(){var tt=Fs(),Qt=ye(tt);if(c=arguments,f=this,R=tt,Qt){if(b===n)return _e(R);if(F)return Ul(b),b=zn(Pe,t),ce(R)}return b===n&&(b=zn(Pe,t)),y}return Dt.cancel=At,Dt.flush=wt,Dt}var Tm=Le(function(e,t){return vl(e,1,t)}),Em=Le(function(e,t,a){return vl(e,Kt(t)||0,a)});function Im(e){return yr(e,V)}function Us(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Ut(d);var a=function(){var c=arguments,f=t?t.apply(this,c):c[0],g=a.cache;if(g.has(f))return g.get(f);var y=e.apply(this,c);return a.cache=g.set(f,y)||g,y};return a.cache=new(Us.Cache||mr),a}Us.Cache=mr;function Bs(e){if(typeof e!="function")throw new Ut(d);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Lm(e){return kc(2,e)}var Pm=xp(function(e,t){t=t.length==1&&Ce(t[0])?Ye(t[0],It(ge())):Ye(dt(t,1),It(ge()));var a=t.length;return Le(function(c){for(var f=-1,g=gt(c.length,a);++f<g;)c[f]=t[f].call(this,c[f]);return Et(e,this,c)})}),xa=Le(function(e,t){var a=Or(t,hn(xa));return yr(e,O,n,t,a)}),Lc=Le(function(e,t){var a=Or(t,hn(Lc));return yr(e,X,n,t,a)}),Am=xr(function(e,t){return yr(e,Z,n,n,n,t)});function Dm(e,t){if(typeof e!="function")throw new Ut(d);return t=t===n?t:ke(t),Le(e,t)}function zm(e,t){if(typeof e!="function")throw new Ut(d);return t=t==null?0:it(ke(t),0),Le(function(a){var c=a[t],f=Pr(a,0,t);return c&&kr(f,c),Et(e,this,f)})}function Mm(e,t,a){var c=!0,f=!0;if(typeof e!="function")throw new Ut(d);return Xe(a)&&(c="leading"in a?!!a.leading:c,f="trailing"in a?!!a.trailing:f),Ic(e,t,{leading:c,maxWait:t,trailing:f})}function $m(e){return Rc(e,1)}function Nm(e,t){return xa(na(t),e)}function Fm(){if(!arguments.length)return[];var e=arguments[0];return Ce(e)?e:[e]}function Um(e){return Wt(e,k)}function Bm(e,t){return t=typeof t=="function"?t:n,Wt(e,k,t)}function Wm(e){return Wt(e,x|k)}function Hm(e,t){return t=typeof t=="function"?t:n,Wt(e,x|k,t)}function Gm(e,t){return t==null||xl(e,t,lt(t))}function Zt(e,t){return e===t||e!==e&&t!==t}var Km=As(Gi),Vm=As(function(e,t){return e>=t}),Yr=Cl(function(){return arguments}())?Cl:function(e){return Je(e)&&Ue.call(e,"callee")&&!dl.call(e,"callee")},Ce=T.isArray,qm=Ko?It(Ko):rp;function Rt(e){return e!=null&&Ws(e.length)&&!wr(e)}function et(e){return Je(e)&&Rt(e)}function Ym(e){return e===!0||e===!1||Je(e)&&xt(e)==Be}var Ar=ch||Ea,Xm=Vo?It(Vo):np;function Jm(e){return Je(e)&&e.nodeType===1&&!Mn(e)}function Zm(e){if(e==null)return!0;if(Rt(e)&&(Ce(e)||typeof e=="string"||typeof e.splice=="function"||Ar(e)||pn(e)||Yr(e)))return!e.length;var t=mt(e);if(t==ot||t==Se)return!e.size;if(Dn(e))return!qi(e).length;for(var a in e)if(Ue.call(e,a))return!1;return!0}function Qm(e,t){return Ln(e,t)}function e_(e,t,a){a=typeof a=="function"?a:n;var c=a?a(e,t):n;return c===n?Ln(e,t,n,a):!!c}function va(e){if(!Je(e))return!1;var t=xt(e);return t==Yt||t==qt||typeof e.message=="string"&&typeof e.name=="string"&&!Mn(e)}function t_(e){return typeof e=="number"&&hl(e)}function wr(e){if(!Xe(e))return!1;var t=xt(e);return t==pt||t==hr||t==Ie||t==se}function Pc(e){return typeof e=="number"&&e==ke(e)}function Ws(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pe}function Xe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Je(e){return e!=null&&typeof e=="object"}var Ac=qo?It(qo):ip;function r_(e,t){return e===t||Vi(e,t,ua(t))}function n_(e,t,a){return a=typeof a=="function"?a:n,Vi(e,t,ua(t),a)}function s_(e){return Dc(e)&&e!=+e}function i_(e){if(Bp(e))throw new we(u);return Rl(e)}function a_(e){return e===null}function o_(e){return e==null}function Dc(e){return typeof e=="number"||Je(e)&&xt(e)==K}function Mn(e){if(!Je(e)||xt(e)!=me)return!1;var t=ms(e);if(t===null)return!0;var a=Ue.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&fs.call(a)==nh}var wa=Yo?It(Yo):ap;function l_(e){return Pc(e)&&e>=-pe&&e<=pe}var zc=Xo?It(Xo):op;function Hs(e){return typeof e=="string"||!Ce(e)&&Je(e)&&xt(e)==je}function Pt(e){return typeof e=="symbol"||Je(e)&&xt(e)==Tt}var pn=Jo?It(Jo):lp;function c_(e){return e===n}function u_(e){return Je(e)&&mt(e)==jr}function d_(e){return Je(e)&&xt(e)==ns}var f_=As(Yi),h_=As(function(e,t){return e<=t});function Mc(e){if(!e)return[];if(Rt(e))return Hs(e)?Xt(e):Ct(e);if(jn&&e[jn])return Gf(e[jn]());var t=mt(e),a=t==ot?zi:t==Se?cs:gn;return a(e)}function br(e){if(!e)return e===0?e:0;if(e=Kt(e),e===be||e===-be){var t=e<0?-1:1;return t*U}return e===e?e:0}function ke(e){var t=br(e),a=t%1;return t===t?a?t-a:t:0}function $c(e){return e?Gr(ke(e),0,fe):0}function Kt(e){if(typeof e=="number")return e;if(Pt(e))return Q;if(Xe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=nl(e);var a=Vd.test(e);return a||Yd.test(e)?Of(e.slice(2),a?2:8):Kd.test(e)?Q:+e}function Nc(e){return or(e,kt(e))}function p_(e){return e?Gr(ke(e),-pe,pe):e===0?e:0}function Fe(e){return e==null?"":Lt(e)}var g_=dn(function(e,t){if(Dn(t)||Rt(t)){or(t,lt(t),e);return}for(var a in t)Ue.call(t,a)&&Tn(e,a,t[a])}),Fc=dn(function(e,t){or(t,kt(t),e)}),Gs=dn(function(e,t,a,c){or(t,kt(t),e,c)}),m_=dn(function(e,t,a,c){or(t,lt(t),e,c)}),__=xr(Bi);function y_(e,t){var a=un(e);return t==null?a:yl(a,t)}var x_=Le(function(e,t){e=He(e);var a=-1,c=t.length,f=c>2?t[2]:n;for(f&&vt(t[0],t[1],f)&&(c=1);++a<c;)for(var g=t[a],y=kt(g),b=-1,R=y.length;++b<R;){var A=y[b],z=e[A];(z===n||Zt(z,on[A])&&!Ue.call(e,A))&&(e[A]=g[A])}return e}),v_=Le(function(e){return e.push(n,nc),Et(Uc,n,e)});function w_(e,t){return Qo(e,ge(t,3),ar)}function b_(e,t){return Qo(e,ge(t,3),Hi)}function S_(e,t){return e==null?e:Wi(e,ge(t,3),kt)}function j_(e,t){return e==null?e:Sl(e,ge(t,3),kt)}function C_(e,t){return e&&ar(e,ge(t,3))}function R_(e,t){return e&&Hi(e,ge(t,3))}function k_(e){return e==null?[]:Rs(e,lt(e))}function O_(e){return e==null?[]:Rs(e,kt(e))}function ba(e,t,a){var c=e==null?n:Kr(e,t);return c===n?a:c}function T_(e,t){return e!=null&&ac(e,t,Zh)}function Sa(e,t){return e!=null&&ac(e,t,Qh)}var E_=Zl(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=hs.call(t)),e[t]=a},Ca(Ot)),I_=Zl(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=hs.call(t)),Ue.call(e,t)?e[t].push(a):e[t]=[a]},ge),L_=Le(In);function lt(e){return Rt(e)?ml(e):qi(e)}function kt(e){return Rt(e)?ml(e,!0):cp(e)}function P_(e,t){var a={};return t=ge(t,3),ar(e,function(c,f,g){_r(a,t(c,f,g),c)}),a}function A_(e,t){var a={};return t=ge(t,3),ar(e,function(c,f,g){_r(a,f,t(c,f,g))}),a}var D_=dn(function(e,t,a){ks(e,t,a)}),Uc=dn(function(e,t,a,c){ks(e,t,a,c)}),z_=xr(function(e,t){var a={};if(e==null)return a;var c=!1;t=Ye(t,function(g){return g=Lr(g,e),c||(c=g.length>1),g}),or(e,la(e),a),c&&(a=Wt(a,x|I|k,Ep));for(var f=t.length;f--;)ea(a,t[f]);return a});function M_(e,t){return Bc(e,Bs(ge(t)))}var $_=xr(function(e,t){return e==null?{}:dp(e,t)});function Bc(e,t){if(e==null)return{};var a=Ye(la(e),function(c){return[c]});return t=ge(t),Pl(e,a,function(c,f){return t(c,f[0])})}function N_(e,t,a){t=Lr(t,e);var c=-1,f=t.length;for(f||(f=1,e=n);++c<f;){var g=e==null?n:e[lr(t[c])];g===n&&(c=f,g=a),e=wr(g)?g.call(e):g}return e}function F_(e,t,a){return e==null?e:Pn(e,t,a)}function U_(e,t,a,c){return c=typeof c=="function"?c:n,e==null?e:Pn(e,t,a,c)}var Wc=tc(lt),Hc=tc(kt);function B_(e,t,a){var c=Ce(e),f=c||Ar(e)||pn(e);if(t=ge(t,4),a==null){var g=e&&e.constructor;f?a=c?new g:[]:Xe(e)?a=wr(g)?un(ms(e)):{}:a={}}return(f?Ft:ar)(e,function(y,b,R){return t(a,y,b,R)}),a}function W_(e,t){return e==null?!0:ea(e,t)}function H_(e,t,a){return e==null?e:$l(e,t,na(a))}function G_(e,t,a,c){return c=typeof c=="function"?c:n,e==null?e:$l(e,t,na(a),c)}function gn(e){return e==null?[]:Di(e,lt(e))}function K_(e){return e==null?[]:Di(e,kt(e))}function V_(e,t,a){return a===n&&(a=t,t=n),a!==n&&(a=Kt(a),a=a===a?a:0),t!==n&&(t=Kt(t),t=t===t?t:0),Gr(Kt(e),t,a)}function q_(e,t,a){return t=br(t),a===n?(a=t,t=0):a=br(a),e=Kt(e),ep(e,t,a)}function Y_(e,t,a){if(a&&typeof a!="boolean"&&vt(e,t,a)&&(t=a=n),a===n&&(typeof t=="boolean"?(a=t,t=n):typeof e=="boolean"&&(a=e,e=n)),e===n&&t===n?(e=0,t=1):(e=br(e),t===n?(t=e,e=0):t=br(t)),e>t){var c=e;e=t,t=c}if(a||e%1||t%1){var f=pl();return gt(e+f*(t-e+kf("1e-"+((f+"").length-1))),t)}return Ji(e,t)}var X_=fn(function(e,t,a){return t=t.toLowerCase(),e+(a?Gc(t):t)});function Gc(e){return ja(Fe(e).toLowerCase())}function Kc(e){return e=Fe(e),e&&e.replace(Jd,Ff).replace(_f,"")}function J_(e,t,a){e=Fe(e),t=Lt(t);var c=e.length;a=a===n?c:Gr(ke(a),0,c);var f=a;return a-=t.length,a>=0&&e.slice(a,f)==t}function Z_(e){return e=Fe(e),e&&Id.test(e)?e.replace(So,Uf):e}function Q_(e){return e=Fe(e),e&&Md.test(e)?e.replace(xi,"\\$&"):e}var ey=fn(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),ty=fn(function(e,t,a){return e+(a?" ":"")+t.toLowerCase()}),ry=Yl("toLowerCase");function ny(e,t,a){e=Fe(e),t=ke(t);var c=t?sn(e):0;if(!t||c>=t)return e;var f=(t-c)/2;return Ps(vs(f),a)+e+Ps(xs(f),a)}function sy(e,t,a){e=Fe(e),t=ke(t);var c=t?sn(e):0;return t&&c<t?e+Ps(t-c,a):e}function iy(e,t,a){e=Fe(e),t=ke(t);var c=t?sn(e):0;return t&&c<t?Ps(t-c,a)+e:e}function ay(e,t,a){return a||t==null?t=0:t&&(t=+t),hh(Fe(e).replace(vi,""),t||0)}function oy(e,t,a){return(a?vt(e,t,a):t===n)?t=1:t=ke(t),Zi(Fe(e),t)}function ly(){var e=arguments,t=Fe(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var cy=fn(function(e,t,a){return e+(a?"_":"")+t.toLowerCase()});function uy(e,t,a){return a&&typeof a!="number"&&vt(e,t,a)&&(t=a=n),a=a===n?fe:a>>>0,a?(e=Fe(e),e&&(typeof t=="string"||t!=null&&!wa(t))&&(t=Lt(t),!t&&nn(e))?Pr(Xt(e),0,a):e.split(t,a)):[]}var dy=fn(function(e,t,a){return e+(a?" ":"")+ja(t)});function fy(e,t,a){return e=Fe(e),a=a==null?0:Gr(ke(a),0,e.length),t=Lt(t),e.slice(a,a+t.length)==t}function hy(e,t,a){var c=p.templateSettings;a&&vt(e,t,a)&&(t=n),e=Fe(e),t=Gs({},t,c,rc);var f=Gs({},t.imports,c.imports,rc),g=lt(f),y=Di(f,g),b,R,A=0,z=t.interpolate||ss,F="__p += '",Y=Mi((t.escape||ss).source+"|"+z.source+"|"+(z===jo?Gd:ss).source+"|"+(t.evaluate||ss).source+"|$","g"),ce="//# sourceURL="+(Ue.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bf+"]")+`
`;e.replace(Y,function(ye,Pe,ze,At,wt,Dt){return ze||(ze=At),F+=e.slice(A,Dt).replace(Zd,Bf),Pe&&(b=!0,F+=`' +
__e(`+Pe+`) +
'`),wt&&(R=!0,F+=`';
`+wt+`;
__p += '`),ze&&(F+=`' +
((__t = (`+ze+`)) == null ? '' : __t) +
'`),A=Dt+ye.length,ye}),F+=`';
`;var _e=Ue.call(t,"variable")&&t.variable;if(!_e)F=`with (obj) {
`+F+`
}
`;else if(Wd.test(_e))throw new we(h);F=(R?F.replace(kd,""):F).replace(Od,"$1").replace(Td,"$1;"),F="function("+(_e||"obj")+`) {
`+(_e?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(R?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var Te=qc(function(){return Ne(g,ce+"return "+F).apply(n,y)});if(Te.source=F,va(Te))throw Te;return Te}function py(e){return Fe(e).toLowerCase()}function gy(e){return Fe(e).toUpperCase()}function my(e,t,a){if(e=Fe(e),e&&(a||t===n))return nl(e);if(!e||!(t=Lt(t)))return e;var c=Xt(e),f=Xt(t),g=sl(c,f),y=il(c,f)+1;return Pr(c,g,y).join("")}function _y(e,t,a){if(e=Fe(e),e&&(a||t===n))return e.slice(0,ol(e)+1);if(!e||!(t=Lt(t)))return e;var c=Xt(e),f=il(c,Xt(t))+1;return Pr(c,0,f).join("")}function yy(e,t,a){if(e=Fe(e),e&&(a||t===n))return e.replace(vi,"");if(!e||!(t=Lt(t)))return e;var c=Xt(e),f=sl(c,Xt(t));return Pr(c,f).join("")}function xy(e,t){var a=H,c=N;if(Xe(t)){var f="separator"in t?t.separator:f;a="length"in t?ke(t.length):a,c="omission"in t?Lt(t.omission):c}e=Fe(e);var g=e.length;if(nn(e)){var y=Xt(e);g=y.length}if(a>=g)return e;var b=a-sn(c);if(b<1)return c;var R=y?Pr(y,0,b).join(""):e.slice(0,b);if(f===n)return R+c;if(y&&(b+=R.length-b),wa(f)){if(e.slice(b).search(f)){var A,z=R;for(f.global||(f=Mi(f.source,Fe(Co.exec(f))+"g")),f.lastIndex=0;A=f.exec(z);)var F=A.index;R=R.slice(0,F===n?b:F)}}else if(e.indexOf(Lt(f),b)!=b){var Y=R.lastIndexOf(f);Y>-1&&(R=R.slice(0,Y))}return R+c}function vy(e){return e=Fe(e),e&&Ed.test(e)?e.replace(bo,Yf):e}var wy=fn(function(e,t,a){return e+(a?" ":"")+t.toUpperCase()}),ja=Yl("toUpperCase");function Vc(e,t,a){return e=Fe(e),t=a?n:t,t===n?Hf(e)?Zf(e):Df(e):e.match(t)||[]}var qc=Le(function(e,t){try{return Et(e,n,t)}catch(a){return va(a)?a:new we(a)}}),by=xr(function(e,t){return Ft(t,function(a){a=lr(a),_r(e,a,ya(e[a],e))}),e});function Sy(e){var t=e==null?0:e.length,a=ge();return e=t?Ye(e,function(c){if(typeof c[1]!="function")throw new Ut(d);return[a(c[0]),c[1]]}):[],Le(function(c){for(var f=-1;++f<t;){var g=e[f];if(Et(g[0],this,c))return Et(g[1],this,c)}})}function jy(e){return Yh(Wt(e,x))}function Ca(e){return function(){return e}}function Cy(e,t){return e==null||e!==e?t:e}var Ry=Jl(),ky=Jl(!0);function Ot(e){return e}function Ra(e){return kl(typeof e=="function"?e:Wt(e,x))}function Oy(e){return Tl(Wt(e,x))}function Ty(e,t){return El(e,Wt(t,x))}var Ey=Le(function(e,t){return function(a){return In(a,e,t)}}),Iy=Le(function(e,t){return function(a){return In(e,a,t)}});function ka(e,t,a){var c=lt(t),f=Rs(t,c);a==null&&!(Xe(t)&&(f.length||!c.length))&&(a=t,t=e,e=this,f=Rs(t,lt(t)));var g=!(Xe(a)&&"chain"in a)||!!a.chain,y=wr(e);return Ft(f,function(b){var R=t[b];e[b]=R,y&&(e.prototype[b]=function(){var A=this.__chain__;if(g||A){var z=e(this.__wrapped__),F=z.__actions__=Ct(this.__actions__);return F.push({func:R,args:arguments,thisArg:e}),z.__chain__=A,z}return R.apply(e,kr([this.value()],arguments))})}),e}function Ly(){return ut._===this&&(ut._=sh),this}function Oa(){}function Py(e){return e=ke(e),Le(function(t){return Il(t,e)})}var Ay=ia(Ye),Dy=ia(Zo),zy=ia(Ei);function Yc(e){return fa(e)?Ii(lr(e)):fp(e)}function My(e){return function(t){return e==null?n:Kr(e,t)}}var $y=Ql(),Ny=Ql(!0);function Ta(){return[]}function Ea(){return!1}function Fy(){return{}}function Uy(){return""}function By(){return!0}function Wy(e,t){if(e=ke(e),e<1||e>pe)return[];var a=fe,c=gt(e,fe);t=ge(t),e-=fe;for(var f=Ai(c,t);++a<e;)t(a);return f}function Hy(e){return Ce(e)?Ye(e,lr):Pt(e)?[e]:Ct(gc(Fe(e)))}function Gy(e){var t=++rh;return Fe(e)+t}var Ky=Ls(function(e,t){return e+t},0),Vy=aa("ceil"),qy=Ls(function(e,t){return e/t},1),Yy=aa("floor");function Xy(e){return e&&e.length?Cs(e,Ot,Gi):n}function Jy(e,t){return e&&e.length?Cs(e,ge(t,2),Gi):n}function Zy(e){return tl(e,Ot)}function Qy(e,t){return tl(e,ge(t,2))}function ex(e){return e&&e.length?Cs(e,Ot,Yi):n}function tx(e,t){return e&&e.length?Cs(e,ge(t,2),Yi):n}var rx=Ls(function(e,t){return e*t},1),nx=aa("round"),sx=Ls(function(e,t){return e-t},0);function ix(e){return e&&e.length?Pi(e,Ot):0}function ax(e,t){return e&&e.length?Pi(e,ge(t,2)):0}return p.after=Om,p.ary=Rc,p.assign=g_,p.assignIn=Fc,p.assignInWith=Gs,p.assignWith=m_,p.at=__,p.before=kc,p.bind=ya,p.bindAll=by,p.bindKey=Oc,p.castArray=Fm,p.chain=Sc,p.chunk=Yp,p.compact=Xp,p.concat=Jp,p.cond=Sy,p.conforms=jy,p.constant=Ca,p.countBy=im,p.create=y_,p.curry=Tc,p.curryRight=Ec,p.debounce=Ic,p.defaults=x_,p.defaultsDeep=v_,p.defer=Tm,p.delay=Em,p.difference=Zp,p.differenceBy=Qp,p.differenceWith=eg,p.drop=tg,p.dropRight=rg,p.dropRightWhile=ng,p.dropWhile=sg,p.fill=ig,p.filter=om,p.flatMap=um,p.flatMapDeep=dm,p.flatMapDepth=fm,p.flatten=xc,p.flattenDeep=ag,p.flattenDepth=og,p.flip=Im,p.flow=Ry,p.flowRight=ky,p.fromPairs=lg,p.functions=k_,p.functionsIn=O_,p.groupBy=hm,p.initial=ug,p.intersection=dg,p.intersectionBy=fg,p.intersectionWith=hg,p.invert=E_,p.invertBy=I_,p.invokeMap=gm,p.iteratee=Ra,p.keyBy=mm,p.keys=lt,p.keysIn=kt,p.map=Ns,p.mapKeys=P_,p.mapValues=A_,p.matches=Oy,p.matchesProperty=Ty,p.memoize=Us,p.merge=D_,p.mergeWith=Uc,p.method=Ey,p.methodOf=Iy,p.mixin=ka,p.negate=Bs,p.nthArg=Py,p.omit=z_,p.omitBy=M_,p.once=Lm,p.orderBy=_m,p.over=Ay,p.overArgs=Pm,p.overEvery=Dy,p.overSome=zy,p.partial=xa,p.partialRight=Lc,p.partition=ym,p.pick=$_,p.pickBy=Bc,p.property=Yc,p.propertyOf=My,p.pull=_g,p.pullAll=wc,p.pullAllBy=yg,p.pullAllWith=xg,p.pullAt=vg,p.range=$y,p.rangeRight=Ny,p.rearg=Am,p.reject=wm,p.remove=wg,p.rest=Dm,p.reverse=ma,p.sampleSize=Sm,p.set=F_,p.setWith=U_,p.shuffle=jm,p.slice=bg,p.sortBy=km,p.sortedUniq=Tg,p.sortedUniqBy=Eg,p.split=uy,p.spread=zm,p.tail=Ig,p.take=Lg,p.takeRight=Pg,p.takeRightWhile=Ag,p.takeWhile=Dg,p.tap=Xg,p.throttle=Mm,p.thru=$s,p.toArray=Mc,p.toPairs=Wc,p.toPairsIn=Hc,p.toPath=Hy,p.toPlainObject=Nc,p.transform=B_,p.unary=$m,p.union=zg,p.unionBy=Mg,p.unionWith=$g,p.uniq=Ng,p.uniqBy=Fg,p.uniqWith=Ug,p.unset=W_,p.unzip=_a,p.unzipWith=bc,p.update=H_,p.updateWith=G_,p.values=gn,p.valuesIn=K_,p.without=Bg,p.words=Vc,p.wrap=Nm,p.xor=Wg,p.xorBy=Hg,p.xorWith=Gg,p.zip=Kg,p.zipObject=Vg,p.zipObjectDeep=qg,p.zipWith=Yg,p.entries=Wc,p.entriesIn=Hc,p.extend=Fc,p.extendWith=Gs,ka(p,p),p.add=Ky,p.attempt=qc,p.camelCase=X_,p.capitalize=Gc,p.ceil=Vy,p.clamp=V_,p.clone=Um,p.cloneDeep=Wm,p.cloneDeepWith=Hm,p.cloneWith=Bm,p.conformsTo=Gm,p.deburr=Kc,p.defaultTo=Cy,p.divide=qy,p.endsWith=J_,p.eq=Zt,p.escape=Z_,p.escapeRegExp=Q_,p.every=am,p.find=lm,p.findIndex=_c,p.findKey=w_,p.findLast=cm,p.findLastIndex=yc,p.findLastKey=b_,p.floor=Yy,p.forEach=jc,p.forEachRight=Cc,p.forIn=S_,p.forInRight=j_,p.forOwn=C_,p.forOwnRight=R_,p.get=ba,p.gt=Km,p.gte=Vm,p.has=T_,p.hasIn=Sa,p.head=vc,p.identity=Ot,p.includes=pm,p.indexOf=cg,p.inRange=q_,p.invoke=L_,p.isArguments=Yr,p.isArray=Ce,p.isArrayBuffer=qm,p.isArrayLike=Rt,p.isArrayLikeObject=et,p.isBoolean=Ym,p.isBuffer=Ar,p.isDate=Xm,p.isElement=Jm,p.isEmpty=Zm,p.isEqual=Qm,p.isEqualWith=e_,p.isError=va,p.isFinite=t_,p.isFunction=wr,p.isInteger=Pc,p.isLength=Ws,p.isMap=Ac,p.isMatch=r_,p.isMatchWith=n_,p.isNaN=s_,p.isNative=i_,p.isNil=o_,p.isNull=a_,p.isNumber=Dc,p.isObject=Xe,p.isObjectLike=Je,p.isPlainObject=Mn,p.isRegExp=wa,p.isSafeInteger=l_,p.isSet=zc,p.isString=Hs,p.isSymbol=Pt,p.isTypedArray=pn,p.isUndefined=c_,p.isWeakMap=u_,p.isWeakSet=d_,p.join=pg,p.kebabCase=ey,p.last=Gt,p.lastIndexOf=gg,p.lowerCase=ty,p.lowerFirst=ry,p.lt=f_,p.lte=h_,p.max=Xy,p.maxBy=Jy,p.mean=Zy,p.meanBy=Qy,p.min=ex,p.minBy=tx,p.stubArray=Ta,p.stubFalse=Ea,p.stubObject=Fy,p.stubString=Uy,p.stubTrue=By,p.multiply=rx,p.nth=mg,p.noConflict=Ly,p.noop=Oa,p.now=Fs,p.pad=ny,p.padEnd=sy,p.padStart=iy,p.parseInt=ay,p.random=Y_,p.reduce=xm,p.reduceRight=vm,p.repeat=oy,p.replace=ly,p.result=N_,p.round=nx,p.runInContext=j,p.sample=bm,p.size=Cm,p.snakeCase=cy,p.some=Rm,p.sortedIndex=Sg,p.sortedIndexBy=jg,p.sortedIndexOf=Cg,p.sortedLastIndex=Rg,p.sortedLastIndexBy=kg,p.sortedLastIndexOf=Og,p.startCase=dy,p.startsWith=fy,p.subtract=sx,p.sum=ix,p.sumBy=ax,p.template=hy,p.times=Wy,p.toFinite=br,p.toInteger=ke,p.toLength=$c,p.toLower=py,p.toNumber=Kt,p.toSafeInteger=p_,p.toString=Fe,p.toUpper=gy,p.trim=my,p.trimEnd=_y,p.trimStart=yy,p.truncate=xy,p.unescape=vy,p.uniqueId=Gy,p.upperCase=wy,p.upperFirst=ja,p.each=jc,p.eachRight=Cc,p.first=vc,ka(p,function(){var e={};return ar(p,function(t,a){Ue.call(p.prototype,a)||(e[a]=t)}),e}(),{chain:!1}),p.VERSION=o,Ft(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),Ft(["drop","take"],function(e,t){Ae.prototype[e]=function(a){a=a===n?1:it(ke(a),0);var c=this.__filtered__&&!t?new Ae(this):this.clone();return c.__filtered__?c.__takeCount__=gt(a,c.__takeCount__):c.__views__.push({size:gt(a,fe),type:e+(c.__dir__<0?"Right":"")}),c},Ae.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),Ft(["filter","map","takeWhile"],function(e,t){var a=t+1,c=a==ne||a==he;Ae.prototype[e]=function(f){var g=this.clone();return g.__iteratees__.push({iteratee:ge(f,3),type:a}),g.__filtered__=g.__filtered__||c,g}}),Ft(["head","last"],function(e,t){var a="take"+(t?"Right":"");Ae.prototype[e]=function(){return this[a](1).value()[0]}}),Ft(["initial","tail"],function(e,t){var a="drop"+(t?"":"Right");Ae.prototype[e]=function(){return this.__filtered__?new Ae(this):this[a](1)}}),Ae.prototype.compact=function(){return this.filter(Ot)},Ae.prototype.find=function(e){return this.filter(e).head()},Ae.prototype.findLast=function(e){return this.reverse().find(e)},Ae.prototype.invokeMap=Le(function(e,t){return typeof e=="function"?new Ae(this):this.map(function(a){return In(a,e,t)})}),Ae.prototype.reject=function(e){return this.filter(Bs(ge(e)))},Ae.prototype.slice=function(e,t){e=ke(e);var a=this;return a.__filtered__&&(e>0||t<0)?new Ae(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),t!==n&&(t=ke(t),a=t<0?a.dropRight(-t):a.take(t-e)),a)},Ae.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ae.prototype.toArray=function(){return this.take(fe)},ar(Ae.prototype,function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),c=/^(?:head|last)$/.test(t),f=p[c?"take"+(t=="last"?"Right":""):t],g=c||/^find/.test(t);f&&(p.prototype[t]=function(){var y=this.__wrapped__,b=c?[1]:arguments,R=y instanceof Ae,A=b[0],z=R||Ce(y),F=function(Pe){var ze=f.apply(p,kr([Pe],b));return c&&Y?ze[0]:ze};z&&a&&typeof A=="function"&&A.length!=1&&(R=z=!1);var Y=this.__chain__,ce=!!this.__actions__.length,_e=g&&!Y,Te=R&&!ce;if(!g&&z){y=Te?y:new Ae(this);var ye=e.apply(y,b);return ye.__actions__.push({func:$s,args:[F],thisArg:n}),new Bt(ye,Y)}return _e&&Te?e.apply(this,b):(ye=this.thru(F),_e?c?ye.value()[0]:ye.value():ye)})}),Ft(["pop","push","shift","sort","splice","unshift"],function(e){var t=us[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",c=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var f=arguments;if(c&&!this.__chain__){var g=this.value();return t.apply(Ce(g)?g:[],f)}return this[a](function(y){return t.apply(Ce(y)?y:[],f)})}}),ar(Ae.prototype,function(e,t){var a=p[t];if(a){var c=a.name+"";Ue.call(cn,c)||(cn[c]=[]),cn[c].push({name:t,func:a})}}),cn[Is(n,B).name]=[{name:"wrapper",func:n}],Ae.prototype.clone=vh,Ae.prototype.reverse=wh,Ae.prototype.value=bh,p.prototype.at=Jg,p.prototype.chain=Zg,p.prototype.commit=Qg,p.prototype.next=em,p.prototype.plant=rm,p.prototype.reverse=nm,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=sm,p.prototype.first=p.prototype.head,jn&&(p.prototype[jn]=tm),p},an=Qf();Ur?((Ur.exports=an)._=an,Ri._=an):ut._=an}).call($n)})(Zs,Zs.exports);var hu=Zs.exports;const pu=(s,r)=>{const n=Math.round(s/100)*100,o=Math.round(r/100)*100;return`${n}x${o}`};function O0(s,r){const[n,o]=v.useState(r),[l,u]=v.useState({width:window.innerWidth,height:window.innerHeight});v.useEffect(()=>{d()},[l,s]),v.useEffect(()=>{const S=hu.debounce(()=>{u({width:window.innerWidth,height:window.innerHeight})},300);return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),S.cancel()}},[]);const d=async()=>{try{const S=pu(l.width,l.height),x=await fetch(`/api/config/column-widths?table=${s}&size=${S}`);if(x.ok){const I=await x.json();I.widths&&o({...r,...I.widths})}}catch(S){console.warn("Failed to load column width preferences:",S)}},h=v.useCallback(hu.debounce(async S=>{try{const x=pu(l.width,l.height);await fetch("/api/config/column-widths",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({table:s,size:x,widths:S,window_width:l.width,window_height:l.height})})}catch(x){console.warn("Failed to save column width preferences:",x)}},1e3),[s,l]),m=v.useCallback((S,x)=>{o(I=>{const k={...I,[S]:x};return h(k),k})},[h]),_=v.useCallback(()=>{o(r),h(r)},[r,h]);return{columnWidths:n,setColumnWidth:m,resetWidths:_}}const er=s=>{if(s==null)return"";const r=String(s);return r.includes(",")||r.includes('"')||r.includes(`
`)?`"${r.replace(/"/g,'""')}"`:r},T0=()=>{const{t:s,i18n:r}=ct(),n=Qn(),{settings:o,setSettings:l}=si(),[u,d]=v.useState([]),[h,m]=v.useState(!1),[_,S]=v.useState([]),[x,I]=v.useState(""),[k,L]=v.useState("all"),[D,G]=v.useState("all"),[B,E]=v.useState([]),[C,w]=v.useState({total:0,running:0,finished:0,failed:0}),[O,X]=v.useState(null),J=o.autoRefresh,Z=K=>{l({...o,autoRefresh:K})},V={project:120,name:100,run_id:280,status:100,created:210,best_metric:200,artifacts_created:120,actions:120},{columnWidths:H,setColumnWidth:N}=O0("experiments",V),[ie,ae]=v.useState({}),[ne,ue]=v.useState(10),[he,be]=v.useState(!1),[pe,U]=v.useState(!1),[Q,fe]=v.useState(!1),Re=v.useCallback(K=>(oe,{size:me})=>{N(K,me.width)},[N]),[Qe,nt]=v.useState(!1);v.useEffect(()=>{const K=localStorage.getItem("experiment_preferences");if(K)try{const oe=JSON.parse(K);oe.pageSize&&ue(oe.pageSize)}catch{}},[]);const W=v.useCallback(()=>{localStorage.setItem("experiment_preferences",JSON.stringify({pageSize:ne}))},[ne]);v.useEffect(()=>{W()},[W]);const le=v.useCallback(async(K=!0)=>{K&&m(!0);try{const oe=await fetch("/api/runs");if(!oe.ok)throw new Error(`HTTP ${oe.status}: ${oe.statusText}`);const me=await oe.json(),$=Array.isArray(me)?me:me.runs||[],se=$.map(je=>{const Tt=je.created_time?new Date(je.created_time*1e3):new Date;return{run_id:je.id||je.run_id,project:je.project||"default",name:je.name||"unnamed",status:je.status||"unknown",created:Tt.toISOString(),summary:je.summary||{},pid:je.pid,best_metric_value:je.best_metric_value,best_metric_name:je.best_metric_name,artifacts_created_count:je.artifacts_created_count||0,artifacts_used_count:je.artifacts_used_count||0}});d(se);const ee=[...new Set(se.map(je=>je.project))];E(ee);const Se={total:se.length,running:se.filter(je=>je.status==="running").length,finished:se.filter(je=>je.status==="finished").length,failed:se.filter(je=>je.status==="failed").length};w(Se),!K&&se.length>$.length&&bx.info({message:s("experiments.new_runs")||"New runs detected",description:`${se.length-$.length} new run(s) added`,placement:"bottomRight"})}catch{K&&re.error(s("experiments.fetch_failed")||"Failed to fetch runs")}K&&m(!1)},[u.length,s]);v.useEffect(()=>{le(!0)},[]),v.useEffect(()=>{if(J){const K=window.setInterval(()=>{le(!1)},o.refreshInterval*1e3);X(K)}else O&&(window.clearInterval(O),X(null));return()=>{O&&window.clearInterval(O)}},[J,o.refreshInterval]);const Ie=v.useCallback(()=>{if(_.length===0){re.warning(s("experiments.select_one_delete")||"Please select at least one run to delete");return}fo.confirm({title:s("experiments.move_to_bin_title")||"Move to Recycle Bin",content:i.jsxs("div",{children:[i.jsx("p",{children:s("experiments.soft_delete_confirm_content",{count:_.length})||`Move ${_.length} selected runs to recycle bin?`}),i.jsx("p",{style:{color:"#1677ff",fontWeight:500},children:s("experiments.soft_delete_note")||"Files will be preserved and can be restored later."})]}),okText:s("experiments.move_to_bin")||"Move to Bin",okType:"primary",cancelText:s("experiments.cancel")||"Cancel",okButtonProps:{loading:he},onOk:async()=>{be(!0);try{const K=await pv(_);S([]),K.deleted_count>0?(re.success(s("experiments.soft_delete_success",{count:K.deleted_count})||`Moved ${K.deleted_count} runs to recycle bin`),await le(!1)):re.warning("No runs were moved to recycle bin")}catch{re.error(s("experiments.delete_failed")||"Failed to move runs to recycle bin")}finally{be(!1)}}})},[_,s,he,le]),Be=async()=>{if(_.length===0){re.warning(s("experiments.select_one")||"Please select at least one run to export");return}const K=u.filter(oe=>_.includes(oe.run_id));try{const oe={export_time:new Date().toISOString(),total_runs:K.length,runs:K.map(Se=>({run_id:Se.run_id,project:Se.project,name:Se.name,status:Se.status,created:Se.created,summary:Se.summary}))},me=JSON.stringify(oe,null,2),$=new Blob([me],{type:"application/json"}),se=URL.createObjectURL($),ee=document.createElement("a");ee.href=se,ee.download=`runicorn_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(se),re.success(s("experiments.export_success",{count:K.length})||`Successfully exported ${K.length} runs`)}catch{re.error(s("experiments.export_failed")||"Failed to export runs")}},We=async()=>{fe(!0);try{const K=await hv();K.updated>0?(re.success(`Updated ${K.updated} experiment statuses`),le(!1)):re.info("All experiment statuses are up to date")}catch{re.error("Failed to check experiment statuses")}finally{fe(!1)}},qt=async()=>{if(_.length===0){re.warning(s("experiments.select_one")||"Please select at least one run to export");return}U(!0);const K=u.filter(oe=>_.includes(oe.run_id));try{const oe=["Run ID","Project","Experiment Name","Status","Created Time","Final Loss","Learning Rate","Batch Size","Epochs","Best Metric Value","Best Metric Name"],me=K.map(qe=>{var jr,ns,Cr,pr,Qr,en;return[er(qe.run_id),er(qe.project),er(qe.name),er(qe.status),er(new Date(qe.created).toLocaleString()),er(((ns=(jr=qe.summary)==null?void 0:jr.final_loss)==null?void 0:ns.toFixed(6))||""),er(((Cr=qe.summary)==null?void 0:Cr.learning_rate)||""),er(((pr=qe.summary)==null?void 0:pr.batch_size)||""),er(((Qr=qe.summary)==null?void 0:Qr.total_epochs)||""),er(((en=qe.best_metric_value)==null?void 0:en.toFixed(4))||""),er(qe.best_metric_name||"")]}),se="\uFEFF"+[oe.join(","),...me.map(qe=>qe.join(","))].join(`
`),ee=new Blob([se],{type:"text/csv;charset=utf-8;"}),Se=URL.createObjectURL(ee),je=document.createElement("a");je.href=Se;const Tt=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);je.download=`runicorn_experiments_${Tt}.csv`,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(Se),re.success(s("experiments.export_success",{count:K.length})||`Successfully exported ${K.length} runs`)}catch{re.error(s("experiments.export_failed")||"Failed to export runs")}finally{U(!1)}},Yt=[{key:"json",icon:i.jsx(Sx,{}),label:s("experiments.export_json")||"Export as JSON",onClick:Be},{key:"csv",icon:i.jsx(jx,{}),label:s("experiments.export_csv")||"Export as CSV",onClick:qt}],pt=()=>{if(_.length<2){re.warning(s("experiments.select_multiple")||"Please select at least 2 runs to compare");return}const K=_[0];n(`/runs/${K}`),re.info(s("experiments.compare_hint")||"Use the comparison feature in the run detail page")},hr=v.useMemo(()=>u.filter(K=>{var ee;const oe=x.toLowerCase(),me=x===""||K.run_id.toLowerCase().includes(oe)||K.name.toLowerCase().includes(oe)||K.project.toLowerCase().includes(oe)||((ee=K.summary)==null?void 0:ee.tags)&&K.summary.tags.some(Se=>Se.toLowerCase().includes(oe)),$=k==="all"||K.project===k,se=D==="all"||K.status===D;return me&&$&&se}),[u,x,k,D]),ot=v.useMemo(()=>[{title:s("table.project"),dataIndex:"project",key:"project",sorter:(K,oe)=>K.project.localeCompare(oe.project),render:K=>i.jsx(Ee,{color:"blue",children:K}),width:H.project,onHeaderCell:()=>({width:H.project,onResize:Re("project")})},{title:s("table.name"),dataIndex:"name",key:"name",width:H.name,sorter:(K,oe)=>K.name.localeCompare(oe.name),render:(K,oe)=>i.jsx($e,{title:`${oe.project}/${K}`,children:i.jsx("strong",{children:K})}),onHeaderCell:()=>({width:H.name,onResize:Re("name")})},{title:s("table.run_id"),dataIndex:"run_id",key:"run_id",width:H.run_id,render:K=>i.jsx("code",{style:{fontSize:"11px",wordBreak:"break-all"},children:K}),onHeaderCell:()=>({width:H.run_id,onResize:Re("run_id")})},{title:s("table.status"),dataIndex:"status",key:"status",width:H.status,sorter:(K,oe)=>K.status.localeCompare(oe.status),onHeaderCell:()=>({width:H.status,onResize:Re("status")}),render:(K,oe)=>{let me=null,$="default";switch(K){case"running":me=i.jsx(wn,{spin:!0}),$="processing";break;case"finished":me=i.jsx(Hu,{}),$="success";break;case"failed":me=i.jsx(Wu,{}),$="error";break;default:me=i.jsx(po,{}),$="warning"}return i.jsx(Ee,{icon:me,color:$,children:K})}},{title:s("table.created"),dataIndex:"created",key:"created",width:H.created,sorter:(K,oe)=>new Date(K.created).getTime()-new Date(oe.created).getTime(),render:K=>{const oe=new Date(K),me=r.language==="zh"?"zh-CN":"en-US";return i.jsx("span",{style:{fontSize:"13px",whiteSpace:"nowrap"},children:oe.toLocaleString(me,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})},onHeaderCell:()=>({width:H.created,onResize:Re("created")})},{title:s("experiments.best_metric")||"Best Metric",key:"best_metric",width:H.best_metric,onHeaderCell:()=>({width:H.best_metric,onResize:Re("best_metric")}),render:(K,oe)=>{const me=oe.best_metric_value,$=oe.best_metric_name;return me!=null&&$?i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx("span",{style:{fontSize:"13px",color:"#666",fontWeight:500},children:$}),i.jsx("span",{style:{fontSize:"16px",fontWeight:700,color:"#1677ff"},children:me.toFixed(4)})]}):"-"}},{title:s("experiments.artifacts_created")||"Artifacts",key:"artifacts_created",width:H.artifacts_created,onHeaderCell:()=>({width:H.artifacts_created,onResize:Re("artifacts_created")}),render:(K,oe)=>{const me=oe.artifacts_created_count||0;return me===0?i.jsx("span",{style:{color:"#999"},children:"-"}):i.jsx($e,{title:s("experiments.artifacts_created_tip",{count:me}),children:i.jsx(nr,{count:me,style:{backgroundColor:"#52c41a"}})})}},{title:s("table.actions"),key:"actions",width:H.actions,onHeaderCell:()=>({width:H.actions,onResize:Re("actions")}),render:(K,oe)=>i.jsxs(M,{size:"small",children:[i.jsx($e,{title:s("table.view"),children:i.jsx(xe,{type:"link",icon:i.jsx(Uu,{}),onClick:()=>n(`/runs/${oe.run_id}`)})}),i.jsx($e,{title:s("experiments.delete")||"Delete",children:i.jsx(xe,{type:"link",danger:!0,icon:i.jsx(Xs,{}),onClick:()=>{S([oe.run_id]),Ie()}})})]})}],[s,n,H,Re,Ie]);return h&&u.length===0?i.jsx(sw,{}):i.jsxs("div",{style:{padding:24},children:[i.jsx("h2",{children:s("menu.experiments")}),i.jsxs(bn,{gutter:16,style:{marginBottom:24},children:[i.jsx(jt,{span:6,children:i.jsx(de,{children:i.jsx(Mt,{title:s("experiments.total_runs")||"Total Runs",value:C.total})})}),i.jsx(jt,{span:6,children:i.jsx(de,{children:i.jsx(Mt,{title:s("experiments.running")||"Running",value:C.running,valueStyle:{color:"#1890ff"}})})}),i.jsx(jt,{span:6,children:i.jsx(de,{children:i.jsx(Mt,{title:s("experiments.finished")||"Finished",value:C.finished,valueStyle:{color:"#52c41a"}})})}),i.jsx(jt,{span:6,children:i.jsx(de,{children:i.jsx(Mt,{title:s("experiments.failed")||"Failed",value:C.failed,valueStyle:{color:"#ff4d4f"}})})})]}),i.jsxs(M,{style:{marginBottom:16,width:"100%",justifyContent:"space-between"},children:[i.jsxs(M,{children:[i.jsx(sr,{placeholder:s("experiments.search_placeholder")||"Search runs...",prefix:i.jsx(Bu,{}),value:x,onChange:K=>I(K.target.value),style:{width:200}}),i.jsxs(ft,{value:k,onChange:L,style:{width:150},children:[i.jsx(ft.Option,{value:"all",children:s("runs.filter.all")}),B.map(K=>i.jsx(ft.Option,{value:K,children:K},K))]}),i.jsxs(ft,{value:D,onChange:G,style:{width:120},children:[i.jsx(ft.Option,{value:"all",children:s("runs.filter.all")}),i.jsx(ft.Option,{value:"running",children:s("experiments.running")||"Running"}),i.jsx(ft.Option,{value:"finished",children:s("experiments.finished")||"Finished"}),i.jsx(ft.Option,{value:"failed",children:s("experiments.failed")||"Failed"})]}),i.jsx(xe,{icon:J?i.jsx(wn,{spin:!0}):i.jsx(Yn,{}),onClick:()=>le(!0),loading:h,children:s(J?"runs.refreshing":"runs.refresh")}),i.jsx($e,{title:s("experiments.check_status_tooltip")||"Check if running experiments are still alive",children:i.jsx(xe,{icon:i.jsx(Cx,{}),onClick:We,loading:Q,type:"dashed",children:s("experiments.check_status")||"Check Status"})}),i.jsx(Rx,{checked:J,onChange:K=>Z(K.target.checked),children:s("experiments.auto_refresh")||"Auto-refresh"}),i.jsx($e,{title:s("recycle_bin.tooltip")||"View and restore deleted experiments",children:i.jsx(xe,{icon:i.jsx(Va,{}),onClick:()=>nt(!0),type:"dashed",children:s("recycle_bin.title")||"Recycle Bin"})})]}),i.jsx(M,{children:_.length>0&&i.jsxs(i.Fragment,{children:[i.jsxs(xe,{icon:i.jsx(ho,{}),onClick:pt,disabled:_.length<2,children:[s("experiments.compare")||"Compare"," (",_.length,")"]}),i.jsx(kx,{menu:{items:Yt},trigger:["click"],children:i.jsxs(xe,{icon:i.jsx(ri,{}),children:[s("experiments.export")||"Export"," (",_.length,") ",i.jsx(Ox,{})]})}),i.jsxs(xe,{danger:!0,icon:i.jsx(Xs,{}),onClick:Ie,children:[s("experiments.delete")||"Delete"," (",_.length,")"]})]})})]}),i.jsx(Fr,{components:{header:{cell:k0}},rowSelection:{selectedRowKeys:_,onChange:K=>S(K),getCheckboxProps:K=>({disabled:he})},columns:ot,dataSource:hr,rowKey:"run_id",loading:h,pagination:{pageSize:ne,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:(K,oe)=>ue(oe),showTotal:(K,oe)=>s("experiments.table_total",{from:oe[0],to:oe[1],total:K})||`${oe[0]}-${oe[1]} of ${K} items`},scroll:{x:1200},size:"middle",onChange:(K,oe,me)=>{ae(me)},locale:{emptyText:i.jsx(rt,{description:s("experiments.no_runs")||"No experiments found",image:rt.PRESENTED_IMAGE_SIMPLE,children:i.jsx(xe,{type:"primary",onClick:()=>le(!0),children:s("runs.refresh")})})}}),i.jsx(dw,{open:Qe,onClose:()=>nt(!1),onRestore:()=>le(!1)})]})},{Text:tr,Title:E0}=Me,I0=()=>{const{t:s}=ct(),r=Qn(),[n,o]=v.useState([]),[l,u]=v.useState(!1),[d,h]=v.useState(""),[m,_]=v.useState("all"),[S,x]=v.useState(null),I=v.useCallback(async(w=!0)=>{w&&u(!0);try{const X=await yv(m==="all"?void 0:m);o(X||[])}catch{re.error(s("Failed to fetch artifacts"))}finally{w&&u(!1)}},[m,s]),k=v.useCallback(async()=>{try{const w=await Sv();x(w)}catch{}},[]);v.useEffect(()=>{I(),k()},[I,k]);const L=n.filter(w=>{if(!d)return!0;const O=d.toLowerCase();return w.name.toLowerCase().includes(O)||w.type.toLowerCase().includes(O)});n.length,n.filter(w=>w.type==="model").length,n.filter(w=>w.type==="dataset").length,n.reduce((w,O)=>w+O.size_bytes,0);const D=w=>{if(w===0)return"0 B";const O=1024,X=["B","KB","MB","GB","TB"],J=Math.floor(Math.log(w)/Math.log(O));return(w/Math.pow(O,J)).toFixed(2)+" "+X[J]},G=w=>new Date(w*1e3).toLocaleString(),B=w=>{const O={style:{fontSize:16}};switch(w){case"model":return i.jsx(Vt,{...O});case"dataset":return i.jsx(Ex,{...O});case"config":return i.jsx(Ys,{...O});case"code":return i.jsx(Ka,{...O});default:return i.jsx(qn,{...O})}},E=w=>{switch(w){case"model":return q.colors.primary;case"dataset":return q.colors.success;case"config":return q.colors.warning;case"code":return q.colors.info;default:return"#8c8c8c"}},C=[{title:s("artifacts.type"),dataIndex:"type",key:"type",width:100,render:w=>i.jsx($e,{title:s(`artifacts.type.${w}`),children:i.jsx(Ee,{icon:B(w),color:E(w),children:s(`artifacts.type.${w}`)})}),filters:[{text:s("artifacts.type.model"),value:"model"},{text:s("artifacts.type.dataset"),value:"dataset"},{text:s("artifacts.type.config"),value:"config"},{text:s("artifacts.type.code"),value:"code"},{text:s("artifacts.type.custom"),value:"custom"}],onFilter:(w,O)=>O.type===w},{title:s("Name"),dataIndex:"name",key:"name",render:(w,O)=>i.jsxs(M,{direction:"vertical",size:0,children:[i.jsx(tr,{strong:!0,style:{fontSize:q.typography.fontSize.md},children:w}),i.jsxs(M,{size:"small",children:[i.jsx(tr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:s("artifacts.latest_version",{version:O.latest_version})}),i.jsx(tr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:"•"}),i.jsx(tr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:s("artifacts.versions_count",{count:O.num_versions})})]})]})},{title:s("artifacts.size"),dataIndex:"size_bytes",key:"size",width:120,render:w=>D(w),sorter:(w,O)=>w.size_bytes-O.size_bytes},{title:s("artifacts.updated"),dataIndex:"updated_at",key:"updated",width:180,render:w=>G(w),sorter:(w,O)=>w.updated_at-O.updated_at,defaultSortOrder:"descend"},{title:s("artifacts.aliases"),dataIndex:"aliases",key:"aliases",width:150,render:w=>i.jsxs(M,{size:4,wrap:!0,children:[Object.keys(w).slice(0,3).map(O=>i.jsx(Ee,{color:"blue",style:{fontSize:q.typography.fontSize.xs},children:O},O)),Object.keys(w).length>3&&i.jsxs(Ee,{style:{fontSize:q.typography.fontSize.xs},children:["+",Object.keys(w).length-3]})]})},{title:s("table.actions"),key:"actions",width:200,render:(w,O)=>i.jsx(M,{size:"small",children:i.jsx($e,{title:s("artifacts.view_versions"),children:i.jsx(xe,{size:"small",icon:i.jsx(Uu,{}),onClick:()=>r(`/artifacts/${O.name}`),children:s("View")})})})}];return l&&n.length===0?i.jsx(iw,{rows:8}):i.jsx("div",{style:{padding:q.spacing.lg},children:i.jsxs(M,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(E0,{level:2,style:{marginBottom:q.spacing.sm},children:s("artifacts.title")}),i.jsx(tr,{type:"secondary",children:s("artifacts.description")})]}),S&&i.jsxs(bn,{gutter:[q.spacing.md,q.spacing.md],children:[i.jsx(jt,{xs:24,sm:12,md:6,children:i.jsx(de,{children:i.jsx(Mt,{title:s("artifacts.stats.total"),value:S.total_artifacts||0,prefix:i.jsx(Vt,{}),valueStyle:{color:q.colors.primary}})})}),i.jsx(jt,{xs:24,sm:12,md:6,children:i.jsx(de,{children:i.jsx(Mt,{title:s("artifacts.stats.total_versions"),value:S.total_versions||0,prefix:i.jsx(qa,{}),valueStyle:{color:q.colors.info}})})}),i.jsx(jt,{xs:24,sm:12,md:6,children:i.jsx(de,{children:i.jsx(Mt,{title:s("artifacts.stats.total_size"),value:D(S.total_size_bytes||0),prefix:i.jsx(Tx,{}),valueStyle:{color:q.colors.success}})})}),i.jsx(jt,{xs:24,sm:12,md:6,children:i.jsxs(de,{children:[i.jsx(Mt,{title:s("artifacts.stats.dedup_saved"),value:S.dedup_enabled?D(S.space_saved_bytes||0):"N/A",prefix:i.jsx(qn,{}),valueStyle:{color:q.colors.warning}}),S.dedup_enabled&&S.dedup_ratio&&i.jsxs(tr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:[(S.dedup_ratio*100).toFixed(1),"% saved"]})]})})]}),i.jsx(de,{size:"small",children:i.jsxs(M,{wrap:!0,children:[i.jsx(sr,{placeholder:s("artifacts.search_placeholder"),prefix:i.jsx(Bu,{}),value:d,onChange:w=>h(w.target.value),style:{width:300},allowClear:!0}),i.jsx(ft,{value:m,onChange:_,style:{width:150},options:[{label:s("artifacts.type.all"),value:"all"},{label:s("artifacts.type.model"),value:"model"},{label:s("artifacts.type.dataset"),value:"dataset"},{label:s("artifacts.type.config"),value:"config"},{label:s("artifacts.type.code"),value:"code"},{label:s("artifacts.type.custom"),value:"custom"}]}),i.jsx(xe,{icon:i.jsx(Yn,{spin:l}),onClick:()=>{I(),k()},loading:l,children:s("runs.refresh")})]})}),S&&S.by_type&&Object.keys(S.by_type).length>0&&i.jsx(ir,{message:i.jsxs(M,{children:[i.jsx(tr,{children:"Type Distribution:"}),Object.entries(S.by_type).map(([w,O])=>i.jsx(nr,{count:O.count,showZero:!0,color:E(w),overflowCount:9999,style:{marginLeft:8},children:i.jsx(Ee,{icon:B(w),children:s(`artifacts.type.${w}`)})},w))]}),type:"info",showIcon:!1,style:{marginBottom:q.spacing.md}}),i.jsx(de,{children:i.jsx(Fr,{dataSource:L,columns:C,rowKey:"name",loading:l,pagination:{pageSize:10,showTotal:(w,O)=>s("experiments.table_total",{from:O[0],to:O[1],total:w}),showSizeChanger:!0,showQuickJumper:!0},locale:{emptyText:i.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:i.jsxs(M,{direction:"vertical",size:"small",children:[i.jsx(tr,{type:"secondary",children:s("artifacts.no_artifacts")}),i.jsx(tr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:s("artifacts.create_first")})]})})}})}),n.length===0&&!l&&i.jsx(de,{title:i.jsxs(M,{children:[i.jsx(Ka,{}),i.jsx("span",{children:"Quick Start Guide"})]}),children:i.jsxs(M,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(tr,{strong:!0,children:"1. Save a model as artifact:"}),i.jsx("pre",{style:{background:"#f5f5f5",padding:q.spacing.md,borderRadius:q.borderRadius.md,marginTop:q.spacing.sm},children:`import runicorn as rn

run = rn.init(project="my_project")

# Create artifact
artifact = rn.Artifact("my-model", type="model")
artifact.add_file("model.pth")
artifact.add_metadata({"accuracy": 0.95})

# Save with version control
run.log_artifact(artifact)  # → v1
run.finish()`})]}),i.jsxs("div",{children:[i.jsx(tr,{strong:!0,children:"2. Use a saved artifact:"}),i.jsx("pre",{style:{background:"#f5f5f5",padding:q.spacing.md,borderRadius:q.borderRadius.md,marginTop:q.spacing.sm},children:`import runicorn as rn

run = rn.init(project="inference")

# Load latest version
artifact = run.use_artifact("my-model:latest")
model_path = artifact.download()

# Use the model...
run.finish()`})]})]})})]})})},{Text:Xr}=Me,L0=({data:s})=>{const{t:r}=ct(),n=v.useMemo(()=>{if(!s||!s.nodes||s.nodes.length===0)return null;const l=s.nodes.map(d=>{const h=d.node_type==="artifact",m=d.node_id===s.root_artifact;return{id:d.node_id,name:d.label,symbol:h?"roundRect":"circle",symbolSize:m?[120,60]:h?[100,50]:40,label:{show:!0,fontSize:m?14:12,fontWeight:m?"bold":"normal"},itemStyle:{color:h?m?q.colors.primary:q.colors.info:q.colors.success,borderColor:m?q.colors.primary:"#fff",borderWidth:m?3:1},category:h?0:1}}),u=s.edges.map(d=>({source:d.source,target:d.target,label:{show:!0,formatter:d.edge_type,fontSize:10},lineStyle:{color:d.edge_type==="produces"?q.colors.success:q.colors.info,width:2,type:d.edge_type==="produces"?"solid":"dashed"},symbol:["none","arrow"],symbolSize:8}));return{title:{text:r("artifact.lineage.title"),left:"center",textStyle:{fontSize:q.typography.fontSize.lg,fontWeight:q.typography.fontWeight.semibold}},tooltip:{trigger:"item",formatter:d=>{if(d.dataType==="node"){const h=s.nodes.find(m=>m.node_id===d.data.id);if(h){const m=h.node_type==="artifact";let _=`<b>${h.label}</b><br/>`;if(_+=`Type: ${r(m?"artifact.lineage.node.artifact":"artifact.lineage.node.run")}<br/>`,h.metadata.size){const S=o(h.metadata.size);_+=`Size: ${S}<br/>`}return _}}else if(d.dataType==="edge")return`${d.data.label.formatter}`;return d.name}},legend:{data:[{name:r("artifact.lineage.node.artifact"),icon:"roundRect"},{name:r("artifact.lineage.node.run"),icon:"circle"}],bottom:0},series:[{type:"graph",layout:"force",data:l,links:u,categories:[{name:r("artifact.lineage.node.artifact")},{name:r("artifact.lineage.node.run")}],roam:!0,label:{show:!0,position:"inside",formatter:"{b}"},force:{repulsion:400,edgeLength:[120,180],gravity:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]}},[s,r]),o=l=>{if(l===0)return"0 B";const u=1024,d=["B","KB","MB","GB","TB"],h=Math.floor(Math.log(l)/Math.log(u));return(l/Math.pow(u,h)).toFixed(2)+" "+d[h]};return n?i.jsxs(M,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsx(de,{size:"small",children:i.jsxs(M,{split:i.jsx("span",{style:{margin:"0 12px",color:"#d9d9d9"},children:"•"}),children:[i.jsxs(M,{size:"small",children:[i.jsx(Vt,{style:{color:q.colors.info}}),i.jsx(Xr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:r("artifact.lineage.node.artifact")})]}),i.jsxs(M,{size:"small",children:[i.jsx(ur,{style:{color:q.colors.success}}),i.jsx(Xr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:r("artifact.lineage.node.run")})]}),i.jsxs(M,{size:"small",children:[i.jsx(Zc,{style:{color:q.colors.info}}),i.jsx(Xr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:r("artifact.lineage.edge.uses")})]}),i.jsxs(M,{size:"small",children:[i.jsx(Zc,{style:{color:q.colors.success}}),i.jsx(Xr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:r("artifact.lineage.edge.produces")})]})]})}),i.jsx(de,{children:i.jsx(yn,{option:n,style:{height:500},opts:{renderer:"canvas"}})}),i.jsx(de,{size:"small",children:i.jsxs(M,{direction:"vertical",size:"small",style:{width:"100%"},children:[i.jsxs(Xr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:[i.jsxs("b",{children:[r("Summary"),":"]})," ",s.nodes.length," nodes, ",s.edges.length," edges"]}),i.jsxs(Xr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:["• Artifacts: ",s.nodes.filter(l=>l.node_type==="artifact").length]}),i.jsxs(Xr,{type:"secondary",style:{fontSize:q.typography.fontSize.xs},children:["• Runs: ",s.nodes.filter(l=>l.node_type==="run").length]})]})})]}):i.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:r("artifact.lineage.no_dependencies")})},P0=s=>{switch(s){case"finished":return i.jsx(Hu,{style:{color:"#52c41a"}});case"failed":return i.jsx(Wu,{style:{color:"#ff4d4f"}});case"running":return i.jsx(ur,{style:{color:"#1890ff"}});default:return i.jsx(po,{style:{color:"#d9d9d9"}})}};function A0({artifactName:s,artifactType:r,version:n}){const{t:o}=ct(),l=Qn(),[u,d]=v.useState(!1),[h,m]=v.useState(null);v.useEffect(()=>{_()},[s,n]);const _=async()=>{d(!0);try{const x=new URLSearchParams;n&&x.append("version",n.toString()),r&&x.append("type",r);const I=await fetch(`/api/artifacts/${s}/training-metrics?${x}`);if(!I.ok){if(I.status===404){m(null);return}throw new Error(`Failed to load training metrics: ${I.statusText}`)}const k=await I.json();m(k)}catch{re.error(o("Failed to load training metrics"))}finally{d(!1)}};if(u)return i.jsx(de,{children:i.jsx("div",{style:{textAlign:"center",padding:"40px"},children:i.jsx(vn,{size:"large"})})});if(!h)return i.jsx(de,{children:i.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:o("artifact.training.no_data")})});const S=Object.entries(h.metrics).filter(([x,I])=>typeof I=="number").slice(0,6);return i.jsxs(de,{title:i.jsxs(M,{children:[i.jsx(Ix,{}),o("artifact.training.title")]}),extra:i.jsx(xe,{type:"primary",onClick:()=>l(`/runs/${h.run_id}`),children:o("artifact.training.view_run")}),children:[i.jsxs(Ve,{bordered:!0,column:2,style:{marginBottom:16},children:[i.jsx(Ve.Item,{label:o("artifact.training.run_name"),children:i.jsxs(M,{children:[P0(h.status),i.jsx("a",{onClick:()=>l(`/runs/${h.run_id}`),children:h.run_name})]})}),i.jsx(Ve.Item,{label:o("artifact.training.project"),children:i.jsx(Ee,{children:h.project})}),i.jsx(Ve.Item,{label:o("artifact.training.status"),children:i.jsx(Ee,{color:h.status==="finished"?"success":"error",children:o(`status.${h.status}`)})}),i.jsx(Ve.Item,{label:o("artifact.training.duration"),children:h.duration_seconds?ew(h.duration_seconds*1e3):"-"}),i.jsx(Ve.Item,{label:o("artifact.training.created_at"),span:2,children:td(h.created_at)})]}),S.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("h4",{children:o("artifact.training.key_metrics")}),i.jsx(bn,{gutter:16,children:S.map(([x,I])=>i.jsx(jt,{span:8,style:{marginBottom:16},children:i.jsx(Mt,{title:x,value:I,precision:typeof I=="number"&&I<1?4:2})},x))})]})]})}const{Option:D0}=ft;function z0({artifactName:s,artifactType:r}){const{t:n}=ct(),[o,l]=v.useState(!1),[u,d]=v.useState([]),[h,m]=v.useState([]),[_,S]=v.useState([]);v.useEffect(()=>{x()},[s]);const x=async()=>{l(!0);try{const k=new URLSearchParams;r&&k.append("type",r);const L=await fetch(`/api/artifacts/${s}/performance-history?${k}`);if(!L.ok)throw new Error(`Failed to load performance history: ${L.statusText}`);const D=await L.json();d(D);const G=new Set;D.forEach(C=>{Object.keys(C.metrics).forEach(w=>G.add(w))});const B=Array.from(G).sort();m(B);const E=B.slice(0,3);S(E)}catch{re.error(n("Failed to load performance history"))}finally{l(!1)}},I=v.useMemo(()=>{if(!u.length||!_.length)return null;const k=u.filter(D=>D.status==="finished").map(D=>`v${D.version}`),L=_.map(D=>({name:D,type:"line",smooth:!0,symbol:"circle",symbolSize:8,data:u.filter(G=>G.status==="finished").map(G=>G.metrics[D]||0)}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:_,top:0},grid:{left:"10%",right:"10%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:k},yAxis:{type:"value",name:n("artifact.performance.metrics")},series:L}},[u,_,n]);return o?i.jsx(de,{children:i.jsx("div",{style:{textAlign:"center",padding:"40px"},children:i.jsx(vn,{size:"large"})})}):u.length===0?i.jsx(de,{children:i.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.no_data")})}):i.jsx(de,{title:i.jsxs(M,{children:[i.jsx(ho,{}),n("artifact.performance.title")]}),extra:i.jsx(ft,{mode:"multiple",style:{width:300},placeholder:n("artifact.performance.select_metrics"),value:_,onChange:S,maxTagCount:3,children:h.map(k=>i.jsx(D0,{value:k,children:k},k))}),children:I?i.jsx("div",{style:{height:400},children:i.jsx(go,{option:I,style:{height:"100%",width:"100%"}})}):i.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.select_metrics_hint")})})}const{Text:Wa,Title:Vs,Paragraph:M0}=Me,{TabPane:mn}=es,$0=()=>{var pe;const{name:s}=Pu(),r=Qn(),{t:n}=ct(),[o,l]=v.useState(!1),[u,d]=v.useState(null),[h,m]=v.useState(null),[_,S]=v.useState([]),[x,I]=v.useState(null),[k,L]=v.useState(null),[D,G]=v.useState(!1),[B,E]=v.useState(!1),[C,w]=v.useState(!1),[O,X]=v.useState(null),[J,Z]=v.useState(!1),V=U=>{if(U===0)return"0 B";const Q=1024,fe=["B","KB","MB","GB","TB"],Re=Math.floor(Math.log(U)/Math.log(Q));return(U/Math.pow(Q,Re)).toFixed(2)+" "+fe[Re]},H=U=>new Date(U*1e3).toLocaleString(),N=v.useCallback(async()=>{if(s)try{const U=await xv(s);S(U||[]),!u&&U&&U.length>0&&d(U[U.length-1].version)}catch{re.error(n("Failed to fetch versions"))}},[s,u,n]),ie=v.useCallback(async()=>{if(!(!s||!u)){l(!0);try{const U=await vv(s,u);m(U)}catch{re.error(n("Failed to fetch artifact details"))}finally{l(!1)}}},[s,u,n]),ae=v.useCallback(async()=>{if(!(!s||!u))try{const U=await wv(s,u);I(U)}catch{}},[s,u]),ne=v.useCallback(async()=>{if(!(!s||!u)){G(!0);try{const U=await bv(s,u,void 0,3);L(U)}catch{}finally{G(!1)}}},[s,u]);v.useEffect(()=>{N()},[N]),v.useEffect(()=>{u&&(ie(),ae())},[ie,ae]);const ue=async U=>{fo.confirm({title:n("artifacts.delete_confirm",{name:s,version:U}),content:n("artifacts.delete_warning"),okText:n("artifacts.delete"),okType:"danger",cancelText:n("experiments.cancel"),onOk:async()=>{try{if(await jv(s,U),re.success(n("Deleted successfully")),N(),U===u){const Q=_.filter(fe=>fe.version!==U);Q.length>0?d(Q[Q.length-1].version):r("/artifacts")}}catch{re.error(n("Delete failed"))}}})};if(o&&!h)return i.jsx(rd,{});if(!h)return i.jsx(de,{children:i.jsx(rt,{description:n("artifact.detail.title",{name:s})})});_.map(U=>({label:`v${U.version} (${H(U.created_at)})`,value:U.version}));const he=[{title:n("artifact.files.name"),dataIndex:"path",key:"path",render:(U,Q)=>i.jsxs(M,{direction:"vertical",size:0,children:[i.jsx(Wa,{strong:!0,children:U}),Q.absolute_path&&i.jsx($e,{title:n("Click to copy path"),children:i.jsx(Wa,{code:!0,copyable:{text:Q.absolute_path},style:{fontSize:q.typography.fontSize.xs},children:Q.absolute_path})})]})},{title:n("artifact.files.size"),dataIndex:"size",key:"size",width:120,render:U=>V(U)},{title:n("artifact.files.hash"),dataIndex:"digest",key:"digest",width:200,render:U=>{var Q;return i.jsx($e,{title:U,children:i.jsxs(Wa,{code:!0,style:{fontSize:q.typography.fontSize.xs},children:[(Q=U.split(":")[1])==null?void 0:Q.substring(0,16),"..."]})})}}],be=[{title:n("artifact.versions.version"),dataIndex:"version",key:"version",width:100,render:U=>i.jsxs(Ee,{color:U===u?"blue":"default",children:["v",U]})},{title:n("artifact.versions.date"),dataIndex:"created_at",key:"created_at",render:U=>H(U)},{title:n("artifact.versions.run"),dataIndex:"created_by_run",key:"created_by_run",render:U=>i.jsx($e,{title:"Click to view run",children:i.jsxs(xe,{type:"link",size:"small",onClick:()=>r(`/runs/${U}`),children:[U.substring(0,16),"..."]})})},{title:n("artifact.versions.size"),dataIndex:"size_bytes",key:"size",width:120,render:U=>V(U)},{title:n("artifact.versions.files"),dataIndex:"num_files",key:"num_files",width:80},{title:n("Aliases"),dataIndex:"aliases",key:"aliases",render:U=>i.jsx(M,{size:4,wrap:!0,children:U.map(Q=>i.jsx(Ee,{color:"blue",style:{fontSize:q.typography.fontSize.xs},children:Q},Q))})},{title:n("artifact.versions.actions"),key:"actions",width:150,render:(U,Q)=>i.jsxs(M,{size:"small",children:[i.jsx(xe,{size:"small",type:Q.version===u?"primary":"default",onClick:()=>d(Q.version),children:n("View")}),i.jsx(xe,{size:"small",danger:!0,icon:i.jsx(Xs,{}),onClick:()=>ue(Q.version)})]})}];return i.jsx("div",{style:{padding:q.spacing.lg},children:i.jsxs(M,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsx(xe,{icon:i.jsx(Lx,{}),onClick:()=>r("/artifacts"),children:n("Back to Artifacts")}),i.jsx(de,{children:i.jsxs(M,{direction:"vertical",size:"small",style:{width:"100%"},children:[i.jsxs(M,{children:[i.jsx(Vs,{level:2,style:{margin:0},children:n("artifact.detail.title",{name:s})}),i.jsx(Ee,{color:q.colors.primary,children:n("artifact.detail.version",{version:u})}),i.jsx(Ee,{icon:i.jsx(Vt,{}),children:n(`artifacts.type.${h.type}`)})]}),h.description&&i.jsx(M0,{type:"secondary",children:h.description})]})}),i.jsxs(bn,{gutter:[q.spacing.md,q.spacing.md],children:[i.jsx(jt,{xs:24,sm:12,md:6,children:i.jsx(de,{children:i.jsx(Mt,{title:n("artifact.detail.size"),value:V(h.size_bytes),prefix:i.jsx(Vt,{})})})}),i.jsx(jt,{xs:24,sm:12,md:6,children:i.jsx(de,{children:i.jsx(Mt,{title:n("artifact.detail.files_count"),value:h.num_files,prefix:i.jsx(Ys,{})})})}),i.jsx(jt,{xs:24,sm:12,md:6,children:i.jsx(de,{children:i.jsx(Mt,{title:n("Total Versions"),value:_.length,prefix:i.jsx(qa,{})})})}),i.jsx(jt,{xs:24,sm:12,md:6,children:i.jsx(de,{children:i.jsx(Mt,{title:n("artifact.detail.created_at"),value:H(h.created_at),valueStyle:{fontSize:q.typography.fontSize.sm},prefix:i.jsx(po,{})})})})]}),i.jsx(de,{children:i.jsxs(es,{defaultActiveKey:"info",children:[i.jsxs(mn,{tab:i.jsxs(i.Fragment,{children:[i.jsx(Fu,{})," ",n("Info")]}),children:[i.jsxs(Ve,{bordered:!0,column:2,size:"small",children:[i.jsx(Ve.Item,{label:n("artifact.detail.type"),children:n(`artifacts.type.${h.type}`)}),i.jsx(Ve.Item,{label:n("artifact.detail.status"),children:i.jsx(Ee,{color:"success",children:h.status})}),i.jsx(Ve.Item,{label:n("artifact.detail.created_by"),children:i.jsx(xe,{type:"link",size:"small",onClick:()=>r(`/runs/${h.created_by_run}`),children:h.created_by_run})}),i.jsx(Ve.Item,{label:n("artifact.detail.created_at"),children:H(h.created_at)}),i.jsx(Ve.Item,{label:n("artifact.detail.size"),children:V(h.size_bytes)}),i.jsxs(Ve.Item,{label:n("artifact.detail.files_count"),children:[h.num_files," files, ",h.num_references," references"]})]}),h.metadata&&Object.keys(h.metadata).length>0&&i.jsxs("div",{style:{marginTop:q.spacing.lg},children:[i.jsx(Vs,{level:5,children:n("artifact.detail.metadata")}),i.jsx(de,{size:"small",children:i.jsx("pre",{style:{margin:0,fontSize:q.typography.fontSize.sm},children:JSON.stringify(h.metadata,null,2)})})]}),h.tags&&h.tags.length>0&&i.jsxs("div",{style:{marginTop:q.spacing.md},children:[i.jsx(Vs,{level:5,children:n("artifact.detail.tags")}),i.jsx(M,{size:[8,8],wrap:!0,children:h.tags.map(U=>i.jsx(Ee,{icon:i.jsx(Px,{}),color:"blue",children:U},U))})]})]},"info"),i.jsxs(mn,{tab:i.jsxs(i.Fragment,{children:[i.jsx(Ys,{})," ",n("artifact.files.title")," (",((pe=x==null?void 0:x.files)==null?void 0:pe.length)||0,")"]}),children:[i.jsx(Fr,{dataSource:(x==null?void 0:x.files)||[],columns:he,rowKey:"path",size:"small",pagination:!1,locale:{emptyText:i.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.files.no_files")})}}),(x==null?void 0:x.references)&&x.references.length>0&&i.jsxs("div",{style:{marginTop:q.spacing.lg},children:[i.jsx(Vs,{level:5,children:n("artifact.references.title")}),i.jsx(Fr,{dataSource:x.references,columns:[{title:n("artifact.references.uri"),dataIndex:"uri",key:"uri"},{title:n("artifact.references.checksum"),dataIndex:"checksum",key:"checksum",render:U=>U||"-"}],size:"small",pagination:!1})]})]},"files"),i.jsx(mn,{tab:i.jsxs(i.Fragment,{children:[i.jsx(qa,{})," ",n("artifact.versions.title")," (",_.length,")"]}),children:i.jsx(Fr,{dataSource:_,columns:be,rowKey:"version",size:"small",pagination:{pageSize:10}})},"versions"),i.jsx(mn,{tab:i.jsxs(i.Fragment,{children:[i.jsx(ur,{})," ",n("artifact.training.tab")]}),children:i.jsx(A0,{artifactName:s,artifactType:h==null?void 0:h.type,version:u})},"training"),i.jsx(mn,{tab:i.jsxs(i.Fragment,{children:[i.jsx(ho,{})," ",n("artifact.performance.tab")]}),children:i.jsx(z0,{artifactName:s,artifactType:h==null?void 0:h.type})},"performance"),i.jsx(mn,{tab:i.jsxs(i.Fragment,{children:[i.jsx(Ax,{})," ",n("artifact.lineage.title")]}),children:i.jsxs(M,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsx(ir,{message:n("artifact.lineage.description"),type:"info",showIcon:!0,closable:!0}),!k&&!D&&i.jsx(xe,{onClick:ne,children:n("Load Lineage Graph")}),D&&i.jsx(de,{loading:!0}),k&&i.jsx(L0,{data:k})]})},"lineage")]})})]})})},N0=[{label:"Aurora",value:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)"},{label:"Sunset",value:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)"},{label:"Ocean",value:"linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)"},{label:"Forest",value:"linear-gradient(135deg, #a8e063 0%, #56ab2f 100%)"}];function F0({open:s,onClose:r,value:n,onChange:o}){const{t:l}=ct(),u=C=>o({...n,...C});l("settings.appearance.density_compact"),l("settings.appearance.density_default"),l("settings.appearance.density_loose");const[d,h]=v.useState(""),[m,_]=v.useState(""),[S,x]=v.useState(!1),[I,k]=v.useState(!1);v.useEffect(()=>{let C=!0;return s&&Yu().then(({user_root_dir:w,storage:O})=>{C&&(h(w||""),_(O||""))}).catch(()=>{}),()=>{C=!1}},[s]);const L=async()=>{if(!d||d.trim().length<2){re.warning(l("settings.messages.enter_valid_path"));return}try{x(!0);const C=await ev(d.trim());_(C.storage),re.success(l("settings.messages.updated"))}catch(C){re.error(typeof(C==null?void 0:C.message)=="string"?C.message:l("settings.messages.update_failed"))}finally{x(!1)}},D=()=>i.jsx(M,{direction:"vertical",style:{width:"100%"},size:"middle",children:i.jsx(de,{size:"small",title:i.jsxs(M,{children:[i.jsx(qn,{}),l("settings.cards.theme")]}),children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.theme.mode")}),i.jsx(Nr.Group,{value:n.themeMode,onChange:C=>u({themeMode:C.target.value}),options:[{label:l("settings.theme.light"),value:"light"},{label:l("settings.theme.dark"),value:"dark"},{label:l("settings.theme.auto"),value:"auto"}],optionType:"button",style:{width:"100%",marginTop:8}})]}),i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.appearance.primary_color")}),i.jsx("div",{style:{marginTop:8},children:i.jsx(eu,{value:n.accentColor,onChange:C=>u({accentColor:C.toHexString()}),showText:!0,format:"hex"})})]}),i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.appearance.density")}),i.jsx(La,{value:n.density,onChange:C=>u({density:C}),options:[{label:l("settings.appearance.density_compact"),value:"compact"},{label:l("settings.appearance.density_default"),value:"default"},{label:l("settings.appearance.density_loose"),value:"loose"}],style:{width:"100%",marginTop:8}})]})]})})}),G=()=>i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(de,{size:"small",title:i.jsxs(M,{children:[i.jsx(Qc,{}),l("settings.cards.background")]}),children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("background.type.label")}),i.jsx(La,{value:n.backgroundType,onChange:C=>u({backgroundType:C}),options:[{label:l("background.type.image"),value:"image"},{label:l("background.type.gradient"),value:"gradient"},{label:l("background.type.color"),value:"color"}],style:{width:"100%",marginTop:8}})]}),n.backgroundType==="image"&&i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("background.image_url")}),i.jsx(sr,{placeholder:l("background.image_url.placeholder"),value:n.backgroundImageUrl,onChange:C=>u({backgroundImageUrl:C.target.value}),style:{marginTop:8}}),n.backgroundImageUrl&&i.jsx("div",{style:{border:"1px solid #eee",borderRadius:6,overflow:"hidden",marginTop:8},children:i.jsx("img",{src:n.backgroundImageUrl,style:{width:"100%",display:"block",maxHeight:120,objectFit:"cover"},alt:l("background.image_preview")})})]}),n.backgroundType==="gradient"&&i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("background.gradient_presets")}),i.jsx(La,{value:n.backgroundGradient,onChange:C=>u({backgroundGradient:C}),options:N0,style:{width:"100%",marginTop:8}})]}),n.backgroundType==="color"&&i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("background.color")}),i.jsx("div",{style:{marginTop:8},children:i.jsx(eu,{value:n.backgroundColor,onChange:C=>u({backgroundColor:C.toHexString()}),showText:!0,format:"hex"})})]}),i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("background.opacity")}),i.jsx(Kn,{min:0,max:1,step:.01,value:n.backgroundOpacity,onChange:C=>u({backgroundOpacity:Array.isArray(C)?C[0]:C}),marks:{0:"0%",.5:"50%",1:"100%"},style:{marginTop:8}})]})]})}),i.jsx(de,{size:"small",title:i.jsxs(M,{children:[i.jsx(ur,{}),l("settings.cards.visual_effects")]}),children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.glass")}),i.jsx("div",{style:{fontSize:"12px",color:"#999"},children:l("settings.glass.desc")})]}),i.jsx(ht,{checked:n.glass,onChange:C=>u({glass:C})})]}),n.glass&&i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("background.blur")}),i.jsx(Kn,{min:0,max:30,step:1,value:n.backgroundBlur,onChange:C=>u({backgroundBlur:Array.isArray(C)?C[0]:C}),marks:{0:"0px",15:"15px",30:"30px"},style:{marginTop:8}})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.performance.animations")}),i.jsx("div",{style:{fontSize:"12px",color:"#999"},children:l("settings.animations.ui_desc")})]}),i.jsx(ht,{checked:n.animationsEnabled,onChange:C=>u({animationsEnabled:C})})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.performance.chart_animations")}),i.jsx("div",{style:{fontSize:"12px",color:"#999"},children:l("settings.animations.chart_desc")})]}),i.jsx(ht,{checked:n.enableChartAnimations,onChange:C=>u({enableChartAnimations:C})})]})]})})]}),B=()=>i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(de,{size:"small",title:i.jsxs(M,{children:[i.jsx(Vt,{}),l("settings.cards.storage")]}),children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsx(ir,{type:"info",message:l("settings.data.current_storage",{path:m||l("settings.data.not_configured")||"Not configured"}),style:{marginBottom:12}}),i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.data.user_root.label")}),i.jsx(sr,{placeholder:l("settings.data.user_root.placeholder"),value:d,onChange:C=>h(C.target.value),style:{marginTop:8}}),i.jsx(Me.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0 8px 0"},children:l("settings.data.note")}),i.jsx(xe,{loading:S,type:"primary",onClick:L,block:!0,children:l("settings.data.save")})]})]})}),i.jsx(de,{size:"small",title:i.jsxs(M,{children:[i.jsx(ri,{}),l("settings.cards.import_export")]}),children:i.jsx(M,{direction:"vertical",style:{width:"100%"},children:i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("offline_import.title")}),i.jsx(Me.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0"},children:l("offline_import.desc")}),i.jsx($u.Dragger,{accept:".zip,.tar.gz,.tgz",multiple:!1,showUploadList:!1,disabled:I,beforeUpload:async C=>{try{k(!0);const w=await sv(C),O=((w==null?void 0:w.new_run_ids)||[]).length;re.success(l("offline_import.success",{count:O}))}catch(w){re.error(typeof(w==null?void 0:w.message)=="string"?w.message:l("offline_import.failed"))}finally{k(!1)}return!1},style:{padding:"12px"},children:i.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[i.jsx("div",{style:{marginBottom:4,fontSize:"14px"},children:l("offline_import.drag")}),i.jsx("div",{style:{fontSize:"11px",color:"#999"},children:l("offline_import.supports")}),I&&i.jsx("div",{style:{marginTop:4,color:"#1677ff",fontSize:"12px"},children:l("offline_import.importing")})]})})]})})})]}),E=()=>i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(de,{size:"small",title:i.jsxs(M,{children:[i.jsx(ur,{}),l("settings.cards.performance")]}),children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.performance.auto_refresh")}),i.jsx("div",{style:{fontSize:"12px",color:"#999"},children:l("settings.auto_refresh.desc")})]}),i.jsx(ht,{checked:n.autoRefresh,onChange:C=>u({autoRefresh:C})})]}),n.autoRefresh&&i.jsx("div",{children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[i.jsx(Me.Text,{strong:!0,children:l("settings.performance.refresh_interval")}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[i.jsx(Xn,{min:1,max:60,value:n.refreshInterval,onChange:C=>u({refreshInterval:C||5}),style:{width:80}}),i.jsx("span",{style:{fontSize:"12px",color:"#999"},children:l("settings.units.seconds")})]})]})}),i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.charts.default_height")}),i.jsx(Kn,{min:200,max:600,step:20,value:n.defaultChartHeight,onChange:C=>u({defaultChartHeight:Array.isArray(C)?C[0]:C}),marks:{200:"200px",300:"300px",400:"400px",600:"600px"},style:{marginTop:8}})]}),i.jsx("div",{children:i.jsxs("div",{style:{marginTop:8},children:[i.jsx(Me.Text,{strong:!0,children:l("settings.charts.max_points")}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[i.jsx(Xn,{min:100,max:1e4,step:100,value:n.maxDataPoints,onChange:C=>u({maxDataPoints:C||1e3}),style:{width:120}}),i.jsx("span",{style:{fontSize:"12px",color:"#999"},children:l("settings.units.points")})]})]})})]})}),i.jsx(de,{size:"small",title:i.jsxs(M,{children:[i.jsx(zx,{}),l("settings.cards.advanced")]}),children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.charts.grid_lines")}),i.jsx("div",{style:{fontSize:"12px",color:"#999"},children:l("settings.grid_lines.desc")})]}),i.jsx(ht,{checked:n.showGridLines,onChange:C=>u({showGridLines:C})})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(Me.Text,{strong:!0,children:l("settings.performance.sounds")}),i.jsx("div",{style:{fontSize:"12px",color:"#999"},children:l("settings.sounds.desc")})]}),i.jsx(ht,{checked:n.enableSounds,onChange:C=>u({enableSounds:C})})]})]})})]});return i.jsxs(Dx,{title:i.jsxs(M,{children:[i.jsx(co,{}),i.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:l("settings.drawer.title")})]}),width:600,open:s,onClose:r,destroyOnClose:!0,styles:{body:{padding:"16px"}},children:[i.jsx(es,{defaultActiveKey:"appearance",items:[{key:"appearance",label:i.jsxs(M,{children:[i.jsx(qn,{}),i.jsx("span",{children:l("settings.tabs.appearance")})]}),children:D()},{key:"layout",label:i.jsxs(M,{children:[i.jsx(Qc,{}),i.jsx("span",{children:l("settings.tabs.layout")})]}),children:G()},{key:"data",label:i.jsxs(M,{children:[i.jsx(Vt,{}),i.jsx("span",{children:l("settings.tabs.data")})]}),children:B()},{key:"performance",label:i.jsxs(M,{children:[i.jsx(ur,{}),i.jsx("span",{children:l("settings.tabs.performance")})]}),children:E()}],tabPosition:"top",size:"small",style:{height:"calc(100vh - 120px)"}}),i.jsx("div",{style:{position:"absolute",bottom:16,right:16,left:16,borderTop:"1px solid #f0f0f0",paddingTop:16,background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(8px)"},children:i.jsx(xe,{onClick:r,type:"primary",size:"large",block:!0,children:l("settings.done")})})]})}const{Text:Ha}=Me;function U0(){var _;const{t:s}=ct(),[r,n]=v.useState(null),[o,l]=v.useState(!1);if(v.useEffect(()=>{const S=async()=>{try{const I=await Xu();n(I)}catch{n({mode:"local",connected:!1})}};S();const x=setInterval(S,5e3);return()=>clearInterval(x)},[]),!r)return null;if(r.mode==="local"||!r.connected)return i.jsx($e,{title:s("remote_storage.indicator.local_mode"),children:i.jsx(nr,{status:"default",text:s("remote_storage.indicator.local")})});const u=((_=r.sync_progress)==null?void 0:_.status)==="running",d=r.sync_progress,h=r.stats,m=i.jsx("div",{style:{width:350},children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx("div",{children:i.jsx(Ha,{strong:!0,children:s("remote_storage.indicator.remote_status")})}),i.jsxs(Ve,{size:"small",column:1,children:[i.jsx(Ve.Item,{label:s("remote_storage.indicator.connection_status"),children:i.jsx(nr,{status:"success",text:s("remote_storage.indicator.connected")})}),(h==null?void 0:h.last_sync)&&i.jsx(Ve.Item,{label:s("remote_storage.indicator.last_sync"),children:new Date(h.last_sync*1e3).toLocaleString()}),(h==null?void 0:h.cached_artifacts)!==void 0&&i.jsx(Ve.Item,{label:s("remote_storage.indicator.cached_artifacts"),children:h.cached_artifacts}),(h==null?void 0:h.cache_size_bytes)!==void 0&&i.jsxs(Ve.Item,{label:s("remote_storage.indicator.cache_size"),children:[(h.cache_size_bytes/(1024*1024)).toFixed(2)," MB"]})]}),u&&d&&i.jsx(i.Fragment,{children:i.jsxs("div",{children:[i.jsx(Ha,{strong:!0,children:s("remote_storage.indicator.sync_progress")}),i.jsx(Mx,{percent:Math.round(d.progress_percent||0),size:"small",status:"active"}),i.jsxs(Ha,{type:"secondary",style:{fontSize:12},children:[d.synced_files," / ",d.total_files]})]})}),i.jsxs(M,{children:[i.jsx(xe,{size:"small",icon:i.jsx(wn,{}),loading:o,onClick:async()=>{l(!0);try{await Xa()}catch{}finally{l(!1)}},children:s("remote_storage.indicator.sync_now")}),i.jsx(xe,{size:"small",danger:!0,icon:i.jsx($x,{}),onClick:async()=>{try{await Cv(),window.location.reload()}catch{}},children:s("remote_storage.indicator.disconnect")})]})]})});return i.jsx(Mu,{content:m,title:null,trigger:"click",children:i.jsx("div",{style:{cursor:"pointer"},children:i.jsx(nr,{status:u?"processing":"success",text:i.jsxs(M,{size:4,children:[i.jsx(uo,{}),i.jsx("span",{children:s("remote_storage.indicator.remote")}),u&&i.jsx(wn,{spin:!0})]})})})})}const{Header:B0,Content:W0,Footer:H0}=Gu;function G0(){var C;const s=ox(),n=[s.pathname.startsWith("/remote")?"remote":s.pathname.startsWith("/artifacts")?"artifacts":(s.pathname.startsWith("/runs/"),"experiments")],{t:o,i18n:l}=ct(),u={themeMode:"auto",accentColor:"#1677ff",density:"default",glass:!0,backgroundType:"gradient",backgroundImageUrl:"",backgroundGradient:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",backgroundColor:"#0b1220",backgroundOpacity:.9,backgroundBlur:8,autoRefresh:!0,refreshInterval:5,animationsEnabled:!0,enableSounds:!1,defaultChartHeight:320,showGridLines:!0,enableChartAnimations:!0,maxDataPoints:1e3},[d,h]=v.useState(()=>{try{const w=localStorage.getItem("ui_settings");return w?{...u,...JSON.parse(w)}:u}catch{return u}});v.useEffect(()=>{try{localStorage.setItem("ui_settings",JSON.stringify(d))}catch{}},[d]);const[m,_]=v.useState(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);v.useEffect(()=>{if(!window.matchMedia)return;const w=window.matchMedia("(prefers-color-scheme: dark)"),O=X=>_(X.matches);try{w.addEventListener("change",O)}catch{w.addListener(O)}return()=>{try{w.removeEventListener("change",O)}catch{w.removeListener(O)}}},[]);const S=d.themeMode==="dark"||d.themeMode==="auto"&&m,x=v.useMemo(()=>{const w=[S?Pa.darkAlgorithm:Pa.defaultAlgorithm];return d.density==="compact"&&w.push(Pa.compactAlgorithm),w},[S,d.density]),I=v.useMemo(()=>{const w={colorPrimary:d.accentColor};return d.density==="loose"&&(w.borderRadius=10,w.padding=16),w},[d.accentColor,d.density]),k=v.useMemo(()=>{const w={position:"fixed",inset:0,zIndex:0,pointerEvents:"none",opacity:d.backgroundOpacity,transition:"background 0.3s ease"};return d.backgroundType==="image"&&d.backgroundImageUrl?(w.backgroundImage=`url(${d.backgroundImageUrl})`,w.backgroundSize="cover",w.backgroundRepeat="no-repeat",w.backgroundPosition="center center"):d.backgroundType==="gradient"?w.backgroundImage=d.backgroundGradient:w.background=d.backgroundColor,w},[d.backgroundType,d.backgroundImageUrl,d.backgroundGradient,d.backgroundColor,d.backgroundOpacity]),L=v.useMemo(()=>{const w={borderRadius:8,transition:d.animationsEnabled?"all 0.3s ease":"none"};return d.glass?{...w,background:S?"rgba(0,0,0,0.25)":"rgba(255,255,255,0.6)",backdropFilter:`blur(${d.backgroundBlur}px)`,WebkitBackdropFilter:`blur(${d.backgroundBlur}px)`,boxShadow:S?"0 4px 30px rgba(0,0,0,0.3)":"0 4px 30px rgba(0,0,0,0.1)"}:{...w,background:S?"#111a2c":"#fff"}},[d.glass,d.backgroundBlur,d.animationsEnabled,S]),[D,G]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const w=await Yu();(!w.user_root_dir||w.user_root_dir.trim()==="")&&G(!0)}catch{}})()},[]);const[B,E]=v.useState("loading");return v.useEffect(()=>{let w=!0;const O=async()=>{try{await Zx(),w&&E("ok")}catch{w&&E("down")}};O();const X=(d.autoRefresh?d.refreshInterval:5)*1e3,J=setInterval(O,X);return()=>{w=!1,clearInterval(J)}},[d.autoRefresh,d.refreshInterval]),i.jsx(Nx,{theme:{algorithm:x,token:{...I,motion:d.animationsEnabled}},children:i.jsxs(Gv,{value:{settings:d,setSettings:h},children:[i.jsx("div",{style:k}),i.jsxs(Gu,{style:{minHeight:"100vh",position:"relative",zIndex:1,background:"transparent",transition:d.animationsEnabled?"all 0.3s ease":"none"},children:[i.jsxs(B0,{style:{display:"flex",alignItems:"center"},children:[i.jsx("div",{style:{color:"#fff",fontWeight:700,marginRight:24},children:o("app.title")}),i.jsx(Fx,{theme:"dark",mode:"horizontal",selectedKeys:n,items:[{key:"experiments",icon:i.jsx(zu,{}),label:i.jsx(Ia,{to:"/",children:o("menu.experiments")})},{key:"artifacts",icon:i.jsx(Vt,{}),label:i.jsx(Ia,{to:"/artifacts",children:o("menu.artifacts")})},{key:"remote",icon:i.jsx(uo,{}),label:i.jsx(Ia,{to:"/remote",children:o("menu.remote")})}],style:{flex:1,minWidth:0}}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[B==="ok"&&i.jsx(Ee,{color:"green",children:o("tag.api_ok")}),B==="loading"&&i.jsx(Ee,{color:"processing",children:o("tag.api_loading")}),B==="down"&&i.jsx(Ee,{children:o("tag.api_down")}),i.jsx(U0,{}),i.jsx(ft,{size:"small",value:(C=l.language)!=null&&C.startsWith("zh")?"zh":"en",onChange:w=>l.changeLanguage(w),style:{width:88},options:[{value:"en",label:"EN"},{value:"zh",label:"中文"}]}),i.jsx(xe,{type:"link",icon:i.jsx(co,{style:{color:"#fff"}}),onClick:()=>G(!0)})]})]}),i.jsx(W0,{style:{padding:"24px"},children:i.jsx("div",{style:{...L,padding:24,minHeight:360},children:i.jsxs(lx,{children:[i.jsx(Nn,{path:"/",element:i.jsx(T0,{})}),i.jsx(Nn,{path:"/runs/:id",element:i.jsx(aw,{})}),i.jsx(Nn,{path:"/artifacts",element:i.jsx(I0,{})}),i.jsx(Nn,{path:"/artifacts/:name",element:i.jsx($0,{})}),i.jsx(Nn,{path:"/remote",element:i.jsx(uw,{})})]})})}),i.jsxs(H0,{style:{textAlign:"center"},children:[" ",new Date().getFullYear()," ",o("app.title")]})]}),i.jsx(F0,{open:D,onClose:()=>G(!1),value:d,onChange:h})]})})}const ve=s=>typeof s=="string",Bn=()=>{let s,r;const n=new Promise((o,l)=>{s=o,r=l});return n.resolve=s,n.reject=r,n},gu=s=>s==null?"":""+s,K0=(s,r,n)=>{s.forEach(o=>{r[o]&&(n[o]=r[o])})},V0=/###/g,mu=s=>s&&s.indexOf("###")>-1?s.replace(V0,"."):s,_u=s=>!s||ve(s),Vn=(s,r,n)=>{const o=ve(r)?r.split("."):r;let l=0;for(;l<o.length-1;){if(_u(s))return{};const u=mu(o[l]);!s[u]&&n&&(s[u]=new n),Object.prototype.hasOwnProperty.call(s,u)?s=s[u]:s={},++l}return _u(s)?{}:{obj:s,k:mu(o[l])}},yu=(s,r,n)=>{const{obj:o,k:l}=Vn(s,r,Object);if(o!==void 0||r.length===1){o[l]=n;return}let u=r[r.length-1],d=r.slice(0,r.length-1),h=Vn(s,d,Object);for(;h.obj===void 0&&d.length;)u=`${d[d.length-1]}.${u}`,d=d.slice(0,d.length-1),h=Vn(s,d,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${u}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${u}`]=n},q0=(s,r,n,o)=>{const{obj:l,k:u}=Vn(s,r,Object);l[u]=l[u]||[],l[u].push(n)},Qs=(s,r)=>{const{obj:n,k:o}=Vn(s,r);if(n&&Object.prototype.hasOwnProperty.call(n,o))return n[o]},Y0=(s,r,n)=>{const o=Qs(s,n);return o!==void 0?o:Qs(r,n)},vd=(s,r,n)=>{for(const o in r)o!=="__proto__"&&o!=="constructor"&&(o in s?ve(s[o])||s[o]instanceof String||ve(r[o])||r[o]instanceof String?n&&(s[o]=r[o]):vd(s[o],r[o],n):s[o]=r[o]);return s},_n=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var X0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const J0=s=>ve(s)?s.replace(/[&<>"'\/]/g,r=>X0[r]):s;class Z0{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const n=this.regExpMap.get(r);if(n!==void 0)return n;const o=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,o),this.regExpQueue.push(r),o}}const Q0=[" ",",","?","!",";"],eb=new Z0(20),tb=(s,r,n)=>{r=r||"",n=n||"";const o=Q0.filter(d=>r.indexOf(d)<0&&n.indexOf(d)<0);if(o.length===0)return!0;const l=eb.getRegExp(`(${o.map(d=>d==="?"?"\\?":d).join("|")})`);let u=!l.test(s);if(!u){const d=s.indexOf(n);d>0&&!l.test(s.substring(0,d))&&(u=!0)}return u},io=(s,r,n=".")=>{if(!s)return;if(s[r])return Object.prototype.hasOwnProperty.call(s,r)?s[r]:void 0;const o=r.split(n);let l=s;for(let u=0;u<o.length;){if(!l||typeof l!="object")return;let d,h="";for(let m=u;m<o.length;++m)if(m!==u&&(h+=n),h+=o[m],d=l[h],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&m<o.length-1)continue;u+=m-u+1;break}l=d}return l},Jn=s=>s==null?void 0:s.replace("_","-"),rb={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,r){var n,o;(o=(n=console==null?void 0:console[s])==null?void 0:n.apply)==null||o.call(n,console,r)}};class ei{constructor(r,n={}){this.init(r,n)}init(r,n={}){this.prefix=n.prefix||"i18next:",this.logger=r||rb,this.options=n,this.debug=n.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,n,o,l){return l&&!this.debug?null:(ve(r[0])&&(r[0]=`${o}${this.prefix} ${r[0]}`),this.logger[n](r))}create(r){return new ei(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new ei(this.logger,r)}}var cr=new ei;class di{constructor(){this.observers={}}on(r,n){return r.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const l=this.observers[o].get(n)||0;this.observers[o].set(n,l+1)}),this}off(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r].delete(n)}}emit(r,...n){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([l,u])=>{for(let d=0;d<u;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([l,u])=>{for(let d=0;d<u;d++)l.apply(l,[r,...n])})}}class xu extends di{constructor(r,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const n=this.options.ns.indexOf(r);n>-1&&this.options.ns.splice(n,1)}getResource(r,n,o,l={}){var _,S;const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;r.indexOf(".")>-1?h=r.split("."):(h=[r,n],o&&(Array.isArray(o)?h.push(...o):ve(o)&&u?h.push(...o.split(u)):h.push(o)));const m=Qs(this.data,h);return!m&&!n&&!o&&r.indexOf(".")>-1&&(r=h[0],n=h[1],o=h.slice(2).join(".")),m||!d||!ve(o)?m:io((S=(_=this.data)==null?void 0:_[r])==null?void 0:S[n],o,u)}addResource(r,n,o,l,u={silent:!1}){const d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let h=[r,n];o&&(h=h.concat(d?o.split(d):o)),r.indexOf(".")>-1&&(h=r.split("."),l=n,n=h[1]),this.addNamespaces(n),yu(this.data,h,l),u.silent||this.emit("added",r,n,o,l)}addResources(r,n,o,l={silent:!1}){for(const u in o)(ve(o[u])||Array.isArray(o[u]))&&this.addResource(r,n,u,o[u],{silent:!0});l.silent||this.emit("added",r,n,o)}addResourceBundle(r,n,o,l,u,d={silent:!1,skipCopy:!1}){let h=[r,n];r.indexOf(".")>-1&&(h=r.split("."),l=o,o=n,n=h[1]),this.addNamespaces(n);let m=Qs(this.data,h)||{};d.skipCopy||(o=JSON.parse(JSON.stringify(o))),l?vd(m,o,u):m={...m,...o},yu(this.data,h,m),d.silent||this.emit("added",r,n,o)}removeResourceBundle(r,n){this.hasResourceBundle(r,n)&&delete this.data[r][n],this.removeNamespaces(n),this.emit("removed",r,n)}hasResourceBundle(r,n){return this.getResource(r,n)!==void 0}getResourceBundle(r,n){return n||(n=this.options.defaultNS),this.getResource(r,n)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const n=this.getDataByLanguage(r);return!!(n&&Object.keys(n)||[]).find(l=>n[l]&&Object.keys(n[l]).length>0)}toJSON(){return this.data}}var wd={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,r,n,o,l){return s.forEach(u=>{var d;r=((d=this.processors[u])==null?void 0:d.process(r,n,o,l))??r}),r}};const bd=Symbol("i18next/PATH_KEY");function nb(){const s=[],r=Object.create(null);let n;return r.get=(o,l)=>{var u;return(u=n==null?void 0:n.revoke)==null||u.call(n),l===bd?s:(s.push(l),n=Proxy.revocable(o,r),n.proxy)},Proxy.revocable(Object.create(null),r).proxy}function ao(s,r){const{[bd]:n}=s(nb());return n.join((r==null?void 0:r.keySeparator)??".")}const vu={},wu=s=>!ve(s)&&typeof s!="boolean"&&typeof s!="number";class ti extends di{constructor(r,n={}){super(),K0(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=cr.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,n={interpolation:{}}){const o={...n};if(r==null)return!1;const l=this.resolve(r,o);return(l==null?void 0:l.res)!==void 0}extractFromKey(r,n){let o=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let u=n.ns||this.options.defaultNS||[];const d=o&&r.indexOf(o)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!tb(r,o,l);if(d&&!h){const m=r.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:r,namespaces:ve(u)?[u]:u};const _=r.split(o);(o!==l||o===l&&this.options.ns.indexOf(_[0])>-1)&&(u=_.shift()),r=_.join(l)}return{key:r,namespaces:ve(u)?[u]:u}}translate(r,n,o){let l=typeof n=="object"?{...n}:n;if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof l=="object"&&(l={...l}),l||(l={}),r==null)return"";typeof r=="function"&&(r=ao(r,{...this.options,...l})),Array.isArray(r)||(r=[String(r)]);const u=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:h,namespaces:m}=this.extractFromKey(r[r.length-1],l),_=m[m.length-1];let S=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");const x=l.lng||this.language,I=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((x==null?void 0:x.toLowerCase())==="cimode")return I?u?{res:`${_}${S}${h}`,usedKey:h,exactUsedKey:h,usedLng:x,usedNS:_,usedParams:this.getUsedParamsDetails(l)}:`${_}${S}${h}`:u?{res:h,usedKey:h,exactUsedKey:h,usedLng:x,usedNS:_,usedParams:this.getUsedParamsDetails(l)}:h;const k=this.resolve(r,l);let L=k==null?void 0:k.res;const D=(k==null?void 0:k.usedKey)||h,G=(k==null?void 0:k.exactUsedKey)||h,B=["[object Number]","[object Function]","[object RegExp]"],E=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,w=l.count!==void 0&&!ve(l.count),O=ti.hasDefaultValue(l),X=w?this.pluralResolver.getSuffix(x,l.count,l):"",J=l.ordinal&&w?this.pluralResolver.getSuffix(x,l.count,{ordinal:!1}):"",Z=w&&!l.ordinal&&l.count===0,V=Z&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${X}`]||l[`defaultValue${J}`]||l.defaultValue;let H=L;C&&!L&&O&&(H=V);const N=wu(H),ie=Object.prototype.toString.apply(H);if(C&&H&&N&&B.indexOf(ie)<0&&!(ve(E)&&Array.isArray(H))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ae=this.options.returnedObjectHandler?this.options.returnedObjectHandler(D,H,{...l,ns:m}):`key '${h} (${this.language})' returned an object instead of string.`;return u?(k.res=ae,k.usedParams=this.getUsedParamsDetails(l),k):ae}if(d){const ae=Array.isArray(H),ne=ae?[]:{},ue=ae?G:D;for(const he in H)if(Object.prototype.hasOwnProperty.call(H,he)){const be=`${ue}${d}${he}`;O&&!L?ne[he]=this.translate(be,{...l,defaultValue:wu(V)?V[he]:void 0,joinArrays:!1,ns:m}):ne[he]=this.translate(be,{...l,joinArrays:!1,ns:m}),ne[he]===be&&(ne[he]=H[he])}L=ne}}else if(C&&ve(E)&&Array.isArray(L))L=L.join(E),L&&(L=this.extendTranslation(L,r,l,o));else{let ae=!1,ne=!1;!this.isValidLookup(L)&&O&&(ae=!0,L=V),this.isValidLookup(L)||(ne=!0,L=h);const he=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ne?void 0:L,be=O&&V!==L&&this.options.updateMissing;if(ne||ae||be){if(this.logger.log(be?"updateKey":"missingKey",x,_,h,be?V:L),d){const fe=this.resolve(h,{...l,keySeparator:!1});fe&&fe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let pe=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let fe=0;fe<U.length;fe++)pe.push(U[fe]);else this.options.saveMissingTo==="all"?pe=this.languageUtils.toResolveHierarchy(l.lng||this.language):pe.push(l.lng||this.language);const Q=(fe,Re,Qe)=>{var W;const nt=O&&Qe!==L?Qe:he;this.options.missingKeyHandler?this.options.missingKeyHandler(fe,_,Re,nt,be,l):(W=this.backendConnector)!=null&&W.saveMissing&&this.backendConnector.saveMissing(fe,_,Re,nt,be,l),this.emit("missingKey",fe,_,Re,L)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?pe.forEach(fe=>{const Re=this.pluralResolver.getSuffixes(fe,l);Z&&l[`defaultValue${this.options.pluralSeparator}zero`]&&Re.indexOf(`${this.options.pluralSeparator}zero`)<0&&Re.push(`${this.options.pluralSeparator}zero`),Re.forEach(Qe=>{Q([fe],h+Qe,l[`defaultValue${Qe}`]||V)})}):Q(pe,h,V))}L=this.extendTranslation(L,r,l,k,o),ne&&L===h&&this.options.appendNamespaceToMissingKey&&(L=`${_}${S}${h}`),(ne||ae)&&this.options.parseMissingKeyHandler&&(L=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${_}${S}${h}`:h,ae?L:void 0,l))}return u?(k.res=L,k.usedParams=this.getUsedParamsDetails(l),k):L}extendTranslation(r,n,o,l,u){var m,_;if((m=this.i18nFormat)!=null&&m.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const S=ve(r)&&(((_=o==null?void 0:o.interpolation)==null?void 0:_.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let x;if(S){const k=r.match(this.interpolator.nestingRegexp);x=k&&k.length}let I=o.replace&&!ve(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(I={...this.options.interpolation.defaultVariables,...I}),r=this.interpolator.interpolate(r,I,o.lng||this.language||l.usedLng,o),S){const k=r.match(this.interpolator.nestingRegexp),L=k&&k.length;x<L&&(o.nest=!1)}!o.lng&&l&&l.res&&(o.lng=this.language||l.usedLng),o.nest!==!1&&(r=this.interpolator.nest(r,(...k)=>(u==null?void 0:u[0])===k[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${k[0]} in key: ${n[0]}`),null):this.translate(...k,n),o)),o.interpolation&&this.interpolator.reset()}const d=o.postProcess||this.options.postProcess,h=ve(d)?[d]:d;return r!=null&&(h!=null&&h.length)&&o.applyPostProcessor!==!1&&(r=wd.handle(h,r,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),r}resolve(r,n={}){let o,l,u,d,h;return ve(r)&&(r=[r]),r.forEach(m=>{if(this.isValidLookup(o))return;const _=this.extractFromKey(m,n),S=_.key;l=S;let x=_.namespaces;this.options.fallbackNS&&(x=x.concat(this.options.fallbackNS));const I=n.count!==void 0&&!ve(n.count),k=I&&!n.ordinal&&n.count===0,L=n.context!==void 0&&(ve(n.context)||typeof n.context=="number")&&n.context!=="",D=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);x.forEach(G=>{var B,E;this.isValidLookup(o)||(h=G,!vu[`${D[0]}-${G}`]&&((B=this.utils)!=null&&B.hasLoadedNamespace)&&!((E=this.utils)!=null&&E.hasLoadedNamespace(h))&&(vu[`${D[0]}-${G}`]=!0,this.logger.warn(`key "${l}" for languages "${D.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),D.forEach(C=>{var X;if(this.isValidLookup(o))return;d=C;const w=[S];if((X=this.i18nFormat)!=null&&X.addLookupKeys)this.i18nFormat.addLookupKeys(w,S,C,G,n);else{let J;I&&(J=this.pluralResolver.getSuffix(C,n.count,n));const Z=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(I&&(n.ordinal&&J.indexOf(V)===0&&w.push(S+J.replace(V,this.options.pluralSeparator)),w.push(S+J),k&&w.push(S+Z)),L){const H=`${S}${this.options.contextSeparator||"_"}${n.context}`;w.push(H),I&&(n.ordinal&&J.indexOf(V)===0&&w.push(H+J.replace(V,this.options.pluralSeparator)),w.push(H+J),k&&w.push(H+Z))}}let O;for(;O=w.pop();)this.isValidLookup(o)||(u=O,o=this.getResource(C,G,O,n))}))})}),{res:o,usedKey:l,exactUsedKey:u,usedLng:d,usedNS:h}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,n,o,l={}){var u;return(u=this.i18nFormat)!=null&&u.getResource?this.i18nFormat.getResource(r,n,o,l):this.resourceStore.getResource(r,n,o,l)}getUsedParamsDetails(r={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=r.replace&&!ve(r.replace);let l=o?r.replace:r;if(o&&typeof r.count<"u"&&(l.count=r.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!o){l={...l};for(const u of n)delete l[u]}return l}static hasDefaultValue(r){const n="defaultValue";for(const o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&n===o.substring(0,n.length)&&r[o]!==void 0)return!0;return!1}}class bu{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=cr.create("languageUtils")}getScriptPartFromCode(r){if(r=Jn(r),!r||r.indexOf("-")<0)return null;const n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(r){if(r=Jn(r),!r||r.indexOf("-")<0)return r;const n=r.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(r){if(ve(r)&&r.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(r)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let n;return r.forEach(o=>{if(n)return;const l=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(l))&&(n=l)}),!n&&this.options.supportedLngs&&r.forEach(o=>{if(n)return;const l=this.getScriptPartFromCode(o);if(this.isSupportedCode(l))return n=l;const u=this.getLanguagePartFromCode(o);if(this.isSupportedCode(u))return n=u;n=this.options.supportedLngs.find(d=>{if(d===u)return d;if(!(d.indexOf("-")<0&&u.indexOf("-")<0)&&(d.indexOf("-")>0&&u.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===u||d.indexOf(u)===0&&u.length>1))return d})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),ve(r)&&(r=[r]),Array.isArray(r))return r;if(!n)return r.default||[];let o=r[n];return o||(o=r[this.getScriptPartFromCode(n)]),o||(o=r[this.formatLanguageCode(n)]),o||(o=r[this.getLanguagePartFromCode(n)]),o||(o=r.default),o||[]}toResolveHierarchy(r,n){const o=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],r),l=[],u=d=>{d&&(this.isSupportedCode(d)?l.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return ve(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(r))):ve(r)&&u(this.formatLanguageCode(r)),o.forEach(d=>{l.indexOf(d)<0&&u(this.formatLanguageCode(d))}),l}}const Su={zero:0,one:1,two:2,few:3,many:4,other:5},ju={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class sb{constructor(r,n={}){this.languageUtils=r,this.options=n,this.logger=cr.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,n){this.rules[r]=n}clearCache(){this.pluralRulesCache={}}getRule(r,n={}){const o=Jn(r==="dev"?"en":r),l=n.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:o,type:l});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let d;try{d=new Intl.PluralRules(o,{type:l})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ju;if(!r.match(/-|_/))return ju;const m=this.languageUtils.getLanguagePartFromCode(r);d=this.getRule(m,n)}return this.pluralRulesCache[u]=d,d}needsPlural(r,n={}){let o=this.getRule(r,n);return o||(o=this.getRule("dev",n)),(o==null?void 0:o.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(r,n,o={}){return this.getSuffixes(r,o).map(l=>`${n}${l}`)}getSuffixes(r,n={}){let o=this.getRule(r,n);return o||(o=this.getRule("dev",n)),o?o.resolvedOptions().pluralCategories.sort((l,u)=>Su[l]-Su[u]).map(l=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${l}`):[]}getSuffix(r,n,o={}){const l=this.getRule(r,o);return l?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${l.select(n)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",n,o))}}const Cu=(s,r,n,o=".",l=!0)=>{let u=Y0(s,r,n);return!u&&l&&ve(n)&&(u=io(s,n,o),u===void 0&&(u=io(r,n,o))),u},Ga=s=>s.replace(/\$/g,"$$$$");class ib{constructor(r={}){var n;this.logger=cr.create("interpolator"),this.options=r,this.format=((n=r==null?void 0:r.interpolation)==null?void 0:n.format)||(o=>o),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:n,escapeValue:o,useRawValueToEscape:l,prefix:u,prefixEscaped:d,suffix:h,suffixEscaped:m,formatSeparator:_,unescapeSuffix:S,unescapePrefix:x,nestingPrefix:I,nestingPrefixEscaped:k,nestingSuffix:L,nestingSuffixEscaped:D,nestingOptionsSeparator:G,maxReplaces:B,alwaysFormat:E}=r.interpolation;this.escape=n!==void 0?n:J0,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=u?_n(u):d||"{{",this.suffix=h?_n(h):m||"}}",this.formatSeparator=_||",",this.unescapePrefix=S?"":x||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=I?_n(I):k||_n("$t("),this.nestingSuffix=L?_n(L):D||_n(")"),this.nestingOptionsSeparator=G||",",this.maxReplaces=B||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(n,o)=>(n==null?void 0:n.source)===o?(n.lastIndex=0,n):new RegExp(o,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,n,o,l){var k;let u,d,h;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},_=L=>{if(L.indexOf(this.formatSeparator)<0){const E=Cu(n,m,L,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,o,{...l,...n,interpolationkey:L}):E}const D=L.split(this.formatSeparator),G=D.shift().trim(),B=D.join(this.formatSeparator).trim();return this.format(Cu(n,m,G,this.options.keySeparator,this.options.ignoreJSONStructure),B,o,{...l,...n,interpolationkey:G})};this.resetRegExp();const S=(l==null?void 0:l.missingInterpolationHandler)||this.options.missingInterpolationHandler,x=((k=l==null?void 0:l.interpolation)==null?void 0:k.skipOnVariables)!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:L=>Ga(L)},{regex:this.regexp,safeValue:L=>this.escapeValue?Ga(this.escape(L)):Ga(L)}].forEach(L=>{for(h=0;u=L.regex.exec(r);){const D=u[1].trim();if(d=_(D),d===void 0)if(typeof S=="function"){const B=S(r,u,l);d=ve(B)?B:""}else if(l&&Object.prototype.hasOwnProperty.call(l,D))d="";else if(x){d=u[0];continue}else this.logger.warn(`missed to pass in variable ${D} for interpolating ${r}`),d="";else!ve(d)&&!this.useRawValueToEscape&&(d=gu(d));const G=L.safeValue(d);if(r=r.replace(u[0],G),x?(L.regex.lastIndex+=d.length,L.regex.lastIndex-=u[0].length):L.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),r}nest(r,n,o={}){let l,u,d;const h=(m,_)=>{const S=this.nestingOptionsSeparator;if(m.indexOf(S)<0)return m;const x=m.split(new RegExp(`${S}[ ]*{`));let I=`{${x[1]}`;m=x[0],I=this.interpolate(I,d);const k=I.match(/'/g),L=I.match(/"/g);(((k==null?void 0:k.length)??0)%2===0&&!L||L.length%2!==0)&&(I=I.replace(/'/g,'"'));try{d=JSON.parse(I),_&&(d={..._,...d})}catch(D){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,D),`${m}${S}${I}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,m};for(;l=this.nestingRegexp.exec(r);){let m=[];d={...o},d=d.replace&&!ve(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const _=/{.*}/.test(l[1])?l[1].lastIndexOf("}")+1:l[1].indexOf(this.formatSeparator);if(_!==-1&&(m=l[1].slice(_).split(this.formatSeparator).map(S=>S.trim()).filter(Boolean),l[1]=l[1].slice(0,_)),u=n(h.call(this,l[1].trim(),d),d),u&&l[0]===r&&!ve(u))return u;ve(u)||(u=gu(u)),u||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${r}`),u=""),m.length&&(u=m.reduce((S,x)=>this.format(S,x,o.lng,{...o,interpolationkey:l[1].trim()}),u.trim())),r=r.replace(l[0],u),this.regexp.lastIndex=0}return r}}const ab=s=>{let r=s.toLowerCase().trim();const n={};if(s.indexOf("(")>-1){const o=s.split("(");r=o[0].toLowerCase().trim();const l=o[1].substring(0,o[1].length-1);r==="currency"&&l.indexOf(":")<0?n.currency||(n.currency=l.trim()):r==="relativetime"&&l.indexOf(":")<0?n.range||(n.range=l.trim()):l.split(";").forEach(d=>{if(d){const[h,...m]=d.split(":"),_=m.join(":").trim().replace(/^'+|'+$/g,""),S=h.trim();n[S]||(n[S]=_),_==="false"&&(n[S]=!1),_==="true"&&(n[S]=!0),isNaN(_)||(n[S]=parseInt(_,10))}})}return{formatName:r,formatOptions:n}},Ru=s=>{const r={};return(n,o,l)=>{let u=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(u={...u,[l.interpolationkey]:void 0});const d=o+JSON.stringify(u);let h=r[d];return h||(h=s(Jn(o),l),r[d]=h),h(n)}},ob=s=>(r,n,o)=>s(Jn(n),o)(r);class lb{constructor(r={}){this.logger=cr.create("formatter"),this.options=r,this.init(r)}init(r,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const o=n.cacheInBuiltFormats?Ru:ob;this.formats={number:o((l,u)=>{const d=new Intl.NumberFormat(l,{...u});return h=>d.format(h)}),currency:o((l,u)=>{const d=new Intl.NumberFormat(l,{...u,style:"currency"});return h=>d.format(h)}),datetime:o((l,u)=>{const d=new Intl.DateTimeFormat(l,{...u});return h=>d.format(h)}),relativetime:o((l,u)=>{const d=new Intl.RelativeTimeFormat(l,{...u});return h=>d.format(h,u.range||"day")}),list:o((l,u)=>{const d=new Intl.ListFormat(l,{...u});return h=>d.format(h)})}}add(r,n){this.formats[r.toLowerCase().trim()]=n}addCached(r,n){this.formats[r.toLowerCase().trim()]=Ru(n)}format(r,n,o,l={}){const u=n.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(h=>h.indexOf(")")>-1)){const h=u.findIndex(m=>m.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,h)].join(this.formatSeparator)}return u.reduce((h,m)=>{var x;const{formatName:_,formatOptions:S}=ab(m);if(this.formats[_]){let I=h;try{const k=((x=l==null?void 0:l.formatParams)==null?void 0:x[l.interpolationkey])||{},L=k.locale||k.lng||l.locale||l.lng||o;I=this.formats[_](h,L,{...S,...l,...k})}catch(k){this.logger.warn(k)}return I}else this.logger.warn(`there was no format function for ${_}`);return h},r)}}const cb=(s,r)=>{s.pending[r]!==void 0&&(delete s.pending[r],s.pendingCount--)};class ub extends di{constructor(r,n,o,l={}){var u,d;super(),this.backend=r,this.store=n,this.services=o,this.languageUtils=o.languageUtils,this.options=l,this.logger=cr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],(d=(u=this.backend)==null?void 0:u.init)==null||d.call(u,o,l.backend,l)}queueLoad(r,n,o,l){const u={},d={},h={},m={};return r.forEach(_=>{let S=!0;n.forEach(x=>{const I=`${_}|${x}`;!o.reload&&this.store.hasResourceBundle(_,x)?this.state[I]=2:this.state[I]<0||(this.state[I]===1?d[I]===void 0&&(d[I]=!0):(this.state[I]=1,S=!1,d[I]===void 0&&(d[I]=!0),u[I]===void 0&&(u[I]=!0),m[x]===void 0&&(m[x]=!0)))}),S||(h[_]=!0)}),(Object.keys(u).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(u),pending:Object.keys(d),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(m)}}loaded(r,n,o){const l=r.split("|"),u=l[0],d=l[1];n&&this.emit("failedLoading",u,d,n),!n&&o&&this.store.addResourceBundle(u,d,o,void 0,void 0,{skipCopy:!0}),this.state[r]=n?-1:2,n&&o&&(this.state[r]=0);const h={};this.queue.forEach(m=>{q0(m.loaded,[u],d),cb(m,r),n&&m.errors.push(n),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(_=>{h[_]||(h[_]={});const S=m.loaded[_];S.length&&S.forEach(x=>{h[_][x]===void 0&&(h[_][x]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(m=>!m.done)}read(r,n,o,l=0,u=this.retryTimeout,d){if(!r.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:n,fcName:o,tried:l,wait:u,callback:d});return}this.readingCalls++;const h=(_,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const x=this.waitingReads.shift();this.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(_&&S&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,r,n,o,l+1,u*2,d)},u);return}d(_,S)},m=this.backend[o].bind(this.backend);if(m.length===2){try{const _=m(r,n);_&&typeof _.then=="function"?_.then(S=>h(null,S)).catch(h):h(null,_)}catch(_){h(_)}return}return m(r,n,h)}prepareLoading(r,n,o={},l){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();ve(r)&&(r=this.languageUtils.toResolveHierarchy(r)),ve(n)&&(n=[n]);const u=this.queueLoad(r,n,o,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(d=>{this.loadOne(d)})}load(r,n,o){this.prepareLoading(r,n,{},o)}reload(r,n,o){this.prepareLoading(r,n,{reload:!0},o)}loadOne(r,n=""){const o=r.split("|"),l=o[0],u=o[1];this.read(l,u,"read",void 0,void 0,(d,h)=>{d&&this.logger.warn(`${n}loading namespace ${u} for language ${l} failed`,d),!d&&h&&this.logger.log(`${n}loaded namespace ${u} for language ${l}`,h),this.loaded(r,d,h)})}saveMissing(r,n,o,l,u,d={},h=()=>{}){var m,_,S,x,I;if((_=(m=this.services)==null?void 0:m.utils)!=null&&_.hasLoadedNamespace&&!((x=(S=this.services)==null?void 0:S.utils)!=null&&x.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${o}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if((I=this.backend)!=null&&I.create){const k={...d,isUpdate:u},L=this.backend.create.bind(this.backend);if(L.length<6)try{let D;L.length===5?D=L(r,n,o,l,k):D=L(r,n,o,l),D&&typeof D.then=="function"?D.then(G=>h(null,G)).catch(h):h(null,D)}catch(D){h(D)}else L(r,n,o,l,h,k)}!r||!r[0]||this.store.addResource(r[0],n,o,l)}}}const ku=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let r={};if(typeof s[1]=="object"&&(r=s[1]),ve(s[1])&&(r.defaultValue=s[1]),ve(s[2])&&(r.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const n=s[3]||s[2];Object.keys(n).forEach(o=>{r[o]=n[o]})}return r},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ou=s=>{var r,n;return ve(s.ns)&&(s.ns=[s.ns]),ve(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),ve(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((n=(r=s.supportedLngs)==null?void 0:r.indexOf)==null?void 0:n.call(r,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},qs=()=>{},db=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(n=>{typeof s[n]=="function"&&(s[n]=s[n].bind(s))})};class Zn extends di{constructor(r={},n){if(super(),this.options=Ou(r),this.services={},this.logger=cr,this.modules={external:[]},db(this),n&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,n),this;setTimeout(()=>{this.init(r,n)},0)}}init(r={},n){this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(ve(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const o=ku();this.options={...o,...this.options,...Ou(r)},this.options.interpolation={...o.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const l=_=>_?typeof _=="function"?new _:_:null;if(!this.options.isClone){this.modules.logger?cr.init(l(this.modules.logger),this.options):cr.init(null,this.options);let _;this.modules.formatter?_=this.modules.formatter:_=lb;const S=new bu(this.options);this.store=new xu(this.options.resources,this.options);const x=this.services;x.logger=cr,x.resourceStore=this.store,x.languageUtils=S,x.pluralResolver=new sb(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),_&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(x.formatter=l(_),x.formatter.init&&x.formatter.init(x,this.options),this.options.interpolation.format=x.formatter.format.bind(x.formatter)),x.interpolator=new ib(this.options),x.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},x.backendConnector=new ub(l(this.modules.backend),x.resourceStore,x,this.options),x.backendConnector.on("*",(k,...L)=>{this.emit(k,...L)}),this.modules.languageDetector&&(x.languageDetector=l(this.modules.languageDetector),x.languageDetector.init&&x.languageDetector.init(x,this.options.detection,this.options)),this.modules.i18nFormat&&(x.i18nFormat=l(this.modules.i18nFormat),x.i18nFormat.init&&x.i18nFormat.init(this)),this.translator=new ti(this.services,this.options),this.translator.on("*",(k,...L)=>{this.emit(k,...L)}),this.modules.external.forEach(k=>{k.init&&k.init(this)})}if(this.format=this.options.interpolation.format,n||(n=qs),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const _=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);_.length>0&&_[0]!=="dev"&&(this.options.lng=_[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(_=>{this[_]=(...S)=>this.store[_](...S)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(_=>{this[_]=(...S)=>(this.store[_](...S),this)});const h=Bn(),m=()=>{const _=(S,x)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(x),n(S,x)};if(this.languages&&!this.isInitialized)return _(null,this.t.bind(this));this.changeLanguage(this.options.lng,_)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),h}loadResources(r,n=qs){var u,d;let o=n;const l=ve(r)?r:this.language;if(typeof r=="function"&&(o=r),!this.options.resources||this.options.partialBundledLanguages){if((l==null?void 0:l.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const h=[],m=_=>{if(!_||_==="cimode")return;this.services.languageUtils.toResolveHierarchy(_).forEach(x=>{x!=="cimode"&&h.indexOf(x)<0&&h.push(x)})};l?m(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(S=>m(S)),(d=(u=this.options.preload)==null?void 0:u.forEach)==null||d.call(u,_=>m(_)),this.services.backendConnector.load(h,this.options.ns,_=>{!_&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(_)})}else o(null)}reloadResources(r,n,o){const l=Bn();return typeof r=="function"&&(o=r,r=void 0),typeof n=="function"&&(o=n,n=void 0),r||(r=this.languages),n||(n=this.options.ns),o||(o=qs),this.services.backendConnector.reload(r,n,u=>{l.resolve(),o(u)}),l}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&wd.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let n=0;n<this.languages.length;n++){const o=this.languages[n];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,n){this.isLanguageChangingTo=r;const o=Bn();this.emit("languageChanging",r);const l=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},u=(h,m)=>{m?this.isLanguageChangingTo===r&&(l(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,o.resolve((..._)=>this.t(..._)),n&&n(h,(..._)=>this.t(..._))},d=h=>{var S,x;!r&&!h&&this.services.languageDetector&&(h=[]);const m=ve(h)?h:h&&h[0],_=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(ve(h)?[h]:h);_&&(this.language||l(_),this.translator.language||this.translator.changeLanguage(_),(x=(S=this.services.languageDetector)==null?void 0:S.cacheUserLanguage)==null||x.call(S,_)),this.loadResources(_,I=>{u(I,_)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(r),o}getFixedT(r,n,o){const l=(u,d,...h)=>{let m;typeof d!="object"?m=this.options.overloadTranslationOptionHandler([u,d].concat(h)):m={...d},m.lng=m.lng||l.lng,m.lngs=m.lngs||l.lngs,m.ns=m.ns||l.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||o||l.keyPrefix);const _=this.options.keySeparator||".";let S;return m.keyPrefix&&Array.isArray(u)?S=u.map(x=>(typeof x=="function"&&(x=ao(x,{...this.options,...d})),`${m.keyPrefix}${_}${x}`)):(typeof u=="function"&&(u=ao(u,{...this.options,...d})),S=m.keyPrefix?`${m.keyPrefix}${_}${u}`:u),this.t(S,m)};return ve(r)?l.lng=r:l.lngs=r,l.ns=n,l.keyPrefix=o,l}t(...r){var n;return(n=this.translator)==null?void 0:n.translate(...r)}exists(...r){var n;return(n=this.translator)==null?void 0:n.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=n.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const d=(h,m)=>{const _=this.services.backendConnector.state[`${h}|${m}`];return _===-1||_===0||_===2};if(n.precheck){const h=n.precheck(this,d);if(h!==void 0)return h}return!!(this.hasResourceBundle(o,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(o,r)&&(!l||d(u,r)))}loadNamespaces(r,n){const o=Bn();return this.options.ns?(ve(r)&&(r=[r]),r.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{o.resolve(),n&&n(l)}),o):(n&&n(),Promise.resolve())}loadLanguages(r,n){const o=Bn();ve(r)&&(r=[r]);const l=this.options.preload||[],u=r.filter(d=>l.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return u.length?(this.options.preload=l.concat(u),this.loadResources(d=>{o.resolve(),n&&n(d)}),o):(n&&n(),Promise.resolve())}dir(r){var l,u;if(r||(r=this.resolvedLanguage||(((l=this.languages)==null?void 0:l.length)>0?this.languages[0]:this.language)),!r)return"rtl";try{const d=new Intl.Locale(r);if(d&&d.getTextInfo){const h=d.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=((u=this.services)==null?void 0:u.languageUtils)||new bu(ku());return r.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(o.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},n){return new Zn(r,n)}cloneInstance(r={},n=qs){const o=r.forkResourceStore;o&&delete r.forkResourceStore;const l={...this.options,...r,isClone:!0},u=new Zn(l);if((r.debug!==void 0||r.prefix!==void 0)&&(u.logger=u.logger.clone(r)),["store","services","language"].forEach(h=>{u[h]=this[h]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},o){const h=Object.keys(this.store.data).reduce((m,_)=>(m[_]={...this.store.data[_]},m[_]=Object.keys(m[_]).reduce((S,x)=>(S[x]={...m[_][x]},S),m[_]),m),{});u.store=new xu(h,l),u.services.resourceStore=u.store}return u.translator=new ti(u.services,l),u.translator.on("*",(h,...m)=>{u.emit(h,...m)}),u.init(l,n),u.translator.options=l,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const yt=Zn.createInstance();yt.createInstance=Zn.createInstance;yt.createInstance;yt.dir;yt.init;yt.loadResources;yt.reloadResources;yt.use;yt.changeLanguage;yt.getFixedT;yt.t;yt.exists;yt.setDefaultNamespace;yt.hasLoadedNamespace;yt.loadNamespaces;yt.loadLanguages;var Sd=[],fb=Sd.forEach,hb=Sd.slice;function pb(s){return fb.call(hb.call(arguments,1),function(r){if(r)for(var n in r)s[n]===void 0&&(s[n]=r[n])}),s}var Tu=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,gb=function(r,n,o){var l=o||{};l.path=l.path||"/";var u=encodeURIComponent(n),d="".concat(r,"=").concat(u);if(l.maxAge>0){var h=l.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");d+="; Max-Age=".concat(Math.floor(h))}if(l.domain){if(!Tu.test(l.domain))throw new TypeError("option domain is invalid");d+="; Domain=".concat(l.domain)}if(l.path){if(!Tu.test(l.path))throw new TypeError("option path is invalid");d+="; Path=".concat(l.path)}if(l.expires){if(typeof l.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+="; Expires=".concat(l.expires.toUTCString())}if(l.httpOnly&&(d+="; HttpOnly"),l.secure&&(d+="; Secure"),l.sameSite){var m=typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite;switch(m){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return d},Eu={create:function(r,n,o,l){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};o&&(u.expires=new Date,u.expires.setTime(u.expires.getTime()+o*60*1e3)),l&&(u.domain=l),document.cookie=gb(r,encodeURIComponent(n),u)},read:function(r){for(var n="".concat(r,"="),o=document.cookie.split(";"),l=0;l<o.length;l++){for(var u=o[l];u.charAt(0)===" ";)u=u.substring(1,u.length);if(u.indexOf(n)===0)return u.substring(n.length,u.length)}return null},remove:function(r){this.create(r,"",-1)}},mb={name:"cookie",lookup:function(r){var n;if(r.lookupCookie&&typeof document<"u"){var o=Eu.read(r.lookupCookie);o&&(n=o)}return n},cacheUserLanguage:function(r,n){n.lookupCookie&&typeof document<"u"&&Eu.create(n.lookupCookie,r,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},_b={name:"querystring",lookup:function(r){var n;if(typeof window<"u"){var o=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));for(var l=o.substring(1),u=l.split("&"),d=0;d<u.length;d++){var h=u[d].indexOf("=");if(h>0){var m=u[d].substring(0,h);m===r.lookupQuerystring&&(n=u[d].substring(h+1))}}}return n}},Wn=null,Iu=function(){if(Wn!==null)return Wn;try{Wn=window!=="undefined"&&window.localStorage!==null;var r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{Wn=!1}return Wn},yb={name:"localStorage",lookup:function(r){var n;if(r.lookupLocalStorage&&Iu()){var o=window.localStorage.getItem(r.lookupLocalStorage);o&&(n=o)}return n},cacheUserLanguage:function(r,n){n.lookupLocalStorage&&Iu()&&window.localStorage.setItem(n.lookupLocalStorage,r)}},Hn=null,Lu=function(){if(Hn!==null)return Hn;try{Hn=window!=="undefined"&&window.sessionStorage!==null;var r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{Hn=!1}return Hn},xb={name:"sessionStorage",lookup:function(r){var n;if(r.lookupSessionStorage&&Lu()){var o=window.sessionStorage.getItem(r.lookupSessionStorage);o&&(n=o)}return n},cacheUserLanguage:function(r,n){n.lookupSessionStorage&&Lu()&&window.sessionStorage.setItem(n.lookupSessionStorage,r)}},vb={name:"navigator",lookup:function(r){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var o=0;o<navigator.languages.length;o++)n.push(navigator.languages[o]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},wb={name:"htmlTag",lookup:function(r){var n,o=r.htmlTag||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(n=o.getAttribute("lang")),n}},bb={name:"path",lookup:function(r){var n;if(typeof window<"u"){var o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(o instanceof Array)if(typeof r.lookupFromPathIndex=="number"){if(typeof o[r.lookupFromPathIndex]!="string")return;n=o[r.lookupFromPathIndex].replace("/","")}else n=o[0].replace("/","")}return n}},Sb={name:"subdomain",lookup:function(r){var n=typeof r.lookupFromSubdomainIndex=="number"?r.lookupFromSubdomainIndex+1:1,o=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(o)return o[n]}},jd=!1;try{document.cookie,jd=!0}catch{}var Cd=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];jd||Cd.splice(1,1);function jb(){return{order:Cd,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(r){return r}}}var Rd=function(){function s(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bx(this,s),this.type="languageDetector",this.detectors={},this.init(r,n)}return Ux(s,[{key:"init",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=pb(o,this.options||{},jb()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(u){return u.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=l,this.addDetector(mb),this.addDetector(_b),this.addDetector(yb),this.addDetector(xb),this.addDetector(vb),this.addDetector(wb),this.addDetector(bb),this.addDetector(Sb)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var o=this;n||(n=this.options.order);var l=[];return n.forEach(function(u){if(o.detectors[u]){var d=o.detectors[u].lookup(o.options);d&&typeof d=="string"&&(d=[d]),d&&(l=l.concat(d))}}),l=l.map(function(u){return o.options.convertDetectedLanguage(u)}),this.services.languageUtils.getBestMatchFromCodes?l:l.length>0?l[0]:null}},{key:"cacheUserLanguage",value:function(n,o){var l=this;o||(o=this.options.caches),o&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||o.forEach(function(u){l.detectors[u]&&l.detectors[u].cacheUserLanguage(n,l.options)}))}}])}();Rd.type="languageDetector";const Cb={"app.title":"Runicorn Viewer","menu.runs":"Runs","menu.experiments":"Experiments","menu.comparison":"Comparison","menu.remote":"Remote","tag.api_ok":"API OK","tag.api_loading":"API…","tag.api_down":"API DOWN","table.project":"Project","table.name":"Name","table.run_id":"Run ID","table.status":"Status","table.best_metric":"Best Metric","table.pid":"PID","table.created":"Created","table.actions":"Actions","table.view":"View","table.duration":"Duration",pause:"Pause",Info:"Info",View:"View","Load Lineage Graph":"Load Lineage Graph",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",download:"Download",upload:"Upload",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close"},Rb={"experiments.total_runs":"Total Runs","experiments.running":"Running","experiments.finished":"Finished","experiments.failed":"Failed","experiments.interrupted":"Interrupted","experiments.best_metric":"Best Metric","experiments.artifacts_created":"Artifacts","experiments.artifacts_created_tip":"{{count}} artifacts created","experiments.search_placeholder":"Search by name or ID...","experiments.compare":"Compare","experiments.export":"Export","experiments.delete":"Delete","experiments.cancel":"Cancel","experiments.fetch_failed":"Failed to fetch runs","experiments.delete_confirm_title":"Delete Runs","experiments.delete_confirm_content":"Delete {{count}} selected runs? This cannot be undone.","experiments.delete_success":"Successfully deleted {{count}} runs","experiments.delete_failed":"Failed to delete runs","experiments.export_started":"Exporting runs...","experiments.select_multiple":"Please select at least 2 runs to compare","experiments.compare_hint":"Use the comparison feature in the run detail page","experiments.select_one":"Please select at least one run to export","experiments.export_success":"Successfully exported {{count}} runs","experiments.export_failed":"Failed to export runs","experiments.export_json":"Export as JSON","experiments.export_csv":"Export as CSV","experiments.auto_refresh":"Auto-refresh","experiments.check_status":"Check Status","experiments.check_status_tooltip":"Check if running experiments are still alive and update their status","experiments.move_to_bin_title":"Move to Recycle Bin","experiments.soft_delete_confirm_content":"Move {{count}} selected runs to recycle bin?","experiments.soft_delete_note":"Files will be preserved and can be restored later.","experiments.move_to_bin":"Move to Bin","experiments.soft_delete_success":"Moved {{count}} runs to recycle bin","experiments.new_runs":"New runs detected","experiments.select_one_delete":"Please select at least one run to delete","experiments.delete_warning":"This cannot be undone!","experiments.no_runs":"No experiments found","experiments.table_total":"{{from}}-{{to}} of {{total}} items","runs.refresh":"Refresh","runs.auto_refresh_hint":"Auto refresh every 5s","runs.auto_refresh":"Auto Refresh","runs.filter.project":"Project:","runs.filter.name":"Name:","runs.filter.all":"All","runs.refreshing":"Refreshing...","run.title":"Run {{id}}","run.descriptions.status":"Status","run.descriptions.pid":"PID","run.descriptions.project":"Project","run.descriptions.name":"Name","run.descriptions.dir":"Run Dir","run.descriptions.logs":"Logs","run.descriptions.metrics":"Metrics Events","run.load_failed":"Failed to load run details","run.metrics_failed":"Failed to load metrics","metrics.title":"Metrics","metrics.more_columns":"More Columns","metrics.more_columns_tooltip":"Display charts in multiple columns for better comparison","metrics.none":"No step metrics yet.","logs.title":"Live Logs","logs.status.connected":"Connected","logs.status.connecting":"Connecting...","logs.status.disconnected":"Disconnected","logs.status.retry_in":"retry in {{sec}}s","logs.tooltip.autoscroll":"Automatically scroll to the latest line","logs.autoscroll":"Auto Scroll","logs.tooltip.filter_tqdm":"Hide tqdm progress frames to reduce noise","logs.filter_tqdm":"Filter tqdm","logs.clear":"Clear","logs.copy":"Copy","logs.copied":"Copied logs to clipboard","logs.copy_failed":"Copy failed","gpu.util":"Util","gpu.mem":"Memory","gpu.power":"Power","gpu.temp":"Temp","gpu.chart.util":"GPU Utilization %","gpu.chart.mem":"Memory Used %","gpu.chart.power":"Power (W)","gpu.chart.temp":"Temperature (°C)","gpu.not_available":"GPU telemetry not available","gpu.title":"GPU Telemetry","gpu.detail":"GPUs: {{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"Polling every 2s","compare.title":"Compare Runs (Same Experiment)","compare.select.runs":"Runs:","compare.select.runs.placeholder":"Select runs to overlay","compare.select.metrics":"Metrics:","compare.select.metrics.placeholder":"Select metric keys","compare.stepx":"Step X:","compare.refresh":"Refresh","compare.tip":"Select one or more runs and metrics to overlay.","comparison.select_runs":"Select Runs","comparison.select_runs_placeholder":"Choose runs to compare","comparison.select_metrics":"Select Metrics","comparison.select_metrics_placeholder":"Choose metrics to display","comparison.refresh":"Refresh","comparison.x_axis":"X-Axis","comparison.fetch_failed":"Failed to fetch runs","comparison.load_failed":"Failed to load metrics","comparison.loading":"Loading metrics...","comparison.no_runs_selected":"Select runs to start comparison","comparison.no_metrics_selected":"No metrics available or selected","comparison.need_multiple":"Please select at least 2 runs for comparison","comparison.best_results":"Best Results","comparison.info_title":"Cross-Experiment Comparison","comparison.info_desc":"Compare runs across different projects and experiments. For comparing runs within the same experiment, use the comparison feature in the run detail page.","recycle_bin.title":"Recycle Bin","recycle_bin.tooltip":"View and restore deleted experiments","recycle_bin.description":"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.","recycle_bin.original_status":"Original Status","recycle_bin.deleted_at":"Deleted At","recycle_bin.restore_single":"Restore this run","recycle_bin.restore_selected":"Restore Selected","recycle_bin.empty_bin":"Empty Bin","recycle_bin.empty_confirm_title":"Empty Recycle Bin","recycle_bin.empty_confirm_desc":"This will permanently delete all runs in recycle bin. This cannot be undone!","recycle_bin.empty_confirm":"Yes, Delete All","recycle_bin.fetch_failed":"Failed to load recycle bin","recycle_bin.select_to_restore":"Please select runs to restore","recycle_bin.restore_success":"Restored {{count}} runs","recycle_bin.restore_failed":"Failed to restore runs","recycle_bin.empty_success":"Permanently deleted {{count}} runs","recycle_bin.empty_failed":"Failed to empty recycle bin","recycle_bin.empty_state":"Recycle bin is empty","recycle_bin.selection_info":"{{count}} runs selected for restoration","recycle_bin.table_total":"{{from}}-{{to}} of {{total}} items"},kb={"menu.artifacts":"Artifacts","artifacts.title":"Artifacts","artifacts.description":"Version-controlled models, datasets, and files","artifacts.type.all":"All Types","artifacts.type.model":"Models","artifacts.type.dataset":"Datasets","artifacts.type.config":"Configs","artifacts.type.code":"Code","artifacts.type.custom":"Custom","artifacts.search_placeholder":"Search artifacts...","artifacts.no_artifacts":"No artifacts found","artifacts.create_first":"Create your first artifact by logging it from your training code","artifacts.latest_version":"Latest: v{{version}}","artifacts.versions_count":"{{count}} versions","artifacts.size":"Size","artifacts.files":"Files","artifacts.created":"Created","artifacts.updated":"Updated","artifacts.aliases":"Aliases","artifacts.view_versions":"View Versions","artifacts.download":"Download","artifacts.delete":"Delete","artifacts.delete_confirm":"Delete artifact {{name}}:v{{version}}?","artifacts.delete_warning":"This action cannot be undone!","artifacts.stats.total":"Total Artifacts","artifacts.stats.total_versions":"Total Versions","artifacts.stats.total_size":"Total Size","artifacts.stats.dedup_saved":"Space Saved (Dedup)","artifact.detail.title":"Artifact: {{name}}","artifact.detail.version":"Version {{version}}","artifact.detail.type":"Type","artifact.detail.status":"Status","artifact.detail.created_by":"Created By","artifact.detail.created_at":"Created At","artifact.detail.size":"Size","artifact.detail.files_count":"Files","artifact.detail.description":"Description","artifact.detail.metadata":"Metadata","artifact.detail.tags":"Tags","artifact.detail.no_description":"No description provided","artifact.detail.no_metadata":"No metadata","artifact.detail.no_tags":"No tags","artifact.detail.storage_path":"Storage Path","artifact.versions.title":"Version History","artifact.versions.current":"Current Version","artifact.versions.all":"All Versions","artifact.versions.compare":"Compare Versions","artifact.versions.version":"Version","artifact.versions.date":"Date","artifact.versions.run":"Run","artifact.versions.size":"Size","artifact.versions.files":"Files","artifact.versions.actions":"Actions","artifact.files.title":"Files","artifact.files.name":"Name","artifact.files.size":"Size","artifact.files.hash":"Hash","artifact.files.download_file":"Download File","artifact.files.no_files":"No files in this artifact","artifact.references.title":"External References","artifact.references.uri":"URI","artifact.references.checksum":"Checksum","artifact.references.no_references":"No external references","artifact.lineage.title":"Lineage Graph","artifact.lineage.description":"Shows how this artifact was created and how it is used","artifact.lineage.upstream":"Upstream Dependencies","artifact.lineage.downstream":"Downstream Usage","artifact.lineage.no_dependencies":"No dependencies found","artifact.lineage.loading":"Loading lineage graph...","artifact.lineage.error":"Failed to load lineage graph","artifact.lineage.node.artifact":"Artifact","artifact.lineage.node.run":"Run","artifact.lineage.edge.uses":"uses","artifact.lineage.edge.produces":"produces","artifact.training.tab":"Training History","artifact.training.title":"Training Information","artifact.training.no_data":"No training information available","artifact.training.view_run":"View Training Run","artifact.training.run_name":"Run Name","artifact.training.project":"Project","artifact.training.status":"Status","artifact.training.duration":"Duration","artifact.training.created_at":"Created At","artifact.training.key_metrics":"Key Metrics","artifact.performance.tab":"Performance","artifact.performance.title":"Performance History","artifact.performance.no_data":"No performance data available","artifact.performance.select_metrics":"Select metrics to display","artifact.performance.select_metrics_hint":"Please select metrics to display","artifact.performance.metrics":"Metrics","artifacts.stage":"Stage","artifacts.stage.experimental":"Experimental","artifacts.stage.staging":"Staging","artifacts.stage.production":"Production","artifacts.stage.archived":"Archived"},Ob={"remote_storage.sync.mode":"Sync Mode","remote_storage.saved_connections":"Saved Connections","remote_storage.password_saved":"One-Click","remote_storage.no_password":"Need Password","remote_storage.one_click_connect":"Click to connect directly without entering password","remote_storage.need_password":"Click and then manually enter password","remote_storage.remember_connection":"Remember this connection","remote_storage.connection_name_placeholder":"Connection name (optional)","remote_storage.remember_password":"Remember password","remote_storage.remember_password_tooltip":"Password will be saved in local config file, please ensure your system is secure","remote_storage.msg.connection_deleted":"Connection deleted","remote_storage.msg.delete_failed":"Delete failed","remote_storage.msg.load_failed":"Failed to load connection","remote_storage.msg.auto_connecting":"Auto-connecting...","remote_storage.warning":"Warning","unified_remote.title":"Remote Connection","unified_remote.subtitle":"Connect to remote server to view and manage experiment data","unified_remote.mode.smart":"Smart Mode","unified_remote.mode.smart_tag":"Recommended","unified_remote.mode.smart_desc":"Sync metadata only (~200MB), complete in 5 minutes, save 99.94% space","unified_remote.mode.mirror":"Full Mirror","unified_remote.mode.mirror_tag":"Traditional","unified_remote.mode.mirror_desc":"Real-time sync all files to local, complete copy","unified_remote.tags.fast":"Fast","unified_remote.tags.save_space":"Save Space","unified_remote.tags.on_demand":"On-Demand","unified_remote.tags.large_data":"Large Data","unified_remote.tags.full_sync":"Full Sync","unified_remote.ssh_config_title":"SSH Connection Configuration","unified_remote.connect":"Connect","unified_remote.connected":"Connected","unified_remote.connection_active":"SSH Connection Active","unified_remote.disconnect_title":"Disconnect Confirmation","unified_remote.mode.switch_confirm_title":"Switch Mode","unified_remote.mode.switch_confirm":"Switching mode will disconnect current connection. Continue?","unified_remote.mode.switch_failed":"Failed to switch mode","unified_remote.mode.smart_active":"Smart Mode Active","unified_remote.mode.mirror_active":"Mirror Mode Active","unified_remote.mode.smart_deactivated":"Smart mode deactivated","unified_remote.mode.mirror_deactivated":"Mirror mode deactivated","unified_remote.mirror.title":"Full Mirror Mode - Complete Sync","unified_remote.mirror.desc_1":"Real-time mirror entire directory to local","unified_remote.mirror.desc_2":"Sync all files (including large files)","unified_remote.mirror.desc_3":"Suitable for scenarios requiring complete local copy","unified_remote.mirror.desc_4":"⚠️ May take hours for large datasets","unified_remote.mirror.status_running":"Running","unified_remote.mirror.status_stopped":"Stopped","unified_remote.mirror.copied":"Copied","unified_remote.mirror.appended":"Appended","unified_remote.mirror.scans":"Scans","remote_storage.menu":"Remote","remote_storage.title":"Remote Storage Configuration","remote_storage.subtitle":"Connect to remote server to view and manage Artifacts without syncing all files","remote_storage.connection.title":"Server Connection","remote_storage.form.host":"Server Address","remote_storage.form.host_help":"e.g. gpu-server.lab.edu or 192.168.1.100","remote_storage.form.host_placeholder":"gpu-server.example.edu","remote_storage.form.port":"Port","remote_storage.form.username":"Username","remote_storage.form.username_placeholder":"your-username","remote_storage.form.auth_method":"Authentication Method","remote_storage.form.auth_key":"SSH Key","remote_storage.form.auth_password":"Password","remote_storage.form.auth_agent":"SSH Agent","remote_storage.form.password":"Password","remote_storage.form.password_placeholder":"SSH password","remote_storage.form.private_key":"Private Key","remote_storage.form.private_key_placeholder":"Paste private key content (-----BEGIN ... -----) or use button below","remote_storage.form.private_key_passphrase":"Passphrase (if any)","remote_storage.form.private_key_passphrase_placeholder":"Private key passphrase (optional)","remote_storage.form.select_key_file":"Select Key File","remote_storage.form.key_loaded":"Key Loaded","remote_storage.form.remote_root":"Remote Data Directory","remote_storage.form.remote_root_help":"Runicorn data storage root directory","remote_storage.form.remote_root_placeholder":"/home/user/runicorn_data","remote_storage.form.auto_sync":"Auto Sync","remote_storage.form.auto_sync_interval":"Every","remote_storage.form.auto_sync_interval_suffix":"minutes, sync metadata automatically","remote_storage.form.connect_button":"Connect and Sync Metadata","remote_storage.form.connect_note":"(Only syncs metadata files, not large files)","remote_storage.form.required_fields":"Please fill required fields: Server Address, Username, Remote Directory","remote_storage.status.connected":"Connected to Remote Server","remote_storage.status.server":"Server","remote_storage.status.user":"User","remote_storage.status.remote_dir":"Remote Directory","remote_storage.status.cache_dir":"Cache Directory","remote_storage.status.manual_sync":"Manual Sync","remote_storage.status.verify":"Verify Connection","remote_storage.status.disconnect":"Disconnect","remote_storage.sync.title":"Metadata Sync Progress","remote_storage.sync.files_progress":"{{synced}}/{{total}} files","remote_storage.sync.current":"Current","remote_storage.sync.errors":"Sync Errors ({{count}})","remote_storage.sync.complete":"Metadata sync completed!","remote_storage.sync.failed":"Metadata sync failed","remote_storage.features.title":"Feature Description","remote_storage.features.advantages":"Advantages of Remote Storage Mode","remote_storage.features.fast_init":"Fast Initialization","remote_storage.features.fast_init_desc":"Only sync metadata (~200MB), complete in 5 minutes vs traditional 8 hours (340GB)","remote_storage.features.save_space":"Save Space","remote_storage.features.save_space_desc":"Only store metadata cache locally, save 99.94% space","remote_storage.features.on_demand":"On-Demand Download","remote_storage.features.on_demand_desc":"Download only the files you need, fully user controlled","remote_storage.features.direct_manage":"Direct Management","remote_storage.features.direct_manage_desc":"Delete, tag operations execute directly on server","remote_storage.features.real_time":"Real-time Sync","remote_storage.features.real_time_desc":"Metadata auto-syncs, always see latest state","remote_storage.features.security":"Security","remote_storage.features.security_desc_1":"Support SSH key (recommended), password, SSH Agent authentication","remote_storage.features.security_desc_2":"Keys stored in memory only, not persisted to disk","remote_storage.features.security_desc_3":"Uses standard SSH protocol, same security as ssh command","remote_storage.features.workflow":"Usage Flow","remote_storage.features.workflow_1":"Fill in server connection info (SSH config)","remote_storage.features.workflow_2":'Click "Connect and Sync Metadata" (~5 minutes)',"remote_storage.features.workflow_3":"Browse remote artifacts on Artifacts page (second-level response)","remote_storage.features.workflow_4":'Click "Download" button when files needed (shows progress)',"remote_storage.features.workflow_5":"Direct management operations like delete, tag, etc.","remote_storage.msg.connect_success":"Successfully connected to {{host}}","remote_storage.msg.connect_failed":"Connection failed","remote_storage.msg.disconnect_success":"Disconnected from remote server","remote_storage.msg.disconnect_failed":"Disconnect failed","remote_storage.msg.sync_started":"Metadata sync started","remote_storage.msg.smart_configured":"Smart mode configured successfully","remote_storage.msg.config_failed":"Configuration failed","remote_storage.msg.verify_ok":"Remote connection is normal","remote_storage.msg.verify_failed":"Remote connection unavailable","remote_storage.download.modal_title":"Download Artifact: {{name}}:v{{version}}","remote_storage.download.downloading":"Downloading...","remote_storage.download.complete":"Download Complete!","remote_storage.download.complete_desc":"Files saved to: {{path}}","remote_storage.download.failed":"Download Failed","remote_storage.download.files":"Files","remote_storage.download.size":"Size","remote_storage.download.estimated_remaining":"Estimated Remaining","remote_storage.download.artifact":"Artifact","remote_storage.download.version":"Version","remote_storage.download.type":"Type","remote_storage.download.status":"Status","remote_storage.download.status_running":"Downloading","remote_storage.download.status_completed":"Completed","remote_storage.download.status_failed":"Failed","remote_storage.download.save_location":"Save Location","remote_storage.download.cancel_button":"Cancel Download","remote_storage.download.view_location":"View Download Location","remote_storage.download.close":"Close","remote_storage.download.minimize":"Minimize","remote_storage.download.confirm_close":"Confirm Close","remote_storage.download.confirm_close_desc":"Download is in progress, closing will continue download in background. Continue?","remote_storage.download.location_info":"Download location: {{path}}","remote_storage.actions.download_local":"Download to Local ({{size}})","remote_storage.actions.open_folder":"Open Folder","remote_storage.actions.delete_version":"Delete Version","remote_storage.actions.manage_tags":"Manage Tags","remote_storage.actions.set_alias":"Set Alias","remote_storage.actions.delete_confirm":"Confirm delete {{name}}:v{{version}}? {{remote}}","remote_storage.actions.delete_remote_note":"This will execute on remote server.","remote_storage.actions.delete":"Delete","remote_storage.actions.cancel":"Cancel","remote_storage.actions.delete_success":"{{message}}","remote_storage.actions.delete_failed":"Delete failed","remote_storage.actions.local_no_download":"No need to download in local mode","remote_storage.actions.feature_dev":"Feature in development","remote_storage.indicator.local":"Local","remote_storage.indicator.local_mode":"Local Storage Mode","remote_storage.indicator.remote":"Remote","remote_storage.indicator.remote_status":"Remote Storage Status","remote_storage.indicator.connection_status":"Connection Status","remote_storage.indicator.connected":"Connected","remote_storage.indicator.last_sync":"Last Sync","remote_storage.indicator.cached_artifacts":"Cached Artifacts","remote_storage.indicator.cache_size":"Cache Size","remote_storage.indicator.sync_progress":"Sync Progress","remote_storage.indicator.sync_now":"Sync Now","remote_storage.indicator.disconnect":"Disconnect"},Tb={"settings.drawer.title":"Settings","settings.theme.title":"Theme","settings.theme.mode":"Mode","settings.theme.light":"Light","settings.theme.dark":"Dark","settings.theme.auto":"Follow System","settings.appearance.primary_color":"Primary Color","settings.appearance.density":"Density","settings.appearance.density_compact":"Compact (high info density)","settings.appearance.density_default":"Default","settings.appearance.density_loose":"Loose (more whitespace)","settings.glass":"Glass effect","settings.glass.on":"On","settings.glass.off":"Off","settings.performance.auto_refresh":"Auto Refresh","settings.performance.refresh_interval":"Refresh Interval","settings.performance.animations":"UI Animations","settings.performance.chart_animations":"Chart Animations","settings.performance.sounds":"Sound Notifications","settings.charts.default_height":"Default Chart Height","settings.charts.grid_lines":"Show Grid Lines","settings.charts.max_points":"Max Data Points","settings.animations.ui_desc":"Page transitions, hover effects, modal animations","settings.animations.chart_desc":"Chart data loading animations, smooth transitions","settings.units.seconds":"seconds","settings.units.points":"points","settings.units.pixels":"px","settings.data.not_configured":"Not configured","settings.auto_refresh.desc":"Automatically refresh experiment data","settings.grid_lines.desc":"Display grid lines in charts for better readability","settings.sounds.desc":"Play notification sounds for alerts and status changes","settings.glass.desc":"Glass morphism effect with background blur","settings.tabs.appearance":"Appearance","settings.tabs.layout":"Layout","settings.tabs.data":"Data","settings.tabs.performance":"Performance","settings.cards.theme":"Theme","settings.cards.background":"Background","settings.cards.visual_effects":"Visual Effects","settings.cards.storage":"Storage Settings","settings.cards.import_export":"Import & Export","settings.cards.performance":"Performance","settings.cards.advanced":"Advanced","settings.data.title":"Data Directory","settings.data.current_storage":"Current storage: {{path}}","settings.data.user_root.label":"User root directory (lower priority than env RUNICORN_DIR)","settings.data.user_root.placeholder":"e.g. D:\\RunicornData","settings.data.note":"Saved to user config and takes effect immediately. If RUNICORN_DIR is set, it has higher priority.","settings.data.save":"Save Data Directory","settings.messages.enter_valid_path":"Please enter a valid absolute path (e.g. D:\\RunicornData)","settings.messages.updated":"User root updated","settings.messages.update_failed":"Update failed","settings.done":"Done","background.title":"Background","background.type.label":"Background Type","background.type.image":"Image","background.type.gradient":"Gradient","background.type.color":"Color","background.image_url":"Image URL","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"Background preview","background.gradient_presets":"Gradient presets","background.color":"Background color","background.opacity":"Opacity","background.blur":"Blur","offline_import.title":"Offline Import (zip / tar.gz)","offline_import.desc":"Import runs exported from offline Linux servers into the local storage for viewing.","offline_import.drag":"Drag file here or click to select","offline_import.supports":"Supports .zip / .tar.gz (internal layout: project/name/runs/<run_id>)","offline_import.importing":"Importing…","offline_import.success":"Imported {{count}} new runs.","offline_import.failed":"Import failed","remote_moved.title":"Remote Sync","remote_moved.tip":'Remote live sync has moved to a dedicated page. Use the top "Remote" menu or click to open.',"chart.controls.title":"Chart Controls","chart.log_y":"Log Scale Y","chart.log_y_tooltip":"Use logarithmic y-axis (hides non-positive values)","chart.auto_scale":"Auto Scale Y","chart.auto_scale_tooltip":"Dynamic y-axis (do not force start at 0)","chart.smooth":"Smoothing","chart.smooth_tooltip":"Exponential moving average smoothing","chart.x_axis":"X Axis","chart.x_axis_tooltip":"X-axis source column","chart.export_csv":"Export CSV","chart.y_axis_controls":"Y-Axis","chart.linear":"Linear","chart.log":"Log","chart.auto":"Auto","chart.fixed":"Fixed","chart.off":"Off","remote.title":"Remote Sync (SSH)","remote.desc":"Establish SSH connection to a Linux server, browse and choose a remote directory as data source, mirror to local storage and visualize on the Runs page.","remote.connect.title":"Connect to server","remote.placeholder.host":"Host, e.g. 10.0.0.2","remote.placeholder.port":"Port","remote.placeholder.user":"Username","remote.placeholder.password":"Password (optional)","remote.placeholder.pkey":"Private key content (optional)","remote.placeholder.pkey_path":"Or private key path (optional, e.g. ~/.ssh/id_rsa)","remote.connect.button":"Connect","remote.connected":"Connected: {{user}}@{{host}}:{{port}}","remote.disconnect":"Disconnect","remote.choose.title":"Choose remote directory","remote.current_dir":"Current:","remote.up":"Up","remote.refresh":"Refresh","remote.empty":"Empty or no permission","remote.interval.suffix":"sec","remote.sync_dir":"Sync this directory","remote.tip":"Select project/name/runs (new) or runs (legacy) instead of a specific <run_id>.","remote.tasks.title":"Sync Tasks","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"Stop","remote.tasks.none":"No tasks","remote.to_runs":"After syncing, go to the Runs page for visualization.","remote.msg.fill_host_user":"Please fill host and username","remote.msg.ssh_connected":"SSH connected","remote.msg.connect_failed":"Connection failed","remote.msg.dir_failed":"Failed to list directory","remote.msg.need_connect":"Please connect SSH first","remote.msg.need_path":"Please choose a remote directory","remote.msg.started":"Live sync started","remote.msg.start_failed":"Failed to start","remote.msg.mirror_configured":"Mirror mode configured successfully"},Eb={...Cb,...Rb,...kb,...Ob,...Tb},Ib={"app.title":"Runicorn 查看器","menu.runs":"运行","menu.experiments":"实验管理","menu.comparison":"对比分析","menu.remote":"远程","tag.api_ok":"API 正常","tag.api_loading":"API…","tag.api_down":"API 不可用","table.project":"项目","table.name":"实验","table.run_id":"运行 ID","table.status":"状态","table.best_metric":"最佳指标","table.pid":"PID","table.created":"创建时间","table.actions":"操作","table.view":"查看","table.duration":"耗时",pause:"暂停",Info:"信息",View:"查看","Load Lineage Graph":"加载血缘关系图",actions:"操作",view:"查看",edit:"编辑",delete:"删除",download:"下载",upload:"上传",save:"保存",cancel:"取消",confirm:"确认",close:"关闭"},Lb={"experiments.total_runs":"总运行数","experiments.running":"运行中","experiments.finished":"已完成","experiments.failed":"失败","experiments.interrupted":"已中断","experiments.best_metric":"最佳指标","experiments.artifacts_created":"产出模型","experiments.artifacts_created_tip":"创建了 {{count}} 个模型","experiments.artifacts_used":"使用模型","experiments.search_placeholder":"搜索实验名称或ID...","experiments.compare":"对比","experiments.export":"导出","experiments.delete":"删除","experiments.cancel":"取消","experiments.fetch_failed":"获取运行列表失败","experiments.delete_confirm_title":"删除运行","experiments.delete_confirm_content":"确定要删除选中的 {{count}} 个运行吗？此操作无法撤销。","experiments.delete_success":"成功删除 {{count}} 个运行","experiments.delete_failed":"删除失败","experiments.export_started":"正在导出运行数据...","experiments.select_multiple":"请至少选择2个运行进行对比","experiments.compare_hint":"请使用运行详情页面的对比功能","experiments.select_one":"请至少选择一个运行进行导出","experiments.export_success":"成功导出 {{count}} 个运行","experiments.export_failed":"导出失败","experiments.export_json":"导出为 JSON","experiments.export_csv":"导出为 CSV","experiments.auto_refresh":"自动刷新","experiments.check_status":"检查状态","experiments.check_status_tooltip":"检查运行中的实验是否仍然存活并更新其状态","experiments.move_to_bin_title":"移至回收站","experiments.soft_delete_confirm_content":"将{{count}}个选中的运行移至回收站？","experiments.soft_delete_note":"文件将被保留，稍后可以恢复。","experiments.move_to_bin":"移至回收站","experiments.soft_delete_success":"已将{{count}}个运行移至回收站","experiments.new_runs":"检测到新运行","experiments.select_one_delete":"请至少选择一个运行进行删除","experiments.delete_warning":"此操作不可撤销！","experiments.no_runs":"未找到实验","experiments.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项","runs.refresh":"刷新","runs.auto_refresh_hint":"每 5 秒自动刷新","runs.auto_refresh":"自动刷新","runs.filter.project":"项目：","runs.filter.name":"实验：","runs.filter.all":"全部","runs.refreshing":"刷新中...","run.title":"运行 {{id}}","run.descriptions.status":"状态","run.descriptions.pid":"PID","run.descriptions.project":"项目","run.descriptions.name":"实验","run.descriptions.dir":"运行目录","run.descriptions.logs":"日志","run.descriptions.metrics":"指标事件","run.load_failed":"加载运行详情失败","run.metrics_failed":"加载指标失败","metrics.title":"指标","metrics.more_columns":"多列布局","metrics.more_columns_tooltip":"多列显示图表以便更好地对比","metrics.none":"暂无步进指标。","logs.title":"实时日志","logs.status.connected":"已连接","logs.status.connecting":"连接中...","logs.status.disconnected":"已断开","logs.status.retry_in":"{{sec}} 秒后重试","logs.tooltip.autoscroll":"自动滚动到最新行","logs.autoscroll":"自动滚动","logs.tooltip.filter_tqdm":"隐藏 tqdm 进度帧以降低噪声","logs.filter_tqdm":"过滤 tqdm","logs.clear":"清空","logs.copy":"复制","logs.copied":"已复制日志到剪贴板","logs.copy_failed":"复制失败","gpu.util":"利用率","gpu.mem":"显存","gpu.power":"功耗","gpu.temp":"温度","gpu.chart.util":"GPU 利用率 %","gpu.chart.mem":"显存使用 %","gpu.chart.power":"功耗 (W)","gpu.chart.temp":"温度 (°C)","gpu.not_available":"GPU 面板不可用","gpu.title":"GPU 面板","gpu.detail":"GPU 数：{{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"每 2 秒轮询","compare.title":"对比运行（同一实验）","compare.select.runs":"运行：","compare.select.runs.placeholder":"选择需要叠加的运行","compare.select.metrics":"指标：","compare.select.metrics.placeholder":"选择指标键","compare.stepx":"横轴：","compare.refresh":"刷新","compare.tip":"选择一个或多个运行与指标以叠加展示。","comparison.select_runs":"选择运行","comparison.select_runs_placeholder":"选择要对比的运行","comparison.select_metrics":"选择指标","comparison.select_metrics_placeholder":"选择要显示的指标","comparison.refresh":"刷新","comparison.x_axis":"X轴","comparison.fetch_failed":"获取运行列表失败","comparison.load_failed":"加载指标数据失败","comparison.loading":"正在加载指标...","comparison.no_runs_selected":"请选择运行开始对比","comparison.no_metrics_selected":"没有可用或已选择的指标","comparison.need_multiple":"请至少选择2个运行进行对比","comparison.best_results":"最佳结果","comparison.info_title":"跨实验对比","comparison.info_desc":"在不同项目和实验之间对比运行。如需对比同一实验内的运行，请使用运行详情页面的对比功能。","recycle_bin.title":"回收站","recycle_bin.tooltip":"查看和恢复已删除的实验","recycle_bin.description":"回收站包含已软删除的实验。文件被保留，可以恢复。","recycle_bin.original_status":"原始状态","recycle_bin.deleted_at":"删除时间","recycle_bin.restore_single":"恢复此运行","recycle_bin.restore_selected":"恢复选中项","recycle_bin.empty_bin":"清空回收站","recycle_bin.empty_confirm_title":"清空回收站","recycle_bin.empty_confirm_desc":"这将永久删除回收站中的所有运行。此操作不可撤销！","recycle_bin.empty_confirm":"是的，全部删除","recycle_bin.fetch_failed":"加载回收站失败","recycle_bin.select_to_restore":"请选择要恢复的运行","recycle_bin.restore_success":"已恢复{{count}}个运行","recycle_bin.restore_failed":"恢复运行失败","recycle_bin.empty_success":"已永久删除{{count}}个运行","recycle_bin.empty_failed":"清空回收站失败","recycle_bin.empty_state":"回收站为空","recycle_bin.selection_info":"已选择{{count}}个运行用于恢复","recycle_bin.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项"},Pb={"run.artifacts.title":"关联的模型与数据集","run.artifacts.created":"创建的模型","run.artifacts.used":"使用的模型","run.artifacts.no_created":"此实验未创建任何模型或数据集","run.artifacts.no_used":"此实验未使用任何模型或数据集","menu.artifacts":"模型仓库","artifacts.title":"模型仓库","artifacts.description":"版本控制的模型、数据集和文件","artifacts.type.all":"全部类型","artifacts.type.model":"模型","artifacts.type.dataset":"数据集","artifacts.type.config":"配置","artifacts.type.code":"代码","artifacts.type.custom":"自定义","artifacts.search_placeholder":"搜索模型和数据集...","artifacts.no_artifacts":"未找到模型","artifacts.create_first":"在训练代码中通过 run.log_artifact() 创建您的第一个模型","artifacts.latest_version":"最新：v{{version}}","artifacts.versions_count":"{{count}} 个版本","artifacts.size":"大小","artifacts.files":"文件数","artifacts.created":"创建时间","artifacts.updated":"更新时间","artifacts.aliases":"别名","artifacts.view_versions":"查看版本","artifacts.download":"下载","artifacts.delete":"删除","artifacts.delete_confirm":"删除模型 {{name}}:v{{version}}？","artifacts.delete_warning":"此操作不可撤销！","artifacts.stats.total":"总模型数","artifacts.stats.total_versions":"总版本数","artifacts.stats.total_size":"总大小","artifacts.stats.dedup_saved":"去重节省空间","artifact.detail.title":"模型：{{name}}","artifact.detail.version":"版本 {{version}}","artifact.detail.type":"类型","artifact.detail.status":"状态","artifact.detail.created_by":"创建者","artifact.detail.created_at":"创建时间","artifact.detail.size":"大小","artifact.detail.files_count":"文件数","artifact.detail.description":"描述","artifact.detail.metadata":"元数据","artifact.detail.tags":"标签","artifact.detail.no_description":"无描述","artifact.detail.no_metadata":"无元数据","artifact.detail.no_tags":"无标签","artifact.detail.storage_path":"存储路径","artifact.versions.title":"版本历史","artifact.versions.current":"当前版本","artifact.versions.all":"所有版本","artifact.versions.compare":"对比版本","artifact.versions.version":"版本","artifact.versions.date":"日期","artifact.versions.run":"运行","artifact.versions.size":"大小","artifact.versions.files":"文件数","artifact.versions.actions":"操作","artifact.files.title":"文件","artifact.files.name":"文件名","artifact.files.size":"大小","artifact.files.hash":"哈希值","artifact.files.download_file":"下载文件","artifact.files.no_files":"此模型无文件","artifact.references.title":"外部引用","artifact.references.uri":"URI","artifact.references.checksum":"校验和","artifact.references.no_references":"无外部引用","artifact.lineage.title":"血缘关系图","artifact.lineage.description":"显示此模型的创建过程和使用情况","artifact.lineage.upstream":"上游依赖","artifact.lineage.downstream":"下游使用","artifact.lineage.no_dependencies":"未找到依赖关系","artifact.lineage.loading":"正在加载血缘关系图...","artifact.lineage.error":"加载血缘关系图失败","artifact.lineage.node.artifact":"模型","artifact.lineage.node.run":"运行","artifact.lineage.edge.uses":"使用","artifact.lineage.edge.produces":"产出","artifact.training.tab":"训练历史","artifact.training.title":"训练信息","artifact.training.no_data":"暂无训练信息","artifact.training.view_run":"查看训练实验","artifact.training.run_name":"实验名称","artifact.training.project":"项目","artifact.training.status":"状态","artifact.training.duration":"持续时间","artifact.training.created_at":"创建时间","artifact.training.key_metrics":"关键指标","artifact.performance.tab":"性能趋势","artifact.performance.title":"性能历史","artifact.performance.no_data":"暂无性能数据","artifact.performance.select_metrics":"选择要显示的指标","artifact.performance.select_metrics_hint":"请选择要显示的指标","artifact.performance.metrics":"指标值","artifacts.stage":"阶段","artifacts.stage.experimental":"实验阶段","artifacts.stage.staging":"预发布","artifacts.stage.production":"生产环境","artifacts.stage.archived":"已归档"},Ab={"remote_storage.sync.mode":"同步模式","remote_storage.saved_connections":"已保存的连接","remote_storage.password_saved":"一键连接","remote_storage.no_password":"需要密码","remote_storage.one_click_connect":"点击可直接连接，无需输入密码","remote_storage.need_password":"点击后需要手动输入密码","remote_storage.remember_connection":"记住此连接","remote_storage.connection_name_placeholder":"连接名称（可选）","remote_storage.remember_password":"记住密码","remote_storage.remember_password_tooltip":"密码将保存在本地配置文件中，请确保您的系统安全","remote_storage.msg.connection_deleted":"连接已删除","remote_storage.msg.delete_failed":"删除失败","remote_storage.msg.load_failed":"加载连接失败","remote_storage.msg.auto_connecting":"正在自动连接...","remote_storage.warning":"注意","unified_remote.title":"远程连接","unified_remote.subtitle":"连接到远程服务器，查看和管理实验数据","unified_remote.mode.smart":"智能模式","unified_remote.mode.smart_tag":"推荐","unified_remote.mode.smart_desc":"只同步元数据（~200MB），5分钟完成，节省99.94%空间","unified_remote.mode.mirror":"完整镜像","unified_remote.mode.mirror_tag":"传统方式","unified_remote.mode.mirror_desc":"实时同步所有文件到本地，完整副本","unified_remote.tags.fast":"快速","unified_remote.tags.save_space":"省空间","unified_remote.tags.on_demand":"按需下载","unified_remote.tags.large_data":"大数据量","unified_remote.tags.full_sync":"全量同步","unified_remote.ssh_config_title":"SSH 连接配置","unified_remote.connect":"连接","unified_remote.connected":"已连接","unified_remote.connection_active":"SSH 连接已激活","unified_remote.disconnect_title":"断开连接确认","unified_remote.mode.switch_confirm_title":"切换模式","unified_remote.mode.switch_confirm":"切换模式将断开当前连接，确定要继续吗？","unified_remote.mode.switch_failed":"切换模式失败","unified_remote.mode.smart_active":"智能模式已激活","unified_remote.mode.mirror_active":"镜像模式已激活","unified_remote.mode.smart_deactivated":"智能模式已停用","unified_remote.mode.mirror_deactivated":"镜像模式已停用","unified_remote.mirror.title":"完整镜像模式 - 全量同步","unified_remote.mirror.desc_1":"实时镜像整个目录到本地","unified_remote.mirror.desc_2":"同步所有文件（包括大文件）","unified_remote.mirror.desc_3":"适合需要完整本地副本的场景","unified_remote.mirror.desc_4":"⚠️ 大数据量时耗时较长（可能数小时）","unified_remote.mirror.status_running":"运行中","unified_remote.mirror.status_stopped":"已停止","unified_remote.mirror.copied":"已复制","unified_remote.mirror.appended":"追加","unified_remote.mirror.scans":"扫描","remote_storage.menu":"远程","remote_storage.title":"远程存储配置","remote_storage.subtitle":"连接到远程服务器，无需同步所有文件即可查看和管理 Artifacts","remote_storage.connection.title":"服务器连接","remote_storage.form.host":"服务器地址","remote_storage.form.host_help":"例如: gpu-server.lab.edu 或 192.168.1.100","remote_storage.form.host_placeholder":"gpu-server.example.edu","remote_storage.form.port":"端口","remote_storage.form.username":"用户名","remote_storage.form.username_placeholder":"your-username","remote_storage.form.auth_method":"认证方式","remote_storage.form.auth_key":"SSH 密钥","remote_storage.form.auth_password":"密码","remote_storage.form.auth_agent":"SSH Agent","remote_storage.form.password":"密码","remote_storage.form.password_placeholder":"SSH 密码","remote_storage.form.private_key":"私钥","remote_storage.form.private_key_placeholder":"粘贴私钥内容（-----BEGIN ... -----）或使用下方按钮选择文件","remote_storage.form.private_key_passphrase":"私钥密码（如果有）","remote_storage.form.private_key_passphrase_placeholder":"私钥密码（可选）","remote_storage.form.select_key_file":"选择私钥文件","remote_storage.form.key_loaded":"私钥已加载","remote_storage.form.remote_root":"远程数据目录","remote_storage.form.remote_root_help":"Runicorn 数据存储的根目录","remote_storage.form.remote_root_placeholder":"/home/user/runicorn_data","remote_storage.form.auto_sync":"自动同步","remote_storage.form.auto_sync_interval":"每","remote_storage.form.auto_sync_interval_suffix":"分钟自动同步一次元数据","remote_storage.form.connect_button":"连接并同步元数据","remote_storage.form.connect_note":"(仅同步元数据文件，不下载大文件)","remote_storage.form.required_fields":"请填写必填字段：服务器地址、用户名、远程目录","remote_storage.status.connected":"已连接到远程服务器","remote_storage.status.server":"服务器","remote_storage.status.user":"用户","remote_storage.status.remote_dir":"远程目录","remote_storage.status.cache_dir":"缓存目录","remote_storage.status.manual_sync":"手动同步","remote_storage.status.verify":"验证连接","remote_storage.status.disconnect":"断开连接","remote_storage.sync.title":"元数据同步进度","remote_storage.sync.files_progress":"{{synced}}/{{total}} 文件","remote_storage.sync.current":"当前","remote_storage.sync.errors":"同步错误 ({{count}})","remote_storage.sync.complete":"元数据同步完成！","remote_storage.sync.failed":"元数据同步失败","remote_storage.features.title":"功能说明","remote_storage.features.advantages":"远程存储模式的优势","remote_storage.features.fast_init":"快速初始化","remote_storage.features.fast_init_desc":"只同步元数据（约200MB），5分钟完成 vs 传统方式8小时（340GB）","remote_storage.features.save_space":"节省空间","remote_storage.features.save_space_desc":"本地只存储元数据缓存，节省99.94%空间","remote_storage.features.on_demand":"按需下载","remote_storage.features.on_demand_desc":"只下载你需要的文件，完全用户控制","remote_storage.features.direct_manage":"直接管理","remote_storage.features.direct_manage_desc":"删除、打标签等操作直接在服务器执行","remote_storage.features.real_time":"实时同步","remote_storage.features.real_time_desc":"元数据自动同步，始终看到最新状态","remote_storage.features.security":"安全性","remote_storage.features.security_desc_1":"支持 SSH 密钥认证（推荐）、密码认证、SSH Agent","remote_storage.features.security_desc_2":"密钥仅在内存中存储，不持久化到磁盘","remote_storage.features.security_desc_3":"使用标准 SSH 协议，与 ssh 命令相同的安全级别","remote_storage.features.workflow":"使用流程","remote_storage.features.workflow_1":"填写服务器连接信息（SSH 配置）","remote_storage.features.workflow_2":'点击"连接并同步元数据"（约5分钟）',"remote_storage.features.workflow_3":"在 Artifacts 页面浏览远程 artifacts（秒级响应）","remote_storage.features.workflow_4":'需要文件时点击"下载"按钮（显示进度）',"remote_storage.features.workflow_5":"可以直接删除、打标签等管理操作","remote_storage.msg.connect_success":"成功连接到 {{host}}","remote_storage.msg.connect_failed":"连接失败","remote_storage.msg.disconnect_success":"已断开远程连接","remote_storage.msg.disconnect_failed":"断开连接失败","remote_storage.msg.sync_started":"元数据同步已开始","remote_storage.msg.smart_configured":"智能模式配置成功","remote_storage.msg.config_failed":"配置失败","remote_storage.msg.verify_ok":"远程连接正常","remote_storage.msg.verify_failed":"远程连接不可用","remote_storage.download.modal_title":"下载 Artifact: {{name}}:v{{version}}","remote_storage.download.downloading":"正在下载...","remote_storage.download.complete":"下载完成！","remote_storage.download.complete_desc":"文件已保存到: {{path}}","remote_storage.download.failed":"下载失败","remote_storage.download.files":"文件","remote_storage.download.size":"大小","remote_storage.download.estimated_remaining":"预计剩余","remote_storage.download.artifact":"Artifact","remote_storage.download.version":"版本","remote_storage.download.type":"类型","remote_storage.download.status":"状态","remote_storage.download.status_running":"下载中","remote_storage.download.status_completed":"已完成","remote_storage.download.status_failed":"失败","remote_storage.download.save_location":"保存位置","remote_storage.download.cancel_button":"取消下载","remote_storage.download.view_location":"查看下载位置","remote_storage.download.close":"关闭","remote_storage.download.minimize":"最小化","remote_storage.download.confirm_close":"确认关闭","remote_storage.download.confirm_close_desc":"下载正在进行中，关闭后下载将继续在后台执行。确定要关闭吗？","remote_storage.download.location_info":"下载位置: {{path}}","remote_storage.actions.download_local":"下载到本地 ({{size}})","remote_storage.actions.open_folder":"打开文件夹","remote_storage.actions.delete_version":"删除版本","remote_storage.actions.manage_tags":"管理标签","remote_storage.actions.set_alias":"设置别名","remote_storage.actions.delete_confirm":"确定要删除 {{name}}:v{{version}} 吗？{{remote}}","remote_storage.actions.delete_remote_note":"此操作将在远程服务器上执行。","remote_storage.actions.delete":"删除","remote_storage.actions.cancel":"取消","remote_storage.actions.delete_success":"{{message}}","remote_storage.actions.delete_failed":"删除失败","remote_storage.actions.local_no_download":"本地模式下无需下载","remote_storage.actions.feature_dev":"功能开发中","remote_storage.indicator.local":"本地","remote_storage.indicator.local_mode":"本地存储模式","remote_storage.indicator.remote":"远程","remote_storage.indicator.remote_status":"远程存储状态","remote_storage.indicator.connection_status":"连接状态","remote_storage.indicator.connected":"已连接","remote_storage.indicator.last_sync":"上次同步","remote_storage.indicator.cached_artifacts":"缓存 Artifacts","remote_storage.indicator.cache_size":"缓存大小","remote_storage.indicator.sync_progress":"同步进度","remote_storage.indicator.sync_now":"立即同步","remote_storage.indicator.disconnect":"断开"},Db={"settings.drawer.title":"设置","settings.theme.title":"主题","settings.theme.mode":"模式","settings.theme.light":"浅色","settings.theme.dark":"深色","settings.theme.auto":"跟随系统","settings.appearance.primary_color":"主色","settings.appearance.density":"密度","settings.appearance.density_compact":"紧凑型（信息密度高）","settings.appearance.density_default":"默认","settings.appearance.density_loose":"宽松型（留白更舒适）","settings.glass":"玻璃效果","settings.glass.on":"开启","settings.glass.off":"关闭","settings.performance.auto_refresh":"自动刷新","settings.performance.refresh_interval":"刷新间隔","settings.performance.animations":"UI动画","settings.performance.chart_animations":"图表动画","settings.performance.sounds":"声音通知","settings.charts.default_height":"默认图表高度","settings.charts.grid_lines":"显示网格线","settings.charts.max_points":"最大数据点数","settings.animations.ui_desc":"页面切换、悬停效果、弹窗动画","settings.animations.chart_desc":"图表数据加载动画、平滑过渡","settings.units.seconds":"秒","settings.units.points":"数据点","settings.units.pixels":"像素","settings.data.not_configured":"未配置","settings.auto_refresh.desc":"自动刷新实验数据","settings.grid_lines.desc":"在图表中显示网格线以提高可读性","settings.sounds.desc":"为警告和状态变化播放通知声音","settings.glass.desc":"玻璃拟态效果，带背景模糊","settings.tabs.appearance":"外观","settings.tabs.layout":"布局","settings.tabs.data":"数据","settings.tabs.performance":"性能","settings.cards.theme":"主题","settings.cards.background":"背景","settings.cards.visual_effects":"视觉效果","settings.cards.storage":"存储设置","settings.cards.import_export":"导入导出","settings.cards.performance":"性能","settings.cards.advanced":"高级选项","settings.data.title":"数据目录","settings.data.current_storage":"当前存储根（storage）：{{path}}","settings.data.user_root.label":"用户根目录（优先级低于环境变量 RUNICORN_DIR）","settings.data.user_root.placeholder":"例如：D:\\RunicornData","settings.data.note":"设置将写入用户配置并立即生效；若设置了环境变量 RUNICORN_DIR，则优先使用环境变量。","settings.data.save":"保存数据目录","settings.messages.enter_valid_path":"请输入有效的目录绝对路径（例如 D:\\RunicornData）","settings.messages.updated":"用户根目录已更新","settings.messages.update_failed":"更新失败","settings.done":"完成","background.title":"背景","background.type.label":"背景类型","background.type.image":"图片","background.type.gradient":"渐变","background.type.color":"纯色","background.image_url":"图片地址（URL）","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"背景预览","background.gradient_presets":"渐变预设","background.color":"背景颜色","background.opacity":"不透明度","background.blur":"模糊强度","offline_import.title":"离线导入（zip / tar.gz）","offline_import.desc":"将离线 Linux 服务器导出的运行记录导入到本机存储以便查看。","offline_import.drag":"将文件拖拽到此处，或点击选择本地归档","offline_import.supports":"支持 .zip / .tar.gz（内部目录为 project/name/runs/<run_id>）","offline_import.importing":"正在导入…","offline_import.success":"导入成功：{{count}} 个新运行。","offline_import.failed":"导入失败","remote_moved.title":"远程同步","remote_moved.tip":"远程实时同步已移动到独立页面，请通过顶部「Remote」进入或点击打开。","chart.controls.title":"图表控件","chart.log_y":"对数Y轴","chart.log_y_tooltip":"使用对数Y轴（隐藏非正值）","chart.auto_scale":"自动缩放Y轴","chart.auto_scale_tooltip":"动态Y轴范围（不强制从0开始）","chart.smooth":"平滑度","chart.smooth_tooltip":"指数移动平均平滑","chart.x_axis":"X轴","chart.x_axis_tooltip":"X轴数据来源列","chart.export_csv":"导出CSV","chart.y_axis_controls":"Y轴控制","chart.linear":"线性","chart.log":"对数","chart.auto":"自动","chart.fixed":"固定","chart.off":"关闭","remote.title":"远程同步（SSH）","remote.desc":'建立到 Linux 服务器的 SSH 连接，浏览并选择远程目录作为数据源，实时镜像到本地 storage 并在"运行"页可视化。',"remote.connect.title":"连接到服务器","remote.placeholder.host":"主机，例如 10.0.0.2","remote.placeholder.port":"端口","remote.placeholder.user":"用户名","remote.placeholder.password":"密码（可选）","remote.placeholder.pkey":"私钥内容（可选）","remote.placeholder.pkey_path":"或 私钥路径（可选，如 ~/.ssh/id_rsa）","remote.connect.button":"连接","remote.connected":"已连接：{{user}}@{{host}}:{{port}}","remote.disconnect":"断开","remote.choose.title":"选择远程目录","remote.current_dir":"当前目录：","remote.up":"上一级","remote.refresh":"刷新","remote.empty":"空目录或无权限","remote.interval.suffix":"秒","remote.sync_dir":"同步此目录","remote.tip":"建议选择到 project/name/runs（新结构）或 runs（旧结构）而不是具体 <run_id>。","remote.tasks.title":"同步任务","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"停止","remote.tasks.none":"暂无任务","remote.to_runs":'同步成功后，前往 "运行" 页面查看可视化。',"remote.msg.fill_host_user":"请填写主机与用户名","remote.msg.ssh_connected":"SSH 已连接","remote.msg.connect_failed":"连接失败","remote.msg.dir_failed":"读取目录失败","remote.msg.need_connect":"请先建立 SSH 连接","remote.msg.need_path":"请选择远程目录","remote.msg.started":"已启动实时同步","remote.msg.start_failed":"启动失败","remote.msg.mirror_configured":"镜像模式配置成功"},zb={...Ib,...Lb,...Pb,...Ab,...Db},Mb={en:{translation:Eb},zh:{translation:zb}};yt.use(Rd).use($v).init({resources:Mb,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]}});Ya.createRoot(document.getElementById("root")).render(i.jsx(cx.StrictMode,{children:i.jsx(ux,{children:i.jsx(G0,{})})}));
