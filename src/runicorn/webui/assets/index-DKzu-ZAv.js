import{r as b,c as Vc,u as Si,f as Sm,e as ps,h as jm,g as O1,L as _o,i as z1,j as ls,R as F1,B as N1}from"./react-vendor-Bblx37ko.js";import{T as Ce,S as B,a as Be,b as gt,B as me,s as Q,c as _e,t as Qn,C as le,D as Or,d as ni,e as jt,R as qo,f as As,g as yn,F as yr,E as nt,h as Yo,i as Bc,j as di,k as sc,l as Uc,m as tn,n as gr,o as Pt,p as Le,q as Xo,P as Zn,r as Nt,u as Wc,v as Se,w as Cs,x as ri,A as nn,y as ic,M as Rn,z as Jo,G as $1,H as V1,I as fi,J as Hc,K as Ts,L as $r,N as Cm,O as B1,Q as U1,U as W1,V as Gc,W as Qt,X as Tm,Y as H1,Z as Oo,_ as Kc,$ as G1,a0 as K1,a1 as oc,a2 as q1,a3 as ac,a4 as Y1,a5 as gh,a6 as Pn,a7 as X1,a8 as J1,a9 as Z1,aa as Q1,ab as bt,ac as lc,ad as Ss,ae as Rm,af as Pm,ag as ej,ah as tj,ai as hi,aj as xr,ak as nj,al as yh,am as El,an as rj,ao as sj,ap as ij,aq as oj,ar as aj,as as lj,at as xh,au as vh,av as kl,aw as cj,ax as uj,ay as Am,az as dj,aA as fj,aB as hj,aC as pj}from"./antd-vendor-Dnw7lQRI.js";import{c as mj,E as gs}from"./echarts-vendor-BaMD3wbR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Em={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj=b,yj=Symbol.for("react.element"),xj=Symbol.for("react.fragment"),vj=Object.prototype.hasOwnProperty,wj=gj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_j={key:!0,ref:!0,__self:!0,__source:!0};function km(e,t,n){var s,o={},l=null,c=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(s in t)vj.call(t,s)&&!_j.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:yj,type:e,key:l,ref:c,props:o,_owner:wj.current}}Zo.Fragment=xj;Zo.jsx=km;Zo.jsxs=km;Em.exports=Zo;var a=Em.exports,cc={},wh=Vc;cc.createRoot=wh.createRoot,cc.hydrateRoot=wh.hydrateRoot;const Ml={},bj=(Ml==null?void 0:Ml.VITE_API_BASE)||"/api",ct=e=>`${bj}${e}`;async function Sj(e){const t=await fetch(ct(`/runs/${e}`));if(!t.ok)throw new Error(await t.text());return t.json()}async function Dl(e){const t=await fetch(ct(`/runs/${e}/metrics_step`));if(!t.ok)throw new Error(await t.text());return t.json()}async function Mm(){const e=new AbortController,t=setTimeout(()=>e.abort(),3e3);try{const n=await fetch(ct("/health"),{signal:e.signal,cache:"no-store"});if(clearTimeout(t),!n.ok)throw new Error(await n.text());return n.json()}catch(n){throw clearTimeout(t),n}}async function qc(){const e=await fetch(ct("/gpu/telemetry"));if(!e.ok)throw new Error(await e.text());return e.json()}async function jj(){const e=await fetch(ct("/system/monitor"));if(!e.ok)throw new Error(await e.text());return e.json()}async function Cj(e,t){const n=await fetch(ct(`/projects/${encodeURIComponent(e)}/names/${encodeURIComponent(t)}/runs`));if(!n.ok)throw new Error(await n.text());return n.json()}async function Yc(){const e=await fetch(ct("/config"));if(!e.ok)throw new Error(await e.text());return e.json()}async function Tj(e){const t=await fetch(ct("/config/user_root_dir"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function Rj(e){const t=new FormData;t.append("file",e);const n=await fetch(ct("/import/archive"),{method:"POST",body:t});if(!n.ok)throw new Error(await n.text());return n.json()}async function Pj(){const e=await fetch(ct("/status/check"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(await e.text());return e.json()}async function Aj(e){const t=await fetch(ct("/runs/soft-delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function Ej(){const e=await fetch(ct("/recycle-bin"));if(!e.ok)throw new Error(await e.text());return e.json()}async function kj(e){const t=await fetch(ct("/recycle-bin/restore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function Mj(){const e=await fetch(ct("/recycle-bin/empty"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})});if(!e.ok)throw new Error(await e.text());return e.json()}async function Dj(e){const t=e?`?type=${e}`:"",n=await fetch(ct(`/artifacts${t}`));if(!n.ok)throw new Error(await n.text());return n.json()}async function Ij(e,t){const s=await fetch(ct(`/artifacts/${e}/versions`));if(!s.ok)throw new Error(await s.text());return s.json()}async function Lj(e,t,n){const o=await fetch(ct(`/artifacts/${e}/v${t}`));if(!o.ok)throw new Error(await o.text());return o.json()}async function Oj(e,t,n){const o=await fetch(ct(`/artifacts/${e}/v${t}/files`));if(!o.ok)throw new Error(await o.text());return o.json()}async function zj(e,t,n,s=3){const o=new URLSearchParams({max_depth:s.toString()}),l=await fetch(ct(`/artifacts/${e}/v${t}/lineage?${o.toString()}`));if(!l.ok)throw new Error(await l.text());return l.json()}async function Dm(){const e=await fetch(ct("/artifacts/stats"));if(!e.ok)throw new Error(await e.text());return e.json()}async function Fj(e,t,n,s=!1){const o=new URLSearchParams({permanent:s.toString()}),l=await fetch(ct(`/artifacts/${e}/v${t}?${o.toString()}`),{method:"DELETE"});if(!l.ok)throw new Error(await l.text());return l.json()}const Nj=(e,t,n,s)=>{var l,c,d,f;const o=[n,{code:t,...s||{}}];if((c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);zr(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(f=(d=e==null?void 0:e.services)==null?void 0:d.logger)!=null&&f.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},_h={},uc=(e,t,n,s)=>{zr(n)&&_h[n]||(zr(n)&&(_h[n]=new Date),Nj(e,t,n,s))},Im=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},dc=(e,t,n)=>{e.loadNamespaces(t,Im(e,n))},bh=(e,t,n,s)=>{if(zr(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return dc(e,n,s);n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,Im(e,s))},$j=(e,t,n={})=>!t.languages||!t.languages.length?(uc(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,e))return!1}}),zr=e=>typeof e=="string",Vj=e=>typeof e=="object"&&e!==null,Bj=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Uj={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Wj=e=>Uj[e],Hj=e=>e.replace(Bj,Wj);let fc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Hj};const Gj=(e={})=>{fc={...fc,...e}},Kj=()=>fc;let Lm;const qj=e=>{Lm=e},Yj=()=>Lm,Xj={type:"3rdParty",init(e){Gj(e.options.react),qj(e)}},Jj=b.createContext();class Zj{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Qj=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current},Om=(e,t,n,s)=>e.getFixedT(t,n,s),eC=(e,t,n,s)=>b.useCallback(Om(e,t,n,s),[e,t,n,s]),Ue=(e,t={})=>{var j,R,L,$;const{i18n:n}=t,{i18n:s,defaultNS:o}=b.useContext(Jj)||{},l=n||s||Yj();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new Zj),!l){uc(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const z=(W,Y)=>zr(Y)?Y:Vj(Y)&&zr(Y.defaultValue)?Y.defaultValue:Array.isArray(W)?W[W.length-1]:W,N=[z,{},!1];return N.t=z,N.i18n={},N.ready=!1,N}(j=l.options.react)!=null&&j.wait&&uc(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...Kj(),...l.options.react,...t},{useSuspense:d,keyPrefix:f}=c;let h=o||((R=l.options)==null?void 0:R.defaultNS);h=zr(h)?[h]:h||["translation"],($=(L=l.reportNamespaces).addUsedNamespaces)==null||$.call(L,h);const p=(l.isInitialized||l.initializedStoreOnce)&&h.every(z=>$j(z,l,c)),g=eC(l,t.lng||null,c.nsMode==="fallback"?h:h[0],f),x=()=>g,v=()=>Om(l,t.lng||null,c.nsMode==="fallback"?h:h[0],f),[S,T]=b.useState(x);let k=h.join();t.lng&&(k=`${t.lng}${k}`);const P=Qj(k),A=b.useRef(!0);b.useEffect(()=>{const{bindI18n:z,bindI18nStore:N}=c;A.current=!0,!p&&!d&&(t.lng?bh(l,t.lng,h,()=>{A.current&&T(v)}):dc(l,h,()=>{A.current&&T(v)})),p&&P&&P!==k&&A.current&&T(v);const W=()=>{A.current&&T(v)};return z&&(l==null||l.on(z,W)),N&&(l==null||l.store.on(N,W)),()=>{A.current=!1,l&&z&&(z==null||z.split(" ").forEach(Y=>l.off(Y,W))),N&&l&&N.split(" ").forEach(Y=>l.store.off(Y,W))}},[l,k]),b.useEffect(()=>{A.current&&p&&T(x)},[l,f,p]);const M=[S,l,p];if(M.t=S,M.i18n=l,M.ready=p,p||!p&&!d)return M;throw new Promise(z=>{t.lng?bh(l,t.lng,h,()=>z()):dc(l,h,()=>z())})};function tC(e){return!!(/\d{1,3}%\|/.test(e)||/it\/(s|sec)/i.test(e)||/ETA|elapsed/i.test(e))}function nC({url:e,persistKey:t}){const{t:n}=Ue(),[s,o]=b.useState(()=>{if(!t)return[];try{const M=localStorage.getItem(t);if(!M)return[];const j=JSON.parse(M);return Array.isArray(j)?j.slice(-2e3):[]}catch{return[]}}),[l,c]=b.useState(!0),[d,f]=b.useState(!0),[h,p]=b.useState("connecting"),[g,x]=b.useState(0),v=b.useRef(null),S=b.useRef(null),T=b.useRef(null),k=b.useRef(500);b.useEffect(()=>{let M=!1;const j=()=>{try{S.current&&S.current.close()}catch{}p("connecting");const R=new WebSocket(e);S.current=R,R.onopen=()=>{p("connected"),k.current=500,x(0)},R.onmessage=$=>{const z=String($.data);d&&tC(z)||o(N=>{const Y=[...N,z].slice(-2e3);try{t&&localStorage.setItem(t,JSON.stringify(Y))}catch{}return Y})};const L=()=>{if(M)return;p("disconnected");const $=Math.min(1e4,k.current);k.current=Math.min(1e4,Math.floor(k.current*1.8)),x($),T.current&&window.clearTimeout(T.current),T.current=window.setTimeout(()=>{x(0),j()},$)};R.onerror=L,R.onclose=L};return j(),()=>{var R;M=!0;try{(R=S.current)==null||R.close()}catch{}T.current&&window.clearTimeout(T.current)}},[e,d,t]),b.useEffect(()=>{l&&v.current&&(v.current.scrollTop=v.current.scrollHeight)},[s,l]);const P=async()=>{try{await navigator.clipboard.writeText(s.join(`
`)),Q.success(n("logs.copied"))}catch{Q.error(n("logs.copy_failed"))}},A=b.useMemo(()=>h==="connected"?a.jsx(Ce,{color:"green",children:n("logs.status.connected")}):h==="connecting"?a.jsx(Ce,{color:"processing",children:n("logs.status.connecting")}):a.jsxs(Ce,{color:"default",children:[n("logs.status.disconnected"),g?`, ${n("logs.status.retry_in",{sec:Math.ceil(g/1e3)})}`:""]}),[h,g,n]);return a.jsxs("div",{children:[a.jsxs(B,{style:{marginBottom:8},children:[A,a.jsx(Be,{title:n("logs.tooltip.autoscroll"),children:a.jsxs("span",{children:[n("logs.autoscroll")," ",a.jsx(gt,{checked:l,onChange:c,style:{marginLeft:6}})]})}),a.jsx(Be,{title:n("logs.tooltip.filter_tqdm"),children:a.jsxs("span",{children:[n("logs.filter_tqdm")," ",a.jsx(gt,{checked:d,onChange:f,style:{marginLeft:6}})]})}),a.jsx(me,{size:"small",onClick:()=>{o([]);try{t&&localStorage.removeItem(t)}catch{}},children:n("logs.clear")}),a.jsx(me,{size:"small",onClick:P,children:n("logs.copy")})]}),a.jsx("div",{ref:v,style:{height:320,overflow:"auto",background:"#0b1020",color:"#e6e9ef",padding:12,borderRadius:8,fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:12},children:s.map((M,j)=>a.jsx("div",{children:M},j))})]})}function Xc(e){const t=b.useRef(null),n=b.useRef(null);b.useEffect(()=>{if(!t.current)return;const d=t.current;let f=null;const h=()=>{f!=null&&cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x,v,S;try{(S=(v=(x=n.current)==null?void 0:x.getEchartsInstance())==null?void 0:v.resize)==null||S.call(v)}catch{}})};let p=null;const g=window.ResizeObserver;return g&&(p=new g(()=>h()),p.observe(d)),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),p&&p.disconnect(),f!=null&&cancelAnimationFrame(f)}},[]),b.useEffect(()=>{var f,h;const d=(h=(f=n.current)==null?void 0:f.getEchartsInstance)==null?void 0:h.call(f);if(d&&e.group)try{d.group=e.group,mj(e.group)}catch{}},[e.group]);const s=b.useMemo(()=>({width:"100%",height:"100%",...e.style||{}}),[e.style]),{group:o,style:l,...c}=e;return a.jsx("div",{ref:t,style:{width:"100%",height:"100%"},children:a.jsx(gs,{ref:n,...c,style:s})})}const zm=b.createContext(void 0),rC=({children:e,value:t})=>a.jsx(zm.Provider,{value:t,children:e}),ji=()=>{const e=b.useContext(zm);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e},ne={spacing:{xs:8,sm:12,md:16,lg:24,xl:32},borderRadius:{md:8},colors:{primary:"#1677ff",success:"#52c41a",warning:"#faad14",info:"#13c2c2"},typography:{fontSize:{xs:12,sm:14,md:16,lg:18},fontWeight:{semibold:600}}},{Text:sC}=_e,iC=b.memo(function({metrics:t,xKey:n,yKeys:s,title:o,height:l,persistKey:c,group:d}){const{t:f}=Ue(),{settings:h}=ji(),{token:p}=Qn.useToken(),g=l??h.defaultChartHeight,[x,v]=b.useState(!1),[S,T]=b.useState(!0),[k,P]=b.useState(0),A=["iter","step","batch","global_step","time"],M=(t==null?void 0:t.columns)||[],j=b.useMemo(()=>A.filter(se=>M.includes(se)),[M]),[R,L]=b.useState(n),$=b.useRef(!1);b.useEffect(()=>{if(n&&M.includes(n))L(n);else if(!M.includes(R)){const se=j.find(Boolean);se&&L(se)}},[n,M,j,R]),b.useEffect(()=>{if(!(!c||$.current)){try{const se=localStorage.getItem(`MetricChart:${c}`);if(se){const J=JSON.parse(se);typeof J.useLog=="boolean"&&v(J.useLog),typeof J.dynamicScale=="boolean"&&T(J.dynamicScale),typeof J.smoothing=="number"&&P(J.smoothing),J.xAxisKey&&M.includes(J.xAxisKey)&&L(J.xAxisKey)}}catch{}$.current=!0}},[c,M]),b.useEffect(()=>{if(c)try{localStorage.setItem(`MetricChart:${c}`,JSON.stringify({useLog:x,dynamicScale:S,smoothing:k,xAxisKey:R}))}catch{}},[c,x,S,k,R]);const z=se=>{const J=String(se).toLowerCase();if(J.includes("loss")||J.includes("error"))return"min";if(J.includes("acc")||J.includes("f1")||J.includes("auc")||J.includes("map")||J.includes("precision")||J.includes("recall"))return"max"},N=(se,J)=>{if(!J)return se;let re=null;return se.map(ue=>ue==null?(re=null,null):(re=re==null?ue:J*ue+(1-J)*re,re))},W=b.useMemo(()=>{var ee,K;const se=M.includes(R)?R:n,J=t.rows.map(Z=>{const ae=Z[se],ve=ae===""||ae==null?null:Number(ae);return ve==null||Number.isNaN(ve)?null:ve});let re=J;if(se==="time"){const Z=J.find(ae=>ae!=null)??0;re=J.map(ae=>ae==null?null:ae-Z)}const ue=M.includes("stage")&&(se==="global_step"||se==="time"),pe=[];if(ue){const Z=t.rows;let ae=Z.length?((ee=Z[0])==null?void 0:ee.stage)??null:null;for(let ve=1;ve<Z.length;ve++){const qe=(K=Z[ve])==null?void 0:K.stage,X=qe==null||qe===""?ae:qe;if(X!==ae){const de=re[ve];de!=null&&pe.push({xAxis:de}),ae=X}}}const ie=s.map(Z=>{var We;const ae=t.rows.map(F=>{const ce=F[Z]===""||F[Z]==null?null:Number(F[Z]),Ae=ce==null||Number.isNaN(ce)?null:ce;return x&&(Ae==null||Ae<=0)?null:Ae}),ve=N(ae,Math.min(.95,Math.max(0,k))),qe=ve.filter(F=>F!=null).length,X=qe<=12||qe<=Math.ceil((((We=t==null?void 0:t.rows)==null?void 0:We.length)||0)*.2),de=z(Z),Me={name:Z,type:"line",smooth:!0,showSymbol:X,symbolSize:X?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:ve.slice(0,h.maxDataPoints),markPoint:de?{data:[{type:de,name:de==="max"?"Best (max)":"Best (min)"}],symbolSize:60}:void 0};if(Z===s[0]){const F=pe;F.length&&(Me.markLine={silent:!0,symbol:"none",lineStyle:{type:"dashed",color:p.colorBorder,width:1},label:{show:!1},data:F})}return Me});return{title:{text:o,left:"center",top:ne.spacing.xs,textStyle:{fontSize:ne.typography.fontSize.md,fontWeight:ne.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:s,top:ne.spacing.xl,padding:[5,10]},xAxis:{type:"category",data:re},yAxis:{type:x?"log":"value",scale:S,min:S?"dataMin":0},grid:{left:50,right:30,top:s.length>3?70:s.length>1?60:50,bottom:80,show:h.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:ie,animation:h.enableChartAnimations,animationDuration:h.enableChartAnimations?1e3:0}},[t,n,R,s,o,x,S,k,M,h.enableChartAnimations,h.maxDataPoints,h.showGridLines]),Y=()=>{try{const se=M.includes(R)?R:n,J=[se,...s],re=[];re.push(J.join(","));for(const ee of t.rows){const K=[],Z=ee[se];K.push(Z==null?"":String(Z));for(const ae of s){const ve=ee[ae];K.push(ve==null?"":String(ve))}re.push(K.join(","))}const ue=new Blob([re.join(`
`)],{type:"text/csv;charset=utf-8;"}),pe=URL.createObjectURL(ue),ie=document.createElement("a");ie.href=pe,ie.download=`${o.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),URL.revokeObjectURL(pe)}catch{}};return a.jsxs("div",{children:[a.jsx(le,{size:"small",style:{marginBottom:ne.spacing.md,borderRadius:ne.borderRadius.md},bodyStyle:{padding:`${ne.spacing.sm}px ${ne.spacing.md}px`},children:a.jsxs(B,{wrap:!0,size:"small",style:{width:"100%"},children:[a.jsx(Be,{title:f("chart.log_y_tooltip"),children:a.jsx(gt,{checkedChildren:f("chart.log"),unCheckedChildren:f("chart.linear"),checked:x,onChange:v,size:"small"})}),a.jsx(Be,{title:f("chart.auto_scale_tooltip"),children:a.jsx(gt,{checkedChildren:f("chart.auto"),unCheckedChildren:f("chart.fixed"),checked:S,onChange:T,size:"small"})}),a.jsx(Or,{type:"vertical",style:{margin:"0 4px"}}),a.jsxs(B,{size:"small",style:{minWidth:140,maxWidth:200},children:[a.jsxs(sC,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs,whiteSpace:"nowrap"},children:[f("chart.smooth"),":"]}),a.jsx(ni,{min:0,max:.95,step:.05,value:k,onChange:se=>P(Array.isArray(se)?se[0]:se),style:{width:90},tooltip:{formatter:se=>se?`${(se*100).toFixed(0)}%`:f("chart.off")}})]}),a.jsx(Or,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(jt,{size:"small",value:M.includes(R)?R:n,style:{minWidth:100},onChange:L,options:(j.length?j:[n]).map(se=>({value:se,label:`${f("chart.x_axis")}: ${se}`}))}),a.jsx(Or,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(me,{size:"small",icon:a.jsx(qo,{}),onClick:Y,children:f("chart.export_csv")})]})}),a.jsx("div",{style:{height:g,width:"100%"},children:a.jsx(Xc,{option:W,group:d})})]})},(e,t)=>e.metrics===t.metrics&&e.xKey===t.xKey&&JSON.stringify(e.yKeys)===JSON.stringify(t.yKeys)&&e.title===t.title&&e.height===t.height&&e.persistKey===t.persistKey&&e.group===t.group),{Text:oC}=_e;function aC(e,t){if(!t)return e;let n=null;return e.map(s=>s==null?(n=null,null):(n=n==null?s:t*s+(1-t)*n,n))}const lC=b.memo(function({runs:t,xKey:n,yKey:s,title:o,height:l,persistKey:c,group:d}){const{t:f}=Ue(),{settings:h}=ji(),p=l??h.defaultChartHeight,[g,x]=b.useState(!1),[v,S]=b.useState(!0),[T,k]=b.useState(0),P=b.useRef(!1);b.useEffect(()=>{if(!(!c||P.current)){try{const j=localStorage.getItem(`MultiRunMetric:${c}`);if(j){const R=JSON.parse(j);typeof R.useLog=="boolean"&&x(R.useLog),typeof R.dynamicScale=="boolean"&&S(R.dynamicScale),typeof R.smoothing=="number"&&k(R.smoothing)}}catch{}P.current=!0}},[c]),b.useEffect(()=>{if(c)try{localStorage.setItem(`MultiRunMetric:${c}`,JSON.stringify({useLog:g,dynamicScale:v,smoothing:T}))}catch{}},[c,g,v,T]);const A=b.useMemo(()=>{const j=t.map(R=>{var se,J;(se=R.metrics)!=null&&se.columns;const L=((J=R.metrics)==null?void 0:J.rows)||[],$=L.map(re=>{const ue=re[n],pe=ue===""||ue==null?null:Number(ue);return pe==null||Number.isNaN(pe)?null:pe});let z=$;if(n==="time"){const re=$.find(ue=>ue!=null)??0;z=$.map(ue=>ue==null?null:ue-re)}const N=L.map(re=>{const ue=re[s],pe=ue===""||ue==null?null:Number(ue);return g&&(pe==null||pe<=0)||pe==null||Number.isNaN(pe)?null:pe}),W=aC(N,Math.min(.95,Math.max(0,T))),Y=[];for(let re=0;re<W.length;re++){const ue=z[re],pe=W[re];ue!=null&&pe!=null&&Y.push([ue,pe])}return{name:R.label||R.id,type:"line",smooth:!0,showSymbol:Y.length<=12,symbolSize:Y.length<=12?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:Y.slice(0,h.maxDataPoints)}});return{title:{text:o,left:"center",top:ne.spacing.xs,textStyle:{fontSize:ne.typography.fontSize.md,fontWeight:ne.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:t.map(R=>R.label||R.id),top:ne.spacing.xl,type:"scroll",padding:[5,10]},xAxis:{type:"value",name:n},yAxis:{type:g?"log":"value",scale:v,min:v?"dataMin":0},grid:{left:50,right:30,top:t.length>3?70:t.length>1?60:50,bottom:80,show:h.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:j,animation:h.enableChartAnimations,animationDuration:h.enableChartAnimations?1e3:0}},[t,n,s,o,g,v,T,h.enableChartAnimations,h.maxDataPoints,h.showGridLines]),M=()=>{var j;try{const L=[["run_id",n,s].join(",")];for(const W of t){const Y=((j=W.metrics)==null?void 0:j.rows)||[];for(const se of Y){const J=se[n],re=se[s],ue=[W.id,J==null?"":String(J),re==null?"":String(re)];L.push(ue.join(","))}}const $=new Blob([L.join(`
`)],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL($),N=document.createElement("a");N.href=z,N.download=`${o.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(z)}catch{}};return a.jsxs("div",{children:[a.jsx(le,{size:"small",style:{marginBottom:ne.spacing.md,borderRadius:ne.borderRadius.md},bodyStyle:{padding:`${ne.spacing.sm}px ${ne.spacing.md}px`},children:a.jsxs(B,{wrap:!0,size:"small",style:{width:"100%"},children:[a.jsx(Be,{title:f("chart.log_y_tooltip"),children:a.jsx(gt,{checkedChildren:f("chart.log"),unCheckedChildren:f("chart.linear"),checked:g,onChange:x,size:"small"})}),a.jsx(Be,{title:f("chart.auto_scale_tooltip"),children:a.jsx(gt,{checkedChildren:f("chart.auto"),unCheckedChildren:f("chart.fixed"),checked:v,onChange:S,size:"small"})}),a.jsx(Or,{type:"vertical",style:{margin:"0 4px"}}),a.jsxs(B,{size:"small",style:{minWidth:140,maxWidth:200},children:[a.jsxs(oC,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs,whiteSpace:"nowrap"},children:[f("chart.smooth"),":"]}),a.jsx(ni,{min:0,max:.95,step:.05,value:T,onChange:j=>k(Array.isArray(j)?j[0]:j),style:{width:90},tooltip:{formatter:j=>j?`${(j*100).toFixed(0)}%`:f("chart.off")}})]}),a.jsx(Or,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(me,{size:"small",icon:a.jsx(qo,{}),onClick:M,children:f("chart.export_csv")})]})}),a.jsx("div",{style:{height:p,width:"100%"},children:a.jsx(Xc,{option:A,group:d})})]})},(e,t)=>JSON.stringify(e.runs)===JSON.stringify(t.runs)&&e.xKey===t.xKey&&e.yKey===t.yKey&&e.title===t.title&&e.height===t.height&&e.persistKey===t.persistKey&&e.group===t.group);function cC(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(2))+" "+n[s]}function Fm(e){if(!e||e===0)return"-";const t=e<1e10?e*1e3:e,n=new Date(t);return isNaN(n.getTime())?"-":n.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function uC(e){if(!e||e<=0)return"0s";const t=Math.floor(e/1e3),n=Math.floor(t/60),s=Math.floor(n/60),o=Math.floor(s/24);if(o>0){const l=s%24;return`${o}d ${l}h`}if(s>0){const l=n%60;return`${s}h ${l}m`}if(n>0){const l=t%60;return`${n}m ${l}s`}return`${t}s`}const Sh={log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{},info:(...e)=>{},debug:(...e)=>{},table:e=>{}},{TabPane:jh}=As,dC=e=>{switch(e){case"model":return a.jsx(Yo,{});case"dataset":return a.jsx(tn,{});case"config":return a.jsx(Uc,{});case"code":return a.jsx(sc,{});default:return a.jsx(di,{})}},fC=e=>{switch(e){case"production":return"green";case"staging":return"blue";case"experimental":return"orange";case"archived":return"default";default:return"default"}};function hC({runId:e}){const{t}=Ue(),n=Si(),[s,o]=b.useState(!1),[l,c]=b.useState([]),[d,f]=b.useState([]);b.useEffect(()=>{h()},[e]);const h=async()=>{o(!0);try{const g=await fetch(`/api/runs/${e}/artifacts`);if(!g.ok){const v=await g.text();throw Sh.error(`API error: ${g.status} ${g.statusText}`,v),new Error(`Failed to load artifacts: ${g.statusText}`)}const x=await g.json();Sh.info("Loaded artifacts:",x),c(x.created||[]),f(x.used||[])}catch(g){Q.error(`Failed to load artifacts: ${g}`)}finally{o(!1)}},p=[{title:t("artifacts.name"),dataIndex:"name",key:"name",render:(g,x)=>a.jsxs(B,{children:[dC(x.type),a.jsx("a",{onClick:()=>n(`/artifacts/${g}`),children:g})]})},{title:t("artifacts.version"),dataIndex:"version",key:"version",width:100,render:g=>a.jsxs(Ce,{children:["v",g]})},{title:t("artifacts.aliases"),dataIndex:"aliases",key:"aliases",render:g=>a.jsx(B,{size:4,children:g.map(x=>a.jsx(Ce,{color:"blue",children:x},x))})},{title:t("artifacts.stage"),dataIndex:"lifecycle_stage",key:"lifecycle_stage",render:g=>g&&a.jsx(Ce,{color:fC(g),children:t(`artifacts.stage.${g}`)})},{title:t("artifacts.size"),dataIndex:"size_bytes",key:"size_bytes",width:100,render:g=>cC(g)},{title:t("artifacts.created"),dataIndex:"created_at",key:"created_at",width:180,render:g=>Fm(g)},{title:t("actions"),key:"actions",width:100,render:(g,x)=>a.jsx(me,{type:"link",size:"small",onClick:()=>n(`/artifacts/${x.name}?version=${x.version}`),children:t("view")})}];return s?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(yn,{size:"large"})}):a.jsxs(As,{defaultActiveKey:"created",children:[a.jsx(jh,{tab:a.jsxs("span",{children:[a.jsx(Yo,{})," ",t("run.artifacts.created")," (",l.length,")"]}),children:l.length>0?a.jsx(yr,{dataSource:l,columns:p,rowKey:g=>`${g.name}-v${g.version}`,size:"small",pagination:{pageSize:10}}):a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:t("run.artifacts.no_created")})},"created"),a.jsx(jh,{tab:a.jsxs("span",{children:[a.jsx(Bc,{})," ",t("run.artifacts.used")," (",d.length,")"]}),children:d.length>0?a.jsx(yr,{dataSource:d,columns:p,rowKey:g=>`${g.name}-v${g.version}`,size:"small",pagination:{pageSize:10}}):a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:t("run.artifacts.no_used")})},"used")]})}function pC(){return a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(Pt,{gutter:[ne.spacing.md,ne.spacing.md],children:[1,2,3,4].map(e=>a.jsx(Le,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(gr,{active:!0,paragraph:{rows:1}})})},e))}),a.jsx(le,{children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(gr.Button,{active:!0,style:{width:"100%",height:40}}),[1,2,3,4,5,6,7,8].map(e=>a.jsx(gr,{active:!0,paragraph:{rows:0}},e))]})})]})}function Nm(){return a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(le,{children:a.jsx(gr,{active:!0,paragraph:{rows:4}})}),a.jsx(le,{children:a.jsx(gr,{active:!0,paragraph:{rows:2}})}),a.jsx(Pt,{gutter:[ne.spacing.md,ne.spacing.md],children:[1,2,3,4].map(e=>a.jsx(Le,{xs:24,md:12,children:a.jsx(le,{children:a.jsx(gr.Image,{active:!0,style:{width:"100%",height:300}})})},e))}),a.jsx(le,{children:a.jsx(gr,{active:!0,paragraph:{rows:6}})})]})}function mC({rows:e=4}){return a.jsx(le,{children:a.jsx(gr,{active:!0,paragraph:{rows:e}})})}const{Text:In}=_e,$m=({gpus:e,loading:t=!1})=>{const{t:n}=Ue(),{token:s}=Qn.useToken();if(!e||e.length===0)return null;const o=Math.max(6,Math.floor(24/e.length)),l=d=>d<60?s.colorSuccess:d<80?s.colorWarning:s.colorError,c=(d,f)=>{const h=Math.round(d.util_gpu??0),p=Math.round(d.mem_used_pct??(d.mem_used_mib&&d.mem_total_mib?d.mem_used_mib/d.mem_total_mib*100:0)),g=d.power_limit_w??350,x=d.power_w?Math.round(d.power_w/g*100):0,v=d.temp_max_c??85,S=d.temp_c?Math.round(d.temp_c/v*100):0;return a.jsx(Le,{xs:24,sm:24,md:o,style:{textAlign:"center"},children:a.jsxs(B,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(In,{strong:!0,style:{fontSize:14,color:s.colorTextSecondary},children:["GPU ",d.index??f]}),d.name&&a.jsx("div",{children:a.jsx(In,{type:"secondary",style:{fontSize:12},children:d.name})})]}),a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(B,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(B,{size:4,children:[a.jsx(Xo,{style:{color:l(h),fontSize:14}}),a.jsx(In,{style:{fontSize:12},children:n("gpu.util")})]}),a.jsxs(In,{strong:!0,style:{fontSize:12},children:[h,"%"]})]}),a.jsx(Zn,{percent:h,strokeColor:l(h),size:"small",showInfo:!1})]})}),a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(B,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(B,{size:4,children:[a.jsx(tn,{style:{color:l(p),fontSize:14}}),a.jsx(In,{style:{fontSize:12},children:n("gpu.mem")})]}),a.jsx(In,{strong:!0,style:{fontSize:12},children:d.mem_used_mib&&d.mem_total_mib?`${(d.mem_used_mib/1024).toFixed(1)}GB / ${(d.mem_total_mib/1024).toFixed(1)}GB`:`${p}%`})]}),a.jsx(Zn,{percent:p,strokeColor:l(p),size:"small",showInfo:!1})]})}),d.power_w!==void 0&&a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(B,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(B,{size:4,children:[a.jsx(Nt,{style:{color:l(x),fontSize:14}}),a.jsx(In,{style:{fontSize:12},children:n("gpu.power")})]}),a.jsx(In,{strong:!0,style:{fontSize:12},children:`${Math.round(d.power_w)}W / ${Math.round(g)}W`})]}),a.jsx(Zn,{percent:x,strokeColor:l(x),size:"small",showInfo:!1})]})}),d.temp_c!==void 0&&a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(B,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(B,{size:4,children:[a.jsx(Wc,{style:{color:l(S),fontSize:14}}),a.jsx(In,{style:{fontSize:12},children:n("gpu.temp")})]}),a.jsx(In,{strong:!0,style:{fontSize:12},children:`${Math.round(d.temp_c)}°C / ${Math.round(v)}°C`})]}),a.jsx(Zn,{percent:S,strokeColor:l(S),size:"small",showInfo:!1})]})})]})},f)};return a.jsx(le,{title:n("gpu.monitor_title"),loading:t,style:{marginTop:16},children:a.jsx(Pt,{gutter:[16,24],justify:"center",children:e.map((d,f)=>c(d,f))})})},Il={},{Text:AD}=_e;function gC(){const{id:e=""}=Sm(),{t}=Ue(),{settings:n}=ji(),[s,o]=b.useState(null),[l,c]=b.useState({columns:[],rows:[]}),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(null),[v,S]=b.useState(()=>{try{return localStorage.getItem(`run:${e}:step:xAxis`)||"global_step"}catch{return"global_step"}}),[T,k]=b.useState(()=>{try{return localStorage.getItem(`run:${e}:layout:twoCol`)==="1"}catch{return!0}}),[P,A]=b.useState(window.innerWidth);b.useEffect(()=>{const X=()=>A(window.innerWidth);return window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]);const[M,j]=b.useState(null),R=b.useRef([]),[L,$]=b.useState([]),[z,N]=b.useState([]),[W,Y]=b.useState([]),[se,J]=b.useState({}),re=async(X=!0)=>{X&&f(!0);try{const de=await Sj(e);o(de),x(new Date)}catch{Q.error(t("run.load_failed")||"Failed to load run details")}finally{X&&f(!1)}},ue=async(X=!0)=>{X&&p(!0);try{const de=await Dl(e);c(de)}catch{Q.error(t("run.metrics_failed")||"Failed to load metrics")}finally{X&&p(!1)}};b.useEffect(()=>{re(),ue();const X=setInterval(()=>{re(!1),ue(!1)},3e3);return()=>clearInterval(X)},[e]),b.useEffect(()=>{(async()=>{if(!(s!=null&&s.project)||!(s!=null&&s.name)){$([]);return}try{const X=await Cj(s.project,s.name);$(X||[]),N(de=>de&&de.length?de:[e])}catch{$([])}})()},[s==null?void 0:s.project,s==null?void 0:s.name,e]),b.useEffect(()=>{let X=!1;return(async()=>{const de={...se};for(const Me of z)if(!de[Me])try{const We=await Dl(Me);X||(de[Me]=We)}catch{}X||J(de)})(),()=>{X=!0}},[z]),b.useEffect(()=>{try{localStorage.setItem(`run:${e}:step:xAxis`,v)}catch{}},[e,v]),b.useEffect(()=>{try{localStorage.setItem(`run:${e}:layout:twoCol`,T?"1":"0")}catch{}},[e,T]),b.useEffect(()=>{let X;const de=async()=>{try{const Me=await qc();if(!(Me!=null&&Me.available)||!(Me!=null&&Me.gpus)||!Me.gpus.length)return;const We=Me.gpus,F=We.length,ce=Ht=>Ht.reduce((q,he)=>q+(Number.isFinite(he)?he:0),0),Ae=Math.round(ce(We.map(Ht=>Number(Ht.util_gpu??0)))/F),xt=Math.round(ce(We.map(Ht=>Number(Ht.mem_used_pct??0)))/F),Et=Math.round(ce(We.map(Ht=>Number(Ht.power_w??0)))),vn=Math.max(...We.map(Ht=>Number(Ht.temp_c??0)));j({util:Ae,mem:xt,power:Et,temp:vn,gpus:We});const kt=Date.now()/1e3,rn=R.current.slice();for(rn.push({t:kt,util:Ae,mem:xt,power:Et,temp:vn});rn.length>60;)rn.shift();R.current=rn}catch{}};return de(),X=setInterval(de,2e3),()=>clearInterval(X)},[e]);const pe=location.protocol==="https:"?"wss":"ws",ie=b.useMemo(()=>{const X=(Il==null?void 0:Il.VITE_API_BASE)||"/api";return/^https?:/i.test(X)?`${X.replace(/^http/i,pe).replace(/\/$/,"")}/runs/${e}/logs/ws`:`${pe}://${location.host}${X.replace(/\/$/,"")}/runs/${e}/logs/ws`},[e,pe]),ee=(X,de)=>{var Me;if(!((Me=X==null?void 0:X.rows)!=null&&Me.length))return!1;for(const We of X.rows){const F=We[de];if(F==null||F==="")continue;const ce=Number(F);if(!Number.isNaN(ce))return!0}return!1},K=new Set(["epoch","global_step","iter","step","batch","time","stage"]),Z=b.useMemo(()=>(l.columns||[]).filter(X=>!K.has(X)&&ee(l,X)),[l]),ae=b.useMemo(()=>{const X=new Set;for(const de of z){const Me=se[de];if(!Me)continue;const We=Me.columns||[];for(const F of We)!K.has(F)&&ee(Me,F)&&X.add(F)}return Array.from(X).sort()},[z,se]),ve=b.useMemo(()=>({display:"grid",gridTemplateColumns:T&&P>=900?"repeat(auto-fit, minmax(400px, 1fr))":"1fr",gap:16,width:"100%",maxWidth:"100%"}),[T,P]),qe=b.useMemo(()=>{const X=n.defaultChartHeight;return P>=1200?X+30:P>=900?X:Math.max(250,X-40)},[P,n.defaultChartHeight]);return d&&!s?a.jsx(Nm,{}):a.jsxs(B,{direction:"vertical",size:"large",style:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:[a.jsxs(le,{title:a.jsxs(B,{children:[a.jsx("span",{children:t("run.title",{id:e})}),(s==null?void 0:s.status)&&a.jsx(Ce,{color:s.status==="running"?"processing":s.status==="finished"?"success":s.status==="failed"?"error":"default",children:s.status}),g&&a.jsx(Be,{title:`Last updated: ${g.toLocaleTimeString()}`,children:a.jsx(ri,{status:"processing",text:"Auto-refreshing"})})]}),extra:a.jsxs(B,{children:[a.jsx(Be,{title:t("metrics.more_columns_tooltip")||"Display charts in multiple columns for better comparison",children:a.jsxs("span",{children:[t("metrics.more_columns")," ",a.jsx(gt,{checked:T,onChange:k})]})}),a.jsx(Be,{title:"Manual refresh",children:a.jsx(me,{type:"text",icon:a.jsx(Cs,{}),loading:d,onClick:()=>{re(),ue(),Q.success("Data refreshed")}})})]}),children:[a.jsx(yn,{spinning:d,children:a.jsx(Se,{bordered:!0,size:"middle",column:{xs:1,sm:1,md:2,lg:2,xl:2},labelStyle:{fontWeight:600,fontSize:"14px",color:"#262626",width:"120px"},contentStyle:{fontSize:"14px",color:"#595959",fontFamily:"inherit"},items:[{key:"project",label:t("run.descriptions.project"),children:s!=null&&s.project?a.jsx(Ce,{color:"blue",style:{fontSize:"13px",padding:"4px 8px"},children:s.project}):"-"},{key:"name",label:t("run.descriptions.name"),children:s!=null&&s.name?a.jsx(Ce,{color:"purple",style:{fontSize:"13px",padding:"4px 8px"},children:s.name}):"-"},{key:"status",label:t("run.descriptions.status"),children:s!=null&&s.status?a.jsx(Ce,{color:s.status==="running"?"processing":s.status==="finished"?"success":s.status==="failed"?"error":"default",style:{fontSize:"13px",padding:"4px 8px",fontWeight:500},children:s.status.toUpperCase()}):"-"},{key:"pid",label:t("run.descriptions.pid"),children:s!=null&&s.pid?a.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#1677ff"},children:s.pid}):"-"},{key:"run_dir",label:t("run.descriptions.dir"),children:s!=null&&s.run_dir?a.jsx("div",{style:{fontSize:"13px",wordBreak:"break-all",lineHeight:"1.5",maxWidth:"400px",color:"#595959"},children:s.run_dir}):"-"},{key:"logs",label:t("run.descriptions.logs"),children:s!=null&&s.logs?a.jsx("div",{style:{fontSize:"13px",wordBreak:"break-all",lineHeight:"1.5",maxWidth:"400px",color:"#595959"},children:s.logs}):"-"}]})}),(s==null?void 0:s.status)==="running"&&(M==null?void 0:M.gpus)&&M.gpus.length>0&&a.jsx($m,{gpus:M.gpus,loading:d})]}),a.jsx(le,{title:a.jsxs(B,{children:[a.jsx("span",{children:t("compare.title")}),z.length>1&&W.length>0&&a.jsx(ri,{count:`${z.length} runs × ${W.length} metrics`,style:{backgroundColor:"#52c41a"}})]}),extra:a.jsxs(B,{children:[a.jsx(Be,{title:"Select all available metrics",children:a.jsx(me,{size:"small",type:"dashed",onClick:()=>Y(ae),disabled:ae.length===0,children:"Select All Metrics"})}),a.jsx(Be,{title:"Clear all selections",children:a.jsx(me,{size:"small",type:"text",onClick:()=>{Y([]),N([e])},children:"Clear"})})]}),children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsxs(B,{wrap:!0,style:{width:"100%"},children:[a.jsxs("div",{style:{minWidth:200,maxWidth:P>=768?360:"100%"},children:[a.jsx("div",{style:{marginBottom:4,fontSize:"14px",fontWeight:500},children:t("compare.select.runs")}),a.jsx(jt,{mode:"multiple",allowClear:!0,value:z,onChange:N,placeholder:t("compare.select.runs.placeholder"),style:{width:"100%",minWidth:200},options:(L||[]).map(X=>({value:X.id,label:X.id}))})]}),a.jsxs("div",{style:{minWidth:200,maxWidth:P>=768?300:"100%"},children:[a.jsx("div",{style:{marginBottom:4,fontSize:"14px",fontWeight:500},children:a.jsxs(B,{children:[a.jsx("span",{children:t("compare.select.metrics")}),a.jsxs(B.Compact,{children:[a.jsx(Be,{title:"Common loss metrics",children:a.jsx(me,{size:"small",type:"text",onClick:()=>{const X=ae.filter(de=>de.toLowerCase().includes("loss")||de.toLowerCase().includes("error"));Y(X)},children:"Loss"})}),a.jsx(Be,{title:"Common accuracy metrics",children:a.jsx(me,{size:"small",type:"text",onClick:()=>{const X=ae.filter(de=>de.toLowerCase().includes("acc")||de.toLowerCase().includes("accuracy"));Y(X)},children:"Acc"})})]})]})}),a.jsx(jt,{mode:"multiple",allowClear:!0,value:W,onChange:Y,placeholder:t("compare.select.metrics.placeholder"),style:{width:"100%",minWidth:200},options:ae.map(X=>({value:X,label:X})),maxTagCount:"responsive"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:8},children:[a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:4,fontSize:"14px",fontWeight:500},children:t("compare.stepx")}),a.jsx(jt,{size:"small",value:v,onChange:X=>S(X),style:{width:140},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),a.jsx(me,{size:"small",onClick:async()=>{const X={};for(const de of z)try{X[de]=await Dl(de)}catch{}J(X)},children:t("compare.refresh")})]})]}),W.length===0||z.length===0?a.jsx(nn,{type:"info",showIcon:!0,message:t("compare.tip")}):a.jsx("div",{style:ve,children:W.map(X=>a.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px"},children:a.jsx(lC,{title:X,xKey:v,yKey:X,runs:z.map(de=>({id:de,metrics:se[de]||{columns:[],rows:[]}})),height:qe,group:`overlay-group-${e}`,persistKey:`run:${e}:overlay:${X}`})},X))})]})}),a.jsx(le,{title:a.jsxs(B,{children:[a.jsx("span",{children:t("metrics.title")}),a.jsx(ri,{count:Z.length,showZero:!0,style:{backgroundColor:"#1677ff"}}),h&&a.jsx(yn,{size:"small"})]}),extra:a.jsxs(B,{wrap:!0,children:[a.jsxs("span",{children:[t("compare.stepx")," ",a.jsx(jt,{size:"small",value:v,onChange:X=>S(X),style:{width:140},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),a.jsx(Be,{title:"Refresh metrics",children:a.jsx(me,{type:"text",size:"small",icon:a.jsx(Cs,{}),loading:h,onClick:()=>ue()})})]}),children:Z.length===0?a.jsx(nn,{type:"info",showIcon:!0,message:t("metrics.none")}):a.jsx("div",{style:ve,children:Z.map(X=>a.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px"},children:a.jsx(iC,{metrics:l,xKey:v,yKeys:[X],title:X,height:qe,group:`step-group-${e}`,persistKey:`run:${e}:step:${X}`})},X))})}),((s==null?void 0:s.artifacts_created_count)>0||(s==null?void 0:s.artifacts_used_count)>0)&&a.jsx(le,{title:a.jsxs(B,{children:[a.jsx(Yo,{}),t("run.artifacts.title")]}),children:a.jsx(hC,{runId:e})}),a.jsx(le,{title:a.jsxs(B,{children:[a.jsx("span",{children:t("logs.title")}),a.jsx(Ce,{color:"cyan",children:"Real-time"})]}),styles:{body:{padding:0}},children:a.jsx(nC,{url:ie,persistKey:`run_${e}_logs`})})]})}const Jc=b.createContext({});function Ci(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Zc=typeof window<"u",Qc=Zc?b.useLayoutEffect:b.useEffect,Qo=b.createContext(null);function eu(e,t){e.indexOf(t)===-1&&e.push(t)}function ea(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const er=(e,t,n)=>n>t?t:n<e?e:n;let tu=()=>{};const tr={},Vm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Bm(e){return typeof e=="object"&&e!==null}const Um=e=>/^0[^.\s]+$/u.test(e);function nu(e){let t;return()=>(t===void 0&&(t=e()),t)}const xn=e=>e,yC=(e,t)=>n=>t(e(n)),Ti=(...e)=>e.reduce(yC),Rs=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ru{constructor(){this.subscriptions=[]}add(t){return eu(this.subscriptions,t),()=>ea(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const En=e=>e*1e3,gn=e=>e/1e3;function Wm(e,t){return t?e*(1e3/t):0}const xC=(e,t,n)=>{const s=t-e;return((n-e)%s+s)%s+e},Hm=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vC=1e-7,wC=12;function _C(e,t,n,s,o){let l,c,d=0;do c=t+(n-t)/2,l=Hm(c,s,o)-e,l>0?n=c:t=c;while(Math.abs(l)>vC&&++d<wC);return c}function Ri(e,t,n,s){if(e===t&&n===s)return xn;const o=l=>_C(l,0,1,e,n);return l=>l===0||l===1?l:Hm(o(l),t,s)}const Gm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Km=e=>t=>1-e(1-t),qm=Ri(.33,1.53,.69,.99),su=Km(qm),Ym=Gm(su),Xm=e=>(e*=2)<1?.5*su(e):.5*(2-Math.pow(2,-10*(e-1))),iu=e=>1-Math.sin(Math.acos(e)),Jm=Km(iu),Zm=Gm(iu),bC=Ri(.42,0,1,1),SC=Ri(0,0,.58,1),Qm=Ri(.42,0,.58,1),eg=e=>Array.isArray(e)&&typeof e[0]!="number";function tg(e,t){return eg(e)?e[xC(0,e.length,t)]:e}const ng=e=>Array.isArray(e)&&typeof e[0]=="number",jC={linear:xn,easeIn:bC,easeInOut:Qm,easeOut:SC,circIn:iu,circInOut:Zm,circOut:Jm,backIn:su,backInOut:Ym,backOut:qm,anticipate:Xm},CC=e=>typeof e=="string",Ch=e=>{if(ng(e)){tu(e.length===4);const[t,n,s,o]=e;return Ri(t,n,s,o)}else if(CC(e))return jC[e];return e},bo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TC(e,t){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(h.schedule(p),e()),p(d)}const h={schedule:(p,g=!1,x=!1)=>{const S=x&&o?n:s;return g&&c.add(p),S.has(p)||S.add(p),p},cancel:p=>{s.delete(p),c.delete(p)},process:p=>{if(d=p,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(f),n.clear(),o=!1,l&&(l=!1,h.process(p))}};return h}const RC=40;function rg(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=bo.reduce((M,j)=>(M[j]=TC(l),M),{}),{setup:d,read:f,resolveKeyframes:h,preUpdate:p,update:g,preRender:x,render:v,postRender:S}=c,T=()=>{const M=tr.useManualTiming?o.timestamp:performance.now();n=!1,tr.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(M-o.timestamp,RC),1)),o.timestamp=M,o.isProcessing=!0,d.process(o),f.process(o),h.process(o),p.process(o),g.process(o),x.process(o),v.process(o),S.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(T))},k=()=>{n=!0,s=!0,o.isProcessing||e(T)};return{schedule:bo.reduce((M,j)=>{const R=c[j];return M[j]=(L,$=!1,z=!1)=>(n||k(),R.schedule(L,$,z)),M},{}),cancel:M=>{for(let j=0;j<bo.length;j++)c[bo[j]].cancel(M)},state:o,steps:c}}const{schedule:Xe,cancel:nr,state:St,steps:Ll}=rg(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0);let ko;function PC(){ko=void 0}const Wt={now:()=>(ko===void 0&&Wt.set(St.isProcessing||tr.useManualTiming?St.timestamp:performance.now()),ko),set:e=>{ko=e,queueMicrotask(PC)}},sg=e=>t=>typeof t=="string"&&t.startsWith(e),ou=sg("--"),AC=sg("var(--"),au=e=>AC(e)?EC.test(e.split("/*")[0].trim()):!1,EC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Es={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pi={...Es,transform:e=>er(0,1,e)},So={...Es,default:1},si=e=>Math.round(e*1e5)/1e5,lu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kC(e){return e==null}const MC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cu=(e,t)=>n=>!!(typeof n=="string"&&MC.test(n)&&n.startsWith(e)||t&&!kC(n)&&Object.prototype.hasOwnProperty.call(n,t)),ig=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(lu);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},DC=e=>er(0,255,e),Ol={...Es,transform:e=>Math.round(DC(e))},Dr={test:cu("rgb","red"),parse:ig("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Ol.transform(e)+", "+Ol.transform(t)+", "+Ol.transform(n)+", "+si(pi.transform(s))+")"};function IC(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const hc={test:cu("#"),parse:IC,transform:Dr.transform},Pi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),mr=Pi("deg"),zn=Pi("%"),we=Pi("px"),LC=Pi("vh"),OC=Pi("vw"),Th={...zn,parse:e=>zn.parse(e)/100,transform:e=>zn.transform(e*100)},ys={test:cu("hsl","hue"),parse:ig("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+zn.transform(si(t))+", "+zn.transform(si(n))+", "+si(pi.transform(s))+")"},ut={test:e=>Dr.test(e)||hc.test(e)||ys.test(e),parse:e=>Dr.test(e)?Dr.parse(e):ys.test(e)?ys.parse(e):hc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Dr.transform(e):ys.transform(e),getAnimatableNone:e=>{const t=ut.parse(e);return t.alpha=0,ut.transform(t)}},zC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lu))==null?void 0:t.length)||0)+(((n=e.match(zC))==null?void 0:n.length)||0)>0}const og="number",ag="color",NC="var",$C="var(",Rh="${}",VC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mi(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=t.replace(VC,f=>(ut.test(f)?(s.color.push(l),o.push(ag),n.push(ut.parse(f))):f.startsWith($C)?(s.var.push(l),o.push(NC),n.push(f)):(s.number.push(l),o.push(og),n.push(parseFloat(f))),++l,Rh)).split(Rh);return{values:n,split:d,indexes:s,types:o}}function lg(e){return mi(e).values}function cg(e){const{split:t,types:n}=mi(e),s=t.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],o[c]!==void 0){const d=n[c];d===og?l+=si(o[c]):d===ag?l+=ut.transform(o[c]):l+=o[c]}return l}}const BC=e=>typeof e=="number"?0:ut.test(e)?ut.getAnimatableNone(e):e;function UC(e){const t=lg(e);return cg(e)(t.map(BC))}const vr={test:FC,parse:lg,createTransformer:cg,getAnimatableNone:UC};function zl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function WC({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,c=0;if(!t)o=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;o=zl(f,d,e+1/3),l=zl(f,d,e),c=zl(f,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function zo(e,t){return n=>n>0?t:e}const Qe=(e,t,n)=>e+(t-e)*n,Fl=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},HC=[hc,Dr,ys],GC=e=>HC.find(t=>t.test(e));function Ph(e){const t=GC(e);if(!t)return!1;let n=t.parse(e);return t===ys&&(n=WC(n)),n}const Ah=(e,t)=>{const n=Ph(e),s=Ph(t);if(!n||!s)return zo(e,t);const o={...n};return l=>(o.red=Fl(n.red,s.red,l),o.green=Fl(n.green,s.green,l),o.blue=Fl(n.blue,s.blue,l),o.alpha=Qe(n.alpha,s.alpha,l),Dr.transform(o))},pc=new Set(["none","hidden"]);function KC(e,t){return pc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function qC(e,t){return n=>Qe(e,t,n)}function uu(e){return typeof e=="number"?qC:typeof e=="string"?au(e)?zo:ut.test(e)?Ah:JC:Array.isArray(e)?ug:typeof e=="object"?ut.test(e)?Ah:YC:zo}function ug(e,t){const n=[...e],s=n.length,o=e.map((l,c)=>uu(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function YC(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=uu(e[o])(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function XC(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][s[l]],d=e.values[c]??0;n[o]=d,s[l]++}return n}const JC=(e,t)=>{const n=vr.createTransformer(t),s=mi(e),o=mi(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?pc.has(e)&&!o.values.length||pc.has(t)&&!s.values.length?KC(e,t):Ti(ug(XC(s,o),o.values),n):zo(e,t)};function dg(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qe(e,t,n):uu(e)(e,t)}const ZC=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Xe.update(t,n),stop:()=>nr(t),now:()=>St.isProcessing?St.timestamp:Wt.now()}},fg=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)s+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Fo=2e4;function du(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Fo;)t+=n,s=e.next(t);return t>=Fo?1/0:t}function hg(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(du(s),Fo);return{type:"keyframes",ease:l=>s.next(o*l).value/t,duration:gn(o)}}const QC=5;function pg(e,t,n){const s=Math.max(t-QC,0);return Wm(n-e(s),t-s)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nl=.001;function eT({duration:e=it.duration,bounce:t=it.bounce,velocity:n=it.velocity,mass:s=it.mass}){let o,l,c=1-t;c=er(it.minDamping,it.maxDamping,c),e=er(it.minDuration,it.maxDuration,gn(e)),c<1?(o=h=>{const p=h*c,g=p*e,x=p-n,v=mc(h,c),S=Math.exp(-g);return Nl-x/v*S},l=h=>{const g=h*c*e,x=g*n+n,v=Math.pow(c,2)*Math.pow(h,2)*e,S=Math.exp(-g),T=mc(Math.pow(h,2),c);return(-o(h)+Nl>0?-1:1)*((x-v)*S)/T}):(o=h=>{const p=Math.exp(-h*e),g=(h-n)*e+1;return-Nl+p*g},l=h=>{const p=Math.exp(-h*e),g=(n-h)*(e*e);return p*g});const d=5/e,f=nT(o,l,d);if(e=En(e),isNaN(f))return{stiffness:it.stiffness,damping:it.damping,duration:e};{const h=Math.pow(f,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:e}}}const tT=12;function nT(e,t,n){let s=n;for(let o=1;o<tT;o++)s=s-e(s)/t(s);return s}function mc(e,t){return e*Math.sqrt(1-t*t)}const rT=["duration","bounce"],sT=["stiffness","damping","mass"];function Eh(e,t){return t.some(n=>e[n]!==void 0)}function iT(e){let t={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...e};if(!Eh(e,sT)&&Eh(e,rT))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*er(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:it.mass,stiffness:o,damping:l}}else{const n=eT(e);t={...t,...n,mass:it.mass},t.isResolvedFromDuration=!0}return t}function gi(e=it.visualDuration,t=it.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:h,mass:p,duration:g,velocity:x,isResolvedFromDuration:v}=iT({...n,velocity:-gn(n.velocity||0)}),S=x||0,T=h/(2*Math.sqrt(f*p)),k=c-l,P=gn(Math.sqrt(f/p)),A=Math.abs(k)<5;s||(s=A?it.restSpeed.granular:it.restSpeed.default),o||(o=A?it.restDelta.granular:it.restDelta.default);let M;if(T<1){const R=mc(P,T);M=L=>{const $=Math.exp(-T*P*L);return c-$*((S+T*P*k)/R*Math.sin(R*L)+k*Math.cos(R*L))}}else if(T===1)M=R=>c-Math.exp(-P*R)*(k+(S+P*k)*R);else{const R=P*Math.sqrt(T*T-1);M=L=>{const $=Math.exp(-T*P*L),z=Math.min(R*L,300);return c-$*((S+T*P*k)*Math.sinh(z)+R*k*Math.cosh(z))/R}}const j={calculatedDuration:v&&g||null,next:R=>{const L=M(R);if(v)d.done=R>=g;else{let $=R===0?S:0;T<1&&($=R===0?En(S):pg(M,R,L));const z=Math.abs($)<=s,N=Math.abs(c-L)<=o;d.done=z&&N}return d.value=d.done?c:L,d},toString:()=>{const R=Math.min(du(j),Fo),L=fg($=>j.next(R*$).value,R,30);return R+"ms "+L},toTransition:()=>{}};return j}gi.applyToOptions=e=>{const t=hg(e,100,gi);return e.ease=t.ease,e.duration=En(t.duration),e.type="keyframes",e};function gc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:h=.5,restSpeed:p}){const g=e[0],x={done:!1,value:g},v=z=>d!==void 0&&z<d||f!==void 0&&z>f,S=z=>d===void 0?f:f===void 0||Math.abs(d-z)<Math.abs(f-z)?d:f;let T=n*t;const k=g+T,P=c===void 0?k:c(k);P!==k&&(T=P-g);const A=z=>-T*Math.exp(-z/s),M=z=>P+A(z),j=z=>{const N=A(z),W=M(z);x.done=Math.abs(N)<=h,x.value=x.done?P:W};let R,L;const $=z=>{v(x.value)&&(R=z,L=gi({keyframes:[x.value,S(x.value)],velocity:pg(M,z,x.value),damping:o,stiffness:l,restDelta:h,restSpeed:p}))};return $(0),{calculatedDuration:null,next:z=>{let N=!1;return!L&&R===void 0&&(N=!0,j(z),$(z)),R!==void 0&&z>=R?L.next(z-R):(!N&&j(z),x)}}}function oT(e,t,n){const s=[],o=n||tr.mix||dg,l=e.length-1;for(let c=0;c<l;c++){let d=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||xn:t;d=Ti(f,d)}s.push(d)}return s}function mg(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(tu(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=oT(t,s,o),f=d.length,h=p=>{if(c&&p<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const x=Rs(e[g],e[g+1],p);return d[g](x)};return n?p=>h(er(e[0],e[l-1],p)):h}function gg(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Rs(0,t,s);e.push(Qe(n,1,o))}}function yg(e){const t=[0];return gg(t,e.length-1),t}function aT(e,t){return e.map(n=>n*t)}function lT(e,t){return e.map(()=>t||Qm).splice(0,e.length-1)}function ii({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=eg(s)?s.map(Ch):Ch(s),l={done:!1,value:t[0]},c=aT(n&&n.length===t.length?n:yg(t),e),d=mg(c,t,{ease:Array.isArray(o)?o:lT(t,o)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const cT=e=>e!==null;function fu(e,{repeat:t,repeatType:n="loop"},s,o=1){const l=e.filter(cT),d=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const uT={decay:gc,inertia:gc,tween:ii,keyframes:ii,spring:gi};function xg(e){typeof e.type=="string"&&(e.type=uT[e.type])}class hu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const dT=e=>e/100;class pu extends hu{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Wt.now()&&this.tick(Wt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xg(t);const{type:n=ii,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||ii;f!==ii&&typeof d[0]!="number"&&(this.mixKeyframes=Ti(dT,dg(d[0],d[1])),d=[0,100]);const h=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=du(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:x,repeatDelay:v,type:S,onUpdate:T,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const P=this.currentTime-h*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?P<0:P>o;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let M=this.currentTime,j=s;if(g){const z=Math.min(this.currentTime,o)/d;let N=Math.floor(z),W=z%1;!W&&z>=1&&(W=1),W===1&&N--,N=Math.min(N,g+1),!!(N%2)&&(x==="reverse"?(W=1-W,v&&(W-=v/d)):x==="mirror"&&(j=c)),M=er(0,1,W)*d}const R=A?{done:!1,value:p[0]}:j.next(M);l&&(R.value=l(R.value));let{done:L}=R;!A&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return $&&S!==gc&&(R.value=fu(p,this.options,k,this.speed)),T&&T(R.value),$&&this.finish(),R}then(t,n){return this.finished.then(t,n)}get duration(){return gn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+gn(t)}get time(){return gn(this.currentTime)}set time(t){var n;t=En(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Wt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=gn(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=ZC,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function fT(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ir=e=>e*180/Math.PI,yc=e=>{const t=Ir(Math.atan2(e[1],e[0]));return xc(t)},hT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:yc,rotateZ:yc,skewX:e=>Ir(Math.atan(e[1])),skewY:e=>Ir(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xc=e=>(e=e%360,e<0&&(e+=360),e),kh=yc,Mh=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Dh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),pT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mh,scaleY:Dh,scale:e=>(Mh(e)+Dh(e))/2,rotateX:e=>xc(Ir(Math.atan2(e[6],e[5]))),rotateY:e=>xc(Ir(Math.atan2(-e[2],e[0]))),rotateZ:kh,rotate:kh,skewX:e=>Ir(Math.atan(e[4])),skewY:e=>Ir(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function vc(e){return e.includes("scale")?1:0}function wc(e,t){if(!e||e==="none")return vc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=pT,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=hT,o=d}if(!o)return vc(t);const l=s[t],c=o[1].split(",").map(gT);return typeof l=="function"?l(c):c[l]}const mT=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return wc(n,t)};function gT(e){return parseFloat(e.trim())}const ks=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ms=new Set(ks),Ih=e=>e===Es||e===we,yT=new Set(["x","y","z"]),xT=ks.filter(e=>!yT.has(e));function vT(e){const t=[];return xT.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Fr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>wc(t,"x"),y:(e,{transform:t})=>wc(t,"y")};Fr.translateX=Fr.x;Fr.translateY=Fr.y;const Nr=new Set;let _c=!1,bc=!1,Sc=!1;function vg(){if(bc){const e=Array.from(Nr).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=vT(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}bc=!1,_c=!1,Nr.forEach(e=>e.complete(Sc)),Nr.clear()}function wg(){Nr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(bc=!0)})}function wT(){Sc=!0,wg(),vg(),Sc=!1}class mu{constructor(t,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Nr.add(this),_c||(_c=!0,Xe.read(wg),Xe.resolveKeyframes(vg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}fT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nr.delete(this)}cancel(){this.state==="scheduled"&&(Nr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _T=e=>e.startsWith("--");function bT(e,t,n){_T(t)?e.style.setProperty(t,n):e.style[t]=n}const ST=nu(()=>window.ScrollTimeline!==void 0),jT={};function CT(e,t){const n=nu(e);return()=>jT[t]??n()}const _g=CT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ti=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Lh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ti([0,.65,.55,1]),circOut:ti([.55,0,1,.45]),backIn:ti([.31,.01,.66,-.59]),backOut:ti([.33,1.53,.69,.99])};function bg(e,t){if(e)return typeof e=="function"?_g()?fg(e,t):"ease-out":ng(e)?ti(e):Array.isArray(e)?e.map(n=>bg(n,t)||Lh.easeOut):Lh[e]}function TT(e,t,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},h=void 0){const p={[t]:n};f&&(p.offset=f);const g=bg(d,o);Array.isArray(g)&&(p.easing=g);const x={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),e.animate(p,x)}function gu(e){return typeof e=="function"&&"applyToOptions"in e}function RT({type:e,...t}){return gu(e)&&_g()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class PT extends hu{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,tu(typeof t.type!="string");const h=RT(t);this.animation=TT(n,s,o,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=fu(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):bT(n,s,p),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return gn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+gn(t)}get time(){return gn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=En(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&ST()?(this.animation.timeline=t,xn):n(this)}}const Sg={anticipate:Xm,backInOut:Ym,circInOut:Zm};function AT(e){return e in Sg}function ET(e){typeof e.ease=="string"&&AT(e.ease)&&(e.ease=Sg[e.ease])}const Oh=10;class kT extends PT{constructor(t){ET(t),xg(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new pu({...c,autoplay:!1}),f=En(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-Oh).value,d.sample(f).value,Oh),d.stop()}}const zh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vr.test(e)||e==="0")&&!e.startsWith("url("));function MT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function DT(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=zh(o,t),d=zh(l,t);return!c||!d?!1:MT(e)||(n==="spring"||gu(n))&&s}function jc(e){e.duration=0,e.type="keyframes"}const IT=new Set(["opacity","clipPath","filter","transform"]),LT=nu(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OT(e){var p;const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return LT()&&n&&IT.has(n)&&(n!=="transform"||!h)&&!f&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const zT=40;class FT extends hu{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:h,element:p,...g}){var S;super(),this.stop=()=>{var T,k;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Wt.now();const x={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:f,motionValue:h,element:p,...g},v=(p==null?void 0:p.KeyframeResolver)||mu;this.keyframeResolver=new v(d,(T,k,P)=>this.onKeyframesResolved(T,k,x,!P),f,h,p),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:h,onUpdate:p}=s;this.resolvedAt=Wt.now(),DT(t,l,c,d)||((tr.instantAnimations||!f)&&(p==null||p(fu(t,s,n))),t[0]=t[t.length-1],jc(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>zT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},v=!h&&OT(x)?new kT({...x,element:x.motionValue.owner.current}):new pu(x);v.finished.then(()=>this.notifyFinished()).catch(xn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),wT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class NT{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t){const n=this.animations.map(s=>s.attachTimeline(t));return()=>{n.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return Fh(this.animations,"duration")}get iterationDuration(){return Fh(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Fh(e,t){let n=0;for(let s=0;s<e.length;s++){const o=e[s][t];o!==null&&o>n&&(n=o)}return n}class $T extends NT{then(t,n){return this.finished.finally(t).then(()=>{})}}const VT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BT(e){const t=VT.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function jg(e,t,n=1){const[s,o]=BT(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Vm(c)?parseFloat(c):c}return au(o)?jg(o,t,n+1):o}function yu(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Cg=new Set(["width","height","top","left","right","bottom",...ks]),UT={test:e=>e==="auto",parse:e=>e},Tg=e=>t=>t.test(e),Rg=[Es,we,zn,mr,OC,LC,UT],Nh=e=>Rg.find(Tg(e));function WT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Um(e):!0}const HT=new Set(["brightness","contrast","saturate","opacity"]);function GT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(lu)||[];if(!s)return e;const o=n.replace(s,"");let l=HT.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const KT=/\b([a-z-]*)\(.*?\)/gu,Cc={...vr,getAnimatableNone:e=>{const t=e.match(KT);return t?t.map(GT).join(" "):e}},$h={...Es,transform:Math.round},qT={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:So,scaleX:So,scaleY:So,scaleZ:So,skew:mr,skewX:mr,skewY:mr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:pi,originX:Th,originY:Th,originZ:we},xu={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...qT,zIndex:$h,fillOpacity:pi,strokeOpacity:pi,numOctaves:$h},YT={...xu,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:Cc,WebkitFilter:Cc},Pg=e=>YT[e];function Ag(e,t){let n=Pg(e);return n!==Cc&&(n=vr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const XT=new Set(["auto","none","0"]);function JT(e,t,n){let s=0,o;for(;s<e.length&&!o;){const l=e[s];typeof l=="string"&&!XT.has(l)&&mi(l).values.length&&(o=e[s]),s++}if(o&&n)for(const l of t)e[l]=Ag(n,o)}class ZT extends mu{constructor(t,n,s,o,l){super(t,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),au(h))){const p=jg(h,n.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Cg.has(s)||t.length!==2)return;const[o,l]=t,c=Nh(o),d=Nh(l);if(c!==d)if(Ih(c)&&Ih(d))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else Fr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||WT(t[o]))&&s.push(o);s.length&&JT(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Fr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function Eg(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(n==null?void 0:n[e])??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const kg=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Mg(e){return Bm(e)&&"offsetHeight"in e}const Vh=30,QT=e=>!isNaN(parseFloat(e)),oi={current:void 0};class eR{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const o=Wt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Wt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=QT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ru);const s=this.events[t].add(n);return t==="change"?()=>{s(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return oi.current&&oi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Wt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vh);return Wm(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vr(e,t){return new eR(e,t)}const{schedule:vu}=rg(queueMicrotask,!1),Tn={x:!1,y:!1};function Dg(){return Tn.x||Tn.y}function tR(e){return e==="x"||e==="y"?Tn[e]?null:(Tn[e]=!0,()=>{Tn[e]=!1}):Tn.x||Tn.y?null:(Tn.x=Tn.y=!0,()=>{Tn.x=Tn.y=!1})}function Ig(e,t){const n=Eg(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function Bh(e){return!(e.pointerType==="touch"||Dg())}function nR(e,t,n={}){const[s,o,l]=Ig(e,n),c=d=>{if(!Bh(d))return;const{target:f}=d,h=t(f,d);if(typeof h!="function"||!f)return;const p=g=>{Bh(g)&&(h(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const Lg=(e,t)=>t?e===t?!0:Lg(e,t.parentElement):!1,wu=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,rR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sR(e){return rR.has(e.tagName)||e.tabIndex!==-1}const Mo=new WeakSet;function Uh(e){return t=>{t.key==="Enter"&&e(t)}}function $l(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const iR=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Uh(()=>{if(Mo.has(n))return;$l(n,"down");const o=Uh(()=>{$l(n,"up")}),l=()=>$l(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Wh(e){return wu(e)&&!Dg()}function oR(e,t,n={}){const[s,o,l]=Ig(e,n),c=d=>{const f=d.currentTarget;if(!Wh(d))return;Mo.add(f);const h=t(f,d),p=(v,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),Mo.has(f)&&Mo.delete(f),Wh(v)&&typeof h=="function"&&h(v,{success:S})},g=v=>{p(v,f===window||f===document||n.useGlobalTarget||Lg(f,v.target))},x=v=>{p(v,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",x,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),Mg(d)&&(d.addEventListener("focus",h=>iR(h,o)),!sR(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function _u(e){return Bm(e)&&"ownerSVGElement"in e}function Og(e){return _u(e)&&e.tagName==="svg"}function aR(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],l=e[2+n],c=e[3+n],d=mg(o,l,c);return t?d(s):d}const yt=e=>!!(e&&e.getVelocity),lR=[...Rg,ut,vr],cR=e=>lR.find(Tg(e)),ta=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Hh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uR(...e){return t=>{let n=!1;const s=e.map(o=>{const l=Hh(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Hh(e[o],null)}}}}function dR(...e){return b.useCallback(uR(...e),e)}class fR extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=Mg(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hR({children:e,isPresent:t,anchorX:n,root:s}){const o=b.useId(),l=b.useRef(null),c=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=b.useContext(ta),f=dR(l,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:h,height:p,top:g,left:x,right:v}=c.current;if(t||!l.current||!h||!p)return;const S=n==="left"?`left: ${x}`:`right: ${v}`;l.current.dataset.motionPopId=o;const T=document.createElement("style");d&&(T.nonce=d);const k=s??document.head;return k.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{k.contains(T)&&k.removeChild(T)}},[t]),a.jsx(fR,{isPresent:t,childRef:l,sizeRef:c,children:b.cloneElement(e,{ref:f})})}const pR=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const h=Ci(mR),p=b.useId();let g=!0,x=b.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:n,custom:o,onExitComplete:v=>{h.set(v,!0);for(const S of h.values())if(!S)return;s&&s()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,s]);return l&&g&&(x={...x}),b.useMemo(()=>{h.forEach((v,S)=>h.set(S,!1))},[n]),b.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(e=a.jsx(hR,{isPresent:n,anchorX:d,root:f,children:e})),a.jsx(Qo.Provider,{value:x,children:e})};function mR(){return new Map}function zg(e=!0){const t=b.useContext(Qo);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,l=b.useId();b.useEffect(()=>{if(e)return o(l)},[e]);const c=b.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const jo=e=>e.key||"";function Gh(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const gR=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[h,p]=zg(c),g=b.useMemo(()=>Gh(e),[e]),x=c&&!h?[]:g.map(jo),v=b.useRef(!0),S=b.useRef(g),T=Ci(()=>new Map),[k,P]=b.useState(g),[A,M]=b.useState(g);Qc(()=>{v.current=!1,S.current=g;for(let L=0;L<A.length;L++){const $=jo(A[L]);x.includes($)?T.delete($):T.get($)!==!0&&T.set($,!1)}},[A,x.length,x.join("-")]);const j=[];if(g!==k){let L=[...g];for(let $=0;$<A.length;$++){const z=A[$],N=jo(z);x.includes(N)||(L.splice($,0,z),j.push(z))}return l==="wait"&&j.length&&(L=j),M(Gh(L)),P(g),null}const{forceRender:R}=b.useContext(Jc);return a.jsx(a.Fragment,{children:A.map(L=>{const $=jo(L),z=c&&!h?!1:g===A||x.includes($),N=()=>{if(T.has($))T.set($,!0);else return;let W=!0;T.forEach(Y=>{Y||(W=!1)}),W&&(R==null||R(),M(S.current),c&&(p==null||p()),s&&s())};return a.jsx(pR,{isPresent:z,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:z?void 0:N,anchorX:d,children:L},$)})})},Fg=b.createContext({strict:!1}),Kh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ps={};for(const e in Kh)Ps[e]={isEnabled:t=>Kh[e].some(n=>!!t[n])};function yR(e){for(const t in e)Ps[t]={...Ps[t],...e[t]}}const xR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function No(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xR.has(e)}let Ng=e=>!No(e);function vR(e){typeof e=="function"&&(Ng=t=>t.startsWith("on")?!No(t):e(t))}try{vR(require("@emotion/is-prop-valid").default)}catch{}function wR(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(Ng(o)||n===!0&&No(o)||!t&&!No(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const na=b.createContext({});function ra(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function yi(e){return typeof e=="string"||Array.isArray(e)}const bu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Su=["initial",...bu];function sa(e){return ra(e.animate)||Su.some(t=>yi(e[t]))}function $g(e){return!!(sa(e)||e.variants)}function _R(e,t){if(sa(e)){const{initial:n,animate:s}=e;return{initial:n===!1||yi(n)?n:void 0,animate:yi(s)?s:void 0}}return e.inherit!==!1?t:{}}function bR(e){const{initial:t,animate:n}=_R(e,b.useContext(na));return b.useMemo(()=>({initial:t,animate:n}),[qh(t),qh(n)])}function qh(e){return Array.isArray(e)?e.join(" "):e}const xi={};function SR(e){for(const t in e)xi[t]=e[t],ou(t)&&(xi[t].isCSSVariable=!0)}function Vg(e,{layout:t,layoutId:n}){return Ms.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xi[e]||e==="opacity")}const jR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CR=ks.length;function TR(e,t,n){let s="",o=!0;for(let l=0;l<CR;l++){const c=ks[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const h=kg(d,xu[c]);if(!f){o=!1;const p=jR[c]||c;s+=`${p}(${h}) `}n&&(t[c]=h)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function ju(e,t,n){const{style:s,vars:o,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const h=t[f];if(Ms.has(f)){c=!0;continue}else if(ou(f)){o[f]=h;continue}else{const p=kg(h,xu[f]);f.startsWith("origin")?(d=!0,l[f]=p):s[f]=p}}if(t.transform||(c||n?s.transform=TR(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const Cu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bg(e,t,n){for(const s in t)!yt(t[s])&&!Vg(s,n)&&(e[s]=t[s])}function RR({transformTemplate:e},t){return b.useMemo(()=>{const n=Cu();return ju(n,t,e),Object.assign({},n.vars,n.style)},[t])}function PR(e,t){const n=e.style||{},s={};return Bg(s,n,e),Object.assign(s,RR(e,t)),s}function AR(e,t){const n={},s=PR(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const ER={offset:"stroke-dashoffset",array:"stroke-dasharray"},kR={offset:"strokeDashoffset",array:"strokeDasharray"};function MR(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?ER:kR;e[l.offset]=we.transform(-s);const c=we.transform(t),d=we.transform(n);e[l.array]=`${c} ${d}`}function Ug(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},f,h,p){if(ju(e,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x}=e;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&MR(g,o,l,c,!1)}const Wg=()=>({...Cu(),attrs:{}}),Hg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function DR(e,t,n,s){const o=b.useMemo(()=>{const l=Wg();return Ug(l,t,Hg(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Bg(l,e.style,e),o.style={...l,...o.style}}return o}const IR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tu(e){return typeof e!="string"||e.includes("-")?!1:!!(IR.indexOf(e)>-1||/[A-Z]/u.test(e))}function LR(e,t,n,{latestValues:s},o,l=!1){const d=(Tu(e)?DR:AR)(t,s,o,e),f=wR(t,typeof e=="string",l),h=e!==b.Fragment?{...f,...d,ref:n}:{},{children:p}=t,g=b.useMemo(()=>yt(p)?p.get():p,[p]);return b.createElement(e,{...h,children:g})}function Yh(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Ru(e,t,n,s){if(typeof t=="function"){const[o,l]=Yh(s);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=Yh(s);t=t(n!==void 0?n:e.custom,o,l)}return t}function Do(e){return yt(e)?e.get():e}function OR({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:zR(n,s,o,e),renderState:t()}}function zR(e,t,n,s){const o={},l=s(e,{});for(const x in l)o[x]=Do(l[x]);let{initial:c,animate:d}=e;const f=sa(e),h=$g(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?d:c;if(g&&typeof g!="boolean"&&!ra(g)){const x=Array.isArray(g)?g:[g];for(let v=0;v<x.length;v++){const S=Ru(e,x[v]);if(S){const{transitionEnd:T,transition:k,...P}=S;for(const A in P){let M=P[A];if(Array.isArray(M)){const j=p?M.length-1:0;M=M[j]}M!==null&&(o[A]=M)}for(const A in T)o[A]=T[A]}}}return o}const Gg=e=>(t,n)=>{const s=b.useContext(na),o=b.useContext(Qo),l=()=>OR(e,t,s,o);return n?l():Ci(l)};function Pu(e,t,n){var l;const{style:s}=e,o={};for(const c in s)(yt(s[c])||t.style&&yt(t.style[c])||Vg(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=s[c]);return o}const FR=Gg({scrapeMotionValuesFromProps:Pu,createRenderState:Cu});function Kg(e,t,n){const s=Pu(e,t,n);for(const o in e)if(yt(e[o])||yt(t[o])){const l=ks.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=e[o]}return s}const NR=Gg({scrapeMotionValuesFromProps:Kg,createRenderState:Wg}),$R=Symbol.for("motionComponentSymbol");function xs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VR(e,t,n){return b.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):xs(n)&&(n.current=s))},[t])}const Au=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BR="framerAppearId",qg="data-"+Au(BR),Yg=b.createContext({});function UR(e,t,n,s,o){var T,k;const{visualElement:l}=b.useContext(na),c=b.useContext(Fg),d=b.useContext(Qo),f=b.useContext(ta).reducedMotion,h=b.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,g=b.useContext(Yg);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&WR(h.current,n,o,g);const x=b.useRef(!1);b.useInsertionEffect(()=>{p&&x.current&&p.update(n,d)});const v=n[qg],S=b.useRef(!!v&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,v))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,v)));return Qc(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,v)}),S.current=!1),p.enteringChildren=void 0)}),p}function WR(e,t,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:h,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Xg(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&xs(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:f,layoutRoot:h})}function Xg(e){if(e)return e.options.allowProjection!==!1?e.projection:Xg(e.parent)}function Vl(e,{forwardMotionProps:t=!1}={},n,s){n&&yR(n);const o=Tu(e)?NR:FR;function l(d,f){let h;const p={...b.useContext(ta),...d,layoutId:HR(d)},{isStatic:g}=p,x=bR(d),v=o(d,g);if(!g&&Zc){GR();const S=KR(p);h=S.MeasureLayout,x.visualElement=UR(e,v,p,s,S.ProjectionNode)}return a.jsxs(na.Provider,{value:x,children:[h&&x.visualElement?a.jsx(h,{visualElement:x.visualElement,...p}):null,LR(e,d,VR(v,x.visualElement,f),v,g,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=b.forwardRef(l);return c[$R]=e,c}function HR({layoutId:e}){const t=b.useContext(Jc).id;return t&&e!==void 0?t+"-"+e:e}function GR(e,t){b.useContext(Fg).strict}function KR(e){const{drag:t,layout:n}=Ps;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function qR(e,t){if(typeof Proxy>"u")return Vl;const n=new Map,s=(l,c)=>Vl(l,c,e,t),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Vl(c,void 0,e,t)),n.get(c))})}function Jg({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function YR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XR(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Bl(e){return e===void 0||e===1}function Tc({scale:e,scaleX:t,scaleY:n}){return!Bl(e)||!Bl(t)||!Bl(n)}function Mr(e){return Tc(e)||Zg(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Zg(e){return Xh(e.x)||Xh(e.y)}function Xh(e){return e&&e!=="0%"}function $o(e,t,n){const s=e-n,o=t*s;return n+o}function Jh(e,t,n,s,o){return o!==void 0&&(e=$o(e,o,s)),$o(e,n,s)+t}function Rc(e,t=0,n=1,s,o){e.min=Jh(e.min,t,n,s,o),e.max=Jh(e.max,t,n,s,o)}function Qg(e,{x:t,y:n}){Rc(e.x,t.translate,t.scale,t.originPoint),Rc(e.y,n.translate,n.scale,n.originPoint)}const Zh=.999999999999,Qh=1.0000000000001;function JR(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ws(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Qg(e,c)),s&&Mr(l.latestValues)&&ws(e,l.latestValues))}t.x<Qh&&t.x>Zh&&(t.x=1),t.y<Qh&&t.y>Zh&&(t.y=1)}function vs(e,t){e.min=e.min+t,e.max=e.max+t}function ep(e,t,n,s,o=.5){const l=Qe(e.min,e.max,o);Rc(e,t,n,l,s)}function ws(e,t){ep(e.x,t.x,t.scaleX,t.scale,t.originX),ep(e.y,t.y,t.scaleY,t.scale,t.originY)}function ey(e,t){return Jg(XR(e.getBoundingClientRect(),t))}function ZR(e,t,n){const s=ey(e,n),{scroll:o}=t;return o&&(vs(s.x,o.offset.x),vs(s.y,o.offset.y)),s}const tp=()=>({translate:0,scale:1,origin:0,originPoint:0}),_s=()=>({x:tp(),y:tp()}),np=()=>({min:0,max:0}),st=()=>({x:np(),y:np()}),Pc={current:null},ty={current:!1};function QR(){if(ty.current=!0,!!Zc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pc.current=e.matches;e.addEventListener("change",t),t()}else Pc.current=!1}const vi=new WeakMap;function eP(e,t,n){for(const s in t){const o=t[s],l=n[s];if(yt(o))e.addValue(s,o);else if(yt(l))e.addValue(s,Vr(o,{owner:e}));else if(l!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,Vr(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const rp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ny{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Wt.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Xe.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=sa(n),this.isVariantNode=$g(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const v=g[x];f[x]!==void 0&&yt(v)&&v.set(f[x])}}mount(t){var n;this.current=t,vi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),ty.current||QR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pc.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ms.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ps){const n=Ps[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<rp.length;s++){const o=rp[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=eP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Vr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Vm(s)||Um(s))?s=parseFloat(s):!cR(s)&&vr.test(n)&&(s=Ag(t,n)),this.setBaseTarget(t,yt(s)?s.get():s)),yt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Ru(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!yt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ru),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){vu.render(this.render)}}class ry extends ny{constructor(){super(...arguments),this.KeyframeResolver=ZT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sy(e,{style:t,vars:n},s,o){const l=e.style;let c;for(c in t)l[c]=t[c];o==null||o.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function tP(e){return window.getComputedStyle(e)}class iy extends ry{constructor(){super(...arguments),this.type="html",this.renderInstance=sy}readValueFromInstance(t,n){var s;if(Ms.has(n))return(s=this.projection)!=null&&s.isProjecting?vc(n):mT(t,n);{const o=tP(t),l=(ou(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ey(t,n)}build(t,n,s){ju(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Pu(t,n,s)}}const oy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nP(e,t,n,s){sy(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(oy.has(o)?o:Au(o),t.attrs[o])}class ay extends ry{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ms.has(n)){const s=Pg(n);return s&&s.default||0}return n=oy.has(n)?n:Au(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Kg(t,n,s)}build(t,n,s){Ug(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){nP(t,n,s,o)}mount(t){this.isSVGTag=Hg(t.tagName),super.mount(t)}}const rP=(e,t)=>Tu(e)?new ay(t):new iy(t,{allowProjection:e!==b.Fragment});function js(e,t,n){const s=e.getProps();return Ru(s,t,n!==void 0?n:s.custom,e)}const Ac=e=>Array.isArray(e);function sP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vr(n))}function iP(e){return Ac(e)?e[e.length-1]||0:e}function oP(e,t){const n=js(e,t);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const d=iP(l[c]);sP(e,c,d)}}function aP(e){return!!(yt(e)&&e.add)}function Ec(e,t){const n=e.getValue("willChange");if(aP(n))return n.add(t);if(!n&&tr.WillChange){const s=new tr.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function ly(e){return e.props[qg]}const lP=e=>e!==null;function cP(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(lP),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const uP={type:"spring",stiffness:500,damping:25,restSpeed:10},dP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fP={type:"keyframes",duration:.8},hP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pP=(e,{keyframes:t})=>t.length>2?fP:Ms.has(e)?e.startsWith("scale")?dP(t[1]):uP:hP;function mP({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const Eu=(e,t,n,s={},o,l)=>c=>{const d=yu(s,e)||{},f=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-En(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-h,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:o};mP(d)||Object.assign(p,pP(e,p)),p.duration&&(p.duration=En(p.duration)),p.repeatDelay&&(p.repeatDelay=En(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(jc(p),p.delay===0&&(g=!0)),(tr.instantAnimations||tr.skipAnimations)&&(g=!0,jc(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,g&&!l&&t.get()!==void 0){const x=cP(p.keyframes,d);if(x!==void 0){Xe.update(()=>{p.onUpdate(x),p.onComplete()});return}}return d.isSync?new pu(p):new FT(p)};function gP({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function ku(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const f=[],h=o&&e.animationState&&e.animationState.getState()[o];for(const p in d){const g=e.getValue(p,e.latestValues[p]??null),x=d[p];if(x===void 0||h&&gP(h,p))continue;const v={delay:n,...yu(l||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===S&&!v.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const P=ly(e);if(P){const A=window.MotionHandoffAnimation(P,p,Xe);A!==null&&(v.startTime=A,T=!0)}}Ec(e,p),g.start(Eu(p,g,x,e.shouldReduceMotion&&Cg.has(p)?{type:!1}:v,e,T));const k=g.animation;k&&f.push(k)}return c&&Promise.all(f).then(()=>{Xe.update(()=>{c&&oP(e,c)})}),f}function cy(e,t,n,s=0,o=1){const l=Array.from(e).sort((h,p)=>h.sortNodePosition(p)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):o===1?l*s:d-l*s}function kc(e,t,n={}){var f;const s=js(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(ku(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=o;return yP(e,t,h,p,g,x,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,p]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function yP(e,t,n=0,s=0,o=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(kc(f,t,{...c,delay:n+(typeof s=="function"?0:s)+cy(e.variantChildren,f,s,o,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function xP(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>kc(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=kc(e,t,n);else{const o=typeof t=="function"?js(e,t,n.custom):t;s=Promise.all(ku(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function uy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const vP=Su.length;function dy(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?dy(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<vP;n++){const s=Su[n],o=e.props[s];(yi(o)||o===!1)&&(t[s]=o)}return t}const wP=[...bu].reverse(),_P=bu.length;function bP(e){return t=>Promise.all(t.map(({animation:n,options:s})=>xP(e,n,s)))}function SP(e){let t=bP(e),n=sp(),s=!0;const o=f=>(h,p)=>{var x;const g=js(e,p,f==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(g){const{transition:v,transitionEnd:S,...T}=g;h={...h,...T,...S}}return h};function l(f){t=f(e)}function c(f){const{props:h}=e,p=dy(e.parent)||{},g=[],x=new Set;let v={},S=1/0;for(let k=0;k<_P;k++){const P=wP[k],A=n[P],M=h[P]!==void 0?h[P]:p[P],j=yi(M),R=P===f?A.isActive:null;R===!1&&(S=k);let L=M===p[P]&&M!==h[P]&&j;if(L&&s&&e.manuallyAnimateOnMount&&(L=!1),A.protectedKeys={...v},!A.isActive&&R===null||!M&&!A.prevProp||ra(M)||typeof M=="boolean")continue;const $=jP(A.prevProp,M);let z=$||P===f&&A.isActive&&!L&&j||k>S&&j,N=!1;const W=Array.isArray(M)?M:[M];let Y=W.reduce(o(P),{});R===!1&&(Y={});const{prevResolvedValues:se={}}=A,J={...se,...Y},re=ie=>{z=!0,x.has(ie)&&(N=!0,x.delete(ie)),A.needsAnimating[ie]=!0;const ee=e.getValue(ie);ee&&(ee.liveStyle=!1)};for(const ie in J){const ee=Y[ie],K=se[ie];if(v.hasOwnProperty(ie))continue;let Z=!1;Ac(ee)&&Ac(K)?Z=!uy(ee,K):Z=ee!==K,Z?ee!=null?re(ie):x.add(ie):ee!==void 0&&x.has(ie)?re(ie):A.protectedKeys[ie]=!0}A.prevProp=M,A.prevResolvedValues=Y,A.isActive&&(v={...v,...Y}),s&&e.blockInitialAnimation&&(z=!1);const ue=L&&$;z&&(!ue||N)&&g.push(...W.map(ie=>{const ee={type:P};if(typeof ie=="string"&&s&&!ue&&e.manuallyAnimateOnMount&&e.parent){const{parent:K}=e,Z=js(K,ie);if(K.enteringChildren&&Z){const{delayChildren:ae}=Z.transition||{};ee.delay=cy(K.enteringChildren,e,ae)}}return{animation:ie,options:ee}}))}if(x.size){const k={};if(typeof h.initial!="boolean"){const P=js(e,Array.isArray(h.initial)?h.initial[0]:h.initial);P&&P.transition&&(k.transition=P.transition)}x.forEach(P=>{const A=e.getBaseTarget(P),M=e.getValue(P);M&&(M.liveStyle=!0),k[P]=A??null}),g.push({animation:k})}let T=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(T=!1),s=!1,T?t(g):Promise.resolve()}function d(f,h){var g;if(n[f].isActive===h)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(f,h)}),n[f].isActive=h;const p=c(f);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=sp()}}}function jP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uy(t,e):!1}function Er(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sp(){return{animate:Er(!0),whileInView:Er(),whileHover:Er(),whileTap:Er(),whileDrag:Er(),whileFocus:Er(),exit:Er()}}class wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class CP extends wr{constructor(t){super(t),t.animationState||(t.animationState=SP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ra(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let TP=0;class RP extends wr{constructor(){super(...arguments),this.id=TP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const PP={animation:{Feature:CP},exit:{Feature:RP}};function wi(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Ai(e){return{point:{x:e.pageX,y:e.pageY}}}const AP=e=>t=>wu(t)&&e(t,Ai(t));function ai(e,t,n,s){return wi(e,t,AP(n),s)}const fy=1e-4,EP=1-fy,kP=1+fy,hy=.01,MP=0-hy,DP=0+hy;function Ft(e){return e.max-e.min}function IP(e,t,n){return Math.abs(e-t)<=n}function ip(e,t,n,s=.5){e.origin=s,e.originPoint=Qe(t.min,t.max,e.origin),e.scale=Ft(n)/Ft(t),e.translate=Qe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=EP&&e.scale<=kP||isNaN(e.scale))&&(e.scale=1),(e.translate>=MP&&e.translate<=DP||isNaN(e.translate))&&(e.translate=0)}function li(e,t,n,s){ip(e.x,t.x,n.x,s?s.originX:void 0),ip(e.y,t.y,n.y,s?s.originY:void 0)}function op(e,t,n){e.min=n.min+t.min,e.max=e.min+Ft(t)}function LP(e,t,n){op(e.x,t.x,n.x),op(e.y,t.y,n.y)}function ap(e,t,n){e.min=t.min-n.min,e.max=e.min+Ft(t)}function ci(e,t,n){ap(e.x,t.x,n.x),ap(e.y,t.y,n.y)}function mn(e){return[e("x"),e("y")]}const py=({current:e})=>e?e.ownerDocument.defaultView:null,lp=(e,t)=>Math.abs(e-t);function OP(e,t){const n=lp(e.x,t.x),s=lp(e.y,t.y);return Math.sqrt(n**2+s**2)}class my{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Wl(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=OP(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!S)return;const{point:T}=x,{timestamp:k}=St;this.history.push({...T,timestamp:k});const{onStart:P,onMove:A}=this.handlers;v||(P&&P(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Ul(v,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Wl(x.type==="pointercancel"?this.lastMoveEventInfo:Ul(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,P),T&&T(x,P)},!wu(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=Ai(t),f=Ul(d,this.transformPagePoint),{point:h}=f,{timestamp:p}=St;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(t,Wl(f,this.history)),this.removeListeners=Ti(ai(this.contextWindow,"pointermove",this.handlePointerMove),ai(this.contextWindow,"pointerup",this.handlePointerUp),ai(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function Ul(e,t){return t?{point:t(e.point)}:e}function cp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wl({point:e},t){return{point:e,delta:cp(e,gy(t)),offset:cp(e,zP(t)),velocity:FP(t,.1)}}function zP(e){return e[0]}function gy(e){return e[e.length-1]}function FP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=gy(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>En(t)));)n--;if(!s)return{x:0,y:0};const l=gn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function NP(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Qe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Qe(n,e,s.max):Math.min(e,n)),e}function up(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function $P(e,{top:t,left:n,bottom:s,right:o}){return{x:up(e.x,n,o),y:up(e.y,t,s)}}function dp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function VP(e,t){return{x:dp(e.x,t.x),y:dp(e.y,t.y)}}function BP(e,t){let n=.5;const s=Ft(e),o=Ft(t);return o>s?n=Rs(t.min,t.max-s,e.min):s>o&&(n=Rs(e.min,e.max-o,t.min)),er(0,1,n)}function UP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Mc=.35;function WP(e=Mc){return e===!1?e=0:e===!0&&(e=Mc),{x:fp(e,"left","right"),y:fp(e,"top","bottom")}}function fp(e,t,n){return{min:hp(e,t),max:hp(e,n)}}function hp(e,t){return typeof e=="number"?e:e[t]||0}const HP=new WeakMap;class GP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ai(g).point)},c=(g,x)=>{const{drag:v,dragPropagation:S,onDragStart:T}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tR(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mn(P=>{let A=this.getAxisMotionValue(P).get()||0;if(zn.test(A)){const{projection:M}=this.visualElement;if(M&&M.layout){const j=M.layout.layoutBox[P];j&&(A=Ft(j)*(parseFloat(A)/100))}}this.originPoint[P]=A}),T&&Xe.postRender(()=>T(g,x)),Ec(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:T,onDrag:k}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:P}=x;if(S&&this.currentDirection===null){this.currentDirection=KP(P),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,P),this.updateAxis("y",x.point,P),this.visualElement.render(),k&&k(g,x)},f=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>mn(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new my(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:py(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Xe.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Co(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=NP(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&xs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=$P(s.layoutBox,t):this.constraints=!1,this.elastic=WP(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&mn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=UP(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xs(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=ZR(s,o.root,this.visualElement.getTransformPagePoint());let c=VP(o.layout.layoutBox,l);if(n){const d=n(YR(c));this.hasMutatedConstraints=!!d,d&&(c=Jg(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},h=mn(p=>{if(!Co(p,n,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const x=o?200:1e6,v=o?40:1e7,S={type:"inertia",velocity:s?t[p]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Ec(this.visualElement,t),s.start(Eu(t,s,0,n,this.visualElement,!1))}stopAnimation(){mn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){mn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){mn(n=>{const{drag:s}=this.getProps();if(!Co(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(t[n]-Qe(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!xs(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};mn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();o[c]=BP({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),mn(c=>{if(!Co(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];d.set(Qe(f,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;HP.set(this.visualElement,this);const t=this.visualElement.current,n=ai(t,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();xs(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Xe.read(s);const c=wi(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(mn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Mc,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Co(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function KP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class qP extends wr{constructor(t){super(t),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new GP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const pp=e=>(t,n)=>{e&&Xe.postRender(()=>e(t,n))};class YP extends wr{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(t){this.session=new my(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:py(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:pp(t),onStart:pp(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&Xe.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=ai(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Io={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(we.test(e))e=parseFloat(e);else return e;const n=mp(e,t.target.x),s=mp(e,t.target.y);return`${n}% ${s}%`}},XP={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=vr.parse(e);if(o.length>5)return s;const l=vr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=f;const h=Qe(d,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),l(o)}};let Hl=!1;class JP extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;SR(ZP),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Hl&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Io.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Hl=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Xe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vu.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Hl=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yy(e){const[t,n]=zg(),s=b.useContext(Jc);return a.jsx(JP,{...e,layoutGroup:s,switchLayoutGroup:b.useContext(Yg),isPresent:t,safeToRemove:n})}const ZP={borderRadius:{...qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qs,borderTopRightRadius:qs,borderBottomLeftRadius:qs,borderBottomRightRadius:qs,boxShadow:XP};function xy(e,t,n){const s=yt(e)?e:Vr(e);return s.start(Eu("",s,t,n)),s.animation}const QP=(e,t)=>e.depth-t.depth;class eA{constructor(){this.children=[],this.isDirty=!1}add(t){eu(this.children,t),this.isDirty=!0}remove(t){ea(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QP),this.isDirty=!1,this.children.forEach(t)}}function tA(e,t){const n=Wt.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(nr(s),e(l-t))};return Xe.setup(s,!0),()=>nr(s)}const vy=["TopLeft","TopRight","BottomLeft","BottomRight"],nA=vy.length,gp=e=>typeof e=="string"?parseFloat(e):e,yp=e=>typeof e=="number"||we.test(e);function rA(e,t,n,s,o,l){o?(e.opacity=Qe(0,n.opacity??1,sA(s)),e.opacityExit=Qe(t.opacity??1,0,iA(s))):l&&(e.opacity=Qe(t.opacity??1,n.opacity??1,s));for(let c=0;c<nA;c++){const d=`border${vy[c]}Radius`;let f=xp(t,d),h=xp(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||yp(f)===yp(h)?(e[d]=Math.max(Qe(gp(f),gp(h),s),0),(zn.test(h)||zn.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||n.rotate)&&(e.rotate=Qe(t.rotate||0,n.rotate||0,s))}function xp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const sA=wy(0,.5,Jm),iA=wy(.5,.95,xn);function wy(e,t,n){return s=>s<e?0:s>t?1:n(Rs(e,t,s))}function vp(e,t){e.min=t.min,e.max=t.max}function hn(e,t){vp(e.x,t.x),vp(e.y,t.y)}function wp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _p(e,t,n,s,o){return e-=t,e=$o(e,1/n,s),o!==void 0&&(e=$o(e,1/o,s)),e}function oA(e,t=0,n=1,s=.5,o,l=e,c=e){if(zn.test(t)&&(t=parseFloat(t),t=Qe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Qe(l.min,l.max,s);e===l&&(d-=t),e.min=_p(e.min,t,n,d,o),e.max=_p(e.max,t,n,d,o)}function bp(e,t,[n,s,o],l,c){oA(e,t[n],t[s],t[o],t.scale,l,c)}const aA=["x","scaleX","originX"],lA=["y","scaleY","originY"];function Sp(e,t,n,s){bp(e.x,t,aA,n?n.x:void 0,s?s.x:void 0),bp(e.y,t,lA,n?n.y:void 0,s?s.y:void 0)}function jp(e){return e.translate===0&&e.scale===1}function _y(e){return jp(e.x)&&jp(e.y)}function Cp(e,t){return e.min===t.min&&e.max===t.max}function cA(e,t){return Cp(e.x,t.x)&&Cp(e.y,t.y)}function Tp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function by(e,t){return Tp(e.x,t.x)&&Tp(e.y,t.y)}function Rp(e){return Ft(e.x)/Ft(e.y)}function Pp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uA{constructor(){this.members=[]}add(t){eu(this.members,t),t.scheduleRender()}remove(t){if(ea(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dA(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:x,skewX:v,skewY:S}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),v&&(s+=`skewX(${v}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Gl=["","X","Y","Z"],fA=1e3;let hA=0;function Kl(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Sy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ly(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Xe,!(o||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Sy(s)}function jy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t==null?void 0:t()){this.id=hA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gA),this.nodes.forEach(wA),this.nodes.forEach(_A),this.nodes.forEach(yA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new eA)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ru),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=_u(c)&&!Og(c),this.instance=c;const{layoutId:d,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let p,g=0;const x=()=>this.root.updateBlockedByResize=!1;Xe.read(()=>{g=window.innerWidth}),e(c,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,p&&p(),p=tA(x,250),Io.hasAnimatedSinceResize&&(Io.hasAnimatedSinceResize=!1,this.nodes.forEach(kp)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||TA,{onLayoutAnimationStart:T,onLayoutAnimationComplete:k}=h.getProps(),P=!this.targetLayout||!by(this.targetLayout,v),A=!g&&x;if(this.options.layoutRoot||this.resumeFrom||A||g&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...yu(S,"layout"),onPlay:T,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(p,A)}else g||kp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bA),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ap);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ep);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vA),this.nodes.forEach(pA),this.nodes.forEach(mA)):this.nodes.forEach(Ep),this.clearAllSnapshots();const d=Wt.now();St.delta=er(0,1e3/60,d-St.timestamp),St.timestamp=d,St.isProcessing=!0,Ll.update.process(St),Ll.preRender.process(St),Ll.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xA),this.sharedNodes.forEach(SA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ft(this.snapshot.measuredBox.x)&&!Ft(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!_y(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(d||Mr(this.latestValues)||p)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),RA(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return st();const d=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(PA))){const{scroll:p}=this.root;p&&(vs(d.x,p.offset.x),vs(d.y,p.offset.y))}return d}removeElementScroll(c){var f;const d=st();if(hn(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&hn(d,c),vs(d.x,g.offset.x),vs(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const f=st();hn(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ws(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Mr(p.latestValues)&&ws(f,p.latestValues)}return Mr(this.latestValues)&&ws(f,this.latestValues),f}removeTransform(c){const d=st();hn(d,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Mr(h.latestValues))continue;Tc(h.latestValues)&&h.updateSnapshot();const p=st(),g=h.measurePageBox();hn(p,g),Sp(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Mr(this.latestValues)&&Sp(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),ci(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),Qg(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),ci(this.relativeTargetOrigin,this.target,v.target),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tc(this.parent.latestValues)||Zg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===St.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;hn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;JR(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=st());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wp(this.prevProjectionDelta.x,this.projectionDelta.x),wp(this.prevProjectionDelta.y,this.projectionDelta.y)),li(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!Pp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_s(),this.projectionDelta=_s(),this.projectionDeltaWithTransform=_s()}setAnimationOrigin(c,d=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},g=_s();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=st(),v=f?f.source:void 0,S=this.layout?this.layout.source:void 0,T=v!==S,k=this.getStack(),P=!k||k.members.length<=1,A=!!(T&&!P&&this.options.crossfade===!0&&!this.path.some(CA));this.animationProgress=0;let M;this.mixTargetDelta=j=>{const R=j/1e3;Mp(g.x,c.x,R),Mp(g.y,c.y,R),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ci(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jA(this.relativeTarget,this.relativeTargetOrigin,x,R),M&&cA(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=st()),hn(M,this.relativeTarget)),T&&(this.animationValues=p,rA(p,h,this.latestValues,R,A,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,h;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(h=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||h.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{Io.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vr(0)),this.currentAnimation=xy(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:h,latestValues:p}=c;if(!(!d||!f||!h)){if(this!==c&&this.layout&&h&&Cy(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||st();const g=Ft(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const x=Ft(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}hn(d,f),ws(d,p),li(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new uA),this.sharedNodes.get(c).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const h={};f.z&&Kl("z",c,h,this.animationValues);for(let p=0;p<Gl.length;p++)Kl(`rotate${Gl[p]}`,c,h,this.animationValues),Kl(`skew${Gl[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Do(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Do(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Mr(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=dA(this.projectionDeltaWithTransform,this.treeScale,p);f&&(g=f(p,g)),c.transform=g;const{x,y:v}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in xi){if(p[S]===void 0)continue;const{correct:T,applyTo:k,isCSSVariable:P}=xi[S],A=g==="none"?p[S]:T(p[S],h);if(k){const M=k.length;for(let j=0;j<M;j++)c[k[j]]=A}else P?this.options.visualElement.renderState.vars[S]=A:c[S]=A}this.options.layoutId&&(c.pointerEvents=h===this?Do(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Ap),this.root.sharedNodes.clear()}}}function pA(e){e.updateLayout()}function mA(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?mn(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],v=Ft(x);x.min=s[g].min,x.max=x.min+v}):Cy(l,t.layoutBox,s)&&mn(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],v=Ft(s[g]);x.max=x.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+v)});const d=_s();li(d,s,t.layoutBox);const f=_s();c?li(f,e.applyTransform(o,!0),t.measuredBox):li(f,s,t.layoutBox);const h=!_y(d);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:v}=g;if(x&&v){const S=st();ci(S,t.layoutBox,x.layoutBox);const T=st();ci(T,s,v.layoutBox),by(S,T)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function gA(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xA(e){e.clearSnapshot()}function Ap(e){e.clearMeasurements()}function Ep(e){e.isLayoutDirty=!1}function vA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function kp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wA(e){e.resolveTargetDelta()}function _A(e){e.calcProjection()}function bA(e){e.resetSkewAndRotation()}function SA(e){e.removeLeadSnapshot()}function Mp(e,t,n){e.translate=Qe(t.translate,0,n),e.scale=Qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Dp(e,t,n,s){e.min=Qe(t.min,n.min,s),e.max=Qe(t.max,n.max,s)}function jA(e,t,n,s){Dp(e.x,t.x,n.x,s),Dp(e.y,t.y,n.y,s)}function CA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const TA={duration:.45,ease:[.4,0,.1,1]},Ip=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Lp=Ip("applewebkit/")&&!Ip("chrome/")?Math.round:xn;function Op(e){e.min=Lp(e.min),e.max=Lp(e.max)}function RA(e){Op(e.x),Op(e.y)}function Cy(e,t,n){return e==="position"||e==="preserve-aspect"&&!IP(Rp(t),Rp(n),.2)}function PA(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const AA=jy({attachResizeListener:(e,t)=>wi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ql={current:void 0},Ty=jy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ql.current){const e=new AA({});e.mount(window),e.setOptions({layoutScroll:!0}),ql.current=e}return ql.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),EA={pan:{Feature:YP},drag:{Feature:qP,ProjectionNode:Ty,MeasureLayout:yy}};function zp(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Xe.postRender(()=>l(t,Ai(t)))}class kA extends wr{mount(){const{current:t}=this.node;t&&(this.unmount=nR(t,(n,s)=>(zp(this.node,s,"Start"),o=>zp(this.node,o,"End"))))}unmount(){}}class MA extends wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ti(wi(this.node.current,"focus",()=>this.onFocus()),wi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fp(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Xe.postRender(()=>l(t,Ai(t)))}class DA extends wr{mount(){const{current:t}=this.node;t&&(this.unmount=oR(t,(n,s)=>(Fp(this.node,s,"Start"),(o,{success:l})=>Fp(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dc=new WeakMap,Yl=new WeakMap,IA=e=>{const t=Dc.get(e.target);t&&t(e)},LA=e=>{e.forEach(IA)};function OA({root:e,...t}){const n=e||document;Yl.has(n)||Yl.set(n,{});const s=Yl.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(LA,{root:e,...t})),s[o]}function zA(e,t,n){const s=OA(t);return Dc.set(e,n),s.observe(e),()=>{Dc.delete(e),s.unobserve(e)}}const FA={some:0,all:1};class NA extends wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:FA[o]},d=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=h?p:g;x&&x(f)};return zA(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($A(t,n))&&this.startObserver()}unmount(){}}function $A({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const VA={inView:{Feature:NA},tap:{Feature:DA},focus:{Feature:MA},hover:{Feature:kA}},BA={layout:{ProjectionNode:Ty,MeasureLayout:yy}},UA={...PP,...VA,...EA,...BA},tt=qR(UA,rP);function Ry(e){const t=Ci(()=>Vr(e)),{isStatic:n}=b.useContext(ta);if(n){const[,s]=b.useState(e);b.useEffect(()=>t.on("change",s),[])}return t}function Py(e,t){const n=Ry(t()),s=()=>n.set(t());return s(),Qc(()=>{const o=()=>Xe.preRender(s,!1,!0),l=e.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),nr(s)}}),n}function WA(e){oi.current=[],e();const t=Py(oi.current,e);return oi.current=void 0,t}function HA(e,t,n,s){if(typeof e=="function")return WA(e);const o=typeof t=="function"?t:aR(t,n,s);return Array.isArray(e)?Np(e,o):Np([e],([l])=>o(l))}function Np(e,t){const n=Ci(()=>[]);return Py(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function Mu(e){return typeof e=="object"&&!Array.isArray(e)}function Ay(e,t,n,s){return typeof e=="string"&&Mu(t)?Eg(e,n,s):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function GA(e,t,n){return e*(t+1)}function $p(e,t,n,s){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):s.get(t)??e}function KA(e,t,n){for(let s=0;s<e.length;s++){const o=e[s];o.at>t&&o.at<n&&(ea(e,o),s--)}}function qA(e,t,n,s,o,l){KA(e,o,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:Qe(o,l,s[c]),easing:tg(n,c)})}function YA(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function XA(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const JA="easeInOut";function ZA(e,{defaultTransition:t={},...n}={},s,o){const l=t.duration||.3,c=new Map,d=new Map,f={},h=new Map;let p=0,g=0,x=0;for(let v=0;v<e.length;v++){const S=e[v];if(typeof S=="string"){h.set(S,g);continue}else if(!Array.isArray(S)){h.set(S.name,$p(g,S.at,p,h));continue}let[T,k,P={}]=S;P.at!==void 0&&(g=$p(g,P.at,p,h));let A=0;const M=(j,R,L,$=0,z=0)=>{const N=QA(j),{delay:W=0,times:Y=yg(N),type:se="keyframes",repeat:J,repeatType:re,repeatDelay:ue=0,...pe}=R;let{ease:ie=t.ease||"easeOut",duration:ee}=R;const K=typeof W=="function"?W($,z):W,Z=N.length,ae=gu(se)?se:o==null?void 0:o[se||"keyframes"];if(Z<=2&&ae){let de=100;if(Z===2&&nE(N)){const F=N[1]-N[0];de=Math.abs(F)}const Me={...pe};ee!==void 0&&(Me.duration=En(ee));const We=hg(Me,de,ae);ie=We.ease,ee=We.duration}ee??(ee=l);const ve=g+K;Y.length===1&&Y[0]===0&&(Y[1]=1);const qe=Y.length-N.length;if(qe>0&&gg(Y,qe),N.length===1&&N.unshift(null),J){ee=GA(ee,J);const de=[...N],Me=[...Y];ie=Array.isArray(ie)?[...ie]:[ie];const We=[...ie];for(let F=0;F<J;F++){N.push(...de);for(let ce=0;ce<de.length;ce++)Y.push(Me[ce]+(F+1)),ie.push(ce===0?"linear":tg(We,ce-1))}YA(Y,J)}const X=ve+ee;qA(L,N,ie,Y,ve,X),A=Math.max(K+ee,A),x=Math.max(X,x)};if(yt(T)){const j=Vp(T,d);M(k,P,Bp("default",j))}else{const j=Ay(T,k,s,f),R=j.length;for(let L=0;L<R;L++){k=k,P=P;const $=j[L],z=Vp($,d);for(const N in k)M(k[N],eE(P,N),Bp(N,z),L,R)}}p=g,g+=A}return d.forEach((v,S)=>{for(const T in v){const k=v[T];k.sort(XA);const P=[],A=[],M=[];for(let R=0;R<k.length;R++){const{at:L,value:$,easing:z}=k[R];P.push($),A.push(Rs(0,x,L)),M.push(z||"easeOut")}A[0]!==0&&(A.unshift(0),P.unshift(P[0]),M.unshift(JA)),A[A.length-1]!==1&&(A.push(1),P.push(null)),c.has(S)||c.set(S,{keyframes:{},transition:{}});const j=c.get(S);j.keyframes[T]=P,j.transition[T]={...t,duration:x,ease:M,times:A,...n}}}),c}function Vp(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Bp(e,t){return t[e]||(t[e]=[]),t[e]}function QA(e){return Array.isArray(e)?e:[e]}function eE(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const tE=e=>typeof e=="number",nE=e=>e.every(tE);function rE(e,t){return e in t}class sE extends ny{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(rE(n,t)){const s=t[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return st()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function iE(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=_u(e)&&!Og(e)?new ay(t):new iy(t);n.mount(e),vi.set(e,n)}function oE(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new sE(t);n.mount(e),vi.set(e,n)}function aE(e,t){return yt(e)||typeof e=="number"||typeof e=="string"&&!Mu(t)}function Ey(e,t,n,s){const o=[];if(aE(e,t))o.push(xy(e,Mu(t)&&t.default||t,n&&(n.default||n)));else{const l=Ay(e,t,s),c=l.length;for(let d=0;d<c;d++){const f=l[d],h=f instanceof Element?iE:oE;vi.has(f)||h(f);const p=vi.get(f),g={...n};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(d,c)),o.push(...ku(p,{...t,transition:g},{}))}}return o}function lE(e,t,n){const s=[];return ZA(e,t,n,{spring:gi}).forEach(({keyframes:l,transition:c},d)=>{s.push(...Ey(d,l,c))}),s}function cE(e){return Array.isArray(e)&&e.some(Array.isArray)}function uE(e){function t(n,s,o){let l=[],c;if(cE(n))l=lE(n,s,e);else{const{onComplete:f,...h}=o||{};typeof f=="function"&&(c=f),l=Ey(n,s,h,e)}const d=new $T(l);return c&&d.finished.then(c),d}return t}const dE=uE();function fE({open:e,onClose:t,onRestore:n}){const{t:s}=Ue(),[o,l]=b.useState([]),[c,d]=b.useState(!1),[f,h]=b.useState([]),[p,g]=b.useState(!1),[x,v]=b.useState(!1),S=b.useCallback(async()=>{if(e){d(!0);try{const A=await Ej();l(A.deleted_runs||[])}catch{Q.error(s("recycle_bin.fetch_failed")||"Failed to load recycle bin")}finally{d(!1)}}},[e,s]);b.useEffect(()=>{e&&(S(),h([]))},[e,S]);const T=async()=>{if(f.length===0){Q.warning(s("recycle_bin.select_to_restore")||"Please select runs to restore");return}g(!0);try{const A=await kj(f);A.restored_count>0?(Q.success(s("recycle_bin.restore_success",{count:A.restored_count})||`Restored ${A.restored_count} runs`),h([]),S(),n==null||n()):Q.warning("No runs were restored")}catch{Q.error(s("recycle_bin.restore_failed")||"Failed to restore runs")}finally{g(!1)}},k=async()=>{v(!0);try{const A=await Mj();Q.success(s("recycle_bin.empty_success",{count:A.permanently_deleted})||`Permanently deleted ${A.permanently_deleted} runs`),S()}catch{Q.error(s("recycle_bin.empty_failed")||"Failed to empty recycle bin")}finally{v(!1)}},P=[{title:s("table.run_id"),dataIndex:"id",key:"id",render:A=>a.jsx(_e.Text,{code:!0,style:{fontSize:"12px"},children:A})},{title:s("table.project"),dataIndex:"project",key:"project",render:A=>a.jsx(Ce,{color:"blue",children:A})},{title:s("table.name"),dataIndex:"name",key:"name",render:A=>a.jsx(Ce,{color:"purple",children:A})},{title:s("recycle_bin.original_status"),dataIndex:"original_status",key:"original_status",render:A=>a.jsx(Ce,{color:A==="running"?"processing":A==="finished"?"success":A==="failed"?"error":"default",children:A})},{title:s("recycle_bin.deleted_at"),dataIndex:"deleted_at",key:"deleted_at",render:A=>a.jsx(Be,{title:new Date(A*1e3).toLocaleString(),children:new Date(A*1e3).toLocaleDateString()})},{title:s("table.actions"),key:"actions",render:(A,M)=>a.jsx(B,{size:"small",children:a.jsx(Be,{title:s("recycle_bin.restore_single"),children:a.jsx(me,{type:"text",size:"small",icon:a.jsx(ic,{}),onClick:async()=>{h([M.id]),await T()}})})})}];return a.jsx(Rn,{title:a.jsxs(B,{children:[a.jsx(fi,{}),a.jsx("span",{children:s("recycle_bin.title")||"Recycle Bin"}),a.jsx(Ce,{color:"orange",children:o.length})]}),open:e,onCancel:t,width:800,footer:[a.jsx(me,{onClick:t,children:s("experiments.cancel")||"Close"},"close"),a.jsxs(me,{type:"primary",icon:a.jsx(ic,{}),loading:p,disabled:f.length===0,onClick:T,children:[s("recycle_bin.restore_selected")||"Restore Selected",f.length>0&&` (${f.length})`]},"restore"),a.jsx($1,{title:s("recycle_bin.empty_confirm_title")||"Empty Recycle Bin",description:s("recycle_bin.empty_confirm_desc")||"This will permanently delete all runs in recycle bin. This cannot be undone!",okText:s("recycle_bin.empty_confirm")||"Yes, Delete All",okType:"danger",cancelText:s("experiments.cancel")||"Cancel",onConfirm:k,children:a.jsx(me,{danger:!0,icon:a.jsx(V1,{}),loading:x,disabled:o.length===0,children:s("recycle_bin.empty_bin")||"Empty Bin"})},"empty")],children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(nn,{message:s("recycle_bin.description")||"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.",type:"info",icon:a.jsx(Jo,{}),showIcon:!0}),a.jsx(yr,{rowSelection:{selectedRowKeys:f,onChange:A=>h(A),getCheckboxProps:A=>({disabled:!1})},dataSource:o,columns:P,loading:c,rowKey:"id",size:"small",pagination:{pageSize:10,showSizeChanger:!1,showQuickJumper:!1,showTotal:(A,M)=>s("recycle_bin.table_total",{from:M[0],to:M[1],total:A})||`${M[0]}-${M[1]} of ${A} items`},locale:{emptyText:a.jsx("div",{style:{padding:20,textAlign:"center"},children:a.jsx(_e.Text,{type:"secondary",children:s("recycle_bin.empty_state")||"Recycle bin is empty"})})}}),f.length>0&&a.jsx(nn,{message:s("recycle_bin.selection_info",{count:f.length})||`${f.length} runs selected for restoration`,type:"info",style:{marginTop:8}})]})})}var Du={exports:{}},Ei={},ia={exports:{}},ky={},My={exports:{}},hE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pE=hE,mE=pE;function Dy(){}function Iy(){}Iy.resetWarningCache=Dy;var gE=function(){function e(s,o,l,c,d,f){if(f!==mE){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Iy,resetWarningCache:Dy};return n.PropTypes=n,n};My.exports=gE();var oa=My.exports,Ic={exports:{}};function Ly(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ly(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Up(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ly(e))&&(s&&(s+=" "),s+=t);return s}Ic.exports=Up,Ic.exports.clsx=Up;var yE=Ic.exports,ot={},Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.dontSetMe=bE;Fn.findInArray=xE;Fn.int=_E;Fn.isFunction=vE;Fn.isNum=wE;function xE(e,t){for(let n=0,s=e.length;n<s;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function vE(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function wE(e){return typeof e=="number"&&!isNaN(e)}function _E(e){return parseInt(e,10)}function bE(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.browserPrefixToKey=zy;Br.browserPrefixToStyle=SE;Br.default=void 0;Br.getPrefix=Oy;const Xl=["Moz","Webkit","O","ms"];function Oy(){var n,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(s=(n=window.document)==null?void 0:n.documentElement)==null?void 0:s.style;if(!t||e in t)return"";for(let o=0;o<Xl.length;o++)if(zy(e,Xl[o])in t)return Xl[o];return""}function zy(e,t){return t?`${t}${jE(e)}`:e}function SE(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function jE(e){let t="",n=!0;for(let s=0;s<e.length;s++)n?(t+=e[s].toUpperCase(),n=!1):e[s]==="-"?n=!0:t+=e[s];return t}Br.default=Oy();Object.defineProperty(ot,"__esModule",{value:!0});ot.addClassName=$y;ot.addEvent=TE;ot.addUserSelectStyles=zE;ot.createCSSTransform=DE;ot.createSVGTransform=IE;ot.getTouch=LE;ot.getTouchIdentifier=OE;ot.getTranslation=Iu;ot.innerHeight=EE;ot.innerWidth=kE;ot.matchesSelector=Ny;ot.matchesSelectorAndParentsTo=CE;ot.offsetXYFromParent=ME;ot.outerHeight=PE;ot.outerWidth=AE;ot.removeClassName=Vy;ot.removeEvent=RE;ot.scheduleRemoveUserSelectStyles=FE;var en=Fn,Wp=Fy(Br);function Fy(e,t){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(Fy=function(o,l){if(!l&&o&&o.__esModule)return o;var c,d,f={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return f;if(c=l?s:n){if(c.has(o))return c.get(o);c.set(o,f)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?c(f,h,d):f[h]=o[h]);return f})(e,t)}let To="";function Ny(e,t){return To||(To=(0,en.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,en.isFunction)(e[n])})),(0,en.isFunction)(e[To])?e[To](t):!1}function CE(e,t,n){let s=e;do{if(Ny(s,t))return!0;if(s===n)return!1;s=s.parentNode}while(s);return!1}function TE(e,t,n,s){if(!e)return;const o={capture:!0,...s};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function RE(e,t,n,s){if(!e)return;const o={capture:!0,...s};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function PE(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,en.int)(n.borderTopWidth),t+=(0,en.int)(n.borderBottomWidth),t}function AE(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,en.int)(n.borderLeftWidth),t+=(0,en.int)(n.borderRightWidth),t}function EE(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,en.int)(n.paddingTop),t-=(0,en.int)(n.paddingBottom),t}function kE(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,en.int)(n.paddingLeft),t-=(0,en.int)(n.paddingRight),t}function ME(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),l=(e.clientX+t.scrollLeft-o.left)/n,c=(e.clientY+t.scrollTop-o.top)/n;return{x:l,y:c}}function DE(e,t){const n=Iu(e,t,"px");return{[(0,Wp.browserPrefixToKey)("transform",Wp.default)]:n}}function IE(e,t){return Iu(e,t,"")}function Iu(e,t,n){let{x:s,y:o}=e,l=`translate(${s}${n},${o}${n})`;if(t){const c=`${typeof t.x=="string"?t.x:t.x+n}`,d=`${typeof t.y=="string"?t.y:t.y+n}`;l=`translate(${c}, ${d})`+l}return l}function LE(e,t){return e.targetTouches&&(0,en.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,en.findInArray)(e.changedTouches,n=>t===n.identifier)}function OE(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function zE(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&$y(e.body,"react-draggable-transparent-selection")}function FE(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Hp(e)}):Hp(e)}function Hp(e){if(e)try{if(e.body&&Vy(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function $y(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Vy(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.canDragX=VE;Nn.canDragY=BE;Nn.createCoreData=WE;Nn.createDraggableData=HE;Nn.getBoundPosition=NE;Nn.getControlPosition=UE;Nn.snapToGrid=$E;var Zt=Fn,bs=ot;function NE(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:s}=e.props;s=typeof s=="string"?s:GE(s);const o=Lu(e);if(typeof s=="string"){const{ownerDocument:l}=o,c=l.defaultView;let d;if(s==="parent"?d=o.parentNode:d=o.getRootNode().querySelector(s),!(d instanceof c.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const f=d,h=c.getComputedStyle(o),p=c.getComputedStyle(f);s={left:-o.offsetLeft+(0,Zt.int)(p.paddingLeft)+(0,Zt.int)(h.marginLeft),top:-o.offsetTop+(0,Zt.int)(p.paddingTop)+(0,Zt.int)(h.marginTop),right:(0,bs.innerWidth)(f)-(0,bs.outerWidth)(o)-o.offsetLeft+(0,Zt.int)(p.paddingRight)-(0,Zt.int)(h.marginRight),bottom:(0,bs.innerHeight)(f)-(0,bs.outerHeight)(o)-o.offsetTop+(0,Zt.int)(p.paddingBottom)-(0,Zt.int)(h.marginBottom)}}return(0,Zt.isNum)(s.right)&&(t=Math.min(t,s.right)),(0,Zt.isNum)(s.bottom)&&(n=Math.min(n,s.bottom)),(0,Zt.isNum)(s.left)&&(t=Math.max(t,s.left)),(0,Zt.isNum)(s.top)&&(n=Math.max(n,s.top)),[t,n]}function $E(e,t,n){const s=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[s,o]}function VE(e){return e.props.axis==="both"||e.props.axis==="x"}function BE(e){return e.props.axis==="both"||e.props.axis==="y"}function UE(e,t,n){const s=typeof t=="number"?(0,bs.getTouch)(e,t):null;if(typeof t=="number"&&!s)return null;const o=Lu(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,bs.offsetXYFromParent)(s||e,l,n.props.scale)}function WE(e,t,n){const s=!(0,Zt.isNum)(e.lastX),o=Lu(e);return s?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function HE(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function GE(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Lu(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var aa={},la={};Object.defineProperty(la,"__esModule",{value:!0});la.default=KE;function KE(){}Object.defineProperty(aa,"__esModule",{value:!0});aa.default=void 0;var Jl=By(b),Ot=Ou(oa),qE=Ou(Vc),Rt=ot,hr=Nn,Zl=Fn,Ys=Ou(la);function Ou(e){return e&&e.__esModule?e:{default:e}}function By(e,t){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(By=function(o,l){if(!l&&o&&o.__esModule)return o;var c,d,f={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return f;if(c=l?s:n){if(c.has(o))return c.get(o);c.set(o,f)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?c(f,h,d):f[h]=o[h]);return f})(e,t)}function zt(e,t,n){return(t=YE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YE(e){var t=XE(e,"string");return typeof t=="symbol"?t:t+""}function XE(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Cn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let pr=Cn.mouse,ca=class extends Jl.Component{constructor(){super(...arguments),zt(this,"dragging",!1),zt(this,"lastX",NaN),zt(this,"lastY",NaN),zt(this,"touchIdentifier",null),zt(this,"mounted",!1),zt(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:s}=n;if(this.props.disabled||!(t.target instanceof s.defaultView.Node)||this.props.handle&&!(0,Rt.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Rt.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,Rt.getTouchIdentifier)(t);this.touchIdentifier=o;const l=(0,hr.getControlPosition)(t,o,this);if(l==null)return;const{x:c,y:d}=l,f=(0,hr.createCoreData)(this,c,d);(0,Ys.default)("DraggableCore: handleDragStart: %j",f),(0,Ys.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Rt.addUserSelectStyles)(s),this.dragging=!0,this.lastX=c,this.lastY=d,(0,Rt.addEvent)(s,pr.move,this.handleDrag),(0,Rt.addEvent)(s,pr.stop,this.handleDragStop))}),zt(this,"handleDrag",t=>{const n=(0,hr.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:s,y:o}=n;if(Array.isArray(this.props.grid)){let d=s-this.lastX,f=o-this.lastY;if([d,f]=(0,hr.snapToGrid)(this.props.grid,d,f),!d&&!f)return;s=this.lastX+d,o=this.lastY+f}const l=(0,hr.createCoreData)(this,s,o);if((0,Ys.default)("DraggableCore: handleDrag: %j",l),this.props.onDrag(t,l)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=s,this.lastY=o}),zt(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,hr.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:s,y:o}=n;if(Array.isArray(this.props.grid)){let f=s-this.lastX||0,h=o-this.lastY||0;[f,h]=(0,hr.snapToGrid)(this.props.grid,f,h),s=this.lastX+f,o=this.lastY+h}const l=(0,hr.createCoreData)(this,s,o);if(this.props.onStop(t,l)===!1||this.mounted===!1)return!1;const d=this.findDOMNode();d&&this.props.enableUserSelectHack&&(0,Rt.scheduleRemoveUserSelectStyles)(d.ownerDocument),(0,Ys.default)("DraggableCore: handleDragStop: %j",l),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,d&&((0,Ys.default)("DraggableCore: Removing handlers"),(0,Rt.removeEvent)(d.ownerDocument,pr.move,this.handleDrag),(0,Rt.removeEvent)(d.ownerDocument,pr.stop,this.handleDragStop))}),zt(this,"onMouseDown",t=>(pr=Cn.mouse,this.handleDragStart(t))),zt(this,"onMouseUp",t=>(pr=Cn.mouse,this.handleDragStop(t))),zt(this,"onTouchStart",t=>(pr=Cn.touch,this.handleDragStart(t))),zt(this,"onTouchEnd",t=>(pr=Cn.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Rt.addEvent)(t,Cn.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Rt.removeEvent)(n,Cn.mouse.move,this.handleDrag),(0,Rt.removeEvent)(n,Cn.touch.move,this.handleDrag),(0,Rt.removeEvent)(n,Cn.mouse.stop,this.handleDragStop),(0,Rt.removeEvent)(n,Cn.touch.stop,this.handleDragStop),(0,Rt.removeEvent)(t,Cn.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Rt.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,s;return(t=this.props)!=null&&t.nodeRef?(s=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:s.current:qE.default.findDOMNode(this)}render(){return Jl.cloneElement(Jl.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};aa.default=ca;zt(ca,"displayName","DraggableCore");zt(ca,"propTypes",{allowAnyClick:Ot.default.bool,allowMobileScroll:Ot.default.bool,children:Ot.default.node.isRequired,disabled:Ot.default.bool,enableUserSelectHack:Ot.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ot.default.arrayOf(Ot.default.number),handle:Ot.default.string,cancel:Ot.default.string,nodeRef:Ot.default.object,onStart:Ot.default.func,onDrag:Ot.default.func,onStop:Ot.default.func,onMouseDown:Ot.default.func,scale:Ot.default.number,className:Zl.dontSetMe,style:Zl.dontSetMe,transform:Zl.dontSetMe});zt(ca,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=g(b),n=p(oa),s=p(Vc),o=yE,l=ot,c=Nn,d=Fn,f=p(aa),h=p(la);function p(P){return P&&P.__esModule?P:{default:P}}function g(P,A){if(typeof WeakMap=="function")var M=new WeakMap,j=new WeakMap;return(g=function(R,L){if(!L&&R&&R.__esModule)return R;var $,z,N={__proto__:null,default:R};if(R===null||typeof R!="object"&&typeof R!="function")return N;if($=L?j:M){if($.has(R))return $.get(R);$.set(R,N)}for(const W in R)W!=="default"&&{}.hasOwnProperty.call(R,W)&&((z=($=Object.defineProperty)&&Object.getOwnPropertyDescriptor(R,W))&&(z.get||z.set)?$(N,W,z):N[W]=R[W]);return N})(P,A)}function x(){return x=Object.assign?Object.assign.bind():function(P){for(var A=1;A<arguments.length;A++){var M=arguments[A];for(var j in M)({}).hasOwnProperty.call(M,j)&&(P[j]=M[j])}return P},x.apply(null,arguments)}function v(P,A,M){return(A=S(A))in P?Object.defineProperty(P,A,{value:M,enumerable:!0,configurable:!0,writable:!0}):P[A]=M,P}function S(P){var A=T(P,"string");return typeof A=="symbol"?A:A+""}function T(P,A){if(typeof P!="object"||!P)return P;var M=P[Symbol.toPrimitive];if(M!==void 0){var j=M.call(P,A);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(P)}class k extends t.Component{static getDerivedStateFromProps(A,M){let{position:j}=A,{prevPropsPosition:R}=M;return j&&(!R||j.x!==R.x||j.y!==R.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:j,prevPropsPosition:R}),{x:j.x,y:j.y,prevPropsPosition:{...j}}):null}constructor(A){super(A),v(this,"onDragStart",(M,j)=>{if((0,h.default)("Draggable: onDragStart: %j",j),this.props.onStart(M,(0,c.createDraggableData)(this,j))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(M,j)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",j);const R=(0,c.createDraggableData)(this,j),L={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:z,y:N}=L;L.x+=this.state.slackX,L.y+=this.state.slackY;const[W,Y]=(0,c.getBoundPosition)(this,L.x,L.y);L.x=W,L.y=Y,L.slackX=this.state.slackX+(z-L.x),L.slackY=this.state.slackY+(N-L.y),R.x=L.x,R.y=L.y,R.deltaX=L.x-this.state.x,R.deltaY=L.y-this.state.y}if(this.props.onDrag(M,R)===!1)return!1;this.setState(L)}),v(this,"onDragStop",(M,j)=>{if(!this.state.dragging||this.props.onStop(M,(0,c.createDraggableData)(this,j))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",j);const L={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:z,y:N}=this.props.position;L.x=z,L.y=N}this.setState(L)}),this.state={dragging:!1,dragged:!1,x:A.position?A.position.x:A.defaultPosition.x,y:A.position?A.position.y:A.defaultPosition.y,prevPropsPosition:{...A.position},slackX:0,slackY:0,isElementSVG:!1},A.position&&!(A.onDrag||A.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var A,M;return((M=(A=this.props)==null?void 0:A.nodeRef)==null?void 0:M.current)??s.default.findDOMNode(this)}render(){const{axis:A,bounds:M,children:j,defaultPosition:R,defaultClassName:L,defaultClassNameDragging:$,defaultClassNameDragged:z,position:N,positionOffset:W,scale:Y,...se}=this.props;let J={},re=null;const pe=!!!N||this.state.dragging,ie=N||R,ee={x:(0,c.canDragX)(this)&&pe?this.state.x:ie.x,y:(0,c.canDragY)(this)&&pe?this.state.y:ie.y};this.state.isElementSVG?re=(0,l.createSVGTransform)(ee,W):J=(0,l.createCSSTransform)(ee,W);const K=(0,o.clsx)(j.props.className||"",L,{[$]:this.state.dragging,[z]:this.state.dragged});return t.createElement(f.default,x({},se,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(j),{className:K,style:{...j.props.style,...J},transform:re}))}}e.default=k,v(k,"displayName","Draggable"),v(k,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),v(k,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(ky);const{default:Uy,DraggableCore:JE}=ky;ia.exports=Uy;ia.exports.default=Uy;ia.exports.DraggableCore=JE;var ZE=ia.exports,zu={};zu.__esModule=!0;zu.cloneElement=sk;var QE=ek(b);function ek(e){return e&&e.__esModule?e:{default:e}}function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Kp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gp(Object(n),!0).forEach(function(s){tk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function tk(e,t,n){return t=nk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nk(e){var t=rk(e,"string");return typeof t=="symbol"?t:String(t)}function rk(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sk(e,t){return t.style&&e.props.style&&(t.style=Kp(Kp({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),QE.default.cloneElement(e,t)}var ki={};ki.__esModule=!0;ki.resizableProps=void 0;var Pe=ik(oa);function ik(e){return e&&e.__esModule?e:{default:e}}var ok={axis:Pe.default.oneOf(["both","x","y","none"]),className:Pe.default.string,children:Pe.default.element.isRequired,draggableOpts:Pe.default.shape({allowAnyClick:Pe.default.bool,cancel:Pe.default.string,children:Pe.default.node,disabled:Pe.default.bool,enableUserSelectHack:Pe.default.bool,offsetParent:Pe.default.node,grid:Pe.default.arrayOf(Pe.default.number),handle:Pe.default.string,nodeRef:Pe.default.object,onStart:Pe.default.func,onDrag:Pe.default.func,onStop:Pe.default.func,onMouseDown:Pe.default.func,scale:Pe.default.number}),height:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var o=n[0];if(o.axis==="both"||o.axis==="y"){var l;return(l=Pe.default.number).isRequired.apply(l,n)}return Pe.default.number.apply(Pe.default,n)},handle:Pe.default.oneOfType([Pe.default.node,Pe.default.func]),handleSize:Pe.default.arrayOf(Pe.default.number),lockAspectRatio:Pe.default.bool,maxConstraints:Pe.default.arrayOf(Pe.default.number),minConstraints:Pe.default.arrayOf(Pe.default.number),onResizeStop:Pe.default.func,onResizeStart:Pe.default.func,onResize:Pe.default.func,resizeHandles:Pe.default.arrayOf(Pe.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Pe.default.number,width:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var o=n[0];if(o.axis==="both"||o.axis==="x"){var l;return(l=Pe.default.number).isRequired.apply(l,n)}return Pe.default.number.apply(Pe.default,n)}};ki.resizableProps=ok;Ei.__esModule=!0;Ei.default=void 0;var Xs=dk(b),ak=ZE,lk=zu,ck=ki,uk=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Wy(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Wy=function(o){return o?n:t})(e)}function dk(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Wy(t);if(n&&n.has(e))return n.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var c=o?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(s,l,c):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lc.apply(this,arguments)}function fk(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qp(Object(n),!0).forEach(function(s){hk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hk(e,t,n){return t=pk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e){var t=mk(e,"string");return typeof t=="symbol"?t:String(t)}function mk(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Oc(e,t)}function Oc(e,t){return Oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Oc(e,t)}var Fu=function(e){gk(t,e);function t(){for(var s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return s=e.call.apply(e,[this].concat(l))||this,s.handleRefs={},s.lastHandleRect=null,s.slack=null,s}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(o,l){var c=this.props,d=c.minConstraints,f=c.maxConstraints,h=c.lockAspectRatio;if(!d&&!f&&!h)return[o,l];if(h){var p=this.props.width/this.props.height,g=o-this.props.width,x=l-this.props.height;Math.abs(g)>Math.abs(x*p)?l=o/p:o=l*p}var v=o,S=l,T=this.slack||[0,0],k=T[0],P=T[1];return o+=k,l+=P,d&&(o=Math.max(d[0],o),l=Math.max(d[1],l)),f&&(o=Math.min(f[0],o),l=Math.min(f[1],l)),this.slack=[k+(v-o),P+(S-l)],[o,l]},n.resizeHandler=function(o,l){var c=this;return function(d,f){var h=f.node,p=f.deltaX,g=f.deltaY;o==="onResizeStart"&&c.resetData();var x=(c.props.axis==="both"||c.props.axis==="x")&&l!=="n"&&l!=="s",v=(c.props.axis==="both"||c.props.axis==="y")&&l!=="e"&&l!=="w";if(!(!x&&!v)){var S=l[0],T=l[l.length-1],k=h.getBoundingClientRect();if(c.lastHandleRect!=null){if(T==="w"){var P=k.left-c.lastHandleRect.left;p+=P}if(S==="n"){var A=k.top-c.lastHandleRect.top;g+=A}}c.lastHandleRect=k,T==="w"&&(p=-p),S==="n"&&(g=-g);var M=c.props.width+(x?p/c.props.transformScale:0),j=c.props.height+(v?g/c.props.transformScale:0),R=c.runConstraints(M,j);M=R[0],j=R[1];var L=M!==c.props.width||j!==c.props.height,$=typeof c.props[o]=="function"?c.props[o]:null,z=o==="onResize"&&!L;$&&!z&&(d.persist==null||d.persist(),$(d,{node:h,size:{width:M,height:j},handle:l})),o==="onResizeStop"&&c.resetData()}}},n.renderResizeHandle=function(o,l){var c=this.props.handle;if(!c)return Xs.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:l});if(typeof c=="function")return c(o,l);var d=typeof c.type=="string",f=Ql({ref:l},d?{}:{handleAxis:o});return Xs.cloneElement(c,f)},n.render=function(){var o=this,l=this.props,c=l.children,d=l.className,f=l.draggableOpts;l.width,l.height,l.handle,l.handleSize,l.lockAspectRatio,l.axis,l.minConstraints,l.maxConstraints,l.onResize,l.onResizeStop,l.onResizeStart;var h=l.resizeHandles;l.transformScale;var p=fk(l,uk);return(0,lk.cloneElement)(c,Ql(Ql({},p),{},{className:(d?d+" ":"")+"react-resizable",children:[].concat(c.props.children,h.map(function(g){var x,v=(x=o.handleRefs[g])!=null?x:o.handleRefs[g]=Xs.createRef();return Xs.createElement(ak.DraggableCore,Lc({},f,{nodeRef:v,key:"resizableHandle-"+g,onStop:o.resizeHandler("onResizeStop",g),onStart:o.resizeHandler("onResizeStart",g),onDrag:o.resizeHandler("onResize",g)}),o.renderResizeHandle(g,v))}))}))},t}(Xs.Component);Ei.default=Fu;Fu.propTypes=ck.resizableProps;Fu.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var ua={};ua.__esModule=!0;ua.default=void 0;var ec=_k(b),yk=Hy(oa),xk=Hy(Ei),vk=ki,wk=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function Hy(e){return e&&e.__esModule?e:{default:e}}function Gy(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Gy=function(o){return o?n:t})(e)}function _k(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Gy(t);if(n&&n.has(e))return n.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var c=o?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(s,l,c):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zc.apply(this,arguments)}function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yp(Object(n),!0).forEach(function(s){bk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bk(e,t,n){return t=Sk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sk(e){var t=jk(e,"string");return typeof t=="symbol"?t:String(t)}function jk(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ck(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Tk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fc(e,t)}function Fc(e,t){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Fc(e,t)}var Ky=function(e){Tk(t,e);function t(){for(var s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return s=e.call.apply(e,[this].concat(l))||this,s.state={width:s.props.width,height:s.props.height,propsWidth:s.props.width,propsHeight:s.props.height},s.onResize=function(d,f){var h=f.size;s.props.onResize?(d.persist==null||d.persist(),s.setState(h,function(){return s.props.onResize&&s.props.onResize(d,f)})):s.setState(h)},s}t.getDerivedStateFromProps=function(o,l){return l.propsWidth!==o.width||l.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var n=t.prototype;return n.render=function(){var o=this.props,l=o.handle,c=o.handleSize;o.onResize;var d=o.onResizeStart,f=o.onResizeStop,h=o.draggableOpts,p=o.minConstraints,g=o.maxConstraints,x=o.lockAspectRatio,v=o.axis;o.width,o.height;var S=o.resizeHandles,T=o.style,k=o.transformScale,P=Ck(o,wk);return ec.createElement(xk.default,{axis:v,draggableOpts:h,handle:l,handleSize:c,height:this.state.height,lockAspectRatio:x,maxConstraints:g,minConstraints:p,onResizeStart:d,onResize:this.onResize,onResizeStop:f,resizeHandles:S,transformScale:k,width:this.state.width},ec.createElement("div",zc({},P,{style:Vo(Vo({},T),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(ec.Component);ua.default=Ky;Ky.propTypes=Vo(Vo({},vk.resizableProps),{},{children:yk.default.element});Du.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Rk=Du.exports.Resizable=Ei.default;Du.exports.ResizableBox=ua.default;const Pk=e=>{const{onResize:t,width:n,...s}=e;return n?a.jsx(Rk,{width:n,height:0,handle:a.jsx("span",{className:"react-resizable-handle",onClick:o=>{o.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:a.jsx("th",{...s})}):a.jsx("th",{...s})};var Bo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Bo.exports;(function(e,t){(function(){var n,s="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",g=1,x=2,v=4,S=1,T=2,k=1,P=2,A=4,M=8,j=16,R=32,L=64,$=128,z=256,N=512,W=30,Y="...",se=800,J=16,re=1,ue=2,pe=3,ie=1/0,ee=9007199254740991,K=17976931348623157e292,Z=NaN,ae=4294967295,ve=ae-1,qe=ae>>>1,X=[["ary",$],["bind",k],["bindKey",P],["curry",M],["curryRight",j],["flip",N],["partial",R],["partialRight",L],["rearg",z]],de="[object Arguments]",Me="[object Array]",We="[object AsyncFunction]",F="[object Boolean]",ce="[object Date]",Ae="[object DOMException]",xt="[object Error]",Et="[object Function]",vn="[object GeneratorFunction]",kt="[object Map]",rn="[object Number]",Ht="[object Null]",q="[object Object]",he="[object Promise]",Je="[object Proxy]",vt="[object RegExp]",He="[object Set]",ht="[object String]",pt="[object Symbol]",$e="[object Undefined]",$n="[object WeakMap]",Mt="[object WeakSet]",rr="[object ArrayBuffer]",Vn="[object DataView]",Wr="[object Float32Array]",Hr="[object Float64Array]",Gr="[object Int8Array]",Kr="[object Int16Array]",ha="[object Int32Array]",pa="[object Uint8Array]",ma="[object Uint8ClampedArray]",ga="[object Uint16Array]",ya="[object Uint32Array]",rx=/\b__p \+= '';/g,sx=/\b(__p \+=) '' \+/g,ix=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$u=/&(?:amp|lt|gt|quot|#39);/g,Vu=/[&<>"']/g,ox=RegExp($u.source),ax=RegExp(Vu.source),lx=/<%-([\s\S]+?)%>/g,cx=/<%([\s\S]+?)%>/g,Bu=/<%=([\s\S]+?)%>/g,ux=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dx=/^\w*$/,fx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xa=/[\\^$.*+?()[\]{}|]/g,hx=RegExp(xa.source),va=/^\s+/,px=/\s/,mx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gx=/\{\n\/\* \[wrapped with (.+)\] \*/,yx=/,? & /,xx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vx=/[()=,{}\[\]\/\s]/,wx=/\\(\\)?/g,_x=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Uu=/\w*$/,bx=/^[-+]0x[0-9a-f]+$/i,Sx=/^0b[01]+$/i,jx=/^\[object .+?Constructor\]$/,Cx=/^0o[0-7]+$/i,Tx=/^(?:0|[1-9]\d*)$/,Rx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mi=/($^)/,Px=/['\n\r\u2028\u2029\\]/g,Di="\\ud800-\\udfff",Ax="\\u0300-\\u036f",Ex="\\ufe20-\\ufe2f",kx="\\u20d0-\\u20ff",Wu=Ax+Ex+kx,Hu="\\u2700-\\u27bf",Gu="a-z\\xdf-\\xf6\\xf8-\\xff",Mx="\\xac\\xb1\\xd7\\xf7",Dx="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ix="\\u2000-\\u206f",Lx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ku="A-Z\\xc0-\\xd6\\xd8-\\xde",qu="\\ufe0e\\ufe0f",Yu=Mx+Dx+Ix+Lx,wa="['’]",Ox="["+Di+"]",Xu="["+Yu+"]",Ii="["+Wu+"]",Ju="\\d+",zx="["+Hu+"]",Zu="["+Gu+"]",Qu="[^"+Di+Yu+Ju+Hu+Gu+Ku+"]",_a="\\ud83c[\\udffb-\\udfff]",Fx="(?:"+Ii+"|"+_a+")",ed="[^"+Di+"]",ba="(?:\\ud83c[\\udde6-\\uddff]){2}",Sa="[\\ud800-\\udbff][\\udc00-\\udfff]",qr="["+Ku+"]",td="\\u200d",nd="(?:"+Zu+"|"+Qu+")",Nx="(?:"+qr+"|"+Qu+")",rd="(?:"+wa+"(?:d|ll|m|re|s|t|ve))?",sd="(?:"+wa+"(?:D|LL|M|RE|S|T|VE))?",id=Fx+"?",od="["+qu+"]?",$x="(?:"+td+"(?:"+[ed,ba,Sa].join("|")+")"+od+id+")*",Vx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ad=od+id+$x,Ux="(?:"+[zx,ba,Sa].join("|")+")"+ad,Wx="(?:"+[ed+Ii+"?",Ii,ba,Sa,Ox].join("|")+")",Hx=RegExp(wa,"g"),Gx=RegExp(Ii,"g"),ja=RegExp(_a+"(?="+_a+")|"+Wx+ad,"g"),Kx=RegExp([qr+"?"+Zu+"+"+rd+"(?="+[Xu,qr,"$"].join("|")+")",Nx+"+"+sd+"(?="+[Xu,qr+nd,"$"].join("|")+")",qr+"?"+nd+"+"+rd,qr+"+"+sd,Bx,Vx,Ju,Ux].join("|"),"g"),qx=RegExp("["+td+Di+Wu+qu+"]"),Yx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xx=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jx=-1,Ye={};Ye[Wr]=Ye[Hr]=Ye[Gr]=Ye[Kr]=Ye[ha]=Ye[pa]=Ye[ma]=Ye[ga]=Ye[ya]=!0,Ye[de]=Ye[Me]=Ye[rr]=Ye[F]=Ye[Vn]=Ye[ce]=Ye[xt]=Ye[Et]=Ye[kt]=Ye[rn]=Ye[q]=Ye[vt]=Ye[He]=Ye[ht]=Ye[$n]=!1;var Ke={};Ke[de]=Ke[Me]=Ke[rr]=Ke[Vn]=Ke[F]=Ke[ce]=Ke[Wr]=Ke[Hr]=Ke[Gr]=Ke[Kr]=Ke[ha]=Ke[kt]=Ke[rn]=Ke[q]=Ke[vt]=Ke[He]=Ke[ht]=Ke[pt]=Ke[pa]=Ke[ma]=Ke[ga]=Ke[ya]=!0,Ke[xt]=Ke[Et]=Ke[$n]=!1;var Zx={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Qx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ev={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nv=parseFloat,rv=parseInt,ld=typeof ps=="object"&&ps&&ps.Object===Object&&ps,sv=typeof self=="object"&&self&&self.Object===Object&&self,wt=ld||sv||Function("return this")(),Ca=t&&!t.nodeType&&t,_r=Ca&&!0&&e&&!e.nodeType&&e,cd=_r&&_r.exports===Ca,Ta=cd&&ld.process,sn=function(){try{var D=_r&&_r.require&&_r.require("util").types;return D||Ta&&Ta.binding&&Ta.binding("util")}catch{}}(),ud=sn&&sn.isArrayBuffer,dd=sn&&sn.isDate,fd=sn&&sn.isMap,hd=sn&&sn.isRegExp,pd=sn&&sn.isSet,md=sn&&sn.isTypedArray;function Gt(D,V,O){switch(O.length){case 0:return D.call(V);case 1:return D.call(V,O[0]);case 2:return D.call(V,O[0],O[1]);case 3:return D.call(V,O[0],O[1],O[2])}return D.apply(V,O)}function iv(D,V,O,oe){for(var je=-1,Fe=D==null?0:D.length;++je<Fe;){var dt=D[je];V(oe,dt,O(dt),D)}return oe}function on(D,V){for(var O=-1,oe=D==null?0:D.length;++O<oe&&V(D[O],O,D)!==!1;);return D}function ov(D,V){for(var O=D==null?0:D.length;O--&&V(D[O],O,D)!==!1;);return D}function gd(D,V){for(var O=-1,oe=D==null?0:D.length;++O<oe;)if(!V(D[O],O,D))return!1;return!0}function sr(D,V){for(var O=-1,oe=D==null?0:D.length,je=0,Fe=[];++O<oe;){var dt=D[O];V(dt,O,D)&&(Fe[je++]=dt)}return Fe}function Li(D,V){var O=D==null?0:D.length;return!!O&&Yr(D,V,0)>-1}function Ra(D,V,O){for(var oe=-1,je=D==null?0:D.length;++oe<je;)if(O(V,D[oe]))return!0;return!1}function Ze(D,V){for(var O=-1,oe=D==null?0:D.length,je=Array(oe);++O<oe;)je[O]=V(D[O],O,D);return je}function ir(D,V){for(var O=-1,oe=V.length,je=D.length;++O<oe;)D[je+O]=V[O];return D}function Pa(D,V,O,oe){var je=-1,Fe=D==null?0:D.length;for(oe&&Fe&&(O=D[++je]);++je<Fe;)O=V(O,D[je],je,D);return O}function av(D,V,O,oe){var je=D==null?0:D.length;for(oe&&je&&(O=D[--je]);je--;)O=V(O,D[je],je,D);return O}function Aa(D,V){for(var O=-1,oe=D==null?0:D.length;++O<oe;)if(V(D[O],O,D))return!0;return!1}var lv=Ea("length");function cv(D){return D.split("")}function uv(D){return D.match(xx)||[]}function yd(D,V,O){var oe;return O(D,function(je,Fe,dt){if(V(je,Fe,dt))return oe=Fe,!1}),oe}function Oi(D,V,O,oe){for(var je=D.length,Fe=O+(oe?1:-1);oe?Fe--:++Fe<je;)if(V(D[Fe],Fe,D))return Fe;return-1}function Yr(D,V,O){return V===V?bv(D,V,O):Oi(D,xd,O)}function dv(D,V,O,oe){for(var je=O-1,Fe=D.length;++je<Fe;)if(oe(D[je],V))return je;return-1}function xd(D){return D!==D}function vd(D,V){var O=D==null?0:D.length;return O?Ma(D,V)/O:Z}function Ea(D){return function(V){return V==null?n:V[D]}}function ka(D){return function(V){return D==null?n:D[V]}}function wd(D,V,O,oe,je){return je(D,function(Fe,dt,Ge){O=oe?(oe=!1,Fe):V(O,Fe,dt,Ge)}),O}function fv(D,V){var O=D.length;for(D.sort(V);O--;)D[O]=D[O].value;return D}function Ma(D,V){for(var O,oe=-1,je=D.length;++oe<je;){var Fe=V(D[oe]);Fe!==n&&(O=O===n?Fe:O+Fe)}return O}function Da(D,V){for(var O=-1,oe=Array(D);++O<D;)oe[O]=V(O);return oe}function hv(D,V){return Ze(V,function(O){return[O,D[O]]})}function _d(D){return D&&D.slice(0,Cd(D)+1).replace(va,"")}function Kt(D){return function(V){return D(V)}}function Ia(D,V){return Ze(V,function(O){return D[O]})}function Ds(D,V){return D.has(V)}function bd(D,V){for(var O=-1,oe=D.length;++O<oe&&Yr(V,D[O],0)>-1;);return O}function Sd(D,V){for(var O=D.length;O--&&Yr(V,D[O],0)>-1;);return O}function pv(D,V){for(var O=D.length,oe=0;O--;)D[O]===V&&++oe;return oe}var mv=ka(Zx),gv=ka(Qx);function yv(D){return"\\"+tv[D]}function xv(D,V){return D==null?n:D[V]}function Xr(D){return qx.test(D)}function vv(D){return Yx.test(D)}function wv(D){for(var V,O=[];!(V=D.next()).done;)O.push(V.value);return O}function La(D){var V=-1,O=Array(D.size);return D.forEach(function(oe,je){O[++V]=[je,oe]}),O}function jd(D,V){return function(O){return D(V(O))}}function or(D,V){for(var O=-1,oe=D.length,je=0,Fe=[];++O<oe;){var dt=D[O];(dt===V||dt===p)&&(D[O]=p,Fe[je++]=O)}return Fe}function zi(D){var V=-1,O=Array(D.size);return D.forEach(function(oe){O[++V]=oe}),O}function _v(D){var V=-1,O=Array(D.size);return D.forEach(function(oe){O[++V]=[oe,oe]}),O}function bv(D,V,O){for(var oe=O-1,je=D.length;++oe<je;)if(D[oe]===V)return oe;return-1}function Sv(D,V,O){for(var oe=O+1;oe--;)if(D[oe]===V)return oe;return oe}function Jr(D){return Xr(D)?Cv(D):lv(D)}function wn(D){return Xr(D)?Tv(D):cv(D)}function Cd(D){for(var V=D.length;V--&&px.test(D.charAt(V)););return V}var jv=ka(ev);function Cv(D){for(var V=ja.lastIndex=0;ja.test(D);)++V;return V}function Tv(D){return D.match(ja)||[]}function Rv(D){return D.match(Kx)||[]}var Pv=function D(V){V=V==null?wt:Zr.defaults(wt.Object(),V,Zr.pick(wt,Xx));var O=V.Array,oe=V.Date,je=V.Error,Fe=V.Function,dt=V.Math,Ge=V.Object,Oa=V.RegExp,Av=V.String,an=V.TypeError,Fi=O.prototype,Ev=Fe.prototype,Qr=Ge.prototype,Ni=V["__core-js_shared__"],$i=Ev.toString,Ve=Qr.hasOwnProperty,kv=0,Td=function(){var r=/[^.]+$/.exec(Ni&&Ni.keys&&Ni.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Vi=Qr.toString,Mv=$i.call(Ge),Dv=wt._,Iv=Oa("^"+$i.call(Ve).replace(xa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bi=cd?V.Buffer:n,ar=V.Symbol,Ui=V.Uint8Array,Rd=Bi?Bi.allocUnsafe:n,Wi=jd(Ge.getPrototypeOf,Ge),Pd=Ge.create,Ad=Qr.propertyIsEnumerable,Hi=Fi.splice,Ed=ar?ar.isConcatSpreadable:n,Is=ar?ar.iterator:n,br=ar?ar.toStringTag:n,Gi=function(){try{var r=Rr(Ge,"defineProperty");return r({},"",{}),r}catch{}}(),Lv=V.clearTimeout!==wt.clearTimeout&&V.clearTimeout,Ov=oe&&oe.now!==wt.Date.now&&oe.now,zv=V.setTimeout!==wt.setTimeout&&V.setTimeout,Ki=dt.ceil,qi=dt.floor,za=Ge.getOwnPropertySymbols,Fv=Bi?Bi.isBuffer:n,kd=V.isFinite,Nv=Fi.join,$v=jd(Ge.keys,Ge),ft=dt.max,Ct=dt.min,Vv=oe.now,Bv=V.parseInt,Md=dt.random,Uv=Fi.reverse,Fa=Rr(V,"DataView"),Ls=Rr(V,"Map"),Na=Rr(V,"Promise"),es=Rr(V,"Set"),Os=Rr(V,"WeakMap"),zs=Rr(Ge,"create"),Yi=Os&&new Os,ts={},Wv=Pr(Fa),Hv=Pr(Ls),Gv=Pr(Na),Kv=Pr(es),qv=Pr(Os),Xi=ar?ar.prototype:n,Fs=Xi?Xi.valueOf:n,Dd=Xi?Xi.toString:n;function w(r){if(rt(r)&&!Te(r)&&!(r instanceof Ie)){if(r instanceof ln)return r;if(Ve.call(r,"__wrapped__"))return Lf(r)}return new ln(r)}var ns=function(){function r(){}return function(i){if(!et(i))return{};if(Pd)return Pd(i);r.prototype=i;var u=new r;return r.prototype=n,u}}();function Ji(){}function ln(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=n}w.templateSettings={escape:lx,evaluate:cx,interpolate:Bu,variable:"",imports:{_:w}},w.prototype=Ji.prototype,w.prototype.constructor=w,ln.prototype=ns(Ji.prototype),ln.prototype.constructor=ln;function Ie(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function Yv(){var r=new Ie(this.__wrapped__);return r.__actions__=$t(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=$t(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=$t(this.__views__),r}function Xv(){if(this.__filtered__){var r=new Ie(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function Jv(){var r=this.__wrapped__.value(),i=this.__dir__,u=Te(r),m=i<0,y=u?r.length:0,_=cw(0,y,this.__views__),C=_.start,E=_.end,I=E-C,U=m?E:C-1,H=this.__iteratees__,G=H.length,te=0,fe=Ct(I,this.__takeCount__);if(!u||!m&&y==I&&fe==I)return rf(r,this.__actions__);var ye=[];e:for(;I--&&te<fe;){U+=i;for(var Ee=-1,xe=r[U];++Ee<G;){var De=H[Ee],Oe=De.iteratee,Xt=De.type,Lt=Oe(xe);if(Xt==ue)xe=Lt;else if(!Lt){if(Xt==re)continue e;break e}}ye[te++]=xe}return ye}Ie.prototype=ns(Ji.prototype),Ie.prototype.constructor=Ie;function Sr(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function Zv(){this.__data__=zs?zs(null):{},this.size=0}function Qv(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function e0(r){var i=this.__data__;if(zs){var u=i[r];return u===f?n:u}return Ve.call(i,r)?i[r]:n}function t0(r){var i=this.__data__;return zs?i[r]!==n:Ve.call(i,r)}function n0(r,i){var u=this.__data__;return this.size+=this.has(r)?0:1,u[r]=zs&&i===n?f:i,this}Sr.prototype.clear=Zv,Sr.prototype.delete=Qv,Sr.prototype.get=e0,Sr.prototype.has=t0,Sr.prototype.set=n0;function Bn(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function r0(){this.__data__=[],this.size=0}function s0(r){var i=this.__data__,u=Zi(i,r);if(u<0)return!1;var m=i.length-1;return u==m?i.pop():Hi.call(i,u,1),--this.size,!0}function i0(r){var i=this.__data__,u=Zi(i,r);return u<0?n:i[u][1]}function o0(r){return Zi(this.__data__,r)>-1}function a0(r,i){var u=this.__data__,m=Zi(u,r);return m<0?(++this.size,u.push([r,i])):u[m][1]=i,this}Bn.prototype.clear=r0,Bn.prototype.delete=s0,Bn.prototype.get=i0,Bn.prototype.has=o0,Bn.prototype.set=a0;function Un(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function l0(){this.size=0,this.__data__={hash:new Sr,map:new(Ls||Bn),string:new Sr}}function c0(r){var i=uo(this,r).delete(r);return this.size-=i?1:0,i}function u0(r){return uo(this,r).get(r)}function d0(r){return uo(this,r).has(r)}function f0(r,i){var u=uo(this,r),m=u.size;return u.set(r,i),this.size+=u.size==m?0:1,this}Un.prototype.clear=l0,Un.prototype.delete=c0,Un.prototype.get=u0,Un.prototype.has=d0,Un.prototype.set=f0;function jr(r){var i=-1,u=r==null?0:r.length;for(this.__data__=new Un;++i<u;)this.add(r[i])}function h0(r){return this.__data__.set(r,f),this}function p0(r){return this.__data__.has(r)}jr.prototype.add=jr.prototype.push=h0,jr.prototype.has=p0;function _n(r){var i=this.__data__=new Bn(r);this.size=i.size}function m0(){this.__data__=new Bn,this.size=0}function g0(r){var i=this.__data__,u=i.delete(r);return this.size=i.size,u}function y0(r){return this.__data__.get(r)}function x0(r){return this.__data__.has(r)}function v0(r,i){var u=this.__data__;if(u instanceof Bn){var m=u.__data__;if(!Ls||m.length<o-1)return m.push([r,i]),this.size=++u.size,this;u=this.__data__=new Un(m)}return u.set(r,i),this.size=u.size,this}_n.prototype.clear=m0,_n.prototype.delete=g0,_n.prototype.get=y0,_n.prototype.has=x0,_n.prototype.set=v0;function Id(r,i){var u=Te(r),m=!u&&Ar(r),y=!u&&!m&&fr(r),_=!u&&!m&&!y&&os(r),C=u||m||y||_,E=C?Da(r.length,Av):[],I=E.length;for(var U in r)(i||Ve.call(r,U))&&!(C&&(U=="length"||y&&(U=="offset"||U=="parent")||_&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||Kn(U,I)))&&E.push(U);return E}function Ld(r){var i=r.length;return i?r[Xa(0,i-1)]:n}function w0(r,i){return fo($t(r),Cr(i,0,r.length))}function _0(r){return fo($t(r))}function $a(r,i,u){(u!==n&&!bn(r[i],u)||u===n&&!(i in r))&&Wn(r,i,u)}function Ns(r,i,u){var m=r[i];(!(Ve.call(r,i)&&bn(m,u))||u===n&&!(i in r))&&Wn(r,i,u)}function Zi(r,i){for(var u=r.length;u--;)if(bn(r[u][0],i))return u;return-1}function b0(r,i,u,m){return lr(r,function(y,_,C){i(m,y,u(y),C)}),m}function Od(r,i){return r&&Mn(i,mt(i),r)}function S0(r,i){return r&&Mn(i,Bt(i),r)}function Wn(r,i,u){i=="__proto__"&&Gi?Gi(r,i,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[i]=u}function Va(r,i){for(var u=-1,m=i.length,y=O(m),_=r==null;++u<m;)y[u]=_?n:_l(r,i[u]);return y}function Cr(r,i,u){return r===r&&(u!==n&&(r=r<=u?r:u),i!==n&&(r=r>=i?r:i)),r}function cn(r,i,u,m,y,_){var C,E=i&g,I=i&x,U=i&v;if(u&&(C=y?u(r,m,y,_):u(r)),C!==n)return C;if(!et(r))return r;var H=Te(r);if(H){if(C=dw(r),!E)return $t(r,C)}else{var G=Tt(r),te=G==Et||G==vn;if(fr(r))return af(r,E);if(G==q||G==de||te&&!y){if(C=I||te?{}:Tf(r),!E)return I?ew(r,S0(C,r)):Q0(r,Od(C,r))}else{if(!Ke[G])return y?r:{};C=fw(r,G,E)}}_||(_=new _n);var fe=_.get(r);if(fe)return fe;_.set(r,C),th(r)?r.forEach(function(xe){C.add(cn(xe,i,u,xe,r,_))}):Qf(r)&&r.forEach(function(xe,De){C.set(De,cn(xe,i,u,De,r,_))});var ye=U?I?al:ol:I?Bt:mt,Ee=H?n:ye(r);return on(Ee||r,function(xe,De){Ee&&(De=xe,xe=r[De]),Ns(C,De,cn(xe,i,u,De,r,_))}),C}function j0(r){var i=mt(r);return function(u){return zd(u,r,i)}}function zd(r,i,u){var m=u.length;if(r==null)return!m;for(r=Ge(r);m--;){var y=u[m],_=i[y],C=r[y];if(C===n&&!(y in r)||!_(C))return!1}return!0}function Fd(r,i,u){if(typeof r!="function")throw new an(c);return Gs(function(){r.apply(n,u)},i)}function $s(r,i,u,m){var y=-1,_=Li,C=!0,E=r.length,I=[],U=i.length;if(!E)return I;u&&(i=Ze(i,Kt(u))),m?(_=Ra,C=!1):i.length>=o&&(_=Ds,C=!1,i=new jr(i));e:for(;++y<E;){var H=r[y],G=u==null?H:u(H);if(H=m||H!==0?H:0,C&&G===G){for(var te=U;te--;)if(i[te]===G)continue e;I.push(H)}else _(i,G,m)||I.push(H)}return I}var lr=ff(kn),Nd=ff(Ua,!0);function C0(r,i){var u=!0;return lr(r,function(m,y,_){return u=!!i(m,y,_),u}),u}function Qi(r,i,u){for(var m=-1,y=r.length;++m<y;){var _=r[m],C=i(_);if(C!=null&&(E===n?C===C&&!Yt(C):u(C,E)))var E=C,I=_}return I}function T0(r,i,u,m){var y=r.length;for(u=Re(u),u<0&&(u=-u>y?0:y+u),m=m===n||m>y?y:Re(m),m<0&&(m+=y),m=u>m?0:rh(m);u<m;)r[u++]=i;return r}function $d(r,i){var u=[];return lr(r,function(m,y,_){i(m,y,_)&&u.push(m)}),u}function _t(r,i,u,m,y){var _=-1,C=r.length;for(u||(u=pw),y||(y=[]);++_<C;){var E=r[_];i>0&&u(E)?i>1?_t(E,i-1,u,m,y):ir(y,E):m||(y[y.length]=E)}return y}var Ba=hf(),Vd=hf(!0);function kn(r,i){return r&&Ba(r,i,mt)}function Ua(r,i){return r&&Vd(r,i,mt)}function eo(r,i){return sr(i,function(u){return qn(r[u])})}function Tr(r,i){i=ur(i,r);for(var u=0,m=i.length;r!=null&&u<m;)r=r[Dn(i[u++])];return u&&u==m?r:n}function Bd(r,i,u){var m=i(r);return Te(r)?m:ir(m,u(r))}function Dt(r){return r==null?r===n?$e:Ht:br&&br in Ge(r)?lw(r):_w(r)}function Wa(r,i){return r>i}function R0(r,i){return r!=null&&Ve.call(r,i)}function P0(r,i){return r!=null&&i in Ge(r)}function A0(r,i,u){return r>=Ct(i,u)&&r<ft(i,u)}function Ha(r,i,u){for(var m=u?Ra:Li,y=r[0].length,_=r.length,C=_,E=O(_),I=1/0,U=[];C--;){var H=r[C];C&&i&&(H=Ze(H,Kt(i))),I=Ct(H.length,I),E[C]=!u&&(i||y>=120&&H.length>=120)?new jr(C&&H):n}H=r[0];var G=-1,te=E[0];e:for(;++G<y&&U.length<I;){var fe=H[G],ye=i?i(fe):fe;if(fe=u||fe!==0?fe:0,!(te?Ds(te,ye):m(U,ye,u))){for(C=_;--C;){var Ee=E[C];if(!(Ee?Ds(Ee,ye):m(r[C],ye,u)))continue e}te&&te.push(ye),U.push(fe)}}return U}function E0(r,i,u,m){return kn(r,function(y,_,C){i(m,u(y),_,C)}),m}function Vs(r,i,u){i=ur(i,r),r=Ef(r,i);var m=r==null?r:r[Dn(dn(i))];return m==null?n:Gt(m,r,u)}function Ud(r){return rt(r)&&Dt(r)==de}function k0(r){return rt(r)&&Dt(r)==rr}function M0(r){return rt(r)&&Dt(r)==ce}function Bs(r,i,u,m,y){return r===i?!0:r==null||i==null||!rt(r)&&!rt(i)?r!==r&&i!==i:D0(r,i,u,m,Bs,y)}function D0(r,i,u,m,y,_){var C=Te(r),E=Te(i),I=C?Me:Tt(r),U=E?Me:Tt(i);I=I==de?q:I,U=U==de?q:U;var H=I==q,G=U==q,te=I==U;if(te&&fr(r)){if(!fr(i))return!1;C=!0,H=!1}if(te&&!H)return _||(_=new _n),C||os(r)?Sf(r,i,u,m,y,_):ow(r,i,I,u,m,y,_);if(!(u&S)){var fe=H&&Ve.call(r,"__wrapped__"),ye=G&&Ve.call(i,"__wrapped__");if(fe||ye){var Ee=fe?r.value():r,xe=ye?i.value():i;return _||(_=new _n),y(Ee,xe,u,m,_)}}return te?(_||(_=new _n),aw(r,i,u,m,y,_)):!1}function I0(r){return rt(r)&&Tt(r)==kt}function Ga(r,i,u,m){var y=u.length,_=y,C=!m;if(r==null)return!_;for(r=Ge(r);y--;){var E=u[y];if(C&&E[2]?E[1]!==r[E[0]]:!(E[0]in r))return!1}for(;++y<_;){E=u[y];var I=E[0],U=r[I],H=E[1];if(C&&E[2]){if(U===n&&!(I in r))return!1}else{var G=new _n;if(m)var te=m(U,H,I,r,i,G);if(!(te===n?Bs(H,U,S|T,m,G):te))return!1}}return!0}function Wd(r){if(!et(r)||gw(r))return!1;var i=qn(r)?Iv:jx;return i.test(Pr(r))}function L0(r){return rt(r)&&Dt(r)==vt}function O0(r){return rt(r)&&Tt(r)==He}function z0(r){return rt(r)&&xo(r.length)&&!!Ye[Dt(r)]}function Hd(r){return typeof r=="function"?r:r==null?Ut:typeof r=="object"?Te(r)?qd(r[0],r[1]):Kd(r):ph(r)}function Ka(r){if(!Hs(r))return $v(r);var i=[];for(var u in Ge(r))Ve.call(r,u)&&u!="constructor"&&i.push(u);return i}function F0(r){if(!et(r))return ww(r);var i=Hs(r),u=[];for(var m in r)m=="constructor"&&(i||!Ve.call(r,m))||u.push(m);return u}function qa(r,i){return r<i}function Gd(r,i){var u=-1,m=Vt(r)?O(r.length):[];return lr(r,function(y,_,C){m[++u]=i(y,_,C)}),m}function Kd(r){var i=cl(r);return i.length==1&&i[0][2]?Pf(i[0][0],i[0][1]):function(u){return u===r||Ga(u,r,i)}}function qd(r,i){return dl(r)&&Rf(i)?Pf(Dn(r),i):function(u){var m=_l(u,r);return m===n&&m===i?bl(u,r):Bs(i,m,S|T)}}function to(r,i,u,m,y){r!==i&&Ba(i,function(_,C){if(y||(y=new _n),et(_))N0(r,i,C,u,to,m,y);else{var E=m?m(hl(r,C),_,C+"",r,i,y):n;E===n&&(E=_),$a(r,C,E)}},Bt)}function N0(r,i,u,m,y,_,C){var E=hl(r,u),I=hl(i,u),U=C.get(I);if(U){$a(r,u,U);return}var H=_?_(E,I,u+"",r,i,C):n,G=H===n;if(G){var te=Te(I),fe=!te&&fr(I),ye=!te&&!fe&&os(I);H=I,te||fe||ye?Te(E)?H=E:at(E)?H=$t(E):fe?(G=!1,H=af(I,!0)):ye?(G=!1,H=lf(I,!0)):H=[]:Ks(I)||Ar(I)?(H=E,Ar(E)?H=sh(E):(!et(E)||qn(E))&&(H=Tf(I))):G=!1}G&&(C.set(I,H),y(H,I,m,_,C),C.delete(I)),$a(r,u,H)}function Yd(r,i){var u=r.length;if(u)return i+=i<0?u:0,Kn(i,u)?r[i]:n}function Xd(r,i,u){i.length?i=Ze(i,function(_){return Te(_)?function(C){return Tr(C,_.length===1?_[0]:_)}:_}):i=[Ut];var m=-1;i=Ze(i,Kt(ge()));var y=Gd(r,function(_,C,E){var I=Ze(i,function(U){return U(_)});return{criteria:I,index:++m,value:_}});return fv(y,function(_,C){return Z0(_,C,u)})}function $0(r,i){return Jd(r,i,function(u,m){return bl(r,m)})}function Jd(r,i,u){for(var m=-1,y=i.length,_={};++m<y;){var C=i[m],E=Tr(r,C);u(E,C)&&Us(_,ur(C,r),E)}return _}function V0(r){return function(i){return Tr(i,r)}}function Ya(r,i,u,m){var y=m?dv:Yr,_=-1,C=i.length,E=r;for(r===i&&(i=$t(i)),u&&(E=Ze(r,Kt(u)));++_<C;)for(var I=0,U=i[_],H=u?u(U):U;(I=y(E,H,I,m))>-1;)E!==r&&Hi.call(E,I,1),Hi.call(r,I,1);return r}function Zd(r,i){for(var u=r?i.length:0,m=u-1;u--;){var y=i[u];if(u==m||y!==_){var _=y;Kn(y)?Hi.call(r,y,1):Qa(r,y)}}return r}function Xa(r,i){return r+qi(Md()*(i-r+1))}function B0(r,i,u,m){for(var y=-1,_=ft(Ki((i-r)/(u||1)),0),C=O(_);_--;)C[m?_:++y]=r,r+=u;return C}function Ja(r,i){var u="";if(!r||i<1||i>ee)return u;do i%2&&(u+=r),i=qi(i/2),i&&(r+=r);while(i);return u}function ke(r,i){return pl(Af(r,i,Ut),r+"")}function U0(r){return Ld(as(r))}function W0(r,i){var u=as(r);return fo(u,Cr(i,0,u.length))}function Us(r,i,u,m){if(!et(r))return r;i=ur(i,r);for(var y=-1,_=i.length,C=_-1,E=r;E!=null&&++y<_;){var I=Dn(i[y]),U=u;if(I==="__proto__"||I==="constructor"||I==="prototype")return r;if(y!=C){var H=E[I];U=m?m(H,I,E):n,U===n&&(U=et(H)?H:Kn(i[y+1])?[]:{})}Ns(E,I,U),E=E[I]}return r}var Qd=Yi?function(r,i){return Yi.set(r,i),r}:Ut,H0=Gi?function(r,i){return Gi(r,"toString",{configurable:!0,enumerable:!1,value:jl(i),writable:!0})}:Ut;function G0(r){return fo(as(r))}function un(r,i,u){var m=-1,y=r.length;i<0&&(i=-i>y?0:y+i),u=u>y?y:u,u<0&&(u+=y),y=i>u?0:u-i>>>0,i>>>=0;for(var _=O(y);++m<y;)_[m]=r[m+i];return _}function K0(r,i){var u;return lr(r,function(m,y,_){return u=i(m,y,_),!u}),!!u}function no(r,i,u){var m=0,y=r==null?m:r.length;if(typeof i=="number"&&i===i&&y<=qe){for(;m<y;){var _=m+y>>>1,C=r[_];C!==null&&!Yt(C)&&(u?C<=i:C<i)?m=_+1:y=_}return y}return Za(r,i,Ut,u)}function Za(r,i,u,m){var y=0,_=r==null?0:r.length;if(_===0)return 0;i=u(i);for(var C=i!==i,E=i===null,I=Yt(i),U=i===n;y<_;){var H=qi((y+_)/2),G=u(r[H]),te=G!==n,fe=G===null,ye=G===G,Ee=Yt(G);if(C)var xe=m||ye;else U?xe=ye&&(m||te):E?xe=ye&&te&&(m||!fe):I?xe=ye&&te&&!fe&&(m||!Ee):fe||Ee?xe=!1:xe=m?G<=i:G<i;xe?y=H+1:_=H}return Ct(_,ve)}function ef(r,i){for(var u=-1,m=r.length,y=0,_=[];++u<m;){var C=r[u],E=i?i(C):C;if(!u||!bn(E,I)){var I=E;_[y++]=C===0?0:C}}return _}function tf(r){return typeof r=="number"?r:Yt(r)?Z:+r}function qt(r){if(typeof r=="string")return r;if(Te(r))return Ze(r,qt)+"";if(Yt(r))return Dd?Dd.call(r):"";var i=r+"";return i=="0"&&1/r==-ie?"-0":i}function cr(r,i,u){var m=-1,y=Li,_=r.length,C=!0,E=[],I=E;if(u)C=!1,y=Ra;else if(_>=o){var U=i?null:sw(r);if(U)return zi(U);C=!1,y=Ds,I=new jr}else I=i?[]:E;e:for(;++m<_;){var H=r[m],G=i?i(H):H;if(H=u||H!==0?H:0,C&&G===G){for(var te=I.length;te--;)if(I[te]===G)continue e;i&&I.push(G),E.push(H)}else y(I,G,u)||(I!==E&&I.push(G),E.push(H))}return E}function Qa(r,i){return i=ur(i,r),r=Ef(r,i),r==null||delete r[Dn(dn(i))]}function nf(r,i,u,m){return Us(r,i,u(Tr(r,i)),m)}function ro(r,i,u,m){for(var y=r.length,_=m?y:-1;(m?_--:++_<y)&&i(r[_],_,r););return u?un(r,m?0:_,m?_+1:y):un(r,m?_+1:0,m?y:_)}function rf(r,i){var u=r;return u instanceof Ie&&(u=u.value()),Pa(i,function(m,y){return y.func.apply(y.thisArg,ir([m],y.args))},u)}function el(r,i,u){var m=r.length;if(m<2)return m?cr(r[0]):[];for(var y=-1,_=O(m);++y<m;)for(var C=r[y],E=-1;++E<m;)E!=y&&(_[y]=$s(_[y]||C,r[E],i,u));return cr(_t(_,1),i,u)}function sf(r,i,u){for(var m=-1,y=r.length,_=i.length,C={};++m<y;){var E=m<_?i[m]:n;u(C,r[m],E)}return C}function tl(r){return at(r)?r:[]}function nl(r){return typeof r=="function"?r:Ut}function ur(r,i){return Te(r)?r:dl(r,i)?[r]:If(Ne(r))}var q0=ke;function dr(r,i,u){var m=r.length;return u=u===n?m:u,!i&&u>=m?r:un(r,i,u)}var of=Lv||function(r){return wt.clearTimeout(r)};function af(r,i){if(i)return r.slice();var u=r.length,m=Rd?Rd(u):new r.constructor(u);return r.copy(m),m}function rl(r){var i=new r.constructor(r.byteLength);return new Ui(i).set(new Ui(r)),i}function Y0(r,i){var u=i?rl(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}function X0(r){var i=new r.constructor(r.source,Uu.exec(r));return i.lastIndex=r.lastIndex,i}function J0(r){return Fs?Ge(Fs.call(r)):{}}function lf(r,i){var u=i?rl(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}function cf(r,i){if(r!==i){var u=r!==n,m=r===null,y=r===r,_=Yt(r),C=i!==n,E=i===null,I=i===i,U=Yt(i);if(!E&&!U&&!_&&r>i||_&&C&&I&&!E&&!U||m&&C&&I||!u&&I||!y)return 1;if(!m&&!_&&!U&&r<i||U&&u&&y&&!m&&!_||E&&u&&y||!C&&y||!I)return-1}return 0}function Z0(r,i,u){for(var m=-1,y=r.criteria,_=i.criteria,C=y.length,E=u.length;++m<C;){var I=cf(y[m],_[m]);if(I){if(m>=E)return I;var U=u[m];return I*(U=="desc"?-1:1)}}return r.index-i.index}function uf(r,i,u,m){for(var y=-1,_=r.length,C=u.length,E=-1,I=i.length,U=ft(_-C,0),H=O(I+U),G=!m;++E<I;)H[E]=i[E];for(;++y<C;)(G||y<_)&&(H[u[y]]=r[y]);for(;U--;)H[E++]=r[y++];return H}function df(r,i,u,m){for(var y=-1,_=r.length,C=-1,E=u.length,I=-1,U=i.length,H=ft(_-E,0),G=O(H+U),te=!m;++y<H;)G[y]=r[y];for(var fe=y;++I<U;)G[fe+I]=i[I];for(;++C<E;)(te||y<_)&&(G[fe+u[C]]=r[y++]);return G}function $t(r,i){var u=-1,m=r.length;for(i||(i=O(m));++u<m;)i[u]=r[u];return i}function Mn(r,i,u,m){var y=!u;u||(u={});for(var _=-1,C=i.length;++_<C;){var E=i[_],I=m?m(u[E],r[E],E,u,r):n;I===n&&(I=r[E]),y?Wn(u,E,I):Ns(u,E,I)}return u}function Q0(r,i){return Mn(r,ul(r),i)}function ew(r,i){return Mn(r,jf(r),i)}function so(r,i){return function(u,m){var y=Te(u)?iv:b0,_=i?i():{};return y(u,r,ge(m,2),_)}}function rs(r){return ke(function(i,u){var m=-1,y=u.length,_=y>1?u[y-1]:n,C=y>2?u[2]:n;for(_=r.length>3&&typeof _=="function"?(y--,_):n,C&&It(u[0],u[1],C)&&(_=y<3?n:_,y=1),i=Ge(i);++m<y;){var E=u[m];E&&r(i,E,m,_)}return i})}function ff(r,i){return function(u,m){if(u==null)return u;if(!Vt(u))return r(u,m);for(var y=u.length,_=i?y:-1,C=Ge(u);(i?_--:++_<y)&&m(C[_],_,C)!==!1;);return u}}function hf(r){return function(i,u,m){for(var y=-1,_=Ge(i),C=m(i),E=C.length;E--;){var I=C[r?E:++y];if(u(_[I],I,_)===!1)break}return i}}function tw(r,i,u){var m=i&k,y=Ws(r);function _(){var C=this&&this!==wt&&this instanceof _?y:r;return C.apply(m?u:this,arguments)}return _}function pf(r){return function(i){i=Ne(i);var u=Xr(i)?wn(i):n,m=u?u[0]:i.charAt(0),y=u?dr(u,1).join(""):i.slice(1);return m[r]()+y}}function ss(r){return function(i){return Pa(fh(dh(i).replace(Hx,"")),r,"")}}function Ws(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var u=ns(r.prototype),m=r.apply(u,i);return et(m)?m:u}}function nw(r,i,u){var m=Ws(r);function y(){for(var _=arguments.length,C=O(_),E=_,I=is(y);E--;)C[E]=arguments[E];var U=_<3&&C[0]!==I&&C[_-1]!==I?[]:or(C,I);if(_-=U.length,_<u)return vf(r,i,io,y.placeholder,n,C,U,n,n,u-_);var H=this&&this!==wt&&this instanceof y?m:r;return Gt(H,this,C)}return y}function mf(r){return function(i,u,m){var y=Ge(i);if(!Vt(i)){var _=ge(u,3);i=mt(i),u=function(E){return _(y[E],E,y)}}var C=r(i,u,m);return C>-1?y[_?i[C]:C]:n}}function gf(r){return Gn(function(i){var u=i.length,m=u,y=ln.prototype.thru;for(r&&i.reverse();m--;){var _=i[m];if(typeof _!="function")throw new an(c);if(y&&!C&&co(_)=="wrapper")var C=new ln([],!0)}for(m=C?m:u;++m<u;){_=i[m];var E=co(_),I=E=="wrapper"?ll(_):n;I&&fl(I[0])&&I[1]==($|M|R|z)&&!I[4].length&&I[9]==1?C=C[co(I[0])].apply(C,I[3]):C=_.length==1&&fl(_)?C[E]():C.thru(_)}return function(){var U=arguments,H=U[0];if(C&&U.length==1&&Te(H))return C.plant(H).value();for(var G=0,te=u?i[G].apply(this,U):H;++G<u;)te=i[G].call(this,te);return te}})}function io(r,i,u,m,y,_,C,E,I,U){var H=i&$,G=i&k,te=i&P,fe=i&(M|j),ye=i&N,Ee=te?n:Ws(r);function xe(){for(var De=arguments.length,Oe=O(De),Xt=De;Xt--;)Oe[Xt]=arguments[Xt];if(fe)var Lt=is(xe),Jt=pv(Oe,Lt);if(m&&(Oe=uf(Oe,m,y,fe)),_&&(Oe=df(Oe,_,C,fe)),De-=Jt,fe&&De<U){var lt=or(Oe,Lt);return vf(r,i,io,xe.placeholder,u,Oe,lt,E,I,U-De)}var Sn=G?u:this,Xn=te?Sn[r]:r;return De=Oe.length,E?Oe=bw(Oe,E):ye&&De>1&&Oe.reverse(),H&&I<De&&(Oe.length=I),this&&this!==wt&&this instanceof xe&&(Xn=Ee||Ws(Xn)),Xn.apply(Sn,Oe)}return xe}function yf(r,i){return function(u,m){return E0(u,r,i(m),{})}}function oo(r,i){return function(u,m){var y;if(u===n&&m===n)return i;if(u!==n&&(y=u),m!==n){if(y===n)return m;typeof u=="string"||typeof m=="string"?(u=qt(u),m=qt(m)):(u=tf(u),m=tf(m)),y=r(u,m)}return y}}function sl(r){return Gn(function(i){return i=Ze(i,Kt(ge())),ke(function(u){var m=this;return r(i,function(y){return Gt(y,m,u)})})})}function ao(r,i){i=i===n?" ":qt(i);var u=i.length;if(u<2)return u?Ja(i,r):i;var m=Ja(i,Ki(r/Jr(i)));return Xr(i)?dr(wn(m),0,r).join(""):m.slice(0,r)}function rw(r,i,u,m){var y=i&k,_=Ws(r);function C(){for(var E=-1,I=arguments.length,U=-1,H=m.length,G=O(H+I),te=this&&this!==wt&&this instanceof C?_:r;++U<H;)G[U]=m[U];for(;I--;)G[U++]=arguments[++E];return Gt(te,y?u:this,G)}return C}function xf(r){return function(i,u,m){return m&&typeof m!="number"&&It(i,u,m)&&(u=m=n),i=Yn(i),u===n?(u=i,i=0):u=Yn(u),m=m===n?i<u?1:-1:Yn(m),B0(i,u,m,r)}}function lo(r){return function(i,u){return typeof i=="string"&&typeof u=="string"||(i=fn(i),u=fn(u)),r(i,u)}}function vf(r,i,u,m,y,_,C,E,I,U){var H=i&M,G=H?C:n,te=H?n:C,fe=H?_:n,ye=H?n:_;i|=H?R:L,i&=~(H?L:R),i&A||(i&=-4);var Ee=[r,i,y,fe,G,ye,te,E,I,U],xe=u.apply(n,Ee);return fl(r)&&kf(xe,Ee),xe.placeholder=m,Mf(xe,r,i)}function il(r){var i=dt[r];return function(u,m){if(u=fn(u),m=m==null?0:Ct(Re(m),292),m&&kd(u)){var y=(Ne(u)+"e").split("e"),_=i(y[0]+"e"+(+y[1]+m));return y=(Ne(_)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return i(u)}}var sw=es&&1/zi(new es([,-0]))[1]==ie?function(r){return new es(r)}:Rl;function wf(r){return function(i){var u=Tt(i);return u==kt?La(i):u==He?_v(i):hv(i,r(i))}}function Hn(r,i,u,m,y,_,C,E){var I=i&P;if(!I&&typeof r!="function")throw new an(c);var U=m?m.length:0;if(U||(i&=-97,m=y=n),C=C===n?C:ft(Re(C),0),E=E===n?E:Re(E),U-=y?y.length:0,i&L){var H=m,G=y;m=y=n}var te=I?n:ll(r),fe=[r,i,u,m,y,H,G,_,C,E];if(te&&vw(fe,te),r=fe[0],i=fe[1],u=fe[2],m=fe[3],y=fe[4],E=fe[9]=fe[9]===n?I?0:r.length:ft(fe[9]-U,0),!E&&i&(M|j)&&(i&=-25),!i||i==k)var ye=tw(r,i,u);else i==M||i==j?ye=nw(r,i,E):(i==R||i==(k|R))&&!y.length?ye=rw(r,i,u,m):ye=io.apply(n,fe);var Ee=te?Qd:kf;return Mf(Ee(ye,fe),r,i)}function _f(r,i,u,m){return r===n||bn(r,Qr[u])&&!Ve.call(m,u)?i:r}function bf(r,i,u,m,y,_){return et(r)&&et(i)&&(_.set(i,r),to(r,i,n,bf,_),_.delete(i)),r}function iw(r){return Ks(r)?n:r}function Sf(r,i,u,m,y,_){var C=u&S,E=r.length,I=i.length;if(E!=I&&!(C&&I>E))return!1;var U=_.get(r),H=_.get(i);if(U&&H)return U==i&&H==r;var G=-1,te=!0,fe=u&T?new jr:n;for(_.set(r,i),_.set(i,r);++G<E;){var ye=r[G],Ee=i[G];if(m)var xe=C?m(Ee,ye,G,i,r,_):m(ye,Ee,G,r,i,_);if(xe!==n){if(xe)continue;te=!1;break}if(fe){if(!Aa(i,function(De,Oe){if(!Ds(fe,Oe)&&(ye===De||y(ye,De,u,m,_)))return fe.push(Oe)})){te=!1;break}}else if(!(ye===Ee||y(ye,Ee,u,m,_))){te=!1;break}}return _.delete(r),_.delete(i),te}function ow(r,i,u,m,y,_,C){switch(u){case Vn:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case rr:return!(r.byteLength!=i.byteLength||!_(new Ui(r),new Ui(i)));case F:case ce:case rn:return bn(+r,+i);case xt:return r.name==i.name&&r.message==i.message;case vt:case ht:return r==i+"";case kt:var E=La;case He:var I=m&S;if(E||(E=zi),r.size!=i.size&&!I)return!1;var U=C.get(r);if(U)return U==i;m|=T,C.set(r,i);var H=Sf(E(r),E(i),m,y,_,C);return C.delete(r),H;case pt:if(Fs)return Fs.call(r)==Fs.call(i)}return!1}function aw(r,i,u,m,y,_){var C=u&S,E=ol(r),I=E.length,U=ol(i),H=U.length;if(I!=H&&!C)return!1;for(var G=I;G--;){var te=E[G];if(!(C?te in i:Ve.call(i,te)))return!1}var fe=_.get(r),ye=_.get(i);if(fe&&ye)return fe==i&&ye==r;var Ee=!0;_.set(r,i),_.set(i,r);for(var xe=C;++G<I;){te=E[G];var De=r[te],Oe=i[te];if(m)var Xt=C?m(Oe,De,te,i,r,_):m(De,Oe,te,r,i,_);if(!(Xt===n?De===Oe||y(De,Oe,u,m,_):Xt)){Ee=!1;break}xe||(xe=te=="constructor")}if(Ee&&!xe){var Lt=r.constructor,Jt=i.constructor;Lt!=Jt&&"constructor"in r&&"constructor"in i&&!(typeof Lt=="function"&&Lt instanceof Lt&&typeof Jt=="function"&&Jt instanceof Jt)&&(Ee=!1)}return _.delete(r),_.delete(i),Ee}function Gn(r){return pl(Af(r,n,Ff),r+"")}function ol(r){return Bd(r,mt,ul)}function al(r){return Bd(r,Bt,jf)}var ll=Yi?function(r){return Yi.get(r)}:Rl;function co(r){for(var i=r.name+"",u=ts[i],m=Ve.call(ts,i)?u.length:0;m--;){var y=u[m],_=y.func;if(_==null||_==r)return y.name}return i}function is(r){var i=Ve.call(w,"placeholder")?w:r;return i.placeholder}function ge(){var r=w.iteratee||Cl;return r=r===Cl?Hd:r,arguments.length?r(arguments[0],arguments[1]):r}function uo(r,i){var u=r.__data__;return mw(i)?u[typeof i=="string"?"string":"hash"]:u.map}function cl(r){for(var i=mt(r),u=i.length;u--;){var m=i[u],y=r[m];i[u]=[m,y,Rf(y)]}return i}function Rr(r,i){var u=xv(r,i);return Wd(u)?u:n}function lw(r){var i=Ve.call(r,br),u=r[br];try{r[br]=n;var m=!0}catch{}var y=Vi.call(r);return m&&(i?r[br]=u:delete r[br]),y}var ul=za?function(r){return r==null?[]:(r=Ge(r),sr(za(r),function(i){return Ad.call(r,i)}))}:Pl,jf=za?function(r){for(var i=[];r;)ir(i,ul(r)),r=Wi(r);return i}:Pl,Tt=Dt;(Fa&&Tt(new Fa(new ArrayBuffer(1)))!=Vn||Ls&&Tt(new Ls)!=kt||Na&&Tt(Na.resolve())!=he||es&&Tt(new es)!=He||Os&&Tt(new Os)!=$n)&&(Tt=function(r){var i=Dt(r),u=i==q?r.constructor:n,m=u?Pr(u):"";if(m)switch(m){case Wv:return Vn;case Hv:return kt;case Gv:return he;case Kv:return He;case qv:return $n}return i});function cw(r,i,u){for(var m=-1,y=u.length;++m<y;){var _=u[m],C=_.size;switch(_.type){case"drop":r+=C;break;case"dropRight":i-=C;break;case"take":i=Ct(i,r+C);break;case"takeRight":r=ft(r,i-C);break}}return{start:r,end:i}}function uw(r){var i=r.match(gx);return i?i[1].split(yx):[]}function Cf(r,i,u){i=ur(i,r);for(var m=-1,y=i.length,_=!1;++m<y;){var C=Dn(i[m]);if(!(_=r!=null&&u(r,C)))break;r=r[C]}return _||++m!=y?_:(y=r==null?0:r.length,!!y&&xo(y)&&Kn(C,y)&&(Te(r)||Ar(r)))}function dw(r){var i=r.length,u=new r.constructor(i);return i&&typeof r[0]=="string"&&Ve.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function Tf(r){return typeof r.constructor=="function"&&!Hs(r)?ns(Wi(r)):{}}function fw(r,i,u){var m=r.constructor;switch(i){case rr:return rl(r);case F:case ce:return new m(+r);case Vn:return Y0(r,u);case Wr:case Hr:case Gr:case Kr:case ha:case pa:case ma:case ga:case ya:return lf(r,u);case kt:return new m;case rn:case ht:return new m(r);case vt:return X0(r);case He:return new m;case pt:return J0(r)}}function hw(r,i){var u=i.length;if(!u)return r;var m=u-1;return i[m]=(u>1?"& ":"")+i[m],i=i.join(u>2?", ":" "),r.replace(mx,`{
/* [wrapped with `+i+`] */
`)}function pw(r){return Te(r)||Ar(r)||!!(Ed&&r&&r[Ed])}function Kn(r,i){var u=typeof r;return i=i??ee,!!i&&(u=="number"||u!="symbol"&&Tx.test(r))&&r>-1&&r%1==0&&r<i}function It(r,i,u){if(!et(u))return!1;var m=typeof i;return(m=="number"?Vt(u)&&Kn(i,u.length):m=="string"&&i in u)?bn(u[i],r):!1}function dl(r,i){if(Te(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||Yt(r)?!0:dx.test(r)||!ux.test(r)||i!=null&&r in Ge(i)}function mw(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function fl(r){var i=co(r),u=w[i];if(typeof u!="function"||!(i in Ie.prototype))return!1;if(r===u)return!0;var m=ll(u);return!!m&&r===m[0]}function gw(r){return!!Td&&Td in r}var yw=Ni?qn:Al;function Hs(r){var i=r&&r.constructor,u=typeof i=="function"&&i.prototype||Qr;return r===u}function Rf(r){return r===r&&!et(r)}function Pf(r,i){return function(u){return u==null?!1:u[r]===i&&(i!==n||r in Ge(u))}}function xw(r){var i=go(r,function(m){return u.size===h&&u.clear(),m}),u=i.cache;return i}function vw(r,i){var u=r[1],m=i[1],y=u|m,_=y<(k|P|$),C=m==$&&u==M||m==$&&u==z&&r[7].length<=i[8]||m==($|z)&&i[7].length<=i[8]&&u==M;if(!(_||C))return r;m&k&&(r[2]=i[2],y|=u&k?0:A);var E=i[3];if(E){var I=r[3];r[3]=I?uf(I,E,i[4]):E,r[4]=I?or(r[3],p):i[4]}return E=i[5],E&&(I=r[5],r[5]=I?df(I,E,i[6]):E,r[6]=I?or(r[5],p):i[6]),E=i[7],E&&(r[7]=E),m&$&&(r[8]=r[8]==null?i[8]:Ct(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=y,r}function ww(r){var i=[];if(r!=null)for(var u in Ge(r))i.push(u);return i}function _w(r){return Vi.call(r)}function Af(r,i,u){return i=ft(i===n?r.length-1:i,0),function(){for(var m=arguments,y=-1,_=ft(m.length-i,0),C=O(_);++y<_;)C[y]=m[i+y];y=-1;for(var E=O(i+1);++y<i;)E[y]=m[y];return E[i]=u(C),Gt(r,this,E)}}function Ef(r,i){return i.length<2?r:Tr(r,un(i,0,-1))}function bw(r,i){for(var u=r.length,m=Ct(i.length,u),y=$t(r);m--;){var _=i[m];r[m]=Kn(_,u)?y[_]:n}return r}function hl(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var kf=Df(Qd),Gs=zv||function(r,i){return wt.setTimeout(r,i)},pl=Df(H0);function Mf(r,i,u){var m=i+"";return pl(r,hw(m,Sw(uw(m),u)))}function Df(r){var i=0,u=0;return function(){var m=Vv(),y=J-(m-u);if(u=m,y>0){if(++i>=se)return arguments[0]}else i=0;return r.apply(n,arguments)}}function fo(r,i){var u=-1,m=r.length,y=m-1;for(i=i===n?m:i;++u<i;){var _=Xa(u,y),C=r[_];r[_]=r[u],r[u]=C}return r.length=i,r}var If=xw(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(fx,function(u,m,y,_){i.push(y?_.replace(wx,"$1"):m||u)}),i});function Dn(r){if(typeof r=="string"||Yt(r))return r;var i=r+"";return i=="0"&&1/r==-ie?"-0":i}function Pr(r){if(r!=null){try{return $i.call(r)}catch{}try{return r+""}catch{}}return""}function Sw(r,i){return on(X,function(u){var m="_."+u[0];i&u[1]&&!Li(r,m)&&r.push(m)}),r.sort()}function Lf(r){if(r instanceof Ie)return r.clone();var i=new ln(r.__wrapped__,r.__chain__);return i.__actions__=$t(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function jw(r,i,u){(u?It(r,i,u):i===n)?i=1:i=ft(Re(i),0);var m=r==null?0:r.length;if(!m||i<1)return[];for(var y=0,_=0,C=O(Ki(m/i));y<m;)C[_++]=un(r,y,y+=i);return C}function Cw(r){for(var i=-1,u=r==null?0:r.length,m=0,y=[];++i<u;){var _=r[i];_&&(y[m++]=_)}return y}function Tw(){var r=arguments.length;if(!r)return[];for(var i=O(r-1),u=arguments[0],m=r;m--;)i[m-1]=arguments[m];return ir(Te(u)?$t(u):[u],_t(i,1))}var Rw=ke(function(r,i){return at(r)?$s(r,_t(i,1,at,!0)):[]}),Pw=ke(function(r,i){var u=dn(i);return at(u)&&(u=n),at(r)?$s(r,_t(i,1,at,!0),ge(u,2)):[]}),Aw=ke(function(r,i){var u=dn(i);return at(u)&&(u=n),at(r)?$s(r,_t(i,1,at,!0),n,u):[]});function Ew(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Re(i),un(r,i<0?0:i,m)):[]}function kw(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Re(i),i=m-i,un(r,0,i<0?0:i)):[]}function Mw(r,i){return r&&r.length?ro(r,ge(i,3),!0,!0):[]}function Dw(r,i){return r&&r.length?ro(r,ge(i,3),!0):[]}function Iw(r,i,u,m){var y=r==null?0:r.length;return y?(u&&typeof u!="number"&&It(r,i,u)&&(u=0,m=y),T0(r,i,u,m)):[]}function Of(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=u==null?0:Re(u);return y<0&&(y=ft(m+y,0)),Oi(r,ge(i,3),y)}function zf(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=m-1;return u!==n&&(y=Re(u),y=u<0?ft(m+y,0):Ct(y,m-1)),Oi(r,ge(i,3),y,!0)}function Ff(r){var i=r==null?0:r.length;return i?_t(r,1):[]}function Lw(r){var i=r==null?0:r.length;return i?_t(r,ie):[]}function Ow(r,i){var u=r==null?0:r.length;return u?(i=i===n?1:Re(i),_t(r,i)):[]}function zw(r){for(var i=-1,u=r==null?0:r.length,m={};++i<u;){var y=r[i];m[y[0]]=y[1]}return m}function Nf(r){return r&&r.length?r[0]:n}function Fw(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=u==null?0:Re(u);return y<0&&(y=ft(m+y,0)),Yr(r,i,y)}function Nw(r){var i=r==null?0:r.length;return i?un(r,0,-1):[]}var $w=ke(function(r){var i=Ze(r,tl);return i.length&&i[0]===r[0]?Ha(i):[]}),Vw=ke(function(r){var i=dn(r),u=Ze(r,tl);return i===dn(u)?i=n:u.pop(),u.length&&u[0]===r[0]?Ha(u,ge(i,2)):[]}),Bw=ke(function(r){var i=dn(r),u=Ze(r,tl);return i=typeof i=="function"?i:n,i&&u.pop(),u.length&&u[0]===r[0]?Ha(u,n,i):[]});function Uw(r,i){return r==null?"":Nv.call(r,i)}function dn(r){var i=r==null?0:r.length;return i?r[i-1]:n}function Ww(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=m;return u!==n&&(y=Re(u),y=y<0?ft(m+y,0):Ct(y,m-1)),i===i?Sv(r,i,y):Oi(r,xd,y,!0)}function Hw(r,i){return r&&r.length?Yd(r,Re(i)):n}var Gw=ke($f);function $f(r,i){return r&&r.length&&i&&i.length?Ya(r,i):r}function Kw(r,i,u){return r&&r.length&&i&&i.length?Ya(r,i,ge(u,2)):r}function qw(r,i,u){return r&&r.length&&i&&i.length?Ya(r,i,n,u):r}var Yw=Gn(function(r,i){var u=r==null?0:r.length,m=Va(r,i);return Zd(r,Ze(i,function(y){return Kn(y,u)?+y:y}).sort(cf)),m});function Xw(r,i){var u=[];if(!(r&&r.length))return u;var m=-1,y=[],_=r.length;for(i=ge(i,3);++m<_;){var C=r[m];i(C,m,r)&&(u.push(C),y.push(m))}return Zd(r,y),u}function ml(r){return r==null?r:Uv.call(r)}function Jw(r,i,u){var m=r==null?0:r.length;return m?(u&&typeof u!="number"&&It(r,i,u)?(i=0,u=m):(i=i==null?0:Re(i),u=u===n?m:Re(u)),un(r,i,u)):[]}function Zw(r,i){return no(r,i)}function Qw(r,i,u){return Za(r,i,ge(u,2))}function e_(r,i){var u=r==null?0:r.length;if(u){var m=no(r,i);if(m<u&&bn(r[m],i))return m}return-1}function t_(r,i){return no(r,i,!0)}function n_(r,i,u){return Za(r,i,ge(u,2),!0)}function r_(r,i){var u=r==null?0:r.length;if(u){var m=no(r,i,!0)-1;if(bn(r[m],i))return m}return-1}function s_(r){return r&&r.length?ef(r):[]}function i_(r,i){return r&&r.length?ef(r,ge(i,2)):[]}function o_(r){var i=r==null?0:r.length;return i?un(r,1,i):[]}function a_(r,i,u){return r&&r.length?(i=u||i===n?1:Re(i),un(r,0,i<0?0:i)):[]}function l_(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Re(i),i=m-i,un(r,i<0?0:i,m)):[]}function c_(r,i){return r&&r.length?ro(r,ge(i,3),!1,!0):[]}function u_(r,i){return r&&r.length?ro(r,ge(i,3)):[]}var d_=ke(function(r){return cr(_t(r,1,at,!0))}),f_=ke(function(r){var i=dn(r);return at(i)&&(i=n),cr(_t(r,1,at,!0),ge(i,2))}),h_=ke(function(r){var i=dn(r);return i=typeof i=="function"?i:n,cr(_t(r,1,at,!0),n,i)});function p_(r){return r&&r.length?cr(r):[]}function m_(r,i){return r&&r.length?cr(r,ge(i,2)):[]}function g_(r,i){return i=typeof i=="function"?i:n,r&&r.length?cr(r,n,i):[]}function gl(r){if(!(r&&r.length))return[];var i=0;return r=sr(r,function(u){if(at(u))return i=ft(u.length,i),!0}),Da(i,function(u){return Ze(r,Ea(u))})}function Vf(r,i){if(!(r&&r.length))return[];var u=gl(r);return i==null?u:Ze(u,function(m){return Gt(i,n,m)})}var y_=ke(function(r,i){return at(r)?$s(r,i):[]}),x_=ke(function(r){return el(sr(r,at))}),v_=ke(function(r){var i=dn(r);return at(i)&&(i=n),el(sr(r,at),ge(i,2))}),w_=ke(function(r){var i=dn(r);return i=typeof i=="function"?i:n,el(sr(r,at),n,i)}),__=ke(gl);function b_(r,i){return sf(r||[],i||[],Ns)}function S_(r,i){return sf(r||[],i||[],Us)}var j_=ke(function(r){var i=r.length,u=i>1?r[i-1]:n;return u=typeof u=="function"?(r.pop(),u):n,Vf(r,u)});function Bf(r){var i=w(r);return i.__chain__=!0,i}function C_(r,i){return i(r),r}function ho(r,i){return i(r)}var T_=Gn(function(r){var i=r.length,u=i?r[0]:0,m=this.__wrapped__,y=function(_){return Va(_,r)};return i>1||this.__actions__.length||!(m instanceof Ie)||!Kn(u)?this.thru(y):(m=m.slice(u,+u+(i?1:0)),m.__actions__.push({func:ho,args:[y],thisArg:n}),new ln(m,this.__chain__).thru(function(_){return i&&!_.length&&_.push(n),_}))});function R_(){return Bf(this)}function P_(){return new ln(this.value(),this.__chain__)}function A_(){this.__values__===n&&(this.__values__=nh(this.value()));var r=this.__index__>=this.__values__.length,i=r?n:this.__values__[this.__index__++];return{done:r,value:i}}function E_(){return this}function k_(r){for(var i,u=this;u instanceof Ji;){var m=Lf(u);m.__index__=0,m.__values__=n,i?y.__wrapped__=m:i=m;var y=m;u=u.__wrapped__}return y.__wrapped__=r,i}function M_(){var r=this.__wrapped__;if(r instanceof Ie){var i=r;return this.__actions__.length&&(i=new Ie(this)),i=i.reverse(),i.__actions__.push({func:ho,args:[ml],thisArg:n}),new ln(i,this.__chain__)}return this.thru(ml)}function D_(){return rf(this.__wrapped__,this.__actions__)}var I_=so(function(r,i,u){Ve.call(r,u)?++r[u]:Wn(r,u,1)});function L_(r,i,u){var m=Te(r)?gd:C0;return u&&It(r,i,u)&&(i=n),m(r,ge(i,3))}function O_(r,i){var u=Te(r)?sr:$d;return u(r,ge(i,3))}var z_=mf(Of),F_=mf(zf);function N_(r,i){return _t(po(r,i),1)}function $_(r,i){return _t(po(r,i),ie)}function V_(r,i,u){return u=u===n?1:Re(u),_t(po(r,i),u)}function Uf(r,i){var u=Te(r)?on:lr;return u(r,ge(i,3))}function Wf(r,i){var u=Te(r)?ov:Nd;return u(r,ge(i,3))}var B_=so(function(r,i,u){Ve.call(r,u)?r[u].push(i):Wn(r,u,[i])});function U_(r,i,u,m){r=Vt(r)?r:as(r),u=u&&!m?Re(u):0;var y=r.length;return u<0&&(u=ft(y+u,0)),vo(r)?u<=y&&r.indexOf(i,u)>-1:!!y&&Yr(r,i,u)>-1}var W_=ke(function(r,i,u){var m=-1,y=typeof i=="function",_=Vt(r)?O(r.length):[];return lr(r,function(C){_[++m]=y?Gt(i,C,u):Vs(C,i,u)}),_}),H_=so(function(r,i,u){Wn(r,u,i)});function po(r,i){var u=Te(r)?Ze:Gd;return u(r,ge(i,3))}function G_(r,i,u,m){return r==null?[]:(Te(i)||(i=i==null?[]:[i]),u=m?n:u,Te(u)||(u=u==null?[]:[u]),Xd(r,i,u))}var K_=so(function(r,i,u){r[u?0:1].push(i)},function(){return[[],[]]});function q_(r,i,u){var m=Te(r)?Pa:wd,y=arguments.length<3;return m(r,ge(i,4),u,y,lr)}function Y_(r,i,u){var m=Te(r)?av:wd,y=arguments.length<3;return m(r,ge(i,4),u,y,Nd)}function X_(r,i){var u=Te(r)?sr:$d;return u(r,yo(ge(i,3)))}function J_(r){var i=Te(r)?Ld:U0;return i(r)}function Z_(r,i,u){(u?It(r,i,u):i===n)?i=1:i=Re(i);var m=Te(r)?w0:W0;return m(r,i)}function Q_(r){var i=Te(r)?_0:G0;return i(r)}function eb(r){if(r==null)return 0;if(Vt(r))return vo(r)?Jr(r):r.length;var i=Tt(r);return i==kt||i==He?r.size:Ka(r).length}function tb(r,i,u){var m=Te(r)?Aa:K0;return u&&It(r,i,u)&&(i=n),m(r,ge(i,3))}var nb=ke(function(r,i){if(r==null)return[];var u=i.length;return u>1&&It(r,i[0],i[1])?i=[]:u>2&&It(i[0],i[1],i[2])&&(i=[i[0]]),Xd(r,_t(i,1),[])}),mo=Ov||function(){return wt.Date.now()};function rb(r,i){if(typeof i!="function")throw new an(c);return r=Re(r),function(){if(--r<1)return i.apply(this,arguments)}}function Hf(r,i,u){return i=u?n:i,i=r&&i==null?r.length:i,Hn(r,$,n,n,n,n,i)}function Gf(r,i){var u;if(typeof i!="function")throw new an(c);return r=Re(r),function(){return--r>0&&(u=i.apply(this,arguments)),r<=1&&(i=n),u}}var yl=ke(function(r,i,u){var m=k;if(u.length){var y=or(u,is(yl));m|=R}return Hn(r,m,i,u,y)}),Kf=ke(function(r,i,u){var m=k|P;if(u.length){var y=or(u,is(Kf));m|=R}return Hn(i,m,r,u,y)});function qf(r,i,u){i=u?n:i;var m=Hn(r,M,n,n,n,n,n,i);return m.placeholder=qf.placeholder,m}function Yf(r,i,u){i=u?n:i;var m=Hn(r,j,n,n,n,n,n,i);return m.placeholder=Yf.placeholder,m}function Xf(r,i,u){var m,y,_,C,E,I,U=0,H=!1,G=!1,te=!0;if(typeof r!="function")throw new an(c);i=fn(i)||0,et(u)&&(H=!!u.leading,G="maxWait"in u,_=G?ft(fn(u.maxWait)||0,i):_,te="trailing"in u?!!u.trailing:te);function fe(lt){var Sn=m,Xn=y;return m=y=n,U=lt,C=r.apply(Xn,Sn),C}function ye(lt){return U=lt,E=Gs(De,i),H?fe(lt):C}function Ee(lt){var Sn=lt-I,Xn=lt-U,mh=i-Sn;return G?Ct(mh,_-Xn):mh}function xe(lt){var Sn=lt-I,Xn=lt-U;return I===n||Sn>=i||Sn<0||G&&Xn>=_}function De(){var lt=mo();if(xe(lt))return Oe(lt);E=Gs(De,Ee(lt))}function Oe(lt){return E=n,te&&m?fe(lt):(m=y=n,C)}function Xt(){E!==n&&of(E),U=0,m=I=y=E=n}function Lt(){return E===n?C:Oe(mo())}function Jt(){var lt=mo(),Sn=xe(lt);if(m=arguments,y=this,I=lt,Sn){if(E===n)return ye(I);if(G)return of(E),E=Gs(De,i),fe(I)}return E===n&&(E=Gs(De,i)),C}return Jt.cancel=Xt,Jt.flush=Lt,Jt}var sb=ke(function(r,i){return Fd(r,1,i)}),ib=ke(function(r,i,u){return Fd(r,fn(i)||0,u)});function ob(r){return Hn(r,N)}function go(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new an(c);var u=function(){var m=arguments,y=i?i.apply(this,m):m[0],_=u.cache;if(_.has(y))return _.get(y);var C=r.apply(this,m);return u.cache=_.set(y,C)||_,C};return u.cache=new(go.Cache||Un),u}go.Cache=Un;function yo(r){if(typeof r!="function")throw new an(c);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function ab(r){return Gf(2,r)}var lb=q0(function(r,i){i=i.length==1&&Te(i[0])?Ze(i[0],Kt(ge())):Ze(_t(i,1),Kt(ge()));var u=i.length;return ke(function(m){for(var y=-1,_=Ct(m.length,u);++y<_;)m[y]=i[y].call(this,m[y]);return Gt(r,this,m)})}),xl=ke(function(r,i){var u=or(i,is(xl));return Hn(r,R,n,i,u)}),Jf=ke(function(r,i){var u=or(i,is(Jf));return Hn(r,L,n,i,u)}),cb=Gn(function(r,i){return Hn(r,z,n,n,n,i)});function ub(r,i){if(typeof r!="function")throw new an(c);return i=i===n?i:Re(i),ke(r,i)}function db(r,i){if(typeof r!="function")throw new an(c);return i=i==null?0:ft(Re(i),0),ke(function(u){var m=u[i],y=dr(u,0,i);return m&&ir(y,m),Gt(r,this,y)})}function fb(r,i,u){var m=!0,y=!0;if(typeof r!="function")throw new an(c);return et(u)&&(m="leading"in u?!!u.leading:m,y="trailing"in u?!!u.trailing:y),Xf(r,i,{leading:m,maxWait:i,trailing:y})}function hb(r){return Hf(r,1)}function pb(r,i){return xl(nl(i),r)}function mb(){if(!arguments.length)return[];var r=arguments[0];return Te(r)?r:[r]}function gb(r){return cn(r,v)}function yb(r,i){return i=typeof i=="function"?i:n,cn(r,v,i)}function xb(r){return cn(r,g|v)}function vb(r,i){return i=typeof i=="function"?i:n,cn(r,g|v,i)}function wb(r,i){return i==null||zd(r,i,mt(i))}function bn(r,i){return r===i||r!==r&&i!==i}var _b=lo(Wa),bb=lo(function(r,i){return r>=i}),Ar=Ud(function(){return arguments}())?Ud:function(r){return rt(r)&&Ve.call(r,"callee")&&!Ad.call(r,"callee")},Te=O.isArray,Sb=ud?Kt(ud):k0;function Vt(r){return r!=null&&xo(r.length)&&!qn(r)}function at(r){return rt(r)&&Vt(r)}function jb(r){return r===!0||r===!1||rt(r)&&Dt(r)==F}var fr=Fv||Al,Cb=dd?Kt(dd):M0;function Tb(r){return rt(r)&&r.nodeType===1&&!Ks(r)}function Rb(r){if(r==null)return!0;if(Vt(r)&&(Te(r)||typeof r=="string"||typeof r.splice=="function"||fr(r)||os(r)||Ar(r)))return!r.length;var i=Tt(r);if(i==kt||i==He)return!r.size;if(Hs(r))return!Ka(r).length;for(var u in r)if(Ve.call(r,u))return!1;return!0}function Pb(r,i){return Bs(r,i)}function Ab(r,i,u){u=typeof u=="function"?u:n;var m=u?u(r,i):n;return m===n?Bs(r,i,n,u):!!m}function vl(r){if(!rt(r))return!1;var i=Dt(r);return i==xt||i==Ae||typeof r.message=="string"&&typeof r.name=="string"&&!Ks(r)}function Eb(r){return typeof r=="number"&&kd(r)}function qn(r){if(!et(r))return!1;var i=Dt(r);return i==Et||i==vn||i==We||i==Je}function Zf(r){return typeof r=="number"&&r==Re(r)}function xo(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=ee}function et(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function rt(r){return r!=null&&typeof r=="object"}var Qf=fd?Kt(fd):I0;function kb(r,i){return r===i||Ga(r,i,cl(i))}function Mb(r,i,u){return u=typeof u=="function"?u:n,Ga(r,i,cl(i),u)}function Db(r){return eh(r)&&r!=+r}function Ib(r){if(yw(r))throw new je(l);return Wd(r)}function Lb(r){return r===null}function Ob(r){return r==null}function eh(r){return typeof r=="number"||rt(r)&&Dt(r)==rn}function Ks(r){if(!rt(r)||Dt(r)!=q)return!1;var i=Wi(r);if(i===null)return!0;var u=Ve.call(i,"constructor")&&i.constructor;return typeof u=="function"&&u instanceof u&&$i.call(u)==Mv}var wl=hd?Kt(hd):L0;function zb(r){return Zf(r)&&r>=-ee&&r<=ee}var th=pd?Kt(pd):O0;function vo(r){return typeof r=="string"||!Te(r)&&rt(r)&&Dt(r)==ht}function Yt(r){return typeof r=="symbol"||rt(r)&&Dt(r)==pt}var os=md?Kt(md):z0;function Fb(r){return r===n}function Nb(r){return rt(r)&&Tt(r)==$n}function $b(r){return rt(r)&&Dt(r)==Mt}var Vb=lo(qa),Bb=lo(function(r,i){return r<=i});function nh(r){if(!r)return[];if(Vt(r))return vo(r)?wn(r):$t(r);if(Is&&r[Is])return wv(r[Is]());var i=Tt(r),u=i==kt?La:i==He?zi:as;return u(r)}function Yn(r){if(!r)return r===0?r:0;if(r=fn(r),r===ie||r===-ie){var i=r<0?-1:1;return i*K}return r===r?r:0}function Re(r){var i=Yn(r),u=i%1;return i===i?u?i-u:i:0}function rh(r){return r?Cr(Re(r),0,ae):0}function fn(r){if(typeof r=="number")return r;if(Yt(r))return Z;if(et(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=et(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=_d(r);var u=Sx.test(r);return u||Cx.test(r)?rv(r.slice(2),u?2:8):bx.test(r)?Z:+r}function sh(r){return Mn(r,Bt(r))}function Ub(r){return r?Cr(Re(r),-ee,ee):r===0?r:0}function Ne(r){return r==null?"":qt(r)}var Wb=rs(function(r,i){if(Hs(i)||Vt(i)){Mn(i,mt(i),r);return}for(var u in i)Ve.call(i,u)&&Ns(r,u,i[u])}),ih=rs(function(r,i){Mn(i,Bt(i),r)}),wo=rs(function(r,i,u,m){Mn(i,Bt(i),r,m)}),Hb=rs(function(r,i,u,m){Mn(i,mt(i),r,m)}),Gb=Gn(Va);function Kb(r,i){var u=ns(r);return i==null?u:Od(u,i)}var qb=ke(function(r,i){r=Ge(r);var u=-1,m=i.length,y=m>2?i[2]:n;for(y&&It(i[0],i[1],y)&&(m=1);++u<m;)for(var _=i[u],C=Bt(_),E=-1,I=C.length;++E<I;){var U=C[E],H=r[U];(H===n||bn(H,Qr[U])&&!Ve.call(r,U))&&(r[U]=_[U])}return r}),Yb=ke(function(r){return r.push(n,bf),Gt(oh,n,r)});function Xb(r,i){return yd(r,ge(i,3),kn)}function Jb(r,i){return yd(r,ge(i,3),Ua)}function Zb(r,i){return r==null?r:Ba(r,ge(i,3),Bt)}function Qb(r,i){return r==null?r:Vd(r,ge(i,3),Bt)}function eS(r,i){return r&&kn(r,ge(i,3))}function tS(r,i){return r&&Ua(r,ge(i,3))}function nS(r){return r==null?[]:eo(r,mt(r))}function rS(r){return r==null?[]:eo(r,Bt(r))}function _l(r,i,u){var m=r==null?n:Tr(r,i);return m===n?u:m}function sS(r,i){return r!=null&&Cf(r,i,R0)}function bl(r,i){return r!=null&&Cf(r,i,P0)}var iS=yf(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=Vi.call(i)),r[i]=u},jl(Ut)),oS=yf(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=Vi.call(i)),Ve.call(r,i)?r[i].push(u):r[i]=[u]},ge),aS=ke(Vs);function mt(r){return Vt(r)?Id(r):Ka(r)}function Bt(r){return Vt(r)?Id(r,!0):F0(r)}function lS(r,i){var u={};return i=ge(i,3),kn(r,function(m,y,_){Wn(u,i(m,y,_),m)}),u}function cS(r,i){var u={};return i=ge(i,3),kn(r,function(m,y,_){Wn(u,y,i(m,y,_))}),u}var uS=rs(function(r,i,u){to(r,i,u)}),oh=rs(function(r,i,u,m){to(r,i,u,m)}),dS=Gn(function(r,i){var u={};if(r==null)return u;var m=!1;i=Ze(i,function(_){return _=ur(_,r),m||(m=_.length>1),_}),Mn(r,al(r),u),m&&(u=cn(u,g|x|v,iw));for(var y=i.length;y--;)Qa(u,i[y]);return u});function fS(r,i){return ah(r,yo(ge(i)))}var hS=Gn(function(r,i){return r==null?{}:$0(r,i)});function ah(r,i){if(r==null)return{};var u=Ze(al(r),function(m){return[m]});return i=ge(i),Jd(r,u,function(m,y){return i(m,y[0])})}function pS(r,i,u){i=ur(i,r);var m=-1,y=i.length;for(y||(y=1,r=n);++m<y;){var _=r==null?n:r[Dn(i[m])];_===n&&(m=y,_=u),r=qn(_)?_.call(r):_}return r}function mS(r,i,u){return r==null?r:Us(r,i,u)}function gS(r,i,u,m){return m=typeof m=="function"?m:n,r==null?r:Us(r,i,u,m)}var lh=wf(mt),ch=wf(Bt);function yS(r,i,u){var m=Te(r),y=m||fr(r)||os(r);if(i=ge(i,4),u==null){var _=r&&r.constructor;y?u=m?new _:[]:et(r)?u=qn(_)?ns(Wi(r)):{}:u={}}return(y?on:kn)(r,function(C,E,I){return i(u,C,E,I)}),u}function xS(r,i){return r==null?!0:Qa(r,i)}function vS(r,i,u){return r==null?r:nf(r,i,nl(u))}function wS(r,i,u,m){return m=typeof m=="function"?m:n,r==null?r:nf(r,i,nl(u),m)}function as(r){return r==null?[]:Ia(r,mt(r))}function _S(r){return r==null?[]:Ia(r,Bt(r))}function bS(r,i,u){return u===n&&(u=i,i=n),u!==n&&(u=fn(u),u=u===u?u:0),i!==n&&(i=fn(i),i=i===i?i:0),Cr(fn(r),i,u)}function SS(r,i,u){return i=Yn(i),u===n?(u=i,i=0):u=Yn(u),r=fn(r),A0(r,i,u)}function jS(r,i,u){if(u&&typeof u!="boolean"&&It(r,i,u)&&(i=u=n),u===n&&(typeof i=="boolean"?(u=i,i=n):typeof r=="boolean"&&(u=r,r=n)),r===n&&i===n?(r=0,i=1):(r=Yn(r),i===n?(i=r,r=0):i=Yn(i)),r>i){var m=r;r=i,i=m}if(u||r%1||i%1){var y=Md();return Ct(r+y*(i-r+nv("1e-"+((y+"").length-1))),i)}return Xa(r,i)}var CS=ss(function(r,i,u){return i=i.toLowerCase(),r+(u?uh(i):i)});function uh(r){return Sl(Ne(r).toLowerCase())}function dh(r){return r=Ne(r),r&&r.replace(Rx,mv).replace(Gx,"")}function TS(r,i,u){r=Ne(r),i=qt(i);var m=r.length;u=u===n?m:Cr(Re(u),0,m);var y=u;return u-=i.length,u>=0&&r.slice(u,y)==i}function RS(r){return r=Ne(r),r&&ax.test(r)?r.replace(Vu,gv):r}function PS(r){return r=Ne(r),r&&hx.test(r)?r.replace(xa,"\\$&"):r}var AS=ss(function(r,i,u){return r+(u?"-":"")+i.toLowerCase()}),ES=ss(function(r,i,u){return r+(u?" ":"")+i.toLowerCase()}),kS=pf("toLowerCase");function MS(r,i,u){r=Ne(r),i=Re(i);var m=i?Jr(r):0;if(!i||m>=i)return r;var y=(i-m)/2;return ao(qi(y),u)+r+ao(Ki(y),u)}function DS(r,i,u){r=Ne(r),i=Re(i);var m=i?Jr(r):0;return i&&m<i?r+ao(i-m,u):r}function IS(r,i,u){r=Ne(r),i=Re(i);var m=i?Jr(r):0;return i&&m<i?ao(i-m,u)+r:r}function LS(r,i,u){return u||i==null?i=0:i&&(i=+i),Bv(Ne(r).replace(va,""),i||0)}function OS(r,i,u){return(u?It(r,i,u):i===n)?i=1:i=Re(i),Ja(Ne(r),i)}function zS(){var r=arguments,i=Ne(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var FS=ss(function(r,i,u){return r+(u?"_":"")+i.toLowerCase()});function NS(r,i,u){return u&&typeof u!="number"&&It(r,i,u)&&(i=u=n),u=u===n?ae:u>>>0,u?(r=Ne(r),r&&(typeof i=="string"||i!=null&&!wl(i))&&(i=qt(i),!i&&Xr(r))?dr(wn(r),0,u):r.split(i,u)):[]}var $S=ss(function(r,i,u){return r+(u?" ":"")+Sl(i)});function VS(r,i,u){return r=Ne(r),u=u==null?0:Cr(Re(u),0,r.length),i=qt(i),r.slice(u,u+i.length)==i}function BS(r,i,u){var m=w.templateSettings;u&&It(r,i,u)&&(i=n),r=Ne(r),i=wo({},i,m,_f);var y=wo({},i.imports,m.imports,_f),_=mt(y),C=Ia(y,_),E,I,U=0,H=i.interpolate||Mi,G="__p += '",te=Oa((i.escape||Mi).source+"|"+H.source+"|"+(H===Bu?_x:Mi).source+"|"+(i.evaluate||Mi).source+"|$","g"),fe="//# sourceURL="+(Ve.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jx+"]")+`
`;r.replace(te,function(xe,De,Oe,Xt,Lt,Jt){return Oe||(Oe=Xt),G+=r.slice(U,Jt).replace(Px,yv),De&&(E=!0,G+=`' +
__e(`+De+`) +
'`),Lt&&(I=!0,G+=`';
`+Lt+`;
__p += '`),Oe&&(G+=`' +
((__t = (`+Oe+`)) == null ? '' : __t) +
'`),U=Jt+xe.length,xe}),G+=`';
`;var ye=Ve.call(i,"variable")&&i.variable;if(!ye)G=`with (obj) {
`+G+`
}
`;else if(vx.test(ye))throw new je(d);G=(I?G.replace(rx,""):G).replace(sx,"$1").replace(ix,"$1;"),G="function("+(ye||"obj")+`) {
`+(ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(I?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+G+`return __p
}`;var Ee=hh(function(){return Fe(_,fe+"return "+G).apply(n,C)});if(Ee.source=G,vl(Ee))throw Ee;return Ee}function US(r){return Ne(r).toLowerCase()}function WS(r){return Ne(r).toUpperCase()}function HS(r,i,u){if(r=Ne(r),r&&(u||i===n))return _d(r);if(!r||!(i=qt(i)))return r;var m=wn(r),y=wn(i),_=bd(m,y),C=Sd(m,y)+1;return dr(m,_,C).join("")}function GS(r,i,u){if(r=Ne(r),r&&(u||i===n))return r.slice(0,Cd(r)+1);if(!r||!(i=qt(i)))return r;var m=wn(r),y=Sd(m,wn(i))+1;return dr(m,0,y).join("")}function KS(r,i,u){if(r=Ne(r),r&&(u||i===n))return r.replace(va,"");if(!r||!(i=qt(i)))return r;var m=wn(r),y=bd(m,wn(i));return dr(m,y).join("")}function qS(r,i){var u=W,m=Y;if(et(i)){var y="separator"in i?i.separator:y;u="length"in i?Re(i.length):u,m="omission"in i?qt(i.omission):m}r=Ne(r);var _=r.length;if(Xr(r)){var C=wn(r);_=C.length}if(u>=_)return r;var E=u-Jr(m);if(E<1)return m;var I=C?dr(C,0,E).join(""):r.slice(0,E);if(y===n)return I+m;if(C&&(E+=I.length-E),wl(y)){if(r.slice(E).search(y)){var U,H=I;for(y.global||(y=Oa(y.source,Ne(Uu.exec(y))+"g")),y.lastIndex=0;U=y.exec(H);)var G=U.index;I=I.slice(0,G===n?E:G)}}else if(r.indexOf(qt(y),E)!=E){var te=I.lastIndexOf(y);te>-1&&(I=I.slice(0,te))}return I+m}function YS(r){return r=Ne(r),r&&ox.test(r)?r.replace($u,jv):r}var XS=ss(function(r,i,u){return r+(u?" ":"")+i.toUpperCase()}),Sl=pf("toUpperCase");function fh(r,i,u){return r=Ne(r),i=u?n:i,i===n?vv(r)?Rv(r):uv(r):r.match(i)||[]}var hh=ke(function(r,i){try{return Gt(r,n,i)}catch(u){return vl(u)?u:new je(u)}}),JS=Gn(function(r,i){return on(i,function(u){u=Dn(u),Wn(r,u,yl(r[u],r))}),r});function ZS(r){var i=r==null?0:r.length,u=ge();return r=i?Ze(r,function(m){if(typeof m[1]!="function")throw new an(c);return[u(m[0]),m[1]]}):[],ke(function(m){for(var y=-1;++y<i;){var _=r[y];if(Gt(_[0],this,m))return Gt(_[1],this,m)}})}function QS(r){return j0(cn(r,g))}function jl(r){return function(){return r}}function e1(r,i){return r==null||r!==r?i:r}var t1=gf(),n1=gf(!0);function Ut(r){return r}function Cl(r){return Hd(typeof r=="function"?r:cn(r,g))}function r1(r){return Kd(cn(r,g))}function s1(r,i){return qd(r,cn(i,g))}var i1=ke(function(r,i){return function(u){return Vs(u,r,i)}}),o1=ke(function(r,i){return function(u){return Vs(r,u,i)}});function Tl(r,i,u){var m=mt(i),y=eo(i,m);u==null&&!(et(i)&&(y.length||!m.length))&&(u=i,i=r,r=this,y=eo(i,mt(i)));var _=!(et(u)&&"chain"in u)||!!u.chain,C=qn(r);return on(y,function(E){var I=i[E];r[E]=I,C&&(r.prototype[E]=function(){var U=this.__chain__;if(_||U){var H=r(this.__wrapped__),G=H.__actions__=$t(this.__actions__);return G.push({func:I,args:arguments,thisArg:r}),H.__chain__=U,H}return I.apply(r,ir([this.value()],arguments))})}),r}function a1(){return wt._===this&&(wt._=Dv),this}function Rl(){}function l1(r){return r=Re(r),ke(function(i){return Yd(i,r)})}var c1=sl(Ze),u1=sl(gd),d1=sl(Aa);function ph(r){return dl(r)?Ea(Dn(r)):V0(r)}function f1(r){return function(i){return r==null?n:Tr(r,i)}}var h1=xf(),p1=xf(!0);function Pl(){return[]}function Al(){return!1}function m1(){return{}}function g1(){return""}function y1(){return!0}function x1(r,i){if(r=Re(r),r<1||r>ee)return[];var u=ae,m=Ct(r,ae);i=ge(i),r-=ae;for(var y=Da(m,i);++u<r;)i(u);return y}function v1(r){return Te(r)?Ze(r,Dn):Yt(r)?[r]:$t(If(Ne(r)))}function w1(r){var i=++kv;return Ne(r)+i}var _1=oo(function(r,i){return r+i},0),b1=il("ceil"),S1=oo(function(r,i){return r/i},1),j1=il("floor");function C1(r){return r&&r.length?Qi(r,Ut,Wa):n}function T1(r,i){return r&&r.length?Qi(r,ge(i,2),Wa):n}function R1(r){return vd(r,Ut)}function P1(r,i){return vd(r,ge(i,2))}function A1(r){return r&&r.length?Qi(r,Ut,qa):n}function E1(r,i){return r&&r.length?Qi(r,ge(i,2),qa):n}var k1=oo(function(r,i){return r*i},1),M1=il("round"),D1=oo(function(r,i){return r-i},0);function I1(r){return r&&r.length?Ma(r,Ut):0}function L1(r,i){return r&&r.length?Ma(r,ge(i,2)):0}return w.after=rb,w.ary=Hf,w.assign=Wb,w.assignIn=ih,w.assignInWith=wo,w.assignWith=Hb,w.at=Gb,w.before=Gf,w.bind=yl,w.bindAll=JS,w.bindKey=Kf,w.castArray=mb,w.chain=Bf,w.chunk=jw,w.compact=Cw,w.concat=Tw,w.cond=ZS,w.conforms=QS,w.constant=jl,w.countBy=I_,w.create=Kb,w.curry=qf,w.curryRight=Yf,w.debounce=Xf,w.defaults=qb,w.defaultsDeep=Yb,w.defer=sb,w.delay=ib,w.difference=Rw,w.differenceBy=Pw,w.differenceWith=Aw,w.drop=Ew,w.dropRight=kw,w.dropRightWhile=Mw,w.dropWhile=Dw,w.fill=Iw,w.filter=O_,w.flatMap=N_,w.flatMapDeep=$_,w.flatMapDepth=V_,w.flatten=Ff,w.flattenDeep=Lw,w.flattenDepth=Ow,w.flip=ob,w.flow=t1,w.flowRight=n1,w.fromPairs=zw,w.functions=nS,w.functionsIn=rS,w.groupBy=B_,w.initial=Nw,w.intersection=$w,w.intersectionBy=Vw,w.intersectionWith=Bw,w.invert=iS,w.invertBy=oS,w.invokeMap=W_,w.iteratee=Cl,w.keyBy=H_,w.keys=mt,w.keysIn=Bt,w.map=po,w.mapKeys=lS,w.mapValues=cS,w.matches=r1,w.matchesProperty=s1,w.memoize=go,w.merge=uS,w.mergeWith=oh,w.method=i1,w.methodOf=o1,w.mixin=Tl,w.negate=yo,w.nthArg=l1,w.omit=dS,w.omitBy=fS,w.once=ab,w.orderBy=G_,w.over=c1,w.overArgs=lb,w.overEvery=u1,w.overSome=d1,w.partial=xl,w.partialRight=Jf,w.partition=K_,w.pick=hS,w.pickBy=ah,w.property=ph,w.propertyOf=f1,w.pull=Gw,w.pullAll=$f,w.pullAllBy=Kw,w.pullAllWith=qw,w.pullAt=Yw,w.range=h1,w.rangeRight=p1,w.rearg=cb,w.reject=X_,w.remove=Xw,w.rest=ub,w.reverse=ml,w.sampleSize=Z_,w.set=mS,w.setWith=gS,w.shuffle=Q_,w.slice=Jw,w.sortBy=nb,w.sortedUniq=s_,w.sortedUniqBy=i_,w.split=NS,w.spread=db,w.tail=o_,w.take=a_,w.takeRight=l_,w.takeRightWhile=c_,w.takeWhile=u_,w.tap=C_,w.throttle=fb,w.thru=ho,w.toArray=nh,w.toPairs=lh,w.toPairsIn=ch,w.toPath=v1,w.toPlainObject=sh,w.transform=yS,w.unary=hb,w.union=d_,w.unionBy=f_,w.unionWith=h_,w.uniq=p_,w.uniqBy=m_,w.uniqWith=g_,w.unset=xS,w.unzip=gl,w.unzipWith=Vf,w.update=vS,w.updateWith=wS,w.values=as,w.valuesIn=_S,w.without=y_,w.words=fh,w.wrap=pb,w.xor=x_,w.xorBy=v_,w.xorWith=w_,w.zip=__,w.zipObject=b_,w.zipObjectDeep=S_,w.zipWith=j_,w.entries=lh,w.entriesIn=ch,w.extend=ih,w.extendWith=wo,Tl(w,w),w.add=_1,w.attempt=hh,w.camelCase=CS,w.capitalize=uh,w.ceil=b1,w.clamp=bS,w.clone=gb,w.cloneDeep=xb,w.cloneDeepWith=vb,w.cloneWith=yb,w.conformsTo=wb,w.deburr=dh,w.defaultTo=e1,w.divide=S1,w.endsWith=TS,w.eq=bn,w.escape=RS,w.escapeRegExp=PS,w.every=L_,w.find=z_,w.findIndex=Of,w.findKey=Xb,w.findLast=F_,w.findLastIndex=zf,w.findLastKey=Jb,w.floor=j1,w.forEach=Uf,w.forEachRight=Wf,w.forIn=Zb,w.forInRight=Qb,w.forOwn=eS,w.forOwnRight=tS,w.get=_l,w.gt=_b,w.gte=bb,w.has=sS,w.hasIn=bl,w.head=Nf,w.identity=Ut,w.includes=U_,w.indexOf=Fw,w.inRange=SS,w.invoke=aS,w.isArguments=Ar,w.isArray=Te,w.isArrayBuffer=Sb,w.isArrayLike=Vt,w.isArrayLikeObject=at,w.isBoolean=jb,w.isBuffer=fr,w.isDate=Cb,w.isElement=Tb,w.isEmpty=Rb,w.isEqual=Pb,w.isEqualWith=Ab,w.isError=vl,w.isFinite=Eb,w.isFunction=qn,w.isInteger=Zf,w.isLength=xo,w.isMap=Qf,w.isMatch=kb,w.isMatchWith=Mb,w.isNaN=Db,w.isNative=Ib,w.isNil=Ob,w.isNull=Lb,w.isNumber=eh,w.isObject=et,w.isObjectLike=rt,w.isPlainObject=Ks,w.isRegExp=wl,w.isSafeInteger=zb,w.isSet=th,w.isString=vo,w.isSymbol=Yt,w.isTypedArray=os,w.isUndefined=Fb,w.isWeakMap=Nb,w.isWeakSet=$b,w.join=Uw,w.kebabCase=AS,w.last=dn,w.lastIndexOf=Ww,w.lowerCase=ES,w.lowerFirst=kS,w.lt=Vb,w.lte=Bb,w.max=C1,w.maxBy=T1,w.mean=R1,w.meanBy=P1,w.min=A1,w.minBy=E1,w.stubArray=Pl,w.stubFalse=Al,w.stubObject=m1,w.stubString=g1,w.stubTrue=y1,w.multiply=k1,w.nth=Hw,w.noConflict=a1,w.noop=Rl,w.now=mo,w.pad=MS,w.padEnd=DS,w.padStart=IS,w.parseInt=LS,w.random=jS,w.reduce=q_,w.reduceRight=Y_,w.repeat=OS,w.replace=zS,w.result=pS,w.round=M1,w.runInContext=D,w.sample=J_,w.size=eb,w.snakeCase=FS,w.some=tb,w.sortedIndex=Zw,w.sortedIndexBy=Qw,w.sortedIndexOf=e_,w.sortedLastIndex=t_,w.sortedLastIndexBy=n_,w.sortedLastIndexOf=r_,w.startCase=$S,w.startsWith=VS,w.subtract=D1,w.sum=I1,w.sumBy=L1,w.template=BS,w.times=x1,w.toFinite=Yn,w.toInteger=Re,w.toLength=rh,w.toLower=US,w.toNumber=fn,w.toSafeInteger=Ub,w.toString=Ne,w.toUpper=WS,w.trim=HS,w.trimEnd=GS,w.trimStart=KS,w.truncate=qS,w.unescape=YS,w.uniqueId=w1,w.upperCase=XS,w.upperFirst=Sl,w.each=Uf,w.eachRight=Wf,w.first=Nf,Tl(w,function(){var r={};return kn(w,function(i,u){Ve.call(w.prototype,u)||(r[u]=i)}),r}(),{chain:!1}),w.VERSION=s,on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){w[r].placeholder=w}),on(["drop","take"],function(r,i){Ie.prototype[r]=function(u){u=u===n?1:ft(Re(u),0);var m=this.__filtered__&&!i?new Ie(this):this.clone();return m.__filtered__?m.__takeCount__=Ct(u,m.__takeCount__):m.__views__.push({size:Ct(u,ae),type:r+(m.__dir__<0?"Right":"")}),m},Ie.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}}),on(["filter","map","takeWhile"],function(r,i){var u=i+1,m=u==re||u==pe;Ie.prototype[r]=function(y){var _=this.clone();return _.__iteratees__.push({iteratee:ge(y,3),type:u}),_.__filtered__=_.__filtered__||m,_}}),on(["head","last"],function(r,i){var u="take"+(i?"Right":"");Ie.prototype[r]=function(){return this[u](1).value()[0]}}),on(["initial","tail"],function(r,i){var u="drop"+(i?"":"Right");Ie.prototype[r]=function(){return this.__filtered__?new Ie(this):this[u](1)}}),Ie.prototype.compact=function(){return this.filter(Ut)},Ie.prototype.find=function(r){return this.filter(r).head()},Ie.prototype.findLast=function(r){return this.reverse().find(r)},Ie.prototype.invokeMap=ke(function(r,i){return typeof r=="function"?new Ie(this):this.map(function(u){return Vs(u,r,i)})}),Ie.prototype.reject=function(r){return this.filter(yo(ge(r)))},Ie.prototype.slice=function(r,i){r=Re(r);var u=this;return u.__filtered__&&(r>0||i<0)?new Ie(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),i!==n&&(i=Re(i),u=i<0?u.dropRight(-i):u.take(i-r)),u)},Ie.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Ie.prototype.toArray=function(){return this.take(ae)},kn(Ie.prototype,function(r,i){var u=/^(?:filter|find|map|reject)|While$/.test(i),m=/^(?:head|last)$/.test(i),y=w[m?"take"+(i=="last"?"Right":""):i],_=m||/^find/.test(i);y&&(w.prototype[i]=function(){var C=this.__wrapped__,E=m?[1]:arguments,I=C instanceof Ie,U=E[0],H=I||Te(C),G=function(De){var Oe=y.apply(w,ir([De],E));return m&&te?Oe[0]:Oe};H&&u&&typeof U=="function"&&U.length!=1&&(I=H=!1);var te=this.__chain__,fe=!!this.__actions__.length,ye=_&&!te,Ee=I&&!fe;if(!_&&H){C=Ee?C:new Ie(this);var xe=r.apply(C,E);return xe.__actions__.push({func:ho,args:[G],thisArg:n}),new ln(xe,te)}return ye&&Ee?r.apply(this,E):(xe=this.thru(G),ye?m?xe.value()[0]:xe.value():xe)})}),on(["pop","push","shift","sort","splice","unshift"],function(r){var i=Fi[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",m=/^(?:pop|shift)$/.test(r);w.prototype[r]=function(){var y=arguments;if(m&&!this.__chain__){var _=this.value();return i.apply(Te(_)?_:[],y)}return this[u](function(C){return i.apply(Te(C)?C:[],y)})}}),kn(Ie.prototype,function(r,i){var u=w[i];if(u){var m=u.name+"";Ve.call(ts,m)||(ts[m]=[]),ts[m].push({name:i,func:u})}}),ts[io(n,P).name]=[{name:"wrapper",func:n}],Ie.prototype.clone=Yv,Ie.prototype.reverse=Xv,Ie.prototype.value=Jv,w.prototype.at=T_,w.prototype.chain=R_,w.prototype.commit=P_,w.prototype.next=A_,w.prototype.plant=k_,w.prototype.reverse=M_,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=D_,w.prototype.first=w.prototype.head,Is&&(w.prototype[Is]=E_),w},Zr=Pv();_r?((_r.exports=Zr)._=Zr,Ca._=Zr):wt._=Zr}).call(ps)})(Bo,Bo.exports);var Xp=Bo.exports;const Jp=(e,t)=>{const n=Math.round(e/100)*100,s=Math.round(t/100)*100;return`${n}x${s}`};function Ak(e,t){const[n,s]=b.useState(t),[o,l]=b.useState({width:window.innerWidth,height:window.innerHeight});b.useEffect(()=>{c()},[o,e]),b.useEffect(()=>{const p=Xp.debounce(()=>{l({width:window.innerWidth,height:window.innerHeight})},300);return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),p.cancel()}},[]);const c=async()=>{try{const p=Jp(o.width,o.height),g=await fetch(`/api/config/column-widths?table=${e}&size=${p}`);if(g.ok){const x=await g.json();x.widths&&s({...t,...x.widths})}}catch(p){console.warn("Failed to load column width preferences:",p)}},d=b.useCallback(Xp.debounce(async p=>{try{const g=Jp(o.width,o.height);await fetch("/api/config/column-widths",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({table:e,size:g,widths:p,window_width:o.width,window_height:o.height})})}catch(g){console.warn("Failed to save column width preferences:",g)}},1e3),[e,o]),f=b.useCallback((p,g)=>{s(x=>{const v={...x,[p]:g};return d(v),v})},[d]),h=b.useCallback(()=>{s(t),d(t)},[t,d]);return{columnWidths:n,setColumnWidth:f,resetWidths:h}}const Ek={title:{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},fontSize:36,fontWeight:700,marginBottom:8,lineHeight:1.2},subtitle:{fontSize:15,color:"#8c8c8c",fontWeight:400},statCards:{total:{gradientColors:["#434343","#000000"],delay:0,pulse:!1},running:{gradientColors:["#1890ff","#096dd9"],delay:.1},finished:{gradientColors:["#52c41a","#389e0d"],delay:.2,pulse:!1},failed:{gradientColors:["#ff4d4f","#cf1322"],delay:.3,pulse:!1}},filterCard:{animation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5}},borderRadius:16,background:"rgba(255,255,255,0.7)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.3)",boxShadow:"0 4px 20px rgba(0,0,0,0.06)",padding:20},tableContainer:{animation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6}},borderRadius:16,boxShadow:"0 4px 20px rgba(0,0,0,0.06)"}},kk={statusLight:{size:12,colors:{online:"#52c41a",offline:"#ff4d4f",connecting:"#faad14"},pulseAnimation:{boxShadow:["0 0 0 0 rgba(82, 196, 26, 0.7)","0 0 0 10px rgba(82, 196, 26, 0)"],transition:{duration:1.5,ease:"easeOut"}}}},Mk={fancyStatCard:{entrance:{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.25,.1,.25,1]}},hover:{y:-6,scale:1.03,transition:{duration:.2}},tap:{scale:.98},pulse:{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,ease:"easeInOut"}},shimmer:{animate:{left:["100%","200%"]},transition:{duration:2.5,repeatDelay:5,ease:"linear"}},style:{borderRadius:16,minHeight:140,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",iconSize:140,iconOpacity:.12,iconPosition:{right:-30,top:-30},titleFontSize:14,titleFontWeight:500,titleLetterSpacing:"0.5px",titleColor:"rgba(255,255,255,0.95)",titleMarginBottom:12,valueFontSize:40,valueFontWeight:700,valueColor:"#fff",valueTextShadow:"0 2px 8px rgba(0,0,0,0.15)"}},statusBadge:{entrance:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20}},pulse:{boxShadow:["0 0 0 0 rgba(22, 119, 255, 0.4)","0 0 0 8px rgba(22, 119, 255, 0)"],transition:{duration:1.5,ease:"easeOut"}},style:{fontSize:13,padding:"6px 16px",borderRadius:16,fontWeight:500},statuses:{running:{gradientColors:["#1677ff","#4096ff"],pulse:!0},finished:{gradientColors:["#52c41a","#73d13d"],pulse:!1},failed:{gradientColors:["#ff4d4f","#ff7875"],pulse:!1},interrupted:{gradientColors:["#faad14","#ffc53d"],pulse:!1}}},emptyState:{animation:{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5}},illustrationFloat:{animate:{y:[0,-8,0]},transition:{duration:3,ease:"easeInOut"}},svg:{width:200,height:200,circleStroke:"#91caff",circleStrokeWidth:2,circleDashArray:"10 5",circleRadius:80,circleRotationDuration:30,dotCount:6,dotRadius:2,dotFill:"#1677ff",dotOpacity:.4,dotFloatDistance:-8,dotFloatDuration:1.5,dotStaggerDelay:.15},style:{padding:"80px 40px",maxWidth:500,titleFontSize:24,titleFontWeight:600,titleColor:"#262626",titleMarginTop:32,titleMarginBottom:12,titleLineHeight:1.3,descriptionFontSize:15,descriptionColor:"#8c8c8c",descriptionLineHeight:1.6,descriptionMarginBottom:32,descriptionMaxWidth:400,buttonHeight:48,buttonPadding:"0 32px",buttonFontSize:15,buttonFontWeight:500,buttonBorderRadius:8,buttonShadow:"0 4px 16px rgba(22, 119, 255, 0.3)",buttonGradient:["#667eea","#764ba2"]},buttonHover:{scale:1.05},buttonTap:{scale:.95}}},Dk={gradients:{primary:["#667eea","#764ba2"],success:["#56ab2f","#a8e063"],warning:["#f12711","#f5af19"],info:["#4facfe","#00f2fe"]}},ze=Ek,Nu=Mk,Lr=Dk,An=({title:e,value:t,icon:n,gradientColors:[s,o],delay:l=0,pulse:c=!1,onClick:d,formattedValue:f,subtitle:h})=>{const p=Nu.fancyStatCard,g=Ry(0),x=HA(g,S=>Math.floor(S).toLocaleString());b.useEffect(()=>dE(g,t,{duration:.5,ease:[0,.2,.5,1]}).stop,[t,g]);const v={...p.entrance.transition,delay:l};return a.jsx(tt.div,{initial:p.entrance.initial,animate:p.entrance.animate,transition:v,whileHover:p.hover,whileTap:d?p.tap:{},onClick:d,style:{cursor:d?"pointer":"default",height:"100%"},children:a.jsxs(le,{bordered:!1,style:{background:`linear-gradient(135deg, ${s}, ${o})`,borderRadius:p.style.borderRadius,overflow:"hidden",position:"relative",height:"100%",minHeight:p.style.minHeight,boxShadow:p.style.boxShadow},bodyStyle:{padding:24,position:"relative",zIndex:1},children:[a.jsx("div",{style:{position:"absolute",right:p.style.iconPosition.right,top:p.style.iconPosition.top,fontSize:p.style.iconSize,opacity:p.style.iconOpacity,color:"#fff",pointerEvents:"none"},children:n}),c&&a.jsx(tt.div,{style:{position:"absolute",top:"-50%",right:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%)",pointerEvents:"none"},animate:p.pulse.animate,transition:{...p.pulse.transition,repeat:1/0}}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{color:p.style.titleColor,fontSize:p.style.titleFontSize,fontWeight:p.style.titleFontWeight,marginBottom:p.style.titleMarginBottom,letterSpacing:p.style.titleLetterSpacing},children:e}),a.jsx("div",{style:{color:p.style.valueColor,fontSize:p.style.valueFontSize,fontWeight:p.style.valueFontWeight,lineHeight:1,fontVariantNumeric:"tabular-nums",textShadow:p.style.valueTextShadow},children:f!==void 0?a.jsx("span",{children:f}):a.jsx(tt.span,{children:x})}),h&&a.jsx("div",{style:{color:"rgba(255, 255, 255, 0.85)",fontSize:12,marginTop:8,fontWeight:400},children:h})]}),a.jsx(tt.div,{style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)",pointerEvents:"none"},animate:p.shimmer.animate,transition:{...p.shimmer.transition,repeat:1/0}})]})})},Ik=({title:e,description:t,actionText:n,onAction:s,type:o="no-data"})=>{const l=Nu.emptyState,c=l.svg,d=l.style,f=()=>a.jsxs("svg",{width:c.width,height:c.height,viewBox:"0 0 200 200",fill:"none",children:[a.jsx(tt.circle,{cx:"100",cy:"100",r:c.circleRadius,stroke:c.circleStroke,strokeWidth:c.circleStrokeWidth,strokeDasharray:c.circleDashArray,fill:"none",initial:{rotate:0},animate:{rotate:360},transition:{duration:c.circleRotationDuration,repeat:1/0,ease:"linear"}}),a.jsxs(tt.g,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},children:[a.jsx("rect",{x:"70",y:"85",width:"60",height:"45",rx:"4",fill:"#91caff",opacity:"0.8"}),a.jsx("path",{d:"M70 85 L70 80 Q70 75 75 75 L95 75 L100 80 L125 80 Q130 80 130 85 Z",fill:"#69b1ff"}),a.jsxs(tt.g,{animate:{x:[0,3,0],y:[0,-3,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[a.jsx("circle",{cx:"125",cy:"125",r:"12",fill:"none",stroke:"#1677ff",strokeWidth:"2.5"}),a.jsx("line",{x1:"133",y1:"133",x2:"143",y2:"143",stroke:"#1677ff",strokeWidth:"2.5",strokeLinecap:"round"})]})]}),[...Array(c.dotCount)].map((h,p)=>a.jsx(tt.circle,{cx:60+p*20,cy:40,r:c.dotRadius,fill:c.dotFill,opacity:c.dotOpacity,animate:{y:[0,c.dotFloatDistance,0],opacity:[c.dotOpacity,c.dotOpacity*2,c.dotOpacity]},transition:{duration:c.dotFloatDuration,repeat:1/0,delay:p*c.dotStaggerDelay,ease:"easeInOut"}},p))]});return a.jsxs(tt.div,{initial:l.animation.initial,animate:l.animation.animate,transition:l.animation.transition,style:{padding:d.padding,textAlign:"center",maxWidth:d.maxWidth,margin:"0 auto"},children:[a.jsx(tt.div,{animate:l.illustrationFloat.animate,transition:{...l.illustrationFloat.transition,repeat:1/0},children:a.jsx(f,{})}),a.jsx("h2",{style:{marginTop:d.titleMarginTop,marginBottom:d.titleMarginBottom,fontSize:d.titleFontSize,fontWeight:d.titleFontWeight,color:d.titleColor,lineHeight:d.titleLineHeight},children:e}),a.jsx("p",{style:{color:d.descriptionColor,fontSize:d.descriptionFontSize,lineHeight:d.descriptionLineHeight,marginBottom:d.descriptionMarginBottom,maxWidth:d.descriptionMaxWidth,margin:`0 auto ${d.descriptionMarginBottom}px`},children:t}),n&&s&&a.jsx(tt.div,{whileHover:l.buttonHover,whileTap:l.buttonTap,children:a.jsx(me,{type:"primary",size:"large",icon:a.jsx(Yo,{}),onClick:s,style:{borderRadius:d.buttonBorderRadius,height:d.buttonHeight,padding:d.buttonPadding,fontSize:d.buttonFontSize,fontWeight:d.buttonFontWeight,boxShadow:d.buttonShadow,background:`linear-gradient(135deg, ${d.buttonGradient[0]}, ${d.buttonGradient[1]})`,border:"none"},children:n})})]})},Zp={running:a.jsx(Cm,{spin:!0}),finished:a.jsx($r,{}),failed:a.jsx(Ts,{}),interrupted:a.jsx(Hc,{})},Lk=({status:e})=>{const t=e.toLowerCase(),n=Nu.statusBadge,s=n.statuses[t]||n.statuses.interrupted,o=Zp[t]||Zp.interrupted;return a.jsx(tt.div,{initial:n.entrance.initial,animate:n.entrance.animate,transition:n.entrance.transition,style:{display:"inline-block"},children:a.jsx(tt.div,{animate:s.pulse?{boxShadow:n.pulse.boxShadow}:{},transition:{...n.pulse.transition,repeat:s.pulse?1/0:0},style:{display:"inline-block",borderRadius:n.style.borderRadius},children:a.jsx(Ce,{icon:o,style:{fontSize:n.style.fontSize,padding:n.style.padding,borderRadius:n.style.borderRadius,fontWeight:n.style.fontWeight,background:`linear-gradient(135deg, ${s.gradientColors[0]}, ${s.gradientColors[1]})`,border:"none",color:"#fff",margin:0},children:e.charAt(0).toUpperCase()+e.slice(1)})})})},Ok=()=>{const[e,t]=b.useState(!1),n=()=>{t(!0),setTimeout(()=>t(!1),2e3)},s=e?a.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:9999},children:[[...Array(20)].map((o,l)=>{const c=["#1677ff","#52c41a","#faad14","#ff4d4f","#13c2c2"],d=typeof window<"u"?window.innerWidth/2:500,f=typeof window<"u"?window.innerHeight/2:300,h=l/20*2*Math.PI,p=200+Math.random()*200,g=d+Math.cos(h)*p,x=f+Math.sin(h)*p-200;return a.jsx(tt.div,{style:{position:"absolute",left:d,top:f,width:8+Math.random()*8,height:8+Math.random()*8,background:c[l%c.length],borderRadius:"50%"},initial:{x:0,y:0,opacity:1,scale:0},animate:{x:g-d,y:x-f,opacity:[1,1,0],scale:[0,1,.5],rotate:Math.random()*720},transition:{duration:1.5,ease:[.25,.1,.25,1]}},l)}),a.jsx(tt.div,{style:{position:"absolute",left:"50%",top:"50%",width:100,height:100,marginLeft:-50,marginTop:-50,borderRadius:"50%",background:"radial-gradient(circle, rgba(82, 196, 26, 0.4), transparent)"},initial:{scale:0,opacity:1},animate:{scale:3,opacity:0},transition:{duration:.6,ease:"easeOut"}})]}):null;return{trigger:n,ConfettiComponent:s}},zk={initial:{opacity:0,y:24,scale:.96},animate:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.1,.25,1],when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-24,scale:.96,transition:{duration:.3,ease:[.25,.1,.25,1]}}},Fk=({children:e})=>{const t=jm();return a.jsx(gR,{mode:"wait",children:a.jsx(tt.div,{variants:zk,initial:"initial",animate:"animate",exit:"exit",children:e},t.pathname)})},Nk=({children:e,staggerDelay:t=.08})=>a.jsx(tt.div,{variants:{animate:{transition:{staggerChildren:t}}},initial:"initial",animate:"animate",children:e}),Ro=({children:e})=>a.jsx(tt.div,{variants:{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},children:e}),jn=e=>{if(e==null)return"";const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t},$k=()=>{const{t:e,i18n:t}=Ue(),n=Si(),{settings:s,setSettings:o}=ji(),[l,c]=b.useState([]),[d,f]=b.useState(!1),[h,p]=b.useState([]),[g,x]=b.useState(""),[v,S]=b.useState("all"),[T,k]=b.useState("all"),[P,A]=b.useState([]),[M,j]=b.useState({total:0,running:0,finished:0,failed:0}),[R,L]=b.useState(null),$=s.autoRefresh,z=q=>{o({...s,autoRefresh:q})},N={project:120,name:100,run_id:280,status:100,created:210,best_metric:200,artifacts_created:120,actions:120},{columnWidths:W,setColumnWidth:Y}=Ak("experiments",N),[se,J]=b.useState({}),[re,ue]=b.useState(10),[pe,ie]=b.useState(!1),[ee,K]=b.useState(!1),[Z,ae]=b.useState(!1),ve=b.useCallback(q=>(he,{size:Je})=>{Y(q,Je.width)},[Y]),[qe,X]=b.useState(!1),{trigger:de,ConfettiComponent:Me}=Ok();b.useEffect(()=>{const q=localStorage.getItem("experiment_preferences");if(q)try{const he=JSON.parse(q);he.pageSize&&ue(he.pageSize)}catch{}},[]);const We=b.useCallback(()=>{localStorage.setItem("experiment_preferences",JSON.stringify({pageSize:re}))},[re]);b.useEffect(()=>{We()},[We]);const F=b.useCallback(async(q=!0)=>{q&&f(!0);try{const he=await fetch("/api/runs");if(!he.ok)throw new Error(`HTTP ${he.status}: ${he.statusText}`);const Je=await he.json(),vt=Array.isArray(Je)?Je:Je.runs||[],He=vt.map($e=>{const $n=$e.created_time?new Date($e.created_time*1e3):new Date;return{run_id:$e.id||$e.run_id,project:$e.project||"default",name:$e.name||"unnamed",status:$e.status||"unknown",created:$n.toISOString(),summary:$e.summary||{},pid:$e.pid,best_metric_value:$e.best_metric_value,best_metric_name:$e.best_metric_name,artifacts_created_count:$e.artifacts_created_count||0,artifacts_used_count:$e.artifacts_used_count||0}});c(He);const ht=[...new Set(He.map($e=>$e.project))];A(ht);const pt={total:He.length,running:He.filter($e=>$e.status==="running").length,finished:He.filter($e=>$e.status==="finished").length,failed:He.filter($e=>$e.status==="failed").length};j(pt),!q&&He.length>vt.length&&B1.info({message:e("experiments.new_runs")||"New runs detected",description:`${He.length-vt.length} new run(s) added`,placement:"bottomRight"})}catch{q&&Q.error(e("experiments.fetch_failed")||"Failed to fetch runs")}q&&f(!1)},[l.length,e]);b.useEffect(()=>{F(!0)},[]),b.useEffect(()=>{if($){const q=window.setInterval(()=>{F(!1)},s.refreshInterval*1e3);L(q)}else R&&(window.clearInterval(R),L(null));return()=>{R&&window.clearInterval(R)}},[$,s.refreshInterval]);const ce=b.useCallback(()=>{if(h.length===0){Q.warning(e("experiments.select_one_delete")||"Please select at least one run to delete");return}Rn.confirm({title:e("experiments.move_to_bin_title")||"Move to Recycle Bin",content:a.jsxs("div",{children:[a.jsx("p",{children:e("experiments.soft_delete_confirm_content",{count:h.length})||`Move ${h.length} selected runs to recycle bin?`}),a.jsx("p",{style:{color:"#1677ff",fontWeight:500},children:e("experiments.soft_delete_note")||"Files will be preserved and can be restored later."})]}),okText:e("experiments.move_to_bin")||"Move to Bin",okType:"primary",cancelText:e("experiments.cancel")||"Cancel",okButtonProps:{loading:pe},onOk:async()=>{ie(!0);try{const q=await Aj(h);p([]),q.deleted_count>0?(de(),Q.success(e("experiments.soft_delete_success",{count:q.deleted_count})||`Moved ${q.deleted_count} runs to recycle bin`),await F(!1)):Q.warning("No runs were moved to recycle bin")}catch{Q.error(e("experiments.delete_failed")||"Failed to move runs to recycle bin")}finally{ie(!1)}}})},[h,e,pe,F]),Ae=async()=>{if(h.length===0){Q.warning(e("experiments.select_one")||"Please select at least one run to export");return}const q=l.filter(he=>h.includes(he.run_id));try{const he={export_time:new Date().toISOString(),total_runs:q.length,runs:q.map(pt=>({run_id:pt.run_id,project:pt.project,name:pt.name,status:pt.status,created:pt.created,summary:pt.summary}))},Je=JSON.stringify(he,null,2),vt=new Blob([Je],{type:"application/json"}),He=URL.createObjectURL(vt),ht=document.createElement("a");ht.href=He,ht.download=`runicorn_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(ht),ht.click(),document.body.removeChild(ht),URL.revokeObjectURL(He),Q.success(e("experiments.export_success",{count:q.length})||`Successfully exported ${q.length} runs`)}catch{Q.error(e("experiments.export_failed")||"Failed to export runs")}},xt=async()=>{ae(!0);try{const q=await Pj();q.updated>0?(Q.success(`Updated ${q.updated} experiment statuses`),F(!1)):Q.info("All experiment statuses are up to date")}catch{Q.error("Failed to check experiment statuses")}finally{ae(!1)}},Et=async()=>{if(h.length===0){Q.warning(e("experiments.select_one")||"Please select at least one run to export");return}K(!0);const q=l.filter(he=>h.includes(he.run_id));try{const he=["Run ID","Project","Experiment Name","Status","Created Time","Final Loss","Learning Rate","Batch Size","Epochs","Best Metric Value","Best Metric Name"],Je=q.map(Mt=>{var rr,Vn,Wr,Hr,Gr,Kr;return[jn(Mt.run_id),jn(Mt.project),jn(Mt.name),jn(Mt.status),jn(new Date(Mt.created).toLocaleString()),jn(((Vn=(rr=Mt.summary)==null?void 0:rr.final_loss)==null?void 0:Vn.toFixed(6))||""),jn(((Wr=Mt.summary)==null?void 0:Wr.learning_rate)||""),jn(((Hr=Mt.summary)==null?void 0:Hr.batch_size)||""),jn(((Gr=Mt.summary)==null?void 0:Gr.total_epochs)||""),jn(((Kr=Mt.best_metric_value)==null?void 0:Kr.toFixed(4))||""),jn(Mt.best_metric_name||"")]}),He="\uFEFF"+[he.join(","),...Je.map(Mt=>Mt.join(","))].join(`
`),ht=new Blob([He],{type:"text/csv;charset=utf-8;"}),pt=URL.createObjectURL(ht),$e=document.createElement("a");$e.href=pt;const $n=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);$e.download=`runicorn_experiments_${$n}.csv`,document.body.appendChild($e),$e.click(),document.body.removeChild($e),URL.revokeObjectURL(pt),Q.success(e("experiments.export_success",{count:q.length})||`Successfully exported ${q.length} runs`)}catch{Q.error(e("experiments.export_failed")||"Failed to export runs")}finally{K(!1)}},vn=[{key:"json",icon:a.jsx(U1,{}),label:e("experiments.export_json")||"Export as JSON",onClick:Ae},{key:"csv",icon:a.jsx(W1,{}),label:e("experiments.export_csv")||"Export as CSV",onClick:Et}],kt=()=>{if(h.length<2){Q.warning(e("experiments.select_multiple")||"Please select at least 2 runs to compare");return}const q=h[0];n(`/runs/${q}`),Q.info(e("experiments.compare_hint")||"Use the comparison feature in the run detail page")},rn=b.useMemo(()=>l.filter(q=>{var ht;const he=g.toLowerCase(),Je=g===""||q.run_id.toLowerCase().includes(he)||q.name.toLowerCase().includes(he)||q.project.toLowerCase().includes(he)||((ht=q.summary)==null?void 0:ht.tags)&&q.summary.tags.some(pt=>pt.toLowerCase().includes(he)),vt=v==="all"||q.project===v,He=T==="all"||q.status===T;return Je&&vt&&He}),[l,g,v,T]),Ht=b.useMemo(()=>[{title:e("table.project"),dataIndex:"project",key:"project",sorter:(q,he)=>q.project.localeCompare(he.project),render:q=>a.jsx(Ce,{color:"blue",children:q}),width:W.project,onHeaderCell:()=>({width:W.project,onResize:ve("project")})},{title:e("table.name"),dataIndex:"name",key:"name",width:W.name,sorter:(q,he)=>q.name.localeCompare(he.name),render:(q,he)=>a.jsx(Be,{title:`${he.project}/${q}`,children:a.jsx("strong",{children:q})}),onHeaderCell:()=>({width:W.name,onResize:ve("name")})},{title:e("table.run_id"),dataIndex:"run_id",key:"run_id",width:W.run_id,render:q=>a.jsx("code",{style:{fontSize:"11px",wordBreak:"break-all"},children:q}),onHeaderCell:()=>({width:W.run_id,onResize:ve("run_id")})},{title:e("table.status"),dataIndex:"status",key:"status",width:W.status,sorter:(q,he)=>q.status.localeCompare(he.status),onHeaderCell:()=>({width:W.status,onResize:ve("status")}),render:(q,he)=>a.jsx(Lk,{status:q})},{title:e("table.created"),dataIndex:"created",key:"created",width:W.created,sorter:(q,he)=>new Date(q.created).getTime()-new Date(he.created).getTime(),render:q=>{const he=new Date(q),Je=t.language==="zh"?"zh-CN":"en-US";return a.jsx("span",{style:{fontSize:"13px",whiteSpace:"nowrap"},children:he.toLocaleString(Je,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})},onHeaderCell:()=>({width:W.created,onResize:ve("created")})},{title:e("experiments.best_metric")||"Best Metric",key:"best_metric",width:W.best_metric,onHeaderCell:()=>({width:W.best_metric,onResize:ve("best_metric")}),render:(q,he)=>{const Je=he.best_metric_value,vt=he.best_metric_name;return Je!=null&&vt?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("span",{style:{fontSize:"13px",color:"#666",fontWeight:500},children:vt}),a.jsx("span",{style:{fontSize:"16px",fontWeight:700,color:"#1677ff"},children:Je.toFixed(4)})]}):"-"}},{title:e("experiments.artifacts_created")||"Artifacts",key:"artifacts_created",width:W.artifacts_created,onHeaderCell:()=>({width:W.artifacts_created,onResize:ve("artifacts_created")}),render:(q,he)=>{const Je=he.artifacts_created_count||0;return Je===0?a.jsx("span",{style:{color:"#999"},children:"-"}):a.jsx(Be,{title:e("experiments.artifacts_created_tip",{count:Je}),children:a.jsx(ri,{count:Je,style:{backgroundColor:"#52c41a"}})})}},{title:e("table.actions"),key:"actions",width:W.actions,onHeaderCell:()=>({width:W.actions,onResize:ve("actions")}),render:(q,he)=>a.jsxs(B,{size:"small",children:[a.jsx(Be,{title:e("table.view"),children:a.jsx(me,{type:"link",icon:a.jsx(Gc,{}),onClick:()=>n(`/runs/${he.run_id}`)})}),a.jsx(Be,{title:e("experiments.delete")||"Delete",children:a.jsx(me,{type:"link",danger:!0,icon:a.jsx(fi,{}),onClick:()=>{p([he.run_id]),ce()}})})]})}],[e,n,W,ve,ce]);return d&&l.length===0?a.jsx(pC,{}):a.jsxs(a.Fragment,{children:[Me,a.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:24},children:[a.jsxs(tt.div,{initial:ze.title.initial,animate:ze.title.animate,transition:ze.title.transition,style:{marginBottom:36},children:[a.jsx("h1",{style:{fontSize:ze.title.fontSize,fontWeight:ze.title.fontWeight,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:ze.title.marginBottom,lineHeight:ze.title.lineHeight},children:e("menu.experiments")}),a.jsx("p",{style:{color:ze.subtitle.color,fontSize:ze.subtitle.fontSize,margin:0,fontWeight:ze.subtitle.fontWeight},children:e("experiments.subtitle")})]}),a.jsx(Nk,{children:a.jsxs(Pt,{gutter:[16,16],style:{marginBottom:32},children:[a.jsx(Le,{xs:24,sm:12,lg:6,children:a.jsx(Ro,{children:a.jsx(An,{title:e("experiments.total_runs")||"Total Runs",value:M.total,icon:a.jsx(Bc,{}),gradientColors:ze.statCards.total.gradientColors,delay:ze.statCards.total.delay,pulse:ze.statCards.total.pulse})})}),a.jsx(Le,{xs:24,sm:12,lg:6,children:a.jsx(Ro,{children:a.jsx(An,{title:e("experiments.running")||"Running",value:M.running,icon:a.jsx(Nt,{}),gradientColors:ze.statCards.running.gradientColors,delay:ze.statCards.running.delay,pulse:M.running>0})})}),a.jsx(Le,{xs:24,sm:12,lg:6,children:a.jsx(Ro,{children:a.jsx(An,{title:e("experiments.finished")||"Finished",value:M.finished,icon:a.jsx($r,{}),gradientColors:ze.statCards.finished.gradientColors,delay:ze.statCards.finished.delay,pulse:ze.statCards.finished.pulse})})}),a.jsx(Le,{xs:24,sm:12,lg:6,children:a.jsx(Ro,{children:a.jsx(An,{title:e("experiments.failed")||"Failed",value:M.failed,icon:a.jsx(Ts,{}),gradientColors:ze.statCards.failed.gradientColors,delay:ze.statCards.failed.delay,pulse:ze.statCards.failed.pulse})})})]})}),a.jsx(tt.div,{initial:ze.filterCard.animation.initial,animate:ze.filterCard.animation.animate,transition:ze.filterCard.animation.transition,children:a.jsx(le,{bordered:!1,style:{borderRadius:ze.filterCard.borderRadius,marginBottom:20,background:ze.filterCard.background,backdropFilter:ze.filterCard.backdropFilter,border:ze.filterCard.border,boxShadow:ze.filterCard.boxShadow},bodyStyle:{padding:ze.filterCard.padding},children:a.jsxs(B,{style:{width:"100%",justifyContent:"space-between"},children:[a.jsxs(B,{children:[a.jsx(Qt,{placeholder:e("experiments.search_placeholder")||"Search runs...",prefix:a.jsx(Tm,{}),value:g,onChange:q=>x(q.target.value),style:{width:200}}),a.jsxs(jt,{value:v,onChange:S,style:{width:150},children:[a.jsx(jt.Option,{value:"all",children:e("runs.filter.all")}),P.map(q=>a.jsx(jt.Option,{value:q,children:q},q))]}),a.jsxs(jt,{value:T,onChange:k,style:{width:120},children:[a.jsx(jt.Option,{value:"all",children:e("runs.filter.all")}),a.jsx(jt.Option,{value:"running",children:e("experiments.running")||"Running"}),a.jsx(jt.Option,{value:"finished",children:e("experiments.finished")||"Finished"}),a.jsx(jt.Option,{value:"failed",children:e("experiments.failed")||"Failed"})]}),a.jsx(me,{icon:$?a.jsx(Cm,{spin:!0}):a.jsx(Cs,{}),onClick:()=>F(!0),loading:d,children:e($?"runs.refreshing":"runs.refresh")}),a.jsx(Be,{title:e("experiments.check_status_tooltip")||"Check if running experiments are still alive",children:a.jsx(me,{icon:a.jsx(H1,{}),onClick:xt,loading:Z,type:"dashed",children:e("experiments.check_status")||"Check Status"})}),a.jsx(Oo,{checked:$,onChange:q=>z(q.target.checked),children:e("experiments.auto_refresh")||"Auto-refresh"}),a.jsx(Be,{title:e("recycle_bin.tooltip")||"View and restore deleted experiments",children:a.jsx(me,{icon:a.jsx(ic,{}),onClick:()=>X(!0),type:"dashed",children:e("recycle_bin.title")||"Recycle Bin"})})]}),a.jsx(B,{children:h.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs(me,{icon:a.jsx(Kc,{}),onClick:kt,disabled:h.length<2,children:[e("experiments.compare")||"Compare"," (",h.length,")"]}),a.jsx(G1,{menu:{items:vn},trigger:["click"],children:a.jsxs(me,{icon:a.jsx(qo,{}),children:[e("experiments.export")||"Export"," (",h.length,") ",a.jsx(K1,{})]})}),a.jsxs(me,{danger:!0,icon:a.jsx(fi,{}),onClick:ce,children:[e("experiments.delete")||"Delete"," (",h.length,")"]})]})})]})})}),a.jsx(tt.div,{initial:ze.tableContainer.animation.initial,animate:ze.tableContainer.animation.animate,transition:ze.tableContainer.animation.transition,children:a.jsx(le,{bordered:!1,style:{borderRadius:ze.tableContainer.borderRadius,overflow:"hidden",boxShadow:ze.tableContainer.boxShadow},bodyStyle:{padding:0},children:a.jsx(yr,{className:"enhanced-table",components:{header:{cell:Pk}},rowSelection:{selectedRowKeys:h,onChange:q=>p(q),getCheckboxProps:q=>({disabled:pe})},columns:Ht,dataSource:rn,rowKey:"run_id",loading:d,pagination:{pageSize:re,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:(q,he)=>ue(he),showTotal:(q,he)=>e("experiments.table_total",{from:he[0],to:he[1],total:q})||`${he[0]}-${he[1]} of ${q} items`},scroll:{x:1200},size:"middle",onChange:(q,he,Je)=>{J(Je)},locale:{emptyText:a.jsx(Ik,{title:e("experiments.no_runs")||"No experiments yet",description:e("experiments.no_runs_desc")||"Start tracking your ML experiments with Runicorn SDK. Check out the quickstart guide to begin.",actionText:e("experiments.view_quickstart")||"View Quickstart Guide",onAction:()=>window.open("https://github.com/runicorn/runicorn#quick-start","_blank")})}})})}),a.jsx(fE,{open:qe,onClose:()=>X(!1),onRestore:()=>F(!1)})]})]})},{Text:Ln,Title:Vk}=_e,Bk=()=>{const{t:e}=Ue(),t=Si(),[n,s]=b.useState([]),[o,l]=b.useState(!1),[c,d]=b.useState(""),[f,h]=b.useState("all"),[p,g]=b.useState(null),x=b.useCallback(async(j=!0)=>{j&&l(!0);try{const L=await Dj(f==="all"?void 0:f);s(L||[])}catch{Q.error(e("Failed to fetch artifacts"))}finally{j&&l(!1)}},[f,e]),v=b.useCallback(async()=>{try{const j=await Dm();g(j)}catch{}},[]);b.useEffect(()=>{x(),v()},[x,v]);const S=n.filter(j=>{if(!c)return!0;const R=c.toLowerCase();return j.name.toLowerCase().includes(R)||j.type.toLowerCase().includes(R)});n.length,n.filter(j=>j.type==="model").length,n.filter(j=>j.type==="dataset").length,n.reduce((j,R)=>j+R.size_bytes,0);const T=j=>{if(j===0)return"0 B";const R=1024,L=["B","KB","MB","GB","TB"],$=Math.floor(Math.log(j)/Math.log(R));return(j/Math.pow(R,$)).toFixed(2)+" "+L[$]},k=j=>new Date(j*1e3).toLocaleString(),P=j=>{const R={style:{fontSize:16}};switch(j){case"model":return a.jsx(tn,{...R});case"dataset":return a.jsx(Y1,{...R});case"config":return a.jsx(ac,{...R});case"code":return a.jsx(sc,{...R});default:return a.jsx(di,{...R})}},A=j=>{switch(j){case"model":return ne.colors.primary;case"dataset":return ne.colors.success;case"config":return ne.colors.warning;case"code":return ne.colors.info;default:return"#8c8c8c"}},M=[{title:e("artifacts.type"),dataIndex:"type",key:"type",width:100,render:j=>a.jsx(Be,{title:e(`artifacts.type.${j}`),children:a.jsx(Ce,{icon:P(j),color:A(j),children:e(`artifacts.type.${j}`)})}),filters:[{text:e("artifacts.type.model"),value:"model"},{text:e("artifacts.type.dataset"),value:"dataset"},{text:e("artifacts.type.config"),value:"config"},{text:e("artifacts.type.code"),value:"code"},{text:e("artifacts.type.custom"),value:"custom"}],onFilter:(j,R)=>R.type===j},{title:e("Name"),dataIndex:"name",key:"name",render:(j,R)=>a.jsxs(B,{direction:"vertical",size:0,children:[a.jsx(Ln,{strong:!0,style:{fontSize:ne.typography.fontSize.md},children:j}),a.jsxs(B,{size:"small",children:[a.jsx(Ln,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:e("artifacts.latest_version",{version:R.latest_version})}),a.jsx(Ln,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:"•"}),a.jsx(Ln,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:e("artifacts.versions_count",{count:R.num_versions})})]})]})},{title:e("artifacts.size"),dataIndex:"size_bytes",key:"size",width:120,render:j=>T(j),sorter:(j,R)=>j.size_bytes-R.size_bytes},{title:e("artifacts.updated"),dataIndex:"updated_at",key:"updated",width:180,render:j=>k(j),sorter:(j,R)=>j.updated_at-R.updated_at,defaultSortOrder:"descend"},{title:e("artifacts.aliases"),dataIndex:"aliases",key:"aliases",width:150,render:j=>a.jsxs(B,{size:4,wrap:!0,children:[Object.keys(j).slice(0,3).map(R=>a.jsx(Ce,{color:"blue",style:{fontSize:ne.typography.fontSize.xs},children:R},R)),Object.keys(j).length>3&&a.jsxs(Ce,{style:{fontSize:ne.typography.fontSize.xs},children:["+",Object.keys(j).length-3]})]})},{title:e("table.actions"),key:"actions",width:200,render:(j,R)=>a.jsx(B,{size:"small",children:a.jsx(Be,{title:e("artifacts.view_versions"),children:a.jsx(me,{size:"small",icon:a.jsx(Gc,{}),onClick:()=>t(`/artifacts/${R.name}`),children:e("View")})})})}];return o&&n.length===0?a.jsx(mC,{rows:8}):a.jsx("div",{style:{padding:ne.spacing.lg},children:a.jsxs(B,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(Vk,{level:2,style:{marginBottom:ne.spacing.sm},children:e("artifacts.title")}),a.jsx(Ln,{type:"secondary",children:e("artifacts.description")})]}),p&&a.jsxs(Pt,{gutter:[ne.spacing.md,ne.spacing.md],children:[a.jsx(Le,{xs:24,sm:12,md:6,children:a.jsx(An,{title:e("artifacts.stats.total"),value:p.total_artifacts||0,icon:a.jsx(tn,{}),gradientColors:Lr.gradients.primary})}),a.jsx(Le,{xs:24,sm:12,md:6,children:a.jsx(An,{title:e("artifacts.stats.total_versions"),value:p.total_versions||0,icon:a.jsx(oc,{}),gradientColors:Lr.gradients.info})}),a.jsx(Le,{xs:24,sm:12,md:6,children:a.jsx(An,{title:e("artifacts.stats.total_size"),value:p.total_size_bytes||0,formattedValue:T(p.total_size_bytes||0),icon:a.jsx(q1,{}),gradientColors:Lr.gradients.success})}),a.jsx(Le,{xs:24,sm:12,md:6,children:a.jsx(An,{title:e("artifacts.stats.dedup_saved"),value:p.space_saved_bytes||0,formattedValue:p.dedup_enabled?T(p.space_saved_bytes||0):"N/A",subtitle:p.dedup_enabled&&p.dedup_ratio?`${(p.dedup_ratio*100).toFixed(1)}% saved`:void 0,icon:a.jsx(di,{}),gradientColors:Lr.gradients.warning})})]}),a.jsx(le,{size:"small",children:a.jsxs(B,{wrap:!0,children:[a.jsx(Qt,{placeholder:e("artifacts.search_placeholder"),prefix:a.jsx(Tm,{}),value:c,onChange:j=>d(j.target.value),style:{width:300},allowClear:!0}),a.jsx(jt,{value:f,onChange:h,style:{width:150},options:[{label:e("artifacts.type.all"),value:"all"},{label:e("artifacts.type.model"),value:"model"},{label:e("artifacts.type.dataset"),value:"dataset"},{label:e("artifacts.type.config"),value:"config"},{label:e("artifacts.type.code"),value:"code"},{label:e("artifacts.type.custom"),value:"custom"}]}),a.jsx(me,{icon:a.jsx(Cs,{spin:o}),onClick:()=>{x(),v()},loading:o,children:e("runs.refresh")})]})}),p&&p.by_type&&Object.keys(p.by_type).length>0&&a.jsx(nn,{message:a.jsxs(B,{children:[a.jsx(Ln,{children:"Type Distribution:"}),Object.entries(p.by_type).map(([j,R])=>a.jsx(ri,{count:R.count,showZero:!0,color:A(j),overflowCount:9999,style:{marginLeft:8},children:a.jsx(Ce,{icon:P(j),children:e(`artifacts.type.${j}`)})},j))]}),type:"info",showIcon:!1,style:{marginBottom:ne.spacing.md}}),a.jsx(le,{children:a.jsx(yr,{dataSource:S,columns:M,rowKey:"name",loading:o,pagination:{pageSize:10,showTotal:(j,R)=>e("experiments.table_total",{from:R[0],to:R[1],total:j}),showSizeChanger:!0,showQuickJumper:!0},locale:{emptyText:a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:a.jsxs(B,{direction:"vertical",size:"small",children:[a.jsx(Ln,{type:"secondary",children:e("artifacts.no_artifacts")}),a.jsx(Ln,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:e("artifacts.create_first")})]})})}})}),n.length===0&&!o&&a.jsx(le,{title:a.jsxs(B,{children:[a.jsx(sc,{}),a.jsx("span",{children:"Quick Start Guide"})]}),children:a.jsxs(B,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(Ln,{strong:!0,children:"1. Save a model as artifact:"}),a.jsx("pre",{style:{background:"#f5f5f5",padding:ne.spacing.md,borderRadius:ne.borderRadius.md,marginTop:ne.spacing.sm},children:`import runicorn as rn

run = rn.init(project="my_project")

# Create artifact
artifact = rn.Artifact("my-model", type="model")
artifact.add_file("model.pth")
artifact.add_metadata({"accuracy": 0.95})

# Save with version control
run.log_artifact(artifact)  # → v1
run.finish()`})]}),a.jsxs("div",{children:[a.jsx(Ln,{strong:!0,children:"2. Use a saved artifact:"}),a.jsx("pre",{style:{background:"#f5f5f5",padding:ne.spacing.md,borderRadius:ne.borderRadius.md,marginTop:ne.spacing.sm},children:`import runicorn as rn

run = rn.init(project="inference")

# Load latest version
artifact = run.use_artifact("my-model:latest")
model_path = artifact.download()

# Use the model...
run.finish()`})]})]})})]})})},{Text:kr}=_e,Uk=({data:e})=>{const{t}=Ue(),{token:n}=Qn.useToken(),s=b.useMemo(()=>{if(!e||!e.nodes||e.nodes.length===0)return null;const l=e.nodes.map(d=>{const f=d.node_type==="artifact",h=d.node_id===e.root_artifact;return{id:d.node_id,name:d.label,symbol:f?"roundRect":"circle",symbolSize:h?[120,60]:f?[100,50]:40,label:{show:!0,fontSize:h?14:12,fontWeight:h?"bold":"normal"},itemStyle:{color:f?h?ne.colors.primary:ne.colors.info:ne.colors.success,borderColor:h?ne.colors.primary:"#fff",borderWidth:h?3:1},category:f?0:1}}),c=e.edges.map(d=>({source:d.source,target:d.target,label:{show:!0,formatter:d.edge_type,fontSize:10},lineStyle:{color:d.edge_type==="produces"?ne.colors.success:ne.colors.info,width:2,type:d.edge_type==="produces"?"solid":"dashed"},symbol:["none","arrow"],symbolSize:8}));return{title:{text:t("artifact.lineage.title"),left:"center",textStyle:{fontSize:ne.typography.fontSize.lg,fontWeight:ne.typography.fontWeight.semibold}},tooltip:{trigger:"item",formatter:d=>{if(d.dataType==="node"){const f=e.nodes.find(h=>h.node_id===d.data.id);if(f){const h=f.node_type==="artifact";let p=`<b>${f.label}</b><br/>`;if(p+=`Type: ${t(h?"artifact.lineage.node.artifact":"artifact.lineage.node.run")}<br/>`,f.metadata.size){const g=o(f.metadata.size);p+=`Size: ${g}<br/>`}return p}}else if(d.dataType==="edge")return`${d.data.label.formatter}`;return d.name}},legend:{data:[{name:t("artifact.lineage.node.artifact"),icon:"roundRect"},{name:t("artifact.lineage.node.run"),icon:"circle"}],bottom:0},series:[{type:"graph",layout:"force",data:l,links:c,categories:[{name:t("artifact.lineage.node.artifact")},{name:t("artifact.lineage.node.run")}],roam:!0,label:{show:!0,position:"inside",formatter:"{b}"},force:{repulsion:400,edgeLength:[120,180],gravity:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]}},[e,t]),o=l=>{if(l===0)return"0 B";const c=1024,d=["B","KB","MB","GB","TB"],f=Math.floor(Math.log(l)/Math.log(c));return(l/Math.pow(c,f)).toFixed(2)+" "+d[f]};return s?a.jsxs(B,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsx(le,{size:"small",children:a.jsxs(B,{split:a.jsx("span",{style:{margin:"0 12px",color:n.colorBorder},children:"•"}),children:[a.jsxs(B,{size:"small",children:[a.jsx(tn,{style:{color:ne.colors.info}}),a.jsx(kr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.node.artifact")})]}),a.jsxs(B,{size:"small",children:[a.jsx(Nt,{style:{color:ne.colors.success}}),a.jsx(kr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.node.run")})]}),a.jsxs(B,{size:"small",children:[a.jsx(gh,{style:{color:ne.colors.info}}),a.jsx(kr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.edge.uses")})]}),a.jsxs(B,{size:"small",children:[a.jsx(gh,{style:{color:ne.colors.success}}),a.jsx(kr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.edge.produces")})]})]})}),a.jsx(le,{children:a.jsx(gs,{option:s,style:{height:500},opts:{renderer:"canvas"}})}),a.jsx(le,{size:"small",children:a.jsxs(B,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs(kr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:[a.jsxs("b",{children:[t("Summary"),":"]})," ",e.nodes.length," nodes, ",e.edges.length," edges"]}),a.jsxs(kr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:["• Artifacts: ",e.nodes.filter(l=>l.node_type==="artifact").length]}),a.jsxs(kr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:["• Runs: ",e.nodes.filter(l=>l.node_type==="run").length]})]})})]}):a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:t("artifact.lineage.no_dependencies")})},Wk=e=>{switch(e){case"finished":return a.jsx($r,{style:{color:"#52c41a"}});case"failed":return a.jsx(Ts,{style:{color:"#ff4d4f"}});case"running":return a.jsx(Nt,{style:{color:"#1890ff"}});default:return a.jsx(Hc,{style:{color:"#d9d9d9"}})}};function Hk({artifactName:e,artifactType:t,version:n}){const{t:s}=Ue(),o=Si(),[l,c]=b.useState(!1),[d,f]=b.useState(null);b.useEffect(()=>{h()},[e,n]);const h=async()=>{c(!0);try{const g=new URLSearchParams;n&&g.append("version",n.toString()),t&&g.append("type",t);const x=await fetch(`/api/artifacts/${e}/training-metrics?${g}`);if(!x.ok){if(x.status===404){f(null);return}throw new Error(`Failed to load training metrics: ${x.statusText}`)}const v=await x.json();f(v)}catch{Q.error(s("Failed to load training metrics"))}finally{c(!1)}};if(l)return a.jsx(le,{children:a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(yn,{size:"large"})})});if(!d)return a.jsx(le,{children:a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:s("artifact.training.no_data")})});const p=Object.entries(d.metrics).filter(([g,x])=>typeof x=="number").slice(0,6);return a.jsxs(le,{title:a.jsxs(B,{children:[a.jsx(X1,{}),s("artifact.training.title")]}),extra:a.jsx(me,{type:"primary",onClick:()=>o(`/runs/${d.run_id}`),children:s("artifact.training.view_run")}),children:[a.jsxs(Se,{bordered:!0,column:2,style:{marginBottom:16},children:[a.jsx(Se.Item,{label:s("artifact.training.run_name"),children:a.jsxs(B,{children:[Wk(d.status),a.jsx("a",{onClick:()=>o(`/runs/${d.run_id}`),children:d.run_name})]})}),a.jsx(Se.Item,{label:s("artifact.training.project"),children:a.jsx(Ce,{children:d.project})}),a.jsx(Se.Item,{label:s("artifact.training.status"),children:a.jsx(Ce,{color:d.status==="finished"?"success":"error",children:s(`status.${d.status}`)})}),a.jsx(Se.Item,{label:s("artifact.training.duration"),children:d.duration_seconds?uC(d.duration_seconds*1e3):"-"}),a.jsx(Se.Item,{label:s("artifact.training.created_at"),span:2,children:Fm(d.created_at)})]}),p.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h4",{children:s("artifact.training.key_metrics")}),a.jsx(Pt,{gutter:16,children:p.map(([g,x])=>a.jsx(Le,{span:8,style:{marginBottom:16},children:a.jsx(Pn,{title:g,value:x,precision:typeof x=="number"&&x<1?4:2})},g))})]})]})}const{Option:Gk}=jt;function Kk({artifactName:e,artifactType:t}){const{t:n}=Ue(),[s,o]=b.useState(!1),[l,c]=b.useState([]),[d,f]=b.useState([]),[h,p]=b.useState([]);b.useEffect(()=>{g()},[e]);const g=async()=>{o(!0);try{const v=new URLSearchParams;t&&v.append("type",t);const S=await fetch(`/api/artifacts/${e}/performance-history?${v}`);if(!S.ok)throw new Error(`Failed to load performance history: ${S.statusText}`);const T=await S.json();c(T);const k=new Set;T.forEach(M=>{Object.keys(M.metrics).forEach(j=>k.add(j))});const P=Array.from(k).sort();f(P);const A=P.slice(0,3);p(A)}catch{Q.error(n("Failed to load performance history"))}finally{o(!1)}},x=b.useMemo(()=>{if(!l.length||!h.length)return null;const v=l.filter(T=>T.status==="finished").map(T=>`v${T.version}`),S=h.map(T=>({name:T,type:"line",smooth:!0,symbol:"circle",symbolSize:8,data:l.filter(k=>k.status==="finished").map(k=>k.metrics[T]||0)}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:h,top:0},grid:{left:"10%",right:"10%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:v},yAxis:{type:"value",name:n("artifact.performance.metrics")},series:S}},[l,h,n]);return s?a.jsx(le,{children:a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(yn,{size:"large"})})}):l.length===0?a.jsx(le,{children:a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.no_data")})}):a.jsx(le,{title:a.jsxs(B,{children:[a.jsx(Kc,{}),n("artifact.performance.title")]}),extra:a.jsx(jt,{mode:"multiple",style:{width:300},placeholder:n("artifact.performance.select_metrics"),value:h,onChange:p,maxTagCount:3,children:d.map(v=>a.jsx(Gk,{value:v,children:v},v))}),children:x?a.jsx("div",{style:{height:400},children:a.jsx(Xc,{option:x,style:{height:"100%",width:"100%"}})}):a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.select_metrics_hint")})})}const{Text:tc,Title:Po,Paragraph:qk}=_e,{TabPane:cs}=As,Yk=()=>{var ee;const{name:e}=Sm(),t=Si(),{t:n}=Ue(),[s,o]=b.useState(!1),[l,c]=b.useState(null),[d,f]=b.useState(null),[h,p]=b.useState([]),[g,x]=b.useState(null),[v,S]=b.useState(null),[T,k]=b.useState(!1),[P,A]=b.useState(!1),[M,j]=b.useState(!1),[R,L]=b.useState(null),[$,z]=b.useState(!1),N=K=>{if(K===0)return"0 B";const Z=1024,ae=["B","KB","MB","GB","TB"],ve=Math.floor(Math.log(K)/Math.log(Z));return(K/Math.pow(Z,ve)).toFixed(2)+" "+ae[ve]},W=K=>new Date(K*1e3).toLocaleString(),Y=b.useCallback(async()=>{if(e)try{const K=await Ij(e);p(K||[]),!l&&K&&K.length>0&&c(K[K.length-1].version)}catch{Q.error(n("Failed to fetch versions"))}},[e,l,n]),se=b.useCallback(async()=>{if(!(!e||!l)){o(!0);try{const K=await Lj(e,l);f(K)}catch{Q.error(n("Failed to fetch artifact details"))}finally{o(!1)}}},[e,l,n]),J=b.useCallback(async()=>{if(!(!e||!l))try{const K=await Oj(e,l);x(K)}catch{}},[e,l]),re=b.useCallback(async()=>{if(!(!e||!l)){k(!0);try{const K=await zj(e,l,void 0,3);S(K)}catch{}finally{k(!1)}}},[e,l]);b.useEffect(()=>{Y()},[Y]),b.useEffect(()=>{l&&(se(),J())},[se,J]);const ue=async K=>{Rn.confirm({title:n("artifacts.delete_confirm",{name:e,version:K}),content:n("artifacts.delete_warning"),okText:n("artifacts.delete"),okType:"danger",cancelText:n("experiments.cancel"),onOk:async()=>{try{if(await Fj(e,K),Q.success(n("Deleted successfully")),Y(),K===l){const Z=h.filter(ae=>ae.version!==K);Z.length>0?c(Z[Z.length-1].version):t("/artifacts")}}catch{Q.error(n("Delete failed"))}}})};if(s&&!d)return a.jsx(Nm,{});if(!d)return a.jsx(le,{children:a.jsx(nt,{description:n("artifact.detail.title",{name:e})})});h.map(K=>({label:`v${K.version} (${W(K.created_at)})`,value:K.version}));const pe=[{title:n("artifact.files.name"),dataIndex:"path",key:"path",render:(K,Z)=>a.jsxs(B,{direction:"vertical",size:0,children:[a.jsx(tc,{strong:!0,children:K}),Z.absolute_path&&a.jsx(Be,{title:n("Click to copy path"),children:a.jsx(tc,{code:!0,copyable:{text:Z.absolute_path},style:{fontSize:ne.typography.fontSize.xs},children:Z.absolute_path})})]})},{title:n("artifact.files.size"),dataIndex:"size",key:"size",width:120,render:K=>N(K)},{title:n("artifact.files.hash"),dataIndex:"digest",key:"digest",width:200,render:K=>{var Z;return a.jsx(Be,{title:K,children:a.jsxs(tc,{code:!0,style:{fontSize:ne.typography.fontSize.xs},children:[(Z=K.split(":")[1])==null?void 0:Z.substring(0,16),"..."]})})}}],ie=[{title:n("artifact.versions.version"),dataIndex:"version",key:"version",width:100,render:K=>a.jsxs(Ce,{color:K===l?"blue":"default",children:["v",K]})},{title:n("artifact.versions.date"),dataIndex:"created_at",key:"created_at",render:K=>W(K)},{title:n("artifact.versions.run"),dataIndex:"created_by_run",key:"created_by_run",render:K=>a.jsx(Be,{title:"Click to view run",children:a.jsxs(me,{type:"link",size:"small",onClick:()=>t(`/runs/${K}`),children:[K.substring(0,16),"..."]})})},{title:n("artifact.versions.size"),dataIndex:"size_bytes",key:"size",width:120,render:K=>N(K)},{title:n("artifact.versions.files"),dataIndex:"num_files",key:"num_files",width:80},{title:n("Aliases"),dataIndex:"aliases",key:"aliases",render:K=>a.jsx(B,{size:4,wrap:!0,children:K.map(Z=>a.jsx(Ce,{color:"blue",style:{fontSize:ne.typography.fontSize.xs},children:Z},Z))})},{title:n("artifact.versions.actions"),key:"actions",width:150,render:(K,Z)=>a.jsxs(B,{size:"small",children:[a.jsx(me,{size:"small",type:Z.version===l?"primary":"default",onClick:()=>c(Z.version),children:n("View")}),a.jsx(me,{size:"small",danger:!0,icon:a.jsx(fi,{}),onClick:()=>ue(Z.version)})]})}];return a.jsx("div",{style:{padding:ne.spacing.lg},children:a.jsxs(B,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsx(me,{icon:a.jsx(J1,{}),onClick:()=>t("/artifacts"),children:n("Back to Artifacts")}),a.jsx(le,{children:a.jsxs(B,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs(B,{children:[a.jsx(Po,{level:2,style:{margin:0},children:n("artifact.detail.title",{name:e})}),a.jsx(Ce,{color:ne.colors.primary,children:n("artifact.detail.version",{version:l})}),a.jsx(Ce,{icon:a.jsx(tn,{}),children:n(`artifacts.type.${d.type}`)})]}),d.description&&a.jsx(qk,{type:"secondary",children:d.description})]})}),a.jsxs(Pt,{gutter:[ne.spacing.md,ne.spacing.md],children:[a.jsx(Le,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Pn,{title:n("artifact.detail.size"),value:N(d.size_bytes),prefix:a.jsx(tn,{})})})}),a.jsx(Le,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Pn,{title:n("artifact.detail.files_count"),value:d.num_files,prefix:a.jsx(ac,{})})})}),a.jsx(Le,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Pn,{title:n("Total Versions"),value:h.length,prefix:a.jsx(oc,{})})})}),a.jsx(Le,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Pn,{title:n("artifact.detail.created_at"),value:W(d.created_at),valueStyle:{fontSize:ne.typography.fontSize.sm},prefix:a.jsx(Hc,{})})})})]}),a.jsx(le,{children:a.jsxs(As,{defaultActiveKey:"info",children:[a.jsxs(cs,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Jo,{})," ",n("Info")]}),children:[a.jsxs(Se,{bordered:!0,column:2,size:"small",children:[a.jsx(Se.Item,{label:n("artifact.detail.type"),children:n(`artifacts.type.${d.type}`)}),a.jsx(Se.Item,{label:n("artifact.detail.status"),children:a.jsx(Ce,{color:"success",children:d.status})}),a.jsx(Se.Item,{label:n("artifact.detail.created_by"),children:a.jsx(me,{type:"link",size:"small",onClick:()=>t(`/runs/${d.created_by_run}`),children:d.created_by_run})}),a.jsx(Se.Item,{label:n("artifact.detail.created_at"),children:W(d.created_at)}),a.jsx(Se.Item,{label:n("artifact.detail.size"),children:N(d.size_bytes)}),a.jsxs(Se.Item,{label:n("artifact.detail.files_count"),children:[d.num_files," files, ",d.num_references," references"]})]}),d.metadata&&Object.keys(d.metadata).length>0&&a.jsxs("div",{style:{marginTop:ne.spacing.lg},children:[a.jsx(Po,{level:5,children:n("artifact.detail.metadata")}),a.jsx(le,{size:"small",children:a.jsx("pre",{style:{margin:0,fontSize:ne.typography.fontSize.sm},children:JSON.stringify(d.metadata,null,2)})})]}),d.tags&&d.tags.length>0&&a.jsxs("div",{style:{marginTop:ne.spacing.md},children:[a.jsx(Po,{level:5,children:n("artifact.detail.tags")}),a.jsx(B,{size:[8,8],wrap:!0,children:d.tags.map(K=>a.jsx(Ce,{icon:a.jsx(Z1,{}),color:"blue",children:K},K))})]})]},"info"),a.jsxs(cs,{tab:a.jsxs(a.Fragment,{children:[a.jsx(ac,{})," ",n("artifact.files.title")," (",((ee=g==null?void 0:g.files)==null?void 0:ee.length)||0,")"]}),children:[a.jsx(yr,{dataSource:(g==null?void 0:g.files)||[],columns:pe,rowKey:"path",size:"small",pagination:!1,locale:{emptyText:a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.files.no_files")})}}),(g==null?void 0:g.references)&&g.references.length>0&&a.jsxs("div",{style:{marginTop:ne.spacing.lg},children:[a.jsx(Po,{level:5,children:n("artifact.references.title")}),a.jsx(yr,{dataSource:g.references,columns:[{title:n("artifact.references.uri"),dataIndex:"uri",key:"uri"},{title:n("artifact.references.checksum"),dataIndex:"checksum",key:"checksum",render:K=>K||"-"}],size:"small",pagination:!1})]})]},"files"),a.jsx(cs,{tab:a.jsxs(a.Fragment,{children:[a.jsx(oc,{})," ",n("artifact.versions.title")," (",h.length,")"]}),children:a.jsx(yr,{dataSource:h,columns:ie,rowKey:"version",size:"small",pagination:{pageSize:10}})},"versions"),a.jsx(cs,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Nt,{})," ",n("artifact.training.tab")]}),children:a.jsx(Hk,{artifactName:e,artifactType:d==null?void 0:d.type,version:l})},"training"),a.jsx(cs,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Kc,{})," ",n("artifact.performance.tab")]}),children:a.jsx(Kk,{artifactName:e,artifactType:d==null?void 0:d.type})},"performance"),a.jsx(cs,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Q1,{})," ",n("artifact.lineage.title")]}),children:a.jsxs(B,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsx(nn,{message:n("artifact.lineage.description"),type:"info",showIcon:!0,closable:!0}),!v&&!T&&a.jsx(me,{onClick:re,children:n("Load Lineage Graph")}),T&&a.jsx(le,{loading:!0}),v&&a.jsx(Uk,{data:v})]})},"lineage")]})})]})})};function Xk({onSubmit:e,onTest:t,onCancel:n,loading:s=!1,initialValues:o}){const{t:l}=Ue(),[c]=bt.useForm(),[d,f]=b.useState((o==null?void 0:o.authMethod)||"password"),[h,p]=b.useState(!1),g=async v=>{console.log("Form values:",{...v,password:v.password?"***":void 0,savePassword:v.savePassword});const S={host:v.host,port:v.port||22,username:v.username,authMethod:v.authMethod,password:v.password,privateKeyPath:v.privateKeyPath,passphrase:v.passphrase,remoteRoot:v.remoteRoot,localPort:v.localPort,remotePort:v.remotePort||23300,saveName:v.saveName,savePassword:v.savePassword||!1};console.log("Config to submit:",{...S,password:S.password?"***":void 0});try{await e(S),Q.success(l("remote.message.connectSuccess")),c.resetFields()}catch(T){Q.error(T instanceof Error?T.message:l("remote.message.connectFailed"))}},x=async()=>{try{const v=await c.validateFields(),S={host:v.host,port:v.port||22,username:v.username,authMethod:v.authMethod,password:v.password,privateKeyPath:v.privateKeyPath,passphrase:v.passphrase,remoteRoot:v.remoteRoot,localPort:v.localPort,remotePort:v.remotePort||23300};t&&(await t(S),Q.success(l("remote.message.testSuccess")))}catch(v){v instanceof Error&&Q.error(v.message)}};return a.jsxs(bt,{form:c,layout:"vertical",initialValues:{port:22,remotePort:23300,authMethod:"password",...o},onFinish:g,children:[a.jsx(bt.Item,{label:l("remote.form.host"),name:"host",rules:[{required:!0,message:"Please enter host address"}],children:a.jsx(Qt,{placeholder:l("remote.form.hostPlaceholder")})}),a.jsxs(Pt,{gutter:16,children:[a.jsx(Le,{span:12,children:a.jsx(bt.Item,{label:l("remote.form.port"),name:"port",children:a.jsx(lc,{min:1,max:65535,style:{width:"100%"}})})}),a.jsx(Le,{span:12,children:a.jsx(bt.Item,{label:l("remote.form.username"),name:"username",rules:[{required:!0,message:"Please enter username"}],children:a.jsx(Qt,{placeholder:l("remote.form.usernamePlaceholder")})})})]}),a.jsx(bt.Item,{label:l("remote.form.authMethod"),name:"authMethod",children:a.jsxs(Ss.Group,{onChange:v=>f(v.target.value),children:[a.jsx(Ss,{value:"password",children:l("remote.form.passwordAuth")}),a.jsx(Ss,{value:"key",children:l("remote.form.keyAuth")})]})}),d==="password"?a.jsx(bt.Item,{label:l("remote.form.password"),name:"password",rules:[{required:!0,message:"Please enter password"}],children:a.jsx(Qt.Password,{})}):a.jsxs(a.Fragment,{children:[a.jsx(bt.Item,{label:l("remote.form.privateKey"),name:"privateKeyPath",rules:[{required:!0,message:"Please enter private key path"}],children:a.jsx(Qt,{placeholder:l("remote.form.privateKeyPlaceholder")})}),a.jsx(bt.Item,{label:l("remote.form.passphrase"),name:"passphrase",children:a.jsx(Qt.Password,{})})]}),a.jsx(bt.Item,{children:a.jsxs(B,{direction:"vertical",children:[a.jsx(Oo,{checked:h,onChange:v=>p(v.target.checked),children:l("remote.form.saveConfig")}),h&&d==="password"&&a.jsx(bt.Item,{name:"savePassword",valuePropName:"checked",initialValue:!1,noStyle:!0,children:a.jsx(Oo,{style:{marginLeft:24},children:l("remote.form.savePassword")})})]})}),h&&a.jsx(bt.Item,{label:l("remote.form.saveName"),name:"saveName",children:a.jsx(Qt,{placeholder:l("remote.form.saveNamePlaceholder")})}),a.jsx(bt.Item,{children:a.jsxs(B,{children:[a.jsx(me,{type:"primary",htmlType:"submit",loading:s,size:"large",children:l("remote.form.connectButton")}),t&&a.jsx(me,{onClick:x,children:l("remote.form.testConnection")}),n&&a.jsx(me,{onClick:n,children:l("remote.form.cancel")})]})})]})}var qy={exports:{}};(function(e,t){(function(n,s){e.exports=s()})(ps,function(){return function(n,s,o){n=n||{};var l=s.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(h,p,g,x){return l.fromToBase(h,p,g,x)}o.en.relativeTime=c,l.fromToBase=function(h,p,g,x,v){for(var S,T,k,P=g.$locale().relativeTime||c,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],M=A.length,j=0;j<M;j+=1){var R=A[j];R.d&&(S=x?o(h).diff(g,R.d,!0):g.diff(h,R.d,!0));var L=(n.rounding||Math.round)(Math.abs(S));if(k=S>0,L<=R.r||!R.r){L<=1&&j>0&&(R=A[j-1]);var $=P[R.l];v&&(L=v(""+L)),T=typeof $=="string"?$.replace("%d",L):$(L,p,R.l,k);break}}if(p)return T;var z=k?P.future:P.past;return typeof z=="function"?z(T):z.replace("%s",T)},l.to=function(h,p){return d(h,p,this,!0)},l.from=function(h,p){return d(h,p,this)};var f=function(h){return h.$u?o.utc():o()};l.toNow=function(h){return this.to(f(this),h)},l.fromNow=function(h){return this.from(f(this),h)}}})})(qy);var Jk=qy.exports;const Zk=O1(Jk),Qk=({status:e,label:t})=>{const n=kk.statusLight,s=n.colors[e],o=e==="online"||e==="connecting";return a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[a.jsx(tt.div,{style:{width:n.size,height:n.size,borderRadius:"50%",background:s,position:"relative"},animate:o?{boxShadow:n.pulseAnimation.boxShadow}:{},transition:{...n.pulseAnimation.transition,repeat:o?1/0:0}}),t&&a.jsx("span",{style:{fontSize:13,color:"#595959"},children:t})]})};Rm.extend(Zk);const{Text:nc}=_e,eM={connecting:"Establishing connection...",running:"Remote Viewer is running and accessible",stopping:"Stopping Remote Viewer...",stopped:"Remote Viewer has been stopped",error:"An error occurred"};function tM({session:e,onOpen:t,onStop:n,onDisconnect:s}){const{t:o}=Ue(),l=()=>{const f=`http://localhost:${e.localPort}`;window.open(f,"_blank"),t==null||t(e)},c=async()=>{if(n)try{await n(e)}catch{}},d=()=>{Rn.confirm({title:o("remote.message.confirmDisconnect"),content:`${e.host}:${e.remotePort}`,onOk:async()=>{s&&await s(e)}})};return a.jsxs(le,{title:a.jsxs(B,{children:[a.jsx(hi,{}),a.jsx(nc,{strong:!0,children:e.host}),a.jsx(Qk,{status:e.status==="running"?"online":e.status==="connecting"||e.status==="stopping"?"connecting":"offline",label:o(`remote.status.${e.status}`)})]}),extra:a.jsxs(B,{children:[a.jsx(me,{type:"primary",icon:a.jsx(Pm,{}),onClick:l,disabled:e.status!=="running",children:o("remote.session.open")}),a.jsx(me,{icon:a.jsx(ej,{}),onClick:c,disabled:e.status!=="running",children:o("remote.session.stop")}),a.jsx(me,{danger:!0,icon:a.jsx(tj,{}),onClick:d,children:o("remote.session.disconnect")})]}),style:{marginBottom:16},children:[a.jsxs(Se,{column:2,size:"small",children:[a.jsx(Se.Item,{label:o("remote.session.localAccess"),children:a.jsxs("a",{href:`http://localhost:${e.localPort}`,target:"_blank",rel:"noopener noreferrer",children:["http://localhost:",e.localPort]})}),a.jsx(Se.Item,{label:o("remote.session.remotePath"),children:a.jsx(nc,{code:!0,children:e.remoteRoot})}),a.jsx(Se.Item,{label:o("remote.session.sshPort"),children:e.sshPort}),a.jsx(Se.Item,{label:o("remote.session.remotePort"),children:e.remotePort}),a.jsx(Se.Item,{label:o("remote.session.remotePid"),children:e.remotePid||"N/A"}),a.jsx(Se.Item,{label:o("remote.session.startedAt"),children:Rm(e.startedAt).fromNow()})]}),a.jsx(nn,{type:e.status==="running"?"success":e.status==="error"?"error":"info",message:eM[e.status]||e.status,description:e.error,showIcon:!0,style:{marginTop:16}}),a.jsx("div",{style:{marginTop:16,color:"#888",fontSize:"12px"},children:a.jsxs(nc,{type:"secondary",children:["Session ID: ",e.sessionId]})})]})}const{Text:us}=_e;function nM({connections:e,onQuickStart:t,onConnect:n,onEdit:s,onDelete:o,loading:l=!1}){const{t:c}=Ue(),d=async p=>{try{await t(p),Q.success(c("remote.message.viewerStarted"))}catch(g){Q.error(g instanceof Error?g.message:c("remote.message.viewerStartFailed"))}},f=async p=>{if(n)try{await n(p)}catch(g){Q.error(g instanceof Error?g.message:c("remote.message.connectFailed"))}},h=p=>{Rn.confirm({title:c("remote.message.confirmDelete"),content:p.name,okText:c("remote.saved.delete"),okButtonProps:{danger:!0},onOk:()=>{o(p.id),Q.success(c("remote.message.configDeleted"))}})};return e.length===0?a.jsx(le,{title:c("remote.saved.title"),children:a.jsx(nt,{description:a.jsxs(B,{direction:"vertical",children:[a.jsx(us,{type:"secondary",children:c("remote.saved.empty")}),a.jsx(us,{type:"secondary",style:{fontSize:"12px"},children:c("remote.saved.emptyHint")})]})})}):a.jsx(le,{title:c("remote.saved.title"),children:a.jsx(xr,{dataSource:e,loading:l,renderItem:p=>a.jsx(xr.Item,{actions:[a.jsx(me,{type:"primary",icon:a.jsx(Nt,{}),onClick:()=>d(p),size:"small",children:c("remote.saved.quickStart")},"quickstart"),n&&a.jsx(me,{icon:a.jsx(Pm,{}),onClick:()=>f(p),size:"small",children:c("remote.saved.connectOnly")},"connect"),a.jsx(me,{danger:!0,icon:a.jsx(fi,{}),onClick:()=>h(p),size:"small",children:c("remote.saved.delete")},"delete")].filter(Boolean),children:a.jsx(xr.Item.Meta,{avatar:a.jsx(nj,{icon:a.jsx(hi,{}),style:{backgroundColor:"#1677ff"}}),title:a.jsx(us,{strong:!0,children:p.name}),description:a.jsxs(B,{direction:"vertical",size:0,children:[a.jsxs(us,{type:"secondary",children:[p.username,"@",p.host,":",p.port]}),a.jsx(us,{type:"secondary",code:!0,style:{fontSize:"12px"},children:p.remoteRoot}),a.jsx(us,{type:"secondary",style:{fontSize:"11px"},children:p.authMethod==="password"?"Password Auth":`Key Auth (${p.privateKeyPath})`})]})})})})})}const da="/api/config";async function Yy(){const e=await fetch(`${da}/dismissed-alerts`);if(!e.ok)throw new Error("Failed to get dismissed alerts");return(await e.json()).dismissed_alerts||[]}async function rM(e){if(!(await fetch(`${da}/dismissed-alerts/dismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:e})})).ok)throw new Error("Failed to dismiss alert")}async function sM(e){if(!(await fetch(`${da}/dismissed-alerts/undismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:e})})).ok)throw new Error("Failed to undismiss alert")}async function iM(){if(!(await fetch(`${da}/dismissed-alerts/clear`,{method:"POST"})).ok)throw new Error("Failed to clear dismissed alerts")}function Uo({alertId:e,showDismissOption:t=!0,onDismiss:n,...s}){const{t:o}=Ue(),[l,c]=b.useState(!0),[d,f]=b.useState(!1),[h,p]=b.useState(!1);b.useEffect(()=>{(async()=>{try{(await Yy()).includes(e)&&(p(!0),c(!1))}catch(v){console.error("Failed to check dismissed alerts:",v)}})()},[e]);const g=async()=>{if(c(!1),d)try{await rM(e),p(!0),n==null||n()}catch(x){console.error("Failed to dismiss alert:",x)}};return h||!l?null:a.jsx(nn,{...s,closable:!0,onClose:g,action:t?a.jsx("div",{style:{marginTop:-4},children:a.jsx(Oo,{checked:d,onChange:x=>f(x.target.checked),onClick:x=>x.stopPropagation(),children:a.jsx("span",{style:{fontSize:"12px"},children:o("common.dontShowAgain")})})}):void 0})}const{Text:Qp,Title:MD}=_e;function oM({config:e,sshConfig:t,onConfirm:n,onCancel:s,loading:o=!1}){const{t:l}=Ue(),[c]=bt.useForm(),d=async()=>{const f=await c.validateFields();n(f.remoteRoot,f.localPort)};return a.jsxs(le,{title:a.jsxs(B,{children:[a.jsx($r,{style:{color:"#52c41a"}}),a.jsx("span",{children:l("remote.config.title")})]}),children:[a.jsx(nn,{message:l("remote.config.connected"),description:`${t.username}@${t.host}:${t.port}`,type:"success",showIcon:!0,style:{marginBottom:16}}),a.jsxs(Se,{column:2,size:"small",bordered:!0,style:{marginBottom:16},children:[a.jsx(Se.Item,{label:l("remote.config.pythonVersion"),children:a.jsx(Qp,{code:!0,children:e.pythonVersion})}),a.jsx(Se.Item,{label:l("remote.config.runicornVersion"),children:a.jsx(Ce,{color:"blue",children:e.runicornVersion})}),a.jsx(Se.Item,{label:l("remote.config.storageRoot"),span:2,children:a.jsxs(B,{children:[a.jsx(Qp,{code:!0,children:e.defaultStorageRoot}),e.storageRootExists?a.jsx(Ce,{icon:a.jsx($r,{}),color:"success",children:l("remote.config.exists")}):a.jsx(Ce,{icon:a.jsx(Ts,{}),color:"warning",children:l("remote.config.notExists")})]})}),a.jsx(Se.Item,{label:l("remote.config.suggestedPort"),children:e.suggestedRemotePort})]}),!e.storageRootExists&&a.jsx(Uo,{alertId:"remote.config.pathNotExists",message:l("remote.config.pathNotExistsWarning"),description:l("remote.config.pathNotExistsHint"),type:"warning",showIcon:!0,style:{marginBottom:16}}),a.jsxs(bt,{form:c,layout:"vertical",initialValues:{remoteRoot:e.defaultStorageRoot,localPort:t.localPort,remotePort:e.suggestedRemotePort},children:[a.jsx(bt.Item,{label:l("remote.config.confirmStorageRoot"),name:"remoteRoot",rules:[{required:!0,message:"Please enter remote storage root"}],children:a.jsx(Qt,{placeholder:"/data/runicorn"})}),a.jsx(bt.Item,{label:l("remote.form.localPort"),name:"localPort",help:l("remote.form.localPortHelp"),children:a.jsx(Qt,{type:"number",placeholder:"23301"})})]}),a.jsxs(B,{style:{marginTop:16},children:[a.jsx(me,{type:"primary",icon:a.jsx(Nt,{}),onClick:d,loading:o,size:"large",children:l("remote.config.startViewer")}),a.jsx(me,{onClick:s,disabled:o,children:l("remote.form.cancel")})]})]})}const Ur="/api/remote";async function aM(){const e=await fetch("/api/health");if(!e.ok)throw new Error("Failed to get local version");return(await e.json()).version||"unknown"}async function Lo(e){const t=await fetch(`${Ur}/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e.host,port:e.port,username:e.username,password:e.password,private_key_path:e.privateKeyPath,passphrase:e.passphrase,use_agent:!0})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to connect to remote server")}return t.json()}async function ms(e,t=22,n){const s=await fetch(`${Ur}/disconnect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e,port:t,username:n})});if(!s.ok){const o=await s.json();throw new Error(o.detail||"Failed to disconnect")}}async function em(e){const t=await fetch(`${Ur}/viewer/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e.host,port:e.port,username:e.username,password:e.password,private_key_path:e.privateKeyPath,passphrase:e.passphrase,use_agent:!0,remote_root:e.remoteRoot,local_port:e.localPort,remote_port:e.remotePort||23300,conda_env:e.condaEnv})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to start Remote Viewer")}return t.json()}async function tm(e){const t=await fetch(`${Ur}/viewer/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to stop Remote Viewer")}}async function lM(){const e=await fetch(`${Ur}/viewer/sessions`);if(!e.ok)throw new Error("Failed to list Remote Viewer sessions");const t=await e.json();return t.sessions||t}async function cM(e){try{return await Lo(e),await ms(e.host,e.port,e.username),{success:!0,responseTime:0}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Connection test failed"}}}async function nm(e){const t=await fetch(`${Ur}/conda-envs?connection_id=${encodeURIComponent(e)}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to list conda environments")}return t.json()}async function Wo(e,t="system"){const n=await fetch(`${Ur}/config?connection_id=${encodeURIComponent(e)}&conda_env=${encodeURIComponent(t)}`);if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to get remote configuration")}return n.json()}const{Text:Jn,Title:DD}=_e;function uM({envs:e,connectionId:t,onSelect:n,onCancel:s,loading:o=!1}){const{t:l}=Ue(),[c,d]=b.useState(()=>{var T;const S=e.find(k=>k.isDefault);return(S==null?void 0:S.name)||((T=e[0])==null?void 0:T.name)||"system"}),[f,h]=b.useState(""),[p,g]=b.useState(()=>{const S={};return e.forEach(T=>{S[T.name]={loading:!0}}),S}),x=(S,T)=>{const k=S.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),P=T.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),A=R=>{const L=R.split(".").map($=>parseInt($)||0);return{major:L[0]||0,minor:L[1]||0,patch:L[2]||0}},M=A(k),j=A(P);return M.major===0&&M.minor<5?"too_old":M.major!==j.major||M.minor!==j.minor?"mismatch":"ok"};b.useEffect(()=>{(async()=>{try{const T=await aM();h(T)}catch(T){console.error("Failed to get local version:",T),h("unknown")}})()},[]),b.useEffect(()=>{if(!f)return;(async()=>{for(let k=0;k<e.length;k+=3){const P=e.slice(k,k+3);await Promise.all(P.map(async A=>{try{const M=await Wo(t,A.name),j=M.runicornVersion?x(M.runicornVersion,f):void 0;g(R=>({...R,[A.name]:{pythonVersion:M.pythonVersion,runicornVersion:M.runicornVersion,versionStatus:j,loading:!1,error:!1}}))}catch{g(j=>({...j,[A.name]:{loading:!1,error:!0}}))}}))}})()},[e,t,f]);const v=async()=>{let S=p[c];if(!S||S.loading){const T=Rn.info({title:l("remote.env.detecting"),content:a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx(yn,{size:"large"}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.detectingEnvironment",{env:c})})]}),okButtonProps:{style:{display:"none"}},closable:!1,maskClosable:!1});try{const k=await Wo(t,c),P=k.runicornVersion&&f?x(k.runicornVersion,f):void 0;S={pythonVersion:k.pythonVersion,runicornVersion:k.runicornVersion,versionStatus:P,loading:!1,error:!1},g(A=>({...A,[c]:S}))}catch{S={loading:!1,error:!0},g(P=>({...P,[c]:S}))}finally{T.destroy()}}if(!S||S.error){Rn.error({title:l("remote.env.detectFailed"),content:l("remote.env.detectFailedMessage"),okText:l("remote.form.cancel")});return}if(!S.runicornVersion){const T=c==="system"?"# System Python, no activation needed":`conda activate ${c}`;Rn.warning({title:l("remote.env.runicornNotInstalledTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.runicornNotInstalledMessage")}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.installInstructions")}),a.jsxs("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:[a.jsxs("div",{style:{color:"#999"},children:["# ",l("remote.env.activateCommand")]}),a.jsx("div",{children:T}),a.jsxs("div",{style:{marginTop:8,color:"#999"},children:["# ",l("remote.env.installCommand")]}),a.jsx("div",{children:"pip install runicorn"})]})]}),okText:l("remote.form.cancel")});return}if(S.versionStatus==="too_old"){Rn.error({title:l("remote.env.versionTooOldTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.versionTooOldMessage",{version:S.runicornVersion})}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.upgradeInstructions")}),a.jsx("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:a.jsx("div",{children:"pip install --upgrade runicorn"})})]}),okText:l("remote.form.cancel")});return}if(S.versionStatus==="mismatch"){Rn.warning({title:l("remote.env.versionMismatchTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.versionMismatchMessage")}),a.jsxs("div",{style:{marginTop:16,padding:"12px",background:"#fff7e6",borderRadius:"4px"},children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[l("remote.env.localVersion"),":"]})," ",f]}),a.jsxs("div",{style:{marginTop:4},children:[a.jsxs("strong",{children:[l("remote.env.remoteVersion"),":"]})," ",S.runicornVersion]})]}),a.jsx("p",{style:{marginTop:16,color:"#faad14"},children:l("remote.env.versionMismatchWarning")})]}),okText:l("remote.env.continueAnyway"),cancelText:l("remote.form.cancel"),onOk:()=>{n(c)}});return}n(c)};return e.length===0?a.jsxs(le,{title:l("remote.env.title"),children:[a.jsx(nt,{description:l("remote.env.noEnvs")}),a.jsx(me,{onClick:s,style:{marginTop:16},children:l("remote.form.cancel")})]}):a.jsxs(le,{title:a.jsxs(B,{children:[a.jsx($r,{style:{color:"#52c41a"}}),a.jsx("span",{children:l("remote.env.title")})]}),children:[a.jsx(Uo,{alertId:"remote.env.selectHint",message:l("remote.env.selectHint"),description:l("remote.env.selectDescription"),type:"info",showIcon:!0,style:{marginBottom:16}}),a.jsx(Ss.Group,{value:c,onChange:S=>d(S.target.value),style:{width:"100%"},children:a.jsx(xr,{dataSource:e,size:"small",renderItem:S=>{const T=p[S.name]||{loading:!0},k=()=>S.type==="conda"?a.jsx(Ce,{color:"green",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"conda"}):S.type==="system"?a.jsx(Ce,{style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"system"}):S.type==="venv"?a.jsx(Ce,{color:"orange",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"venv"}):null;return a.jsx(xr.Item,{style:{cursor:"pointer",background:c===S.name?"#f0f5ff":"transparent",padding:"6px 12px",borderRadius:"4px",marginBottom:"2px",minHeight:"auto"},onClick:()=>d(S.name),children:a.jsxs(Pt,{style:{width:"100%"},align:"middle",children:[a.jsx(Le,{flex:"none",style:{marginRight:12},children:a.jsx(Ss,{value:S.name})}),a.jsx(Le,{flex:"auto",children:a.jsxs("div",{style:{lineHeight:"1.2"},children:[a.jsx("div",{children:a.jsxs(B,{size:4,children:[a.jsx(Jn,{strong:!0,style:{fontSize:"14px",lineHeight:"1.2"},children:S.name}),k(),S.isDefault&&a.jsx(Ce,{color:"blue",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:l("remote.env.default")})]})}),a.jsx("div",{style:{marginTop:"2px"},children:a.jsx(Jn,{type:"secondary",code:!0,style:{fontSize:"11px",lineHeight:"1.2"},children:S.path})})]})}),a.jsx(Le,{flex:"none",style:{textAlign:"right",minWidth:140},children:a.jsxs("div",{style:{lineHeight:"1.2"},children:[a.jsx("div",{children:T.loading?a.jsx(yn,{indicator:a.jsx(yh,{style:{fontSize:12}})}):T.error?a.jsxs(Jn,{type:"danger",style:{fontSize:"11px"},children:[a.jsx(Ts,{})," ",l("remote.env.detectFailed")]}):a.jsx(Jn,{type:"secondary",style:{fontSize:"11px"},children:T.pythonVersion||"N/A"})}),a.jsx("div",{style:{marginTop:"2px"},children:T.loading?a.jsx(yn,{indicator:a.jsx(yh,{style:{fontSize:12}})}):T.error?a.jsx(Jn,{type:"danger",style:{fontSize:"11px"},children:"N/A"}):T.runicornVersion?T.versionStatus==="too_old"?a.jsxs(Jn,{type:"danger",style:{fontSize:"11px"},children:[a.jsx(Ts,{})," Runicorn ",T.runicornVersion]}):T.versionStatus==="mismatch"?a.jsxs(Jn,{type:"warning",style:{fontSize:"11px"},children:[a.jsx(El,{})," Runicorn ",T.runicornVersion]}):a.jsxs(Jn,{type:"success",style:{fontSize:"11px"},children:["Runicorn ",T.runicornVersion]}):a.jsxs(Jn,{type:"warning",style:{fontSize:"11px"},children:[a.jsx(El,{})," ",l("remote.env.runicornNotInstalled")]})})]})})]})})}})}),a.jsx(Uo,{alertId:"remote.env.checkRunicorn",type:"warning",message:l("remote.env.checkRunicorn"),description:l("remote.env.checkRunicornHint"),icon:a.jsx(El,{}),style:{marginTop:16,marginBottom:16}}),a.jsxs(B,{style:{marginTop:16},children:[a.jsx(me,{type:"primary",icon:a.jsx(rj,{}),onClick:v,loading:o,size:"large",children:l("remote.env.continue")}),a.jsx(me,{onClick:s,disabled:o,children:l("remote.form.cancel")})]})]})}function dM(){const[e,t]=b.useState([]),[n,s]=b.useState(!1),[o,l]=b.useState(null),c=b.useCallback(async()=>{s(!0),l(null);try{const d=await lM();t(d)}catch(d){l(d instanceof Error?d.message:"Failed to fetch sessions")}finally{s(!1)}},[]);return b.useEffect(()=>{c();const d=setInterval(c,5e3);return()=>clearInterval(d)},[c]),{sessions:e,loading:n,error:o,refetch:c}}const Ao="/api/remote/connections/saved";function fM(){return`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function rm(e){const t={...e};return Object.keys(t).forEach(n=>{t[n]===void 0&&delete t[n]}),t}function hM(){const[e,t]=b.useState([]),[n,s]=b.useState(!1);b.useEffect(()=>{(async()=>{try{s(!0);const h=await fetch(Ao);if(h.ok){const p=await h.json();t(p.connections||[])}}catch(h){console.error("Failed to load saved connections:",h)}finally{s(!1)}})()},[]);const o=b.useCallback(async(f,h)=>{const p={id:fM(),name:f.saveName||`${f.username}@${f.host}`,host:f.host,port:f.port,username:f.username,authMethod:f.authMethod,password:f.password||void 0,privateKeyPath:f.privateKeyPath,condaEnv:h,remoteRoot:f.remoteRoot,localPort:f.localPort,remotePort:f.remotePort,createdAt:Date.now()};console.log("Creating new connection:",{name:p.name,hasPassword:!!p.password,hasRemoteRoot:!!p.remoteRoot,condaEnv:p.condaEnv});const g=[...e,rm(p)];try{if(!(await fetch(Ao,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw new Error("Failed to save connections");t(g)}catch(x){throw console.error("Failed to save connection:",x),x}return p.id},[e]),l=b.useCallback(async(f,h)=>{const p=e.map(g=>g.id===f?rm({...g,...h}):g);console.log("Updating connection:",{id:f,updates:h});try{if(!(await fetch(Ao,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok)throw new Error("Failed to update connection");t(p)}catch(g){throw console.error("Failed to update connection:",g),g}},[e]),c=b.useCallback(async f=>{const h=e.filter(p=>p.id!==f);try{if(!(await fetch(Ao,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)throw new Error("Failed to delete connection");t(h)}catch(p){throw console.error("Failed to delete connection:",p),p}},[e]),d=b.useCallback(f=>e.find(h=>h.id===f),[e]);return{connections:e,loading:n,saveConnection:o,updateConnection:l,deleteConnection:c,getConnection:d}}const{Title:pM,Paragraph:mM,Text:pn}=_e;function gM(){const{t:e}=Ue(),[t,n]=b.useState(!1),[s,o]=b.useState(!1),[l,c]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(null),[v,S]=b.useState(null),[T,k]=b.useState(!1),[P,A]=b.useState(null),[M,j]=b.useState("connect"),[R,L]=b.useState(""),{sessions:$,refetch:z}=dM(),{connections:N,saveConnection:W,updateConnection:Y,deleteConnection:se}=hM(),J=async F=>{n(!0),o(!1);try{await Lo(F),n(!1),o(!0),Q.success(e("remote.message.connectSuccess")),c(!0);const ce=`${F.username}@${F.host}:${F.port}`,Ae=await nm(ce);if(x({connectionId:ce,config:F,condaEnvs:Ae.envs||[],selectedEnv:void 0,remoteConfig:void 0}),F.saveName){const xt=F.savePassword&&F.authMethod==="password",Et=xt?F:{...F,password:void 0};console.log("Saving connection:",{saveName:F.saveName,savePassword:F.savePassword,authMethod:F.authMethod,hasPassword:!!F.password,shouldSavePassword:xt});const vn=await W(Et);S(vn),Q.success(e("remote.message.configSaved"))}}catch(ce){Q.error(ce instanceof Error?ce.message:e("remote.message.connectFailed")),o(!1),await ms(F.host,F.port,F.username).catch(()=>{})}finally{n(!1),c(!1)}},re=async F=>{if(g){f(!0);try{const ce=await Wo(g.connectionId,F);x({...g,selectedEnv:F,remoteConfig:ce}),v&&Y(v,{condaEnv:F})}catch(ce){throw Q.error(ce instanceof Error?ce.message:e("remote.config.fetchFailed")),ce}finally{f(!1)}}},ue=async(F,ce)=>{if(!(!g||!g.remoteConfig)){p(!0);try{const Ae={...g.config,remoteRoot:F,localPort:ce,remotePort:g.remoteConfig.suggestedRemotePort,condaEnv:g.selectedEnv};v&&await Y(v,{remoteRoot:F,localPort:ce,remotePort:g.remoteConfig.suggestedRemotePort}),await em(Ae),await z(),Q.success(e("remote.message.viewerStarted")),x(null),S(null),o(!1)}catch(Ae){throw Q.error(Ae instanceof Error?Ae.message:e("remote.message.viewerStartFailed")),Ae}finally{p(!1)}}},pe=async()=>{if(!g)return;const{host:F,port:ce,username:Ae}=g.config;await ms(F,ce,Ae),x(null),o(!1),c(!1),f(!1),S(null),Q.info(e("remote.message.cancelled"))},ie=async F=>{try{const ce=await cM(F);if(ce.success)Q.success({content:a.jsxs("div",{children:[a.jsx("div",{children:e("remote.message.testSuccess")}),ce.pythonVersion&&a.jsxs("div",{style:{fontSize:"12px",marginTop:4},children:["Python ",ce.pythonVersion]})]}),duration:3});else throw new Error(ce.error||"Connection test failed")}catch(ce){throw Q.error(ce instanceof Error?ce.message:e("remote.message.testFailed")),ce}},ee=async F=>{if(F.authMethod==="password"&&!F.password){A(F),j("connect"),k(!0);return}await K(F,F.password)},K=async(F,ce)=>{n(!0),o(!1);try{const Ae={host:F.host,port:F.port,username:F.username,authMethod:F.authMethod,password:ce||F.password,privateKeyPath:F.privateKeyPath,remoteRoot:F.remoteRoot||"",localPort:F.localPort,remotePort:F.remotePort};await Lo(Ae),n(!1),o(!0),Q.success(e("remote.message.connectSuccess")),c(!0);const xt=`${Ae.username}@${Ae.host}:${Ae.port}`,Et=await nm(xt);x({connectionId:xt,config:Ae,condaEnvs:Et.envs||[],selectedEnv:F.condaEnv,remoteConfig:void 0})}catch(Ae){throw Q.error(Ae instanceof Error?Ae.message:e("remote.message.connectFailed")),o(!1),await ms(F.host,F.port,F.username).catch(()=>{}),Ae}finally{n(!1),c(!1)}},Z=async F=>{if(!F.condaEnv||!F.remoteRoot){Q.warning(e("remote.message.incompleteConfig"));return}if(F.authMethod==="password"&&!F.password){A(F),j("quickstart"),k(!0);return}await ae(F,F.password)},ae=async(F,ce)=>{n(!0),o(!1),c(!0),f(!0);try{const Ae={host:F.host,port:F.port,username:F.username,authMethod:F.authMethod,password:ce||F.password,privateKeyPath:F.privateKeyPath,remoteRoot:F.remoteRoot,localPort:F.localPort,remotePort:F.remotePort};await Lo(Ae),n(!1),o(!0),Q.success(e("remote.message.connectSuccess"));const xt=`${Ae.username}@${Ae.host}:${Ae.port}`,Et=await Wo(xt,F.condaEnv),vn={...Ae,remoteRoot:F.remoteRoot,remotePort:Et.suggestedRemotePort,condaEnv:F.condaEnv};await em(vn),await z(),Q.success(e("remote.message.viewerStarted"))}catch(Ae){throw Q.error(Ae instanceof Error?Ae.message:e("remote.message.viewerStartFailed")),o(!1),await ms(F.host,F.port,F.username).catch(()=>{}),Ae}finally{n(!1),c(!1),f(!1)}},ve=async F=>{try{await tm(F.sessionId),await z(),g||(o(!1),S(null)),Q.success(e("remote.message.viewerStopped"))}catch(ce){throw Q.error(ce instanceof Error?ce.message:e("remote.message.viewerStopFailed")),ce}},qe=async F=>{try{await tm(F.sessionId),await ms(F.host,F.sshPort||22,F.username||"user"),await z(),g||(o(!1),S(null)),Q.success(e("remote.message.disconnected"))}catch(ce){throw Q.error(ce instanceof Error?ce.message:e("remote.message.disconnectFailed")),ce}},X=$.filter(F=>F.status!=="stopped"),de=new Set($.map(F=>F.host)).size,Me=async()=>{if(!P||!R){Q.warning(e("remote.form.password")+" "+e("remote.form.required"));return}try{M==="connect"?await K(P,R):await ae(P,R),k(!1),L(""),A(null)}catch{}},We=()=>{k(!1),L(""),A(null)};return a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:24},children:[a.jsxs(pM,{level:2,children:[a.jsx(hi,{})," ",e("remote.title")]}),a.jsx(mM,{type:"secondary",children:e("remote.subtitle")})]}),a.jsx(Uo,{alertId:"remote.intro",type:"info",message:e("remote.help.architecture"),description:e("remote.help.advantages"),showIcon:!0,style:{marginBottom:24}}),a.jsxs(Pt,{gutter:16,style:{marginBottom:24},children:[a.jsx(Le,{span:8,children:a.jsx(An,{title:e("remote.stats.activeSessions"),value:X.length,icon:a.jsx(Nt,{}),gradientColors:Lr.gradients.primary})}),a.jsx(Le,{span:8,children:a.jsx(An,{title:e("remote.stats.savedConfigs"),value:N.length,icon:a.jsx(sj,{}),gradientColors:Lr.gradients.info})}),a.jsx(Le,{span:8,children:a.jsx(An,{title:e("remote.stats.connectedServers"),value:de,icon:a.jsx(hi,{}),gradientColors:Lr.gradients.success})})]}),a.jsxs(Pt,{gutter:24,children:[a.jsx(Le,{xs:24,lg:12,children:g?g.remoteConfig?a.jsx(yn,{spinning:d,tip:e("remote.config.fetchingConfig"),children:a.jsx(oM,{config:g.remoteConfig,sshConfig:g.config,onConfirm:ue,onCancel:pe,loading:h})}):a.jsx(yn,{spinning:l,tip:e("remote.env.fetching"),children:a.jsx(uM,{envs:g.condaEnvs||[],connectionId:g.connectionId,onSelect:re,onCancel:pe,loading:d})}):a.jsxs(a.Fragment,{children:[a.jsx(le,{title:e("remote.form.title"),style:{marginBottom:24},children:s&&l?a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(nn,{message:e("remote.message.connectSuccess"),description:e("remote.env.fetching"),type:"success",showIcon:!0,icon:a.jsx($r,{})}),a.jsx("div",{style:{textAlign:"center",padding:"24px 0"},children:a.jsx(yn,{size:"large",tip:e("remote.env.detectingEnvironments")})})]}):a.jsx(Xk,{onSubmit:J,onTest:ie,loading:t})}),!s&&!l&&a.jsx(nM,{connections:N,onQuickStart:Z,onConnect:ee,onDelete:se,loading:t})]})}),a.jsx(Le,{xs:24,lg:12,children:a.jsx(le,{title:a.jsxs(B,{children:[e("remote.session.title"),X.length>0&&a.jsxs(pn,{type:"secondary",children:["(",X.length,")"]})]}),children:X.length===0?a.jsx(nt,{description:a.jsxs(B,{direction:"vertical",children:[a.jsx(pn,{type:"secondary",children:e("remote.session.noActiveSessions")}),a.jsx(pn,{type:"secondary",style:{fontSize:"12px"},children:e("remote.session.startNewConnection")})]}),style:{margin:"40px 0"}}):X.map(F=>a.jsx(tM,{session:F,onStop:ve,onDisconnect:qe},F.sessionId))})})]}),a.jsx(le,{title:e("remote.help.title"),style:{marginTop:24},children:a.jsxs(B,{direction:"vertical",children:[a.jsx(pn,{children:e("remote.help.step1")}),a.jsx(pn,{children:e("remote.help.step2")}),a.jsx(pn,{children:e("remote.help.step3")}),a.jsx(pn,{children:e("remote.help.step4")}),a.jsx(pn,{children:e("remote.help.step5")}),a.jsx(pn,{children:e("remote.help.step6")})]})}),a.jsx(Rn,{title:e("remote.form.enterPassword"),open:T,onOk:Me,onCancel:We,okText:e("remote.form.connectButton"),cancelText:e("remote.form.cancel"),confirmLoading:t,centered:!0,width:400,children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsxs(pn,{children:[e("remote.form.connectionTo"),": ",a.jsx(pn,{strong:!0,children:P==null?void 0:P.name})]}),a.jsxs(pn,{type:"secondary",children:[P==null?void 0:P.username,"@",P==null?void 0:P.host]}),a.jsx(Qt.Password,{placeholder:e("remote.form.password"),value:R,onChange:F=>L(F.target.value),onPressEnter:Me,autoFocus:!0,size:"large"})]})})]})}const yM=120;function xM(){const{t:e}=Ue(),[t,n]=b.useState(null),[s,o]=b.useState(""),[l,c]=b.useState(!1),d=b.useRef([]),[f,h]=b.useState(0),p=b.useRef(null),[g,x]=b.useState([]);b.useEffect(()=>{let N;const W=async()=>{if(!l)try{const Y=await qc();if(!(Y!=null&&Y.available)){n(!1),o((Y==null?void 0:Y.reason)||e("gpu.not_available"));return}n(!0);const se={ts:Y.ts||Date.now()/1e3,gpus:Y.gpus||[]},J=d.current.slice();for(J.push(se);J.length>yM;)J.shift();d.current=J,h(re=>re+1)}catch(Y){n(!1),o((Y==null?void 0:Y.message)||e("gpu.not_available"))}};return W(),N=setInterval(W,2e3),()=>clearInterval(N)},[l]);const{times:v,gpuNames:S,seriesUtil:T,seriesMem:k,seriesPower:P,seriesTemp:A}=b.useMemo(()=>{const N=d.current,W=N.map(ee=>new Date((ee.ts||0)*1e3).toLocaleTimeString()),Y=N.reduce((ee,K)=>{var Z;return Math.max(ee,((Z=K.gpus)==null?void 0:Z.length)||0)},0),se=[];for(let ee=0;ee<Y;ee++){const K=N.find(Z=>Z.gpus&&Z.gpus[ee]);se.push(K?`GPU${K.gpus[ee].index} ${K.gpus[ee].name}`:`GPU${ee}`)}const J=ee=>new Array(Y).fill(0).map((K,Z)=>({name:se[Z]||`GPU${Z}`,type:"line",smooth:!0,showSymbol:!1,connectNulls:!0,data:N.map(ae=>{const ve=ae.gpus&&ae.gpus[Z]?ee(ae.gpus[Z]):null;return ve==null?null:Number(ve)})})),re=J(ee=>ee.util_gpu),ue=J(ee=>ee.mem_used_pct),pe=J(ee=>ee.power_w),ie=J(ee=>ee.temp_c);return{times:W,gpuNames:se,seriesUtil:re,seriesMem:ue,seriesPower:pe,seriesTemp:ie}},[f]),M=b.useMemo(()=>{const N=d.current[d.current.length-1],W={utilAvg:0,memAvg:0,powerNow:0,powerMax:0,tempMax:0};if(!N||!N.gpus||N.gpus.length===0)return W;const Y=N.gpus,se=Y.length,J=ue=>ue.reduce((pe,ie)=>pe+(Number.isFinite(ie)?ie:0),0),re={util:Y.map(ue=>Number(ue.util_gpu??0)),mem:Y.map(ue=>Number(ue.mem_used_pct??0)),pwr:Y.map(ue=>Number(ue.power_w??0)),pmax:Y.map(ue=>Number(ue.power_limit_w??0)),temp:Y.map(ue=>Number(ue.temp_c??0))};return W.utilAvg=Math.round(J(re.util)/se),W.memAvg=Math.round(J(re.mem)/se),W.powerNow=Math.round(J(re.pwr)),W.powerMax=Math.round(J(re.pmax)),W.tempMax=Math.max(...re.temp),W},[f]),j={left:48,right:16,top:40,bottom:40},R=b.useMemo(()=>({title:{text:e("gpu.chart.util")},tooltip:{trigger:"axis"},legend:{data:T.map(N=>N.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:0,max:100},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:T}),[v,T,e]),L=b.useMemo(()=>({title:{text:e("gpu.chart.mem")},tooltip:{trigger:"axis"},legend:{data:k.map(N=>N.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:0,max:100},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:k}),[v,k,e]),$=b.useMemo(()=>({title:{text:e("gpu.chart.power")},tooltip:{trigger:"axis"},legend:{data:P.map(N=>N.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:"dataMin",scale:!0},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:P}),[v,P,e]),z=b.useMemo(()=>({title:{text:e("gpu.chart.temp")},tooltip:{trigger:"axis"},legend:{data:A.map(N=>N.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:"dataMin",scale:!0},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:A}),[v,A,e]);return t===!1?a.jsx(nn,{type:"warning",showIcon:!0,message:e("gpu.not_available"),description:s||void 0}):a.jsxs("div",{ref:p,style:{position:"relative"},children:[a.jsxs(B,{align:"center",style:{marginBottom:8},children:[a.jsx(_e.Text,{type:"secondary",children:e("polling.every2s")}),a.jsxs("span",{style:{marginLeft:12},children:[e("pause")," ",a.jsx(gt,{checked:l,onChange:c})]})]}),a.jsx(ij,{activeKey:g,onChange:N=>{x(N),setTimeout(()=>{try{window.dispatchEvent(new Event("resize"))}catch{}},350)},items:[{key:"util",label:e("gpu.chart.util"),children:a.jsx(gs,{option:R,style:{height:260,width:"100%"}})},{key:"mem",label:e("gpu.chart.mem"),children:a.jsx(gs,{option:L,style:{height:260,width:"100%"}})},{key:"power",label:e("gpu.chart.power"),children:a.jsx(gs,{option:$,style:{height:260,width:"100%"}})},{key:"temp",label:e("gpu.chart.temp"),children:a.jsx(gs,{option:z,style:{height:260,width:"100%"}})}]}),t&&g.indexOf("power")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:12,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Nt,{style:{marginRight:6}}),e("gpu.power")," ",M.powerNow,M.powerMax?`/${M.powerMax}`:""," W"]}),t&&g.indexOf("util")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:44,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Xo,{style:{marginRight:6}}),e("gpu.util")," ",M.utilAvg,"%"]}),t&&g.indexOf("mem")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:76,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(tn,{style:{marginRight:6}}),e("gpu.mem")," ",M.memAvg,"%"]}),t&&g.indexOf("temp")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:108,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Wc,{style:{marginRight:6}}),e("gpu.temp")," ",M.tempMax,"°C"]})]})}const{Text:Js,Title:vM}=_e,wM=({cpu:e,loading:t=!1})=>{const{t:n}=Ue(),{token:s}=Qn.useToken(),o=l=>l<60?s.colorSuccess:l<80?s.colorWarning:s.colorError;return a.jsx(le,{loading:t,children:a.jsxs(B,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(Pt,{gutter:16,align:"middle",children:[a.jsx(Le,{span:12,children:a.jsx(Pn,{title:a.jsxs(B,{children:[a.jsx(Nt,{style:{color:o(e.percent)}}),a.jsx("span",{children:n("system.cpu_overall","Overall CPU Usage")})]}),value:e.percent,precision:1,suffix:"%",valueStyle:{color:o(e.percent)}})}),a.jsx(Le,{span:12,children:a.jsxs(B,{direction:"vertical",size:4,children:[a.jsxs(Js,{type:"secondary",children:[n("system.cpu_cores","Cores"),": ",e.count," (",e.logical_count," ",n("system.logical","logical"),")"]}),e.frequency&&a.jsxs(Js,{type:"secondary",children:[n("system.frequency","Freq"),": ",Math.round(e.frequency.current)," MHz"]}),e.load_avg&&a.jsxs(Js,{type:"secondary",children:["Load: ",e.load_avg.map(l=>l.toFixed(2)).join(", ")]})]})})]}),a.jsx(Zn,{percent:Math.round(e.percent),strokeColor:o(e.percent),style:{marginTop:16}})]}),e.per_core&&e.per_core.length>0&&a.jsxs("div",{children:[a.jsx(vM,{level:5,style:{marginBottom:16},children:n("system.cpu_per_core","Per-Core Utilization")}),a.jsx(Pt,{gutter:[16,16],children:e.per_core.map((l,c)=>a.jsx(Le,{xs:24,sm:12,md:8,lg:6,children:a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[a.jsxs(Js,{strong:!0,children:["Core ",c]}),a.jsxs(Js,{children:[Math.round(l),"%"]})]}),a.jsx(Zn,{percent:Math.round(l),strokeColor:o(l),size:"small",showInfo:!1})]})},c))})]}),e.frequency&&a.jsxs(Pt,{gutter:16,children:[a.jsx(Le,{span:8,children:a.jsx(Pn,{title:n("system.freq_current","Current Freq"),value:e.frequency.current,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})}),a.jsx(Le,{span:8,children:a.jsx(Pn,{title:n("system.freq_min","Min Freq"),value:e.frequency.min,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})}),a.jsx(Le,{span:8,children:a.jsx(Pn,{title:n("system.freq_max","Max Freq"),value:e.frequency.max,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})})]})]})})},{Text:ds,Title:ID}=_e,_M=({memory:e,disk:t,loading:n=!1})=>{const{t:s}=Ue(),{token:o}=Qn.useToken(),l=d=>d<60?o.colorSuccess:d<80?o.colorWarning:o.colorError,c=(d,f=1)=>{if(d===0)return"0 B";const h=1024,p=f<0?0:f,g=["B","KB","MB","GB","TB"],x=Math.floor(Math.log(d)/Math.log(h));return parseFloat((d/Math.pow(h,x)).toFixed(p))+" "+g[x]};return a.jsx(le,{loading:n,children:a.jsxs(B,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(Pt,{gutter:16,align:"middle",children:[a.jsx(Le,{span:12,children:a.jsx(Pn,{title:a.jsxs(B,{children:[a.jsx(tn,{style:{color:l(e.percent)}}),a.jsx("span",{children:s("system.memory","Memory")})]}),value:c(e.used),suffix:`/ ${c(e.total)}`,valueStyle:{color:l(e.percent),fontSize:20}})}),a.jsx(Le,{span:12,children:a.jsxs(B,{direction:"vertical",size:4,children:[a.jsxs(ds,{type:"secondary",children:[s("system.available","Available"),": ",c(e.available)]}),a.jsxs(ds,{type:"secondary",children:[s("system.used_percent","Used"),": ",Math.round(e.percent),"%"]})]})})]}),a.jsx(Zn,{percent:Math.round(e.percent),strokeColor:l(e.percent),style:{marginTop:16}}),e.swap_total>0&&a.jsxs("div",{style:{marginTop:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[a.jsx(ds,{strong:!0,children:s("system.swap","Swap")}),a.jsxs(ds,{children:[c(e.swap_used)," / ",c(e.swap_total)]})]}),a.jsx(Zn,{percent:Math.round(e.swap_percent),strokeColor:l(e.swap_percent),size:"small"})]})]}),a.jsx(Or,{style:{margin:0}}),a.jsxs("div",{children:[a.jsxs(Pt,{gutter:16,align:"middle",children:[a.jsx(Le,{span:12,children:a.jsx(Pn,{title:a.jsxs(B,{children:[a.jsx(oj,{style:{color:l(t.percent)}}),a.jsxs("span",{children:[s("system.disk","Disk")," (",t.path,")"]})]}),value:c(t.used),suffix:`/ ${c(t.total)}`,valueStyle:{color:l(t.percent),fontSize:20}})}),a.jsx(Le,{span:12,children:a.jsxs(B,{direction:"vertical",size:4,children:[a.jsxs(ds,{type:"secondary",children:[s("system.free","Free"),": ",c(t.free)]}),a.jsxs(ds,{type:"secondary",children:[s("system.used_percent","Used"),": ",Math.round(t.percent),"%"]})]})})]}),a.jsx(Zn,{percent:Math.round(t.percent),strokeColor:l(t.percent),style:{marginTop:16}})]})]})})},{Title:bM,Text:sm}=_e;function SM(){const{t:e}=Ue(),{settings:t}=ji(),[n,s]=b.useState([]),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,h]=b.useState(!0),[p,g]=b.useState(null),[x,v]=b.useState(!0);b.useEffect(()=>{let T;const k=async()=>{try{const P=await qc();if(!(P!=null&&P.available)){l(!1),d((P==null?void 0:P.reason)||e("gpu.not_available")),h(!1);return}l(!0),s(P.gpus||[]),h(!1)}catch(P){l(!1),d((P==null?void 0:P.message)||e("gpu.not_available")),h(!1)}};return k(),T=setInterval(k,2e3),()=>clearInterval(T)},[e]),b.useEffect(()=>{let T;const k=async()=>{try{const P=await jj();P!=null&&P.available&&g(P),v(!1)}catch{v(!1)}};return k(),T=setInterval(k,2e3),()=>clearInterval(T)},[]);const S=[];return t.showCpuTab!==!1&&(p!=null&&p.cpu)&&p.cpu.percent!==void 0&&S.push({key:"cpu",label:a.jsxs("span",{children:[a.jsx(Nt,{}),e("performance.tab_cpu","CPU")]}),children:a.jsx(wM,{cpu:p.cpu,loading:x})}),t.showMemoryDiskTab!==!1&&(p!=null&&p.memory)&&(p!=null&&p.disk)&&S.push({key:"memory-disk",label:a.jsxs("span",{children:[a.jsx(tn,{}),e("performance.tab_memory_disk","Memory & Disk")]}),children:a.jsx(_M,{memory:p.memory,disk:p.disk,loading:x})}),t.showGpuMetricsTab!==!1&&o&&n.length>0&&S.push({key:"gpu-metrics",label:a.jsxs("span",{children:[a.jsx(Wc,{}),e("performance.tab_gpu_metrics","GPU Metrics")]}),children:a.jsx($m,{gpus:n,loading:f})}),t.showGpuTelemetryTab!==!1&&o&&S.push({key:"gpu-telemetry",label:a.jsxs("span",{children:[a.jsx(Nt,{}),e("performance.tab_gpu_telemetry","GPU Telemetry")]}),children:a.jsx(le,{children:a.jsx(xM,{})})}),a.jsxs(B,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsx(le,{children:a.jsxs(B,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(B,{children:[a.jsxs(bM,{level:3,style:{margin:0},children:[a.jsx(Xo,{})," ",e("performance.title")]}),a.jsx(Be,{title:e("performance.polling_hint","Auto-polling every 2 seconds"),children:a.jsx(Ce,{color:"processing",children:"Real-time"})})]}),(p==null?void 0:p.platform)&&a.jsxs(sm,{type:"secondary",children:[p.platform.system," ",p.platform.release]})]}),a.jsx(sm,{type:"secondary",children:e("performance.desc","Real-time system performance monitoring (CPU, Memory, Disk, GPU)")})]})}),S.length>0?a.jsx(As,{items:S,defaultActiveKey:"cpu",size:"large",destroyInactiveTabPane:!0}):a.jsx(le,{children:a.jsx(nt,{description:e("performance.no_tabs","No monitoring tabs enabled. Please enable tabs in Settings.")})}),o===!1&&t.showGpuMetricsTab!==!1&&a.jsx(nn,{type:"info",message:e("gpu.not_available"),description:c||e("gpu.no_nvidia_smi"),showIcon:!0})]})}const{Text:fs,Title:jM}=_e;function CM(){const{t:e}=Ue(),[t,n]=b.useState(!0),[s,o]=b.useState(null),l=async()=>{n(!0);try{const[d,f,h]=await Promise.all([Mm(),Yc(),Dm().catch(()=>({total_artifacts:0}))]);o({health:d,config:f,artifacts:h})}catch(d){console.error("Failed to load system info:",d),Q.error("Failed to load system information")}finally{n(!1)}};b.useEffect(()=>{l()},[]);const c=()=>{var p,g,x,v,S,T,k,P,A,M;if(!s)return;const d=s.config.config_file||"Not available",f=s.config.config_file?s.config.config_file.replace("config.json","rate_limits.json"):"Not available",h=`
Runicorn System Information
===========================

Version Information:
- Runicorn: ${s.health.version}
- Status: ${s.health.status}

Storage Configuration:
- Storage Root: ${s.config.storage||s.config.user_root_dir||"Not configured"}

Configuration Files:
- Main Config: ${d}
- Rate Limit Config: ${f}

Cache Statistics:
- Enabled: ${((p=s.health.cache)==null?void 0:p.enabled)||"N/A"}
- Hit Rate: ${((g=s.health.cache)==null?void 0:g.hit_rate)||"N/A"}
- Hits: ${((x=s.health.cache)==null?void 0:x.hits)||0}
- Misses: ${((v=s.health.cache)==null?void 0:v.misses)||0}
- Size: ${((S=s.health.cache)==null?void 0:S.size)||0}/${((T=s.health.cache)==null?void 0:T.max_size)||0}

Artifacts Statistics:
- Total Artifacts: ${((k=s.artifacts)==null?void 0:k.total_artifacts)||0}
- Total Versions: ${((P=s.artifacts)==null?void 0:P.total_versions)||0}
- Deduplication: ${(A=s.artifacts)!=null&&A.dedup_enabled?"Enabled":"Disabled"}
- Space Saved: ${(M=s.artifacts)!=null&&M.dedup_ratio?(s.artifacts.dedup_ratio*100).toFixed(1)+"%":"N/A"}

Generated: ${new Date().toLocaleString()}
`.trim();navigator.clipboard.writeText(h).then(()=>{Q.success(e("settings.system_info.copied"))}).catch(()=>{Q.error(e("settings.system_info.copy_failed"))})};return t||!s?a.jsxs("div",{style:{padding:24,textAlign:"center"},children:[a.jsx(yn,{size:"large"}),a.jsx("div",{style:{marginTop:16},children:a.jsx(fs,{type:"secondary",children:e("settings.system_info.loading")})})]}):a.jsxs(B,{direction:"vertical",size:"middle",style:{width:"100%",padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(jM,{level:4,style:{margin:0},children:[a.jsx(Jo,{})," ",e("settings.system_info.title")]}),a.jsxs(B,{children:[a.jsx(me,{icon:a.jsx(Cs,{}),onClick:l,size:"small",children:e("settings.system_info.refresh")}),a.jsx(me,{icon:a.jsx(aj,{}),onClick:c,size:"small",children:e("settings.system_info.copy_all")})]})]}),a.jsx(le,{size:"small",title:e("settings.system_info.version_info"),children:a.jsxs(Se,{column:1,size:"small",children:[a.jsx(Se.Item,{label:e("settings.system_info.runicorn_version"),children:a.jsx(Ce,{color:"blue",children:s.health.version})}),a.jsx(Se.Item,{label:e("settings.system_info.api_status"),children:a.jsx(Ce,{color:s.health.status==="ok"?"green":"red",children:s.health.status.toUpperCase()})})]})}),a.jsx(le,{size:"small",title:e("settings.system_info.storage_config"),children:a.jsx(Se,{column:1,size:"small",children:a.jsx(Se.Item,{label:e("settings.system_info.storage_root"),children:a.jsx(fs,{code:!0,copyable:!0,children:s.config.storage||s.config.user_root_dir||"Not configured"})})})}),a.jsx(le,{size:"small",title:e("settings.system_info.config_files"),children:a.jsxs(Se,{column:1,size:"small",children:[a.jsx(Se.Item,{label:e("settings.system_info.config_file"),children:a.jsx(fs,{code:!0,copyable:!0,style:{fontSize:12},children:s.config.config_file||"Not available"})}),a.jsx(Se.Item,{label:e("settings.system_info.rate_limit_config"),children:a.jsx(fs,{code:!0,copyable:!0,style:{fontSize:12},children:s.config.config_file?s.config.config_file.replace("config.json","rate_limits.json"):"Not available"})})]})}),s.health.cache&&a.jsx(le,{size:"small",title:e("settings.system_info.cache_stats"),children:a.jsxs(Se,{column:2,size:"small",children:[a.jsx(Se.Item,{label:e("settings.system_info.cache_status"),children:a.jsx(Ce,{color:s.health.cache.enabled?"green":"default",children:s.health.cache.enabled?"Enabled":"Disabled"})}),a.jsx(Se.Item,{label:e("settings.system_info.hit_rate"),children:a.jsx(fs,{strong:!0,children:s.health.cache.hit_rate})}),a.jsx(Se.Item,{label:e("settings.system_info.hits"),children:s.health.cache.hits}),a.jsx(Se.Item,{label:e("settings.system_info.misses"),children:s.health.cache.misses}),a.jsxs(Se.Item,{label:e("settings.system_info.cache_size"),children:[s.health.cache.size," / ",s.health.cache.max_size]})]})}),s.artifacts&&s.artifacts.total_artifacts>0&&a.jsx(le,{size:"small",title:e("settings.system_info.artifacts_stats"),children:a.jsxs(Se,{column:2,size:"small",children:[a.jsx(Se.Item,{label:e("settings.system_info.total_artifacts"),children:s.artifacts.total_artifacts}),a.jsx(Se.Item,{label:e("settings.system_info.total_versions"),children:s.artifacts.total_versions}),a.jsx(Se.Item,{label:e("settings.system_info.deduplication"),children:a.jsx(Ce,{color:s.artifacts.dedup_enabled?"green":"default",children:s.artifacts.dedup_enabled?"Enabled":"Disabled"})}),s.artifacts.dedup_enabled&&s.artifacts.dedup_ratio&&a.jsx(Se.Item,{label:e("settings.system_info.space_saved"),children:a.jsxs(fs,{type:"success",strong:!0,children:[(s.artifacts.dedup_ratio*100).toFixed(1),"%"]})})]})})]})}const TM={"remote.intro":{zh:"Remote Viewer 架构介绍",en:"Remote Viewer Architecture Intro"},"remote.env.selectHint":{zh:"远程环境选择提示",en:"Remote Environment Selection Hint"},"remote.env.checkRunicorn":{zh:"Runicorn版本检查提示",en:"Runicorn Version Check Hint"},"remote.config.pathNotExists":{zh:"存储路径不存在提示",en:"Storage Path Not Exists Hint"}};function RM(){const{t:e,i18n:t}=Ue(),[n,s]=b.useState([]),[o,l]=b.useState(!1),c=async()=>{l(!0);try{const p=await Yy();s(p)}catch{Q.error(e("settings.failedToLoadDismissedAlerts"))}finally{l(!1)}};b.useEffect(()=>{c()},[]);const d=async p=>{try{await sM(p),Q.success(e("settings.alertRestored")),c()}catch{Q.error(e("settings.failedToRestoreAlert"))}},f=async()=>{try{await iM(),Q.success(e("settings.allAlertsRestored")),s([])}catch{Q.error(e("settings.failedToClearAlerts"))}},h=p=>{const g=TM[p];return g?t.language==="zh"?g.zh:g.en:p};return a.jsx(le,{title:e("settings.dismissedAlerts"),extra:n.length>0&&a.jsx(me,{icon:a.jsx(Cs,{}),onClick:f,size:"small",children:e("settings.restoreAll")}),children:n.length===0?a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:e("settings.noDismissedAlerts")}):a.jsx(xr,{dataSource:n,loading:o,renderItem:p=>a.jsx(xr.Item,{actions:[a.jsx(Be,{title:e("settings.restoreAlert"),children:a.jsx(me,{type:"text",icon:a.jsx(Gc,{}),onClick:()=>d(p)})})],children:a.jsx(xr.Item.Meta,{title:h(p),description:a.jsx("span",{style:{fontSize:"12px",color:"#999"},children:p})})})})})}const PM=[{label:"Aurora",value:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)"},{label:"Sunset",value:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)"},{label:"Ocean",value:"linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)"},{label:"Forest",value:"linear-gradient(135deg, #a8e063 0%, #56ab2f 100%)"}];function AM({open:e,onClose:t,value:n,onChange:s}){const{t:o}=Ue(),{token:l}=Qn.useToken(),c=j=>s({...n,...j});o("settings.appearance.density_compact"),o("settings.appearance.density_default"),o("settings.appearance.density_loose");const[d,f]=b.useState(""),[h,p]=b.useState(""),[g,x]=b.useState(!1),[v,S]=b.useState(!1);b.useEffect(()=>{let j=!0;return e&&Yc().then(({user_root_dir:R,storage:L})=>{j&&(f(R||""),p(L||""))}).catch(()=>{}),()=>{j=!1}},[e]);const T=async()=>{if(!d||d.trim().length<2){Q.warning(o("settings.messages.enter_valid_path"));return}try{x(!0);const j=await Tj(d.trim());p(j.storage),Q.success(o("settings.messages.updated"))}catch(j){Q.error(typeof(j==null?void 0:j.message)=="string"?j.message:o("settings.messages.update_failed"))}finally{x(!1)}},k=()=>a.jsx(B,{direction:"vertical",style:{width:"100%"},size:"middle",children:a.jsx(le,{size:"small",title:a.jsxs(B,{children:[a.jsx(di,{}),o("settings.cards.theme")]}),children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.theme.mode")}),a.jsx(Ss.Group,{value:n.themeMode,onChange:j=>c({themeMode:j.target.value}),options:[{label:o("settings.theme.light"),value:"light"},{label:o("settings.theme.dark"),value:"dark"},{label:o("settings.theme.auto"),value:"auto"}],optionType:"button",style:{width:"100%",marginTop:8}})]}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.appearance.primary_color")}),a.jsx("div",{style:{marginTop:8},children:a.jsx(vh,{value:n.accentColor,onChange:j=>c({accentColor:j.toHexString()}),showText:!0,format:"hex"})})]}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.appearance.density")}),a.jsx(kl,{value:n.density,onChange:j=>c({density:j}),options:[{label:o("settings.appearance.density_compact"),value:"compact"},{label:o("settings.appearance.density_default"),value:"default"},{label:o("settings.appearance.density_loose"),value:"loose"}],style:{width:"100%",marginTop:8}})]})]})})}),P=()=>a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(le,{size:"small",title:a.jsxs(B,{children:[a.jsx(xh,{}),o("settings.cards.background")]}),children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.type.label")}),a.jsx(kl,{value:n.backgroundType,onChange:j=>c({backgroundType:j}),options:[{label:o("background.type.image"),value:"image"},{label:o("background.type.gradient"),value:"gradient"},{label:o("background.type.color"),value:"color"}],style:{width:"100%",marginTop:8}})]}),n.backgroundType==="image"&&a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.image_url")}),a.jsx(Qt,{placeholder:o("background.image_url.placeholder"),value:n.backgroundImageUrl,onChange:j=>c({backgroundImageUrl:j.target.value}),style:{marginTop:8}}),n.backgroundImageUrl&&a.jsx("div",{style:{border:"1px solid #eee",borderRadius:6,overflow:"hidden",marginTop:8},children:a.jsx("img",{src:n.backgroundImageUrl,style:{width:"100%",display:"block",maxHeight:120,objectFit:"cover"},alt:o("background.image_preview")})})]}),n.backgroundType==="gradient"&&a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.gradient_presets")}),a.jsx(kl,{value:n.backgroundGradient,onChange:j=>c({backgroundGradient:j}),options:PM,style:{width:"100%",marginTop:8}})]}),n.backgroundType==="color"&&a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.color")}),a.jsx("div",{style:{marginTop:8},children:a.jsx(vh,{value:n.backgroundColor,onChange:j=>c({backgroundColor:j.toHexString()}),showText:!0,format:"hex"})})]}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.opacity")}),a.jsx(ni,{min:0,max:1,step:.01,value:n.backgroundOpacity,onChange:j=>c({backgroundOpacity:Array.isArray(j)?j[0]:j}),marks:{0:"0%",.5:"50%",1:"100%"},style:{marginTop:8}})]})]})}),a.jsx(le,{size:"small",title:a.jsxs(B,{children:[a.jsx(Nt,{}),o("settings.cards.visual_effects")]}),children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.glass")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.glass.desc")})]}),a.jsx(gt,{checked:n.glass,onChange:j=>c({glass:j})})]}),n.glass&&a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.blur")}),a.jsx(ni,{min:0,max:30,step:1,value:n.backgroundBlur,onChange:j=>c({backgroundBlur:Array.isArray(j)?j[0]:j}),marks:{0:"0px",15:"15px",30:"30px"},style:{marginTop:8}})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.animations")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.animations.ui_desc")})]}),a.jsx(gt,{checked:n.animationsEnabled,onChange:j=>c({animationsEnabled:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.chart_animations")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.animations.chart_desc")})]}),a.jsx(gt,{checked:n.enableChartAnimations,onChange:j=>c({enableChartAnimations:j})})]})]})})]}),A=()=>a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(le,{size:"small",title:a.jsxs(B,{children:[a.jsx(tn,{}),o("settings.cards.storage")]}),children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[a.jsx(nn,{type:"info",message:o("settings.data.current_storage",{path:h||o("settings.data.not_configured")||"Not configured"}),style:{marginBottom:12}}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.data.user_root.label")}),a.jsx(Qt,{placeholder:o("settings.data.user_root.placeholder"),value:d,onChange:j=>f(j.target.value),style:{marginTop:8}}),a.jsx(_e.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0 8px 0"},children:o("settings.data.note")}),a.jsx(me,{loading:g,type:"primary",onClick:T,block:!0,children:o("settings.data.save")})]})]})}),a.jsx(le,{size:"small",title:a.jsxs(B,{children:[a.jsx(qo,{}),o("settings.cards.import_export")]}),children:a.jsx(B,{direction:"vertical",style:{width:"100%"},children:a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("offline_import.title")}),a.jsx(_e.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0"},children:o("offline_import.desc")}),a.jsx(cj.Dragger,{accept:".zip,.tar.gz,.tgz",multiple:!1,showUploadList:!1,disabled:v,beforeUpload:async j=>{try{S(!0);const R=await Rj(j),L=((R==null?void 0:R.new_run_ids)||[]).length;Q.success(o("offline_import.success",{count:L}))}catch(R){Q.error(typeof(R==null?void 0:R.message)=="string"?R.message:o("offline_import.failed"))}finally{S(!1)}return!1},style:{padding:"12px"},children:a.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[a.jsx("div",{style:{marginBottom:4,fontSize:"14px"},children:o("offline_import.drag")}),a.jsx("div",{style:{fontSize:"11px",color:l.colorTextSecondary},children:o("offline_import.supports")}),v&&a.jsx("div",{style:{marginTop:4,color:l.colorPrimary,fontSize:"12px"},children:o("offline_import.importing")})]})})]})})}),a.jsx(RM,{})]}),M=()=>a.jsxs(B,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(le,{size:"small",title:a.jsxs(B,{children:[a.jsx(Nt,{}),o("settings.cards.performance")]}),children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.auto_refresh")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.auto_refresh.desc")})]}),a.jsx(gt,{checked:n.autoRefresh,onChange:j=>c({autoRefresh:j})})]}),n.autoRefresh&&a.jsx("div",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.refresh_interval")}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[a.jsx(lc,{min:1,max:60,value:n.refreshInterval,onChange:j=>c({refreshInterval:j||5}),style:{width:80}}),a.jsx("span",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.units.seconds")})]})]})}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.charts.default_height")}),a.jsx(ni,{min:200,max:600,step:20,value:n.defaultChartHeight,onChange:j=>c({defaultChartHeight:Array.isArray(j)?j[0]:j}),marks:{200:"200px",300:"300px",400:"400px",600:"600px"},style:{marginTop:8}})]}),a.jsx("div",{children:a.jsxs("div",{style:{marginTop:8},children:[a.jsx(_e.Text,{strong:!0,children:o("settings.charts.max_points")}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[a.jsx(lc,{min:100,max:1e4,step:100,value:n.maxDataPoints,onChange:j=>c({maxDataPoints:j||1e3}),style:{width:120}}),a.jsx("span",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.units.points")})]})]})})]})}),a.jsx(le,{size:"small",title:a.jsxs(B,{children:[a.jsx(uj,{}),o("settings.cards.advanced")]}),children:a.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.charts.grid_lines")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.grid_lines.desc")})]}),a.jsx(gt,{checked:n.showGridLines,onChange:j=>c({showGridLines:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.sounds")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.sounds.desc")})]}),a.jsx(gt,{checked:n.enableSounds,onChange:j=>c({enableSounds:j})})]}),a.jsx(Or,{style:{margin:"16px 0"}}),a.jsx(_e.Text,{strong:!0,style:{display:"block",marginBottom:12},children:o("settings.performance.tabs_title","Performance Monitor Tabs")}),a.jsxs(B,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(_e.Text,{children:o("settings.performance.show_cpu_tab","Show CPU Tab")}),a.jsx(gt,{checked:n.showCpuTab,onChange:j=>c({showCpuTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(_e.Text,{children:o("settings.performance.show_memory_disk_tab","Show Memory & Disk Tab")}),a.jsx(gt,{checked:n.showMemoryDiskTab,onChange:j=>c({showMemoryDiskTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(_e.Text,{children:o("settings.performance.show_gpu_metrics_tab","Show GPU Metrics Tab")}),a.jsx(gt,{checked:n.showGpuMetricsTab,onChange:j=>c({showGpuMetricsTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(_e.Text,{children:o("settings.performance.show_gpu_telemetry_tab","Show GPU Telemetry Tab")}),a.jsx(gt,{checked:n.showGpuTelemetryTab,onChange:j=>c({showGpuTelemetryTab:j})})]})]})]})})]});return a.jsx(lj,{title:a.jsxs(B,{children:[a.jsx(Uc,{}),a.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:o("settings.drawer.title")})]}),width:600,open:e,onClose:t,destroyOnClose:!0,styles:{body:{padding:"16px"}},children:a.jsx(As,{defaultActiveKey:"appearance",items:[{key:"appearance",label:a.jsxs(B,{children:[a.jsx(di,{}),a.jsx("span",{children:o("settings.tabs.appearance")})]}),children:k()},{key:"layout",label:a.jsxs(B,{children:[a.jsx(xh,{}),a.jsx("span",{children:o("settings.tabs.layout")})]}),children:P()},{key:"data",label:a.jsxs(B,{children:[a.jsx(tn,{}),a.jsx("span",{children:o("settings.tabs.data")})]}),children:A()},{key:"performance",label:a.jsxs(B,{children:[a.jsx(Nt,{}),a.jsx("span",{children:o("settings.tabs.performance")})]}),children:M()},{key:"system_info",label:a.jsxs(B,{children:[a.jsx(Jo,{}),a.jsx("span",{children:o("settings.tabs.system_info")})]}),children:a.jsx(CM,{})}],tabPosition:"top",size:"small"})})}const{Header:EM,Content:kM,Footer:MM}=Am;function DM(){var R;const e=jm(),n=[e.pathname.startsWith("/performance")?"performance":e.pathname.startsWith("/remote")?"remote":e.pathname.startsWith("/artifacts")?"artifacts":(e.pathname.startsWith("/runs/"),"experiments")],{t:s,i18n:o}=Ue(),l={themeMode:"auto",accentColor:"#1677ff",density:"default",glass:!0,backgroundType:"gradient",backgroundImageUrl:"",backgroundGradient:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",backgroundColor:"#0b1220",backgroundOpacity:.9,backgroundBlur:8,autoRefresh:!0,refreshInterval:5,animationsEnabled:!0,enableSounds:!1,defaultChartHeight:320,showGridLines:!0,enableChartAnimations:!0,maxDataPoints:1e3,showCpuTab:!0,showMemoryDiskTab:!0,showGpuMetricsTab:!0,showGpuTelemetryTab:!0},[c,d]=b.useState(()=>{try{const L=localStorage.getItem("ui_settings");return L?{...l,...JSON.parse(L)}:l}catch{return l}});b.useEffect(()=>{try{localStorage.setItem("ui_settings",JSON.stringify(c))}catch{}},[c]);const[f,h]=b.useState(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);b.useEffect(()=>{if(!window.matchMedia)return;const L=window.matchMedia("(prefers-color-scheme: dark)"),$=z=>h(z.matches);try{L.addEventListener("change",$)}catch{L.addListener($)}return()=>{try{L.removeEventListener("change",$)}catch{L.removeListener($)}}},[]);const p=c.themeMode==="dark"||c.themeMode==="auto"&&f,g=b.useMemo(()=>{const L=[p?Qn.darkAlgorithm:Qn.defaultAlgorithm];return c.density==="compact"&&L.push(Qn.compactAlgorithm),L},[p,c.density]),x=b.useMemo(()=>{const L={colorPrimary:c.accentColor};return c.density==="loose"&&(L.borderRadius=10,L.padding=16),L},[c.accentColor,c.density]),v=b.useMemo(()=>{const L={position:"fixed",inset:0,zIndex:0,pointerEvents:"none",opacity:c.backgroundOpacity,transition:"background 0.3s ease"};return c.backgroundType==="image"&&c.backgroundImageUrl?(L.backgroundImage=`url(${c.backgroundImageUrl})`,L.backgroundSize="cover",L.backgroundRepeat="no-repeat",L.backgroundPosition="center center"):c.backgroundType==="gradient"?L.backgroundImage=c.backgroundGradient:L.background=c.backgroundColor,L},[c.backgroundType,c.backgroundImageUrl,c.backgroundGradient,c.backgroundColor,c.backgroundOpacity]),S=b.useMemo(()=>{const L={borderRadius:8,transition:c.animationsEnabled?"all 0.3s ease":"none"};return c.glass?{...L,background:p?"rgba(0,0,0,0.25)":"rgba(255,255,255,0.6)",backdropFilter:`blur(${c.backgroundBlur}px)`,WebkitBackdropFilter:`blur(${c.backgroundBlur}px)`,boxShadow:p?"0 4px 30px rgba(0,0,0,0.3)":"0 4px 30px rgba(0,0,0,0.1)"}:{...L,background:p?"#111a2c":"#fff"}},[c.glass,c.backgroundBlur,c.animationsEnabled,p]),[T,k]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const L=await Yc();(!L.user_root_dir||L.user_root_dir.trim()==="")&&k(!0)}catch{}})()},[]);const[P,A]=b.useState("loading"),[M,j]=b.useState(0);return b.useEffect(()=>{let L=!0;const $=async()=>{try{await Mm(),L&&(A("ok"),j(0))}catch{L&&j(W=>{const Y=W+1;return Y>=2&&A("down"),Y})}};$();const z=(c.autoRefresh?c.refreshInterval:5)*1e3,N=setInterval($,z);return()=>{L=!1,clearInterval(N)}},[c.autoRefresh,c.refreshInterval]),a.jsx(dj,{theme:{algorithm:g,token:{...x,motion:c.animationsEnabled}},children:a.jsxs(rC,{value:{settings:c,setSettings:d},children:[a.jsx("div",{style:v}),a.jsxs(Am,{style:{minHeight:"100vh",position:"relative",zIndex:1,background:"transparent",transition:c.animationsEnabled?"all 0.3s ease":"none"},children:[a.jsxs(EM,{style:{display:"flex",alignItems:"center"},children:[a.jsx("div",{style:{color:"#fff",fontWeight:700,marginRight:24},children:s("app.title")}),a.jsx(fj,{theme:"dark",mode:"horizontal",selectedKeys:n,items:[{key:"experiments",icon:a.jsx(Bc,{}),label:a.jsx(_o,{to:"/",children:s("menu.experiments")})},{key:"artifacts",icon:a.jsx(tn,{}),label:a.jsx(_o,{to:"/artifacts",children:s("menu.artifacts")})},{key:"performance",icon:a.jsx(Xo,{}),label:a.jsx(_o,{to:"/performance",children:s("menu.performance")})},{key:"remote",icon:a.jsx(hi,{}),label:a.jsx(_o,{to:"/remote",children:s("menu.remote")})}],style:{flex:1,minWidth:0}}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[P==="ok"&&a.jsx(Ce,{color:"green",children:s("tag.api_ok")}),P==="loading"&&a.jsx(Ce,{color:"processing",children:s("tag.api_loading")}),P==="down"&&a.jsx(Ce,{children:s("tag.api_down")}),a.jsx(jt,{size:"small",value:(R=o.language)!=null&&R.startsWith("zh")?"zh":"en",onChange:L=>o.changeLanguage(L),style:{width:88},options:[{value:"en",label:"EN"},{value:"zh",label:"中文"}]}),a.jsx(me,{type:"link",icon:a.jsx(Uc,{style:{color:"#fff"}}),onClick:()=>k(!0)})]})]}),a.jsx(kM,{style:{padding:"24px"},children:a.jsx("div",{style:{...S,padding:24,minHeight:360},children:a.jsx(Fk,{children:a.jsxs(z1,{children:[a.jsx(ls,{path:"/",element:a.jsx($k,{})}),a.jsx(ls,{path:"/runs/:id",element:a.jsx(gC,{})}),a.jsx(ls,{path:"/artifacts",element:a.jsx(Bk,{})}),a.jsx(ls,{path:"/artifacts/:name",element:a.jsx(Yk,{})}),a.jsx(ls,{path:"/performance",element:a.jsx(SM,{})}),a.jsx(ls,{path:"/remote",element:a.jsx(gM,{})})]})})})}),a.jsxs(MM,{style:{textAlign:"center"},children:[" ",new Date().getFullYear()," ",s("app.title")]})]}),a.jsx(AM,{open:T,onClose:()=>k(!1),value:c,onChange:d})]})})}const be=e=>typeof e=="string",Zs=()=>{let e,t;const n=new Promise((s,o)=>{e=s,t=o});return n.resolve=e,n.reject=t,n},im=e=>e==null?"":""+e,IM=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},LM=/###/g,om=e=>e&&e.indexOf("###")>-1?e.replace(LM,"."):e,am=e=>!e||be(e),ui=(e,t,n)=>{const s=be(t)?t.split("."):t;let o=0;for(;o<s.length-1;){if(am(e))return{};const l=om(s[o]);!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={},++o}return am(e)?{}:{obj:e,k:om(s[o])}},lm=(e,t,n)=>{const{obj:s,k:o}=ui(e,t,Object);if(s!==void 0||t.length===1){s[o]=n;return}let l=t[t.length-1],c=t.slice(0,t.length-1),d=ui(e,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=ui(e,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=n},OM=(e,t,n,s)=>{const{obj:o,k:l}=ui(e,t,Object);o[l]=o[l]||[],o[l].push(n)},Ho=(e,t)=>{const{obj:n,k:s}=ui(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},zM=(e,t,n)=>{const s=Ho(e,n);return s!==void 0?s:Ho(t,n)},Xy=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?be(e[s])||e[s]instanceof String||be(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):Xy(e[s],t[s],n):e[s]=t[s]);return e},hs=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var FM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const NM=e=>be(e)?e.replace(/[&<>"'\/]/g,t=>FM[t]):e;class $M{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const VM=[" ",",","?","!",";"],BM=new $M(20),UM=(e,t,n)=>{t=t||"",n=n||"";const s=VM.filter(c=>t.indexOf(c)<0&&n.indexOf(c)<0);if(s.length===0)return!0;const o=BM.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!o.test(e);if(!l){const c=e.indexOf(n);c>0&&!o.test(e.substring(0,c))&&(l=!0)}return l},Nc=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(n);let o=e;for(let l=0;l<s.length;){if(!o||typeof o!="object")return;let c,d="";for(let f=l;f<s.length;++f)if(f!==l&&(d+=n),d+=s[f],c=o[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&f<s.length-1)continue;l+=f-l+1;break}o=c}return o},_i=e=>e==null?void 0:e.replace("_","-"),WM={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,s;(s=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||s.call(n,console,t)}};class Go{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||WM,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,o){return o&&!this.debug?null:(be(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Go(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Go(this.logger,t)}}var On=new Go;class fa{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(n)||0;this.observers[s].set(n,o+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o.apply(o,[t,...n])})}}class cm extends fa{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s,o={}){var h,p;const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;t.indexOf(".")>-1?d=t.split("."):(d=[t,n],s&&(Array.isArray(s)?d.push(...s):be(s)&&l?d.push(...s.split(l)):d.push(s)));const f=Ho(this.data,d);return!f&&!n&&!s&&t.indexOf(".")>-1&&(t=d[0],n=d[1],s=d.slice(2).join(".")),f||!c||!be(s)?f:Nc((p=(h=this.data)==null?void 0:h[t])==null?void 0:p[n],s,l)}addResource(t,n,s,o,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[t,n];s&&(d=d.concat(c?s.split(c):s)),t.indexOf(".")>-1&&(d=t.split("."),o=n,n=d[1]),this.addNamespaces(n),lm(this.data,d,o),l.silent||this.emit("added",t,n,s,o)}addResources(t,n,s,o={silent:!1}){for(const l in s)(be(s[l])||Array.isArray(s[l]))&&this.addResource(t,n,l,s[l],{silent:!0});o.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,o,l,c={silent:!1,skipCopy:!1}){let d=[t,n];t.indexOf(".")>-1&&(d=t.split("."),o=s,s=n,n=d[1]),this.addNamespaces(n);let f=Ho(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?Xy(f,s,l):f={...f,...s},lm(this.data,d,f),c.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var Jy={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,o){return e.forEach(l=>{var c;t=((c=this.processors[l])==null?void 0:c.process(t,n,s,o))??t}),t}};const Zy=Symbol("i18next/PATH_KEY");function HM(){const e=[],t=Object.create(null);let n;return t.get=(s,o)=>{var l;return(l=n==null?void 0:n.revoke)==null||l.call(n),o===Zy?e:(e.push(o),n=Proxy.revocable(s,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function $c(e,t){const{[Zy]:n}=e(HM());return n.join((t==null?void 0:t.keySeparator)??".")}const um={},dm=e=>!be(e)&&typeof e!="boolean"&&typeof e!="number";class Ko extends fa{constructor(t,n={}){super(),IM(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=On.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const s={...n};if(t==null)return!1;const o=this.resolve(t,s);return(o==null?void 0:o.res)!==void 0}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const c=s&&t.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!UM(t,s,o);if(c&&!d){const f=t.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:t,namespaces:be(l)?[l]:l};const h=t.split(s);(s!==o||s===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),t=h.join(o)}return{key:t,namespaces:be(l)?[l]:l}}translate(t,n,s){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),t==null)return"";typeof t=="function"&&(t=$c(t,{...this.options,...o})),Array.isArray(t)||(t=[String(t)]);const l=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(t[t.length-1],o),h=f[f.length-1];let p=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=o.lng||this.language,x=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return x?l?{res:`${h}${p}${d}`,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(o)}:`${h}${p}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(o)}:d;const v=this.resolve(t,o);let S=v==null?void 0:v.res;const T=(v==null?void 0:v.usedKey)||d,k=(v==null?void 0:v.exactUsedKey)||d,P=["[object Number]","[object Function]","[object RegExp]"],A=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject,j=o.count!==void 0&&!be(o.count),R=Ko.hasDefaultValue(o),L=j?this.pluralResolver.getSuffix(g,o.count,o):"",$=o.ordinal&&j?this.pluralResolver.getSuffix(g,o.count,{ordinal:!1}):"",z=j&&!o.ordinal&&o.count===0,N=z&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${L}`]||o[`defaultValue${$}`]||o.defaultValue;let W=S;M&&!S&&R&&(W=N);const Y=dm(W),se=Object.prototype.toString.apply(W);if(M&&W&&Y&&P.indexOf(se)<0&&!(be(A)&&Array.isArray(W))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const J=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,W,{...o,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(v.res=J,v.usedParams=this.getUsedParamsDetails(o),v):J}if(c){const J=Array.isArray(W),re=J?[]:{},ue=J?k:T;for(const pe in W)if(Object.prototype.hasOwnProperty.call(W,pe)){const ie=`${ue}${c}${pe}`;R&&!S?re[pe]=this.translate(ie,{...o,defaultValue:dm(N)?N[pe]:void 0,joinArrays:!1,ns:f}):re[pe]=this.translate(ie,{...o,joinArrays:!1,ns:f}),re[pe]===ie&&(re[pe]=W[pe])}S=re}}else if(M&&be(A)&&Array.isArray(S))S=S.join(A),S&&(S=this.extendTranslation(S,t,o,s));else{let J=!1,re=!1;!this.isValidLookup(S)&&R&&(J=!0,S=N),this.isValidLookup(S)||(re=!0,S=d);const pe=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&re?void 0:S,ie=R&&N!==S&&this.options.updateMissing;if(re||J||ie){if(this.logger.log(ie?"updateKey":"missingKey",g,h,d,ie?N:S),c){const ae=this.resolve(d,{...o,keySeparator:!1});ae&&ae.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let ae=0;ae<K.length;ae++)ee.push(K[ae]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(o.lng||this.language):ee.push(o.lng||this.language);const Z=(ae,ve,qe)=>{var de;const X=R&&qe!==S?qe:pe;this.options.missingKeyHandler?this.options.missingKeyHandler(ae,h,ve,X,ie,o):(de=this.backendConnector)!=null&&de.saveMissing&&this.backendConnector.saveMissing(ae,h,ve,X,ie,o),this.emit("missingKey",ae,h,ve,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?ee.forEach(ae=>{const ve=this.pluralResolver.getSuffixes(ae,o);z&&o[`defaultValue${this.options.pluralSeparator}zero`]&&ve.indexOf(`${this.options.pluralSeparator}zero`)<0&&ve.push(`${this.options.pluralSeparator}zero`),ve.forEach(qe=>{Z([ae],d+qe,o[`defaultValue${qe}`]||N)})}):Z(ee,d,N))}S=this.extendTranslation(S,t,o,v,s),re&&S===d&&this.options.appendNamespaceToMissingKey&&(S=`${h}${p}${d}`),(re||J)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${d}`:d,J?S:void 0,o))}return l?(v.res=S,v.usedParams=this.getUsedParamsDetails(o),v):S}extendTranslation(t,n,s,o,l){var f,h;if((f=this.i18nFormat)!=null&&f.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=be(t)&&(((h=s==null?void 0:s.interpolation)==null?void 0:h.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const v=t.match(this.interpolator.nestingRegexp);g=v&&v.length}let x=s.replace&&!be(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),t=this.interpolator.interpolate(t,x,s.lng||this.language||o.usedLng,s),p){const v=t.match(this.interpolator.nestingRegexp),S=v&&v.length;g<S&&(s.nest=!1)}!s.lng&&o&&o.res&&(s.lng=this.language||o.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>(l==null?void 0:l[0])===v[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=be(c)?[c]:c;return t!=null&&(d!=null&&d.length)&&s.applyPostProcessor!==!1&&(t=Jy.handle(d,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,n={}){let s,o,l,c,d;return be(t)&&(t=[t]),t.forEach(f=>{if(this.isValidLookup(s))return;const h=this.extractFromKey(f,n),p=h.key;o=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const x=n.count!==void 0&&!be(n.count),v=x&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(be(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(k=>{var P,A;this.isValidLookup(s)||(d=k,!um[`${T[0]}-${k}`]&&((P=this.utils)!=null&&P.hasLoadedNamespace)&&!((A=this.utils)!=null&&A.hasLoadedNamespace(d))&&(um[`${T[0]}-${k}`]=!0,this.logger.warn(`key "${o}" for languages "${T.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(M=>{var L;if(this.isValidLookup(s))return;c=M;const j=[p];if((L=this.i18nFormat)!=null&&L.addLookupKeys)this.i18nFormat.addLookupKeys(j,p,M,k,n);else{let $;x&&($=this.pluralResolver.getSuffix(M,n.count,n));const z=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&$.indexOf(N)===0&&j.push(p+$.replace(N,this.options.pluralSeparator)),j.push(p+$),v&&j.push(p+z)),S){const W=`${p}${this.options.contextSeparator||"_"}${n.context}`;j.push(W),x&&(n.ordinal&&$.indexOf(N)===0&&j.push(W+$.replace(N,this.options.pluralSeparator)),j.push(W+$),v&&j.push(W+z))}}let R;for(;R=j.pop();)this.isValidLookup(s)||(l=R,s=this.getResource(M,k,R,n))}))})}),{res:s,usedKey:o,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s,o={}){var l;return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(t,n,s,o):this.resourceStore.getResource(t,n,s,o)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!be(t.replace);let o=s?t.replace:t;if(s&&typeof t.count<"u"&&(o.count=t.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const l of n)delete o[l]}return o}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}class fm{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=On.create("languageUtils")}getScriptPartFromCode(t){if(t=_i(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=_i(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(be(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const o=this.getScriptPartFromCode(s);if(this.isSupportedCode(o))return n=o;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),be(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),o=[],l=c=>{c&&(this.isSupportedCode(c)?o.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return be(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(t))):be(t)&&l(this.formatLanguageCode(t)),s.forEach(c=>{o.indexOf(c)<0&&l(this.formatLanguageCode(c))}),o}}const hm={zero:0,one:1,two:2,few:3,many:4,other:5},pm={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class GM{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=On.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const s=_i(t==="dev"?"en":t),o=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(s,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),pm;if(!t.match(/-|_/))return pm;const f=this.languageUtils.getLanguagePartFromCode(t);c=this.getRule(f,n)}return this.pluralRulesCache[l]=c,c}needsPlural(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,s={}){return this.getSuffixes(t,s).map(o=>`${n}${o}`)}getSuffixes(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((o,l)=>hm[o]-hm[l]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(t,n,s={}){const o=this.getRule(t,s);return o?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,s))}}const mm=(e,t,n,s=".",o=!0)=>{let l=zM(e,t,n);return!l&&o&&be(n)&&(l=Nc(e,n,s),l===void 0&&(l=Nc(t,n,s))),l},rc=e=>e.replace(/\$/g,"$$$$");class KM{constructor(t={}){var n;this.logger=On.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(s=>s),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:o,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:f,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:x,nestingPrefixEscaped:v,nestingSuffix:S,nestingSuffixEscaped:T,nestingOptionsSeparator:k,maxReplaces:P,alwaysFormat:A}=t.interpolation;this.escape=n!==void 0?n:NM,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?hs(l):c||"{{",this.suffix=d?hs(d):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=x?hs(x):v||hs("$t("),this.nestingSuffix=S?hs(S):T||hs(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=P||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,s,o){var v;let l,c,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=S=>{if(S.indexOf(this.formatSeparator)<0){const A=mm(n,f,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,s,{...o,...n,interpolationkey:S}):A}const T=S.split(this.formatSeparator),k=T.shift().trim(),P=T.join(this.formatSeparator).trim();return this.format(mm(n,f,k,this.options.keySeparator,this.options.ignoreJSONStructure),P,s,{...o,...n,interpolationkey:k})};this.resetRegExp();const p=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((v=o==null?void 0:o.interpolation)==null?void 0:v.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>rc(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?rc(this.escape(S)):rc(S)}].forEach(S=>{for(d=0;l=S.regex.exec(t);){const T=l[1].trim();if(c=h(T),c===void 0)if(typeof p=="function"){const P=p(t,l,o);c=be(P)?P:""}else if(o&&Object.prototype.hasOwnProperty.call(o,T))c="";else if(g){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${t}`),c="";else!be(c)&&!this.useRawValueToEscape&&(c=im(c));const k=S.safeValue(c);if(t=t.replace(l[0],k),g?(S.regex.lastIndex+=c.length,S.regex.lastIndex-=l[0].length):S.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),t}nest(t,n,s={}){let o,l,c;const d=(f,h)=>{const p=this.nestingOptionsSeparator;if(f.indexOf(p)<0)return f;const g=f.split(new RegExp(`${p}[ ]*{`));let x=`{${g[1]}`;f=g[0],x=this.interpolate(x,c);const v=x.match(/'/g),S=x.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!S||S.length%2!==0)&&(x=x.replace(/'/g,'"'));try{c=JSON.parse(x),h&&(c={...h,...c})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,T),`${f}${p}${x}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,f};for(;o=this.nestingRegexp.exec(t);){let f=[];c={...s},c=c.replace&&!be(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const h=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(h!==-1&&(f=o[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),o[1]=o[1].slice(0,h)),l=n(d.call(this,o[1].trim(),c),c),l&&o[0]===t&&!be(l))return l;be(l)||(l=im(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${t}`),l=""),f.length&&(l=f.reduce((p,g)=>this.format(p,g,s.lng,{...s,interpolationkey:o[1].trim()}),l.trim())),t=t.replace(o[0],l),this.regexp.lastIndex=0}return t}}const qM=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);t==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):t==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(c=>{if(c){const[d,...f]=c.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),p=d.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:t,formatOptions:n}},gm=e=>{const t={};return(n,s,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const c=s+JSON.stringify(l);let d=t[c];return d||(d=e(_i(s),o),t[c]=d),d(n)}},YM=e=>(t,n,s)=>e(_i(n),s)(t);class XM{constructor(t={}){this.logger=On.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?gm:YM;this.formats={number:s((o,l)=>{const c=new Intl.NumberFormat(o,{...l});return d=>c.format(d)}),currency:s((o,l)=>{const c=new Intl.NumberFormat(o,{...l,style:"currency"});return d=>c.format(d)}),datetime:s((o,l)=>{const c=new Intl.DateTimeFormat(o,{...l});return d=>c.format(d)}),relativetime:s((o,l)=>{const c=new Intl.RelativeTimeFormat(o,{...l});return d=>c.format(d,l.range||"day")}),list:s((o,l)=>{const c=new Intl.ListFormat(o,{...l});return d=>c.format(d)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=gm(n)}format(t,n,s,o={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(f=>f.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,f)=>{var g;const{formatName:h,formatOptions:p}=qM(f);if(this.formats[h]){let x=d;try{const v=((g=o==null?void 0:o.formatParams)==null?void 0:g[o.interpolationkey])||{},S=v.locale||v.lng||o.locale||o.lng||s;x=this.formats[h](d,S,{...p,...o,...v})}catch(v){this.logger.warn(v)}return x}else this.logger.warn(`there was no format function for ${h}`);return d},t)}}const JM=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class ZM extends fa{constructor(t,n,s,o={}){var l,c;super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=On.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(c=(l=this.backend)==null?void 0:l.init)==null||c.call(l,s,o.backend,o)}queueLoad(t,n,s,o){const l={},c={},d={},f={};return t.forEach(h=>{let p=!0;n.forEach(g=>{const x=`${h}|${g}`;!s.reload&&this.store.hasResourceBundle(h,g)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?c[x]===void 0&&(c[x]=!0):(this.state[x]=1,p=!1,c[x]===void 0&&(c[x]=!0),l[x]===void 0&&(l[x]=!0),f[g]===void 0&&(f[g]=!0)))}),p||(d[h]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(t,n,s){const o=t.split("|"),l=o[0],c=o[1];n&&this.emit("failedLoading",l,c,n),!n&&s&&this.store.addResourceBundle(l,c,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const d={};this.queue.forEach(f=>{OM(f.loaded,[l],c),JM(f,t),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{d[h]||(d[h]={});const p=f.loaded[h];p.length&&p.forEach(g=>{d[h][g]===void 0&&(d[h][g]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(t,n,s,o=0,l=this.retryTimeout,c){if(!t.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:o,wait:l,callback:c});return}this.readingCalls++;const d=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,o+1,l*2,c)},l);return}c(h,p)},f=this.backend[s].bind(this.backend);if(f.length===2){try{const h=f(t,n);h&&typeof h.then=="function"?h.then(p=>d(null,p)).catch(d):d(null,h)}catch(h){d(h)}return}return f(t,n,d)}prepareLoading(t,n,s={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();be(t)&&(t=this.languageUtils.toResolveHierarchy(t)),be(n)&&(n=[n]);const l=this.queueLoad(t,n,s,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t,n=""){const s=t.split("|"),o=s[0],l=s[1];this.read(o,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${l} for language ${o} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${l} for language ${o}`,d),this.loaded(t,c,d)})}saveMissing(t,n,s,o,l,c={},d=()=>{}){var f,h,p,g,x;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((x=this.backend)!=null&&x.create){const v={...c,isUpdate:l},S=this.backend.create.bind(this.backend);if(S.length<6)try{let T;S.length===5?T=S(t,n,s,o,v):T=S(t,n,s,o),T&&typeof T.then=="function"?T.then(k=>d(null,k)).catch(d):d(null,T)}catch(T){d(T)}else S(t,n,s,o,d,v)}!t||!t[0]||this.store.addResource(t[0],n,s,o)}}}const ym=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),be(e[1])&&(t.defaultValue=e[1]),be(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),xm=e=>{var t,n;return be(e.ns)&&(e.ns=[e.ns]),be(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),be(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Eo=()=>{},QM=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class bi extends fa{constructor(t={},n){if(super(),this.options=xm(t),this.services={},this.logger=On,this.modules={external:[]},QM(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(be(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=ym();this.options={...s,...this.options,...xm(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?On.init(o(this.modules.logger),this.options):On.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=XM;const p=new fm(this.options);this.store=new cm(this.options.resources,this.options);const g=this.services;g.logger=On,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new GM(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=o(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new KM(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new ZM(o(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.languageDetector&&(g.languageDetector=o(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=o(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Ko(this.services,this.options),this.translator.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Eo),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const d=Zs(),f=()=>{const h=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(g),n(p,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(t,n=Eo){var l,c;let s=n;const o=be(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const d=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&d.indexOf(g)<0&&d.push(g)})};o?f(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),(c=(l=this.options.preload)==null?void 0:l.forEach)==null||c.call(l,h=>f(h)),this.services.backendConnector.load(d,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(h)})}else s(null)}reloadResources(t,n,s){const o=Zs();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=Eo),this.services.backendConnector.reload(t,n,l=>{o.resolve(),s(l)}),o}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Jy.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const s=Zs();this.emit("languageChanging",t);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,f)=>{f?this.isLanguageChangingTo===t&&(o(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,s.resolve((...h)=>this.t(...h)),n&&n(d,(...h)=>this.t(...h))},c=d=>{var p,g;!t&&!d&&this.services.languageDetector&&(d=[]);const f=be(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(be(d)?[d]:d);h&&(this.language||o(h),this.translator.language||this.translator.changeLanguage(h),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,h)),this.loadResources(h,x=>{l(x,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),s}getFixedT(t,n,s){const o=(l,c,...d)=>{let f;typeof c!="object"?f=this.options.overloadTranslationOptionHandler([l,c].concat(d)):f={...c},f.lng=f.lng||o.lng,f.lngs=f.lngs||o.lngs,f.ns=f.ns||o.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||s||o.keyPrefix);const h=this.options.keySeparator||".";let p;return f.keyPrefix&&Array.isArray(l)?p=l.map(g=>(typeof g=="function"&&(g=$c(g,{...this.options,...c})),`${f.keyPrefix}${h}${g}`)):(typeof l=="function"&&(l=$c(l,{...this.options,...c})),p=f.keyPrefix?`${f.keyPrefix}${h}${l}`:l),this.t(p,f)};return be(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=s,o}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,f)=>{const h=this.services.backendConnector.state[`${d}|${f}`];return h===-1||h===0||h===2};if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,t)&&(!o||c(l,t)))}loadNamespaces(t,n){const s=Zs();return this.options.ns?(be(t)&&(t=[t]),t.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=Zs();be(t)&&(t=[t]);const o=this.options.preload||[],l=t.filter(c=>o.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=o.concat(l),this.loadResources(c=>{s.resolve(),n&&n(c)}),s):(n&&n(),Promise.resolve())}dir(t){var o,l;if(t||(t=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const c=new Intl.Locale(t);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((l=this.services)==null?void 0:l.languageUtils)||new fm(ym());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new bi(t,n)}cloneInstance(t={},n=Eo){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const o={...this.options,...t,isClone:!0},l=new bi(o);if((t.debug!==void 0||t.prefix!==void 0)&&(l.logger=l.logger.clone(t)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const d=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((p,g)=>(p[g]={...f[h][g]},p),f[h]),f),{});l.store=new cm(d,o),l.services.resourceStore=l.store}return l.translator=new Ko(l.services,o),l.translator.on("*",(d,...f)=>{l.emit(d,...f)}),l.init(o,n),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const At=bi.createInstance();At.createInstance=bi.createInstance;At.createInstance;At.dir;At.init;At.loadResources;At.reloadResources;At.use;At.changeLanguage;At.getFixedT;At.t;At.exists;At.setDefaultNamespace;At.hasLoadedNamespace;At.loadNamespaces;At.loadLanguages;var Qy=[],eD=Qy.forEach,tD=Qy.slice;function nD(e){return eD.call(tD.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var vm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,rD=function(t,n,s){var o=s||{};o.path=o.path||"/";var l=encodeURIComponent(n),c="".concat(t,"=").concat(l);if(o.maxAge>0){var d=o.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+="; Max-Age=".concat(Math.floor(d))}if(o.domain){if(!vm.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain=".concat(o.domain)}if(o.path){if(!vm.test(o.path))throw new TypeError("option path is invalid");c+="; Path=".concat(o.path)}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+="; Expires=".concat(o.expires.toUTCString())}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite){var f=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(f){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c},wm={create:function(t,n,s,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+s*60*1e3)),o&&(l.domain=o),document.cookie=rD(t,encodeURIComponent(n),l)},read:function(t){for(var n="".concat(t,"="),s=document.cookie.split(";"),o=0;o<s.length;o++){for(var l=s[o];l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(n)===0)return l.substring(n.length,l.length)}return null},remove:function(t){this.create(t,"",-1)}},sD={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var s=wm.read(t.lookupCookie);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&wm.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},iD={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));for(var o=s.substring(1),l=o.split("&"),c=0;c<l.length;c++){var d=l[c].indexOf("=");if(d>0){var f=l[c].substring(0,d);f===t.lookupQuerystring&&(n=l[c].substring(d+1))}}}return n}},Qs=null,_m=function(){if(Qs!==null)return Qs;try{Qs=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Qs=!1}return Qs},oD={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&_m()){var s=window.localStorage.getItem(t.lookupLocalStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&_m()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},ei=null,bm=function(){if(ei!==null)return ei;try{ei=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ei=!1}return ei},aD={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&bm()){var s=window.sessionStorage.getItem(t.lookupSessionStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&bm()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},lD={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var s=0;s<navigator.languages.length;s++)n.push(navigator.languages[s]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},cD={name:"htmlTag",lookup:function(t){var n,s=t.htmlTag||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},uD={name:"path",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(s instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof s[t.lookupFromPathIndex]!="string")return;n=s[t.lookupFromPathIndex].replace("/","")}else n=s[0].replace("/","")}return n}},dD={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,s=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}},ex=!1;try{document.cookie,ex=!0}catch{}var tx=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ex||tx.splice(1,1);function fD(){return{order:tx,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var nx=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pj(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return hj(e,[{key:"init",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=nD(s,this.options||{},fD()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(l){return l.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(sD),this.addDetector(iD),this.addDetector(oD),this.addDetector(aD),this.addDetector(lD),this.addDetector(cD),this.addDetector(uD),this.addDetector(dD)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var s=this;n||(n=this.options.order);var o=[];return n.forEach(function(l){if(s.detectors[l]){var c=s.detectors[l].lookup(s.options);c&&typeof c=="string"&&(c=[c]),c&&(o=o.concat(c))}}),o=o.map(function(l){return s.options.convertDetectedLanguage(l)}),this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}},{key:"cacheUserLanguage",value:function(n,s){var o=this;s||(s=this.options.caches),s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||s.forEach(function(l){o.detectors[l]&&o.detectors[l].cacheUserLanguage(n,o.options)}))}}])}();nx.type="languageDetector";const hD={"app.title":"Runicorn Viewer","menu.runs":"Runs","menu.experiments":"Experiments","menu.comparison":"Comparison","menu.artifacts":"Artifacts","menu.performance":"Performance Monitor","menu.remote":"Remote","tag.api_ok":"API OK","tag.api_loading":"API…","tag.api_down":"API DOWN","table.project":"Project","table.name":"Name","table.run_id":"Run ID","table.status":"Status","table.best_metric":"Best Metric","table.pid":"PID","table.created":"Created","table.actions":"Actions","table.view":"View","table.duration":"Duration",pause:"Pause",Info:"Info",View:"View","Load Lineage Graph":"Load Lineage Graph",actions:"Actions",view:"View",edit:"Edit","common.dontShowAgain":"Don't show again",delete:"Delete",download:"Download",upload:"Upload",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close"},pD={"experiments.title":"Experiments","experiments.subtitle":"Track, compare, and analyze your experiments with metrics and logs","experiments.total_runs":"Total Runs","experiments.running":"Running","experiments.finished":"Finished","experiments.failed":"Failed","experiments.interrupted":"Interrupted","experiments.best_metric":"Best Metric","experiments.artifacts_created":"Artifacts","experiments.artifacts_created_tip":"{{count}} artifacts created","experiments.search_placeholder":"Search by name or ID...","experiments.compare":"Compare","experiments.export":"Export","experiments.delete":"Delete","experiments.cancel":"Cancel","experiments.fetch_failed":"Failed to fetch runs","experiments.delete_confirm_title":"Delete Runs","experiments.delete_confirm_content":"Delete {{count}} selected runs? This cannot be undone.","experiments.delete_success":"Successfully deleted {{count}} runs","experiments.delete_failed":"Failed to delete runs","experiments.export_started":"Exporting runs...","experiments.select_multiple":"Please select at least 2 runs to compare","experiments.compare_hint":"Use the comparison feature in the run detail page","experiments.select_one":"Please select at least one run to export","experiments.export_success":"Successfully exported {{count}} runs","experiments.export_failed":"Failed to export runs","experiments.export_json":"Export as JSON","experiments.export_csv":"Export as CSV","experiments.auto_refresh":"Auto-refresh","experiments.check_status":"Check Status","experiments.check_status_tooltip":"Check if running experiments are still alive and update their status","experiments.move_to_bin_title":"Move to Recycle Bin","experiments.soft_delete_confirm_content":"Move {{count}} selected runs to recycle bin?","experiments.soft_delete_note":"Files will be preserved and can be restored later.","experiments.move_to_bin":"Move to Bin","experiments.soft_delete_success":"Moved {{count}} runs to recycle bin","experiments.new_runs":"New runs detected","experiments.select_one_delete":"Please select at least one run to delete","experiments.delete_warning":"This cannot be undone!","experiments.no_runs":"No experiments found","experiments.table_total":"{{from}}-{{to}} of {{total}} items","runs.refresh":"Refresh","runs.auto_refresh_hint":"Auto refresh every 5s","runs.auto_refresh":"Auto Refresh","runs.filter.project":"Project:","runs.filter.name":"Name:","runs.filter.all":"All","runs.refreshing":"Refreshing...","run.title":"Run {{id}}","run.descriptions.status":"Status","run.descriptions.pid":"PID","run.descriptions.project":"Project","run.descriptions.name":"Name","run.descriptions.dir":"Run Dir","run.descriptions.logs":"Logs","run.descriptions.metrics":"Metrics Events","run.load_failed":"Failed to load run details","run.metrics_failed":"Failed to load metrics","metrics.title":"Metrics","metrics.more_columns":"More Columns","metrics.more_columns_tooltip":"Display charts in multiple columns for better comparison","metrics.none":"No step metrics yet.","logs.title":"Live Logs","logs.status.connected":"Connected","logs.status.connecting":"Connecting...","logs.status.disconnected":"Disconnected","logs.status.retry_in":"retry in {{sec}}s","logs.tooltip.autoscroll":"Automatically scroll to the latest line","logs.autoscroll":"Auto Scroll","logs.tooltip.filter_tqdm":"Hide tqdm progress frames to reduce noise","logs.filter_tqdm":"Filter tqdm","logs.clear":"Clear","logs.copy":"Copy","logs.copied":"Copied logs to clipboard","logs.copy_failed":"Copy failed","gpu.util":"Util","gpu.mem":"Memory","gpu.power":"Power","gpu.temp":"Temp","gpu.chart.util":"GPU Utilization %","gpu.chart.mem":"Memory Used %","gpu.chart.power":"Power (W)","gpu.chart.temp":"Temperature (°C)","gpu.not_available":"GPU telemetry not available","gpu.title":"GPU Telemetry","gpu.detail":"GPUs: {{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"Polling every 2s","gpu.monitor_title":"GPU Monitor","gpu.monitor_desc":"Real-time GPU metrics and performance telemetry","gpu.telemetry_charts":"GPU Telemetry","gpu.history_2min":"Last 2 minutes","gpu.no_nvidia_smi":"nvidia-smi not found","gpu.polling_every_2s":"Auto-polling every 2 seconds","system.title":"System Metrics","system.cpu":"CPU","system.memory":"Memory","system.disk":"Disk","system.cpu_cores":"Cores","system.logical":"logical","system.frequency":"Freq","system.available":"Available","system.swap":"Swap","system.free":"Free","system.used_percent":"Used","system.cpu_overall":"Overall CPU Usage","system.cpu_per_core":"Per-Core Utilization","system.freq_current":"Current Freq","system.freq_min":"Min Freq","system.freq_max":"Max Freq","performance.title":"Performance Monitor","performance.desc":"Real-time system performance monitoring (CPU, Memory, Disk, GPU)","performance.polling_hint":"Auto-polling every 2 seconds","performance.tab_cpu":"CPU","performance.tab_memory_disk":"Memory & Disk","performance.tab_gpu_metrics":"GPU Metrics","performance.tab_gpu_telemetry":"GPU Telemetry","performance.no_tabs":"No monitoring tabs enabled. Please enable tabs in Settings.","compare.title":"Compare Runs (Same Experiment)","compare.select.runs":"Runs:","compare.select.runs.placeholder":"Select runs to overlay","compare.select.metrics":"Metrics:","compare.select.metrics.placeholder":"Select metric keys","compare.stepx":"Step X:","compare.refresh":"Refresh","compare.tip":"Select one or more runs and metrics to overlay.","comparison.select_runs":"Select Runs","comparison.select_runs_placeholder":"Choose runs to compare","comparison.select_metrics":"Select Metrics","comparison.select_metrics_placeholder":"Choose metrics to display","comparison.refresh":"Refresh","comparison.x_axis":"X-Axis","comparison.fetch_failed":"Failed to fetch runs","comparison.load_failed":"Failed to load metrics","comparison.loading":"Loading metrics...","comparison.no_runs_selected":"Select runs to start comparison","comparison.no_metrics_selected":"No metrics available or selected","comparison.need_multiple":"Please select at least 2 runs for comparison","comparison.best_results":"Best Results","comparison.info_title":"Cross-Experiment Comparison","comparison.info_desc":"Compare runs across different projects and experiments. For comparing runs within the same experiment, use the comparison feature in the run detail page.","recycle_bin.title":"Recycle Bin","recycle_bin.tooltip":"View and restore deleted experiments","recycle_bin.description":"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.","recycle_bin.original_status":"Original Status","recycle_bin.deleted_at":"Deleted At","recycle_bin.restore_single":"Restore this run","recycle_bin.restore_selected":"Restore Selected","recycle_bin.empty_bin":"Empty Bin","recycle_bin.empty_confirm_title":"Empty Recycle Bin","recycle_bin.empty_confirm_desc":"This will permanently delete all runs in recycle bin. This cannot be undone!","recycle_bin.empty_confirm":"Yes, Delete All","recycle_bin.fetch_failed":"Failed to load recycle bin","recycle_bin.select_to_restore":"Please select runs to restore","recycle_bin.restore_success":"Restored {{count}} runs","recycle_bin.restore_failed":"Failed to restore runs","recycle_bin.empty_success":"Permanently deleted {{count}} runs","recycle_bin.empty_failed":"Failed to empty recycle bin","recycle_bin.empty_state":"Recycle bin is empty","recycle_bin.selection_info":"{{count}} runs selected for restoration","recycle_bin.table_total":"{{from}}-{{to}} of {{total}} items"},mD={"menu.artifacts":"Artifacts","artifacts.title":"Artifacts","artifacts.description":"Version-controlled models, datasets, and files","artifacts.type.all":"All Types","artifacts.type.model":"Models","artifacts.type.dataset":"Datasets","artifacts.type.config":"Configs","artifacts.type.code":"Code","artifacts.type.custom":"Custom","artifacts.search_placeholder":"Search artifacts...","artifacts.no_artifacts":"No artifacts found","artifacts.create_first":"Create your first artifact by logging it from your training code","artifacts.latest_version":"Latest: v{{version}}","artifacts.versions_count":"{{count}} versions","artifacts.size":"Size","artifacts.files":"Files","artifacts.created":"Created","artifacts.updated":"Updated","artifacts.aliases":"Aliases","artifacts.view_versions":"View Versions","artifacts.download":"Download","artifacts.delete":"Delete","artifacts.delete_confirm":"Delete artifact {{name}}:v{{version}}?","artifacts.delete_warning":"This action cannot be undone!","artifacts.stats.total":"Total Artifacts","artifacts.stats.total_versions":"Total Versions","artifacts.stats.total_size":"Total Size","artifacts.stats.dedup_saved":"Space Saved (Dedup)","artifact.detail.title":"Artifact: {{name}}","artifact.detail.version":"Version {{version}}","artifact.detail.type":"Type","artifact.detail.status":"Status","artifact.detail.created_by":"Created By","artifact.detail.created_at":"Created At","artifact.detail.size":"Size","artifact.detail.files_count":"Files","artifact.detail.description":"Description","artifact.detail.metadata":"Metadata","artifact.detail.tags":"Tags","artifact.detail.no_description":"No description provided","artifact.detail.no_metadata":"No metadata","artifact.detail.no_tags":"No tags","artifact.detail.storage_path":"Storage Path","artifact.versions.title":"Version History","artifact.versions.current":"Current Version","artifact.versions.all":"All Versions","artifact.versions.compare":"Compare Versions","artifact.versions.version":"Version","artifact.versions.date":"Date","artifact.versions.run":"Run","artifact.versions.size":"Size","artifact.versions.files":"Files","artifact.versions.actions":"Actions","artifact.files.title":"Files","artifact.files.name":"Name","artifact.files.size":"Size","artifact.files.hash":"Hash","artifact.files.download_file":"Download File","artifact.files.no_files":"No files in this artifact","artifact.references.title":"External References","artifact.references.uri":"URI","artifact.references.checksum":"Checksum","artifact.references.no_references":"No external references","artifact.lineage.title":"Lineage Graph","artifact.lineage.description":"Shows how this artifact was created and how it is used","artifact.lineage.upstream":"Upstream Dependencies","artifact.lineage.downstream":"Downstream Usage","artifact.lineage.no_dependencies":"No dependencies found","artifact.lineage.loading":"Loading lineage graph...","artifact.lineage.error":"Failed to load lineage graph","artifact.lineage.node.artifact":"Artifact","artifact.lineage.node.run":"Run","artifact.lineage.edge.uses":"uses","artifact.lineage.edge.produces":"produces","artifact.training.tab":"Training History","artifact.training.title":"Training Information","artifact.training.no_data":"No training information available","artifact.training.view_run":"View Training Run","artifact.training.run_name":"Run Name","artifact.training.project":"Project","artifact.training.status":"Status","artifact.training.duration":"Duration","artifact.training.created_at":"Created At","artifact.training.key_metrics":"Key Metrics","artifact.performance.tab":"Performance","artifact.performance.title":"Performance History","artifact.performance.no_data":"No performance data available","artifact.performance.select_metrics":"Select metrics to display","artifact.performance.select_metrics_hint":"Please select metrics to display","artifact.performance.metrics":"Metrics","artifacts.stage":"Stage","artifacts.stage.experimental":"Experimental","artifacts.stage.staging":"Staging","artifacts.stage.production":"Production","artifacts.stage.archived":"Archived"},gD={"remote.title":"Remote Viewer","remote.subtitle":"Connect to remote server via SSH and start Viewer","remote.form.title":"Step 1: Connect to Remote Server","remote.form.connectButton":"Connect to Server","remote.form.host":"Remote Host","remote.form.hostPlaceholder":"192.168.1.100 or server.example.com","remote.form.port":"SSH Port","remote.form.username":"Username","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"Authentication Method","remote.form.password":"Password","remote.form.passwordAuth":"Password","remote.form.keyAuth":"Private Key","remote.form.privateKey":"Private Key Path","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"Passphrase (optional)","remote.form.remoteRoot":"Remote Storage Path","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"Local Port","remote.form.localPortHelp":"Leave empty to auto-assign","remote.form.remotePort":"Remote Port","remote.form.saveConfig":"Save this connection","remote.form.savePassword":"Also save password (insecure, use with caution)","remote.form.saveName":"Configuration Name","remote.form.saveNamePlaceholder":"GPU Server - Lab","remote.form.browse":"Browse...","remote.form.connect":"Connect and Start Viewer","remote.form.testConnection":"Test Connection","remote.form.cancel":"Cancel","remote.form.enterPassword":"Enter Password","remote.form.connectionTo":"Connection to","remote.form.required":"is required","remote.session.title":"Active Sessions","remote.session.noActiveSessions":"No active sessions","remote.session.startNewConnection":"Start a new connection to begin","remote.session.localAccess":"Local Access","remote.session.remotePath":"Remote Path","remote.session.sshPort":"SSH Port","remote.session.remotePort":"Remote Viewer Port","remote.session.remotePid":"Remote PID","remote.session.startedAt":"Started At","remote.session.open":"Open Viewer","remote.session.stop":"Stop","remote.session.disconnect":"Disconnect","remote.session.reconnect":"Reconnect","remote.status.connecting":"Connecting...","remote.status.running":"Running","remote.status.stopping":"Stopping...","remote.status.stopped":"Stopped","remote.status.error":"Error","remote.status.disconnected":"Disconnected","remote.saved.title":"Saved Connections","remote.saved.quickStart":"Quick Start","remote.saved.connectOnly":"Connect Only","remote.saved.edit":"Edit","remote.saved.delete":"Delete","remote.saved.empty":"No saved connections","remote.saved.emptyHint":"Save frequently used connection configs for quick access","remote.message.connectSuccess":"SSH connected successfully","remote.message.connectFailed":"Failed to connect via SSH","remote.message.viewerStarted":"Remote Viewer started successfully!","remote.message.viewerStartFailed":"Failed to start Remote Viewer","remote.message.viewerStopped":"Remote Viewer stopped","remote.message.viewerStopFailed":"Failed to stop Remote Viewer","remote.message.disconnected":"Disconnected","remote.message.disconnectFailed":"Failed to disconnect","remote.message.testSuccess":"Connection test successful","remote.message.testFailed":"Connection test failed","remote.message.configSaved":"Configuration saved","remote.message.configDeleted":"Configuration deleted","remote.message.confirmDelete":"Are you sure you want to delete this connection?","remote.message.confirmDisconnect":"Are you sure you want to disconnect? This will stop the remote Viewer.","remote.message.sessionLost":"Session disconnected. Reconnect?","remote.message.passwordNotSaved":"Password not saved, please re-enter password","remote.message.incompleteConfig":"Incomplete connection config, please reconfigure","remote.message.cancelled":"Cancelled","remote.error.sshAuthFailed":"SSH authentication failed. Please check username and password","remote.error.remotePathNotFound":"Remote path does not exist","remote.error.portInUse":"Local port is already in use","remote.error.connectionTimeout":"Connection timeout","remote.error.invalidConfig":"Invalid configuration","remote.error.unknown":"Unknown error","remote.help.title":"Help","remote.help.step1":"1. Fill in SSH connection info for remote server","remote.help.step2":"2. Choose authentication method (password or key)","remote.help.step3":"3. Specify remote storage path","remote.help.step4":'4. Click "Connect and Start Viewer"',"remote.help.step5":"5. Wait for Remote Viewer to start","remote.help.step6":'6. Click "Open Viewer" to access in new window',"remote.help.architecture":"Remote Viewer uses a VSCode Remote-like architecture, running Viewer on remote server and accessing via SSH tunnel.","remote.help.advantages":"Advantages: Real-time access, no sync needed, saves storage","remote.stats.activeSessions":"Active Sessions","remote.stats.savedConfigs":"Saved Configs","remote.stats.connectedServers":"Connected Servers","remote.env.title":"Select Conda Environment","remote.env.selectHint":"Multiple Python environments detected","remote.env.selectDescription":"Please select the conda environment you want to use. The system will check if runicorn is installed in that environment.","remote.env.default":"Default","remote.env.system":"System","remote.env.checkRunicorn":"Will check runicorn installation","remote.env.checkRunicornHint":"If runicorn is not installed in the selected environment, you will be prompted to install it.","remote.env.continue":"Continue","remote.env.detecting":"Detecting Environment","remote.env.detectingEnvironment":"Detecting {{env}} environment, please wait...","remote.env.detectFailed":"Detection failed","remote.env.detectFailedMessage":"Unable to detect Python and Runicorn versions in this environment. Please check network connection or environment configuration.","remote.env.runicornNotInstalled":"Not installed","remote.env.runicornNotInstalledTitle":"Runicorn Not Installed","remote.env.runicornNotInstalledMessage":"The selected environment does not have Runicorn installed, cannot start Remote Viewer.","remote.env.installInstructions":"Please install Runicorn on the remote server:","remote.env.activateCommand":"Activate environment","remote.env.installCommand":"Install Runicorn","remote.env.versionTooOldTitle":"Runicorn Version Too Old","remote.env.versionTooOldMessage":"The remote Runicorn version is {{version}}, which is below 0.5.0 and does not support Remote Viewer.","remote.env.upgradeInstructions":"Please upgrade to the latest version:","remote.env.versionMismatchTitle":"Runicorn Version Mismatch","remote.env.versionMismatchMessage":"Local and remote Runicorn versions do not match, which may cause functionality issues or degraded experience.","remote.env.localVersion":"Local Version","remote.env.remoteVersion":"Remote Version","remote.env.versionMismatchWarning":"It is recommended to keep versions consistent for the best experience, but you can still continue.","remote.env.continueAnyway":"Continue Anyway","remote.env.noEnvs":"No Python environments detected","remote.env.fetching":"Detecting conda environments...","remote.env.detectingEnvironments":"Detecting Python environments, please wait...","remote.config.title":"Step 3: Confirm Server Configuration","remote.config.connected":"SSH Connected Successfully","remote.config.pythonVersion":"Python Version","remote.config.runicornVersion":"Runicorn Version","remote.config.storageRoot":"Storage Root","remote.config.exists":"Exists","remote.config.notExists":"Not Exists","remote.config.suggestedPort":"Suggested Port","remote.config.confirmStorageRoot":"Confirm Remote Storage Root","remote.config.startViewer":"Start Remote Viewer","remote.config.pathNotExistsWarning":"Storage path does not exist","remote.config.pathNotExistsHint":"The directory will be created automatically on first use","remote.config.fetchingConfig":"Fetching server configuration...","remote.config.fetchFailed":"Failed to fetch server configuration"},yD={"settings.system_info.title":"System Information","settings.system_info.refresh":"Refresh","settings.system_info.copy_all":"Copy All","settings.system_info.copied":"System information copied to clipboard","settings.system_info.copy_failed":"Failed to copy to clipboard","settings.system_info.loading":"Loading system information...","settings.system_info.version_info":"Version Information","settings.system_info.runicorn_version":"Runicorn Version","settings.system_info.api_status":"API Status","settings.system_info.storage_config":"Storage Configuration","settings.system_info.storage_root":"Storage Root","settings.system_info.config_files":"Configuration Files","settings.system_info.config_file":"Main Config","settings.system_info.rate_limit_config":"Rate Limit Config","settings.system_info.cache_stats":"Cache Statistics","settings.system_info.cache_status":"Status","settings.system_info.hit_rate":"Hit Rate","settings.system_info.hits":"Hits","settings.system_info.misses":"Misses","settings.system_info.cache_size":"Cache Size","settings.system_info.artifacts_stats":"Artifacts Statistics","settings.system_info.total_artifacts":"Total Artifacts","settings.system_info.total_versions":"Total Versions","settings.system_info.deduplication":"Deduplication","settings.system_info.space_saved":"Space Saved","settings.system_info.help_text":'This information is useful for debugging and support. Click "Copy All" to copy all details to clipboard.',"settings.drawer.title":"Settings","settings.theme.title":"Theme","settings.theme.mode":"Mode","settings.theme.light":"Light","settings.theme.dark":"Dark","settings.theme.auto":"Follow System","settings.appearance.primary_color":"Primary Color","settings.appearance.density":"Density","settings.appearance.density_compact":"Compact (high info density)","settings.appearance.density_default":"Default","settings.appearance.density_loose":"Loose (more whitespace)","settings.glass":"Glass effect","settings.glass.on":"On","settings.glass.off":"Off","settings.performance.auto_refresh":"Auto Refresh","settings.performance.refresh_interval":"Refresh Interval","settings.performance.animations":"UI Animations","settings.performance.chart_animations":"Chart Animations","settings.performance.sounds":"Sound Notifications","settings.charts.default_height":"Default Chart Height","settings.charts.grid_lines":"Show Grid Lines","settings.charts.max_points":"Max Data Points","settings.animations.ui_desc":"Page transitions, hover effects, modal animations","settings.animations.chart_desc":"Chart data loading animations, smooth transitions","settings.units.seconds":"seconds","settings.units.points":"points","settings.units.pixels":"px","settings.data.not_configured":"Not configured","settings.auto_refresh.desc":"Automatically refresh experiment data","settings.grid_lines.desc":"Display grid lines in charts for better readability","settings.sounds.desc":"Play notification sounds for alerts and status changes","settings.glass.desc":"Glass morphism effect with background blur","settings.tabs.appearance":"Appearance","settings.tabs.layout":"Layout","settings.tabs.data":"Data","settings.tabs.performance":"Performance","settings.tabs.system_info":"System Info","settings.cards.theme":"Theme","settings.cards.background":"Background","settings.cards.visual_effects":"Visual Effects","settings.cards.storage":"Storage Settings","settings.cards.import_export":"Import & Export","settings.cards.performance":"Performance","settings.cards.advanced":"Advanced","settings.data.title":"Data Directory","settings.data.current_storage":"Current storage: {{path}}","settings.data.user_root.label":"User root directory (lower priority than env RUNICORN_DIR)","settings.data.user_root.placeholder":"e.g. D:\\RunicornData","settings.data.note":"Saved to user config and takes effect immediately. If RUNICORN_DIR is set, it has higher priority.","settings.data.save":"Save Data Directory","settings.messages.enter_valid_path":"Please enter a valid absolute path (e.g. D:\\RunicornData)","settings.messages.updated":"User root updated","settings.messages.update_failed":"Update failed","background.title":"Background","background.type.label":"Background Type","background.type.image":"Image","background.type.gradient":"Gradient","background.type.color":"Color","background.image_url":"Image URL","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"Background preview","background.gradient_presets":"Gradient presets","background.color":"Background color","background.opacity":"Opacity","background.blur":"Blur","offline_import.title":"Offline Import (zip / tar.gz)","offline_import.desc":"Import runs exported from offline Linux servers into the local storage for viewing.","offline_import.drag":"Drag file here or click to select","offline_import.supports":"Supports .zip / .tar.gz (internal layout: project/name/runs/<run_id>)","offline_import.importing":"Importing…","offline_import.success":"Imported {{count}} new runs.","offline_import.failed":"Import failed","remote_moved.title":"Remote Sync","remote_moved.tip":'Remote live sync has moved to a dedicated page. Use the top "Remote" menu or click to open.',"chart.controls.title":"Chart Controls","chart.log_y":"Log Scale Y","chart.log_y_tooltip":"Use logarithmic y-axis (hides non-positive values)","chart.auto_scale":"Auto Scale Y","chart.auto_scale_tooltip":"Dynamic y-axis (do not force start at 0)","chart.smooth":"Smoothing","chart.smooth_tooltip":"Exponential moving average smoothing","chart.x_axis":"X Axis","chart.x_axis_tooltip":"X-axis source column","chart.export_csv":"Export CSV","chart.y_axis_controls":"Y-Axis","chart.linear":"Linear","chart.log":"Log","chart.auto":"Auto","chart.fixed":"Fixed","chart.off":"Off","remote.title":"Remote Sync (SSH)","remote.desc":"Establish SSH connection to a Linux server, browse and choose a remote directory as data source, mirror to local storage and visualize on the Runs page.","remote.connect.title":"Connect to server","remote.placeholder.host":"Host, e.g. 10.0.0.2","remote.placeholder.port":"Port","remote.placeholder.user":"Username","remote.placeholder.password":"Password (optional)","remote.placeholder.pkey":"Private key content (optional)","remote.placeholder.pkey_path":"Or private key path (optional, e.g. ~/.ssh/id_rsa)","remote.connect.button":"Connect","remote.connected":"Connected: {{user}}@{{host}}:{{port}}","remote.disconnect":"Disconnect","remote.choose.title":"Choose remote directory","remote.current_dir":"Current:","remote.up":"Up","remote.refresh":"Refresh","remote.empty":"Empty or no permission","remote.interval.suffix":"sec","remote.sync_dir":"Sync this directory","remote.tip":"Select project/name/runs (new) or runs (legacy) instead of a specific <run_id>.","remote.tasks.title":"Sync Tasks","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"Stop","remote.tasks.none":"No tasks","remote.to_runs":"After syncing, go to the Runs page for visualization.","remote.msg.fill_host_user":"Please fill host and username","remote.msg.ssh_connected":"SSH connected","remote.msg.connect_failed":"Connection failed","remote.msg.dir_failed":"Failed to list directory","remote.msg.need_connect":"Please connect SSH first","remote.msg.need_path":"Please choose a remote directory","remote.msg.started":"Live sync started","remote.msg.start_failed":"Failed to start","remote.msg.mirror_configured":"Mirror mode configured successfully","settings.performance.tabs_title":"Performance Monitor Tabs","settings.performance.show_cpu_tab":"Show CPU Tab","settings.performance.show_memory_disk_tab":"Show Memory & Disk Tab","settings.performance.show_gpu_metrics_tab":"Show GPU Metrics Tab","settings.performance.show_gpu_telemetry_tab":"Show GPU Telemetry Tab","settings.dismissedAlerts":"Dismissed Alerts","settings.noDismissedAlerts":"No dismissed alerts","settings.restoreAlert":"Restore","settings.restoreAll":"Restore All","settings.alertRestored":"Alert restored","settings.allAlertsRestored":"All alerts restored","settings.failedToLoadDismissedAlerts":"Failed to load dismissed alerts","settings.failedToRestoreAlert":"Failed to restore alert","settings.failedToClearAlerts":"Failed to clear alerts"},xD={...hD,...pD,...mD,...gD,...yD},vD={"app.title":"Runicorn 查看器","menu.runs":"运行","menu.experiments":"实验管理","menu.comparison":"对比分析","menu.artifacts":"模型仓库","menu.performance":"性能监控","menu.remote":"远程","tag.api_ok":"API 正常","tag.api_loading":"API…","tag.api_down":"API 不可用","table.project":"项目","table.name":"实验","table.run_id":"运行 ID","table.status":"状态","table.best_metric":"最佳指标","table.pid":"PID","table.created":"创建时间","table.actions":"操作","table.view":"查看","table.duration":"耗时",pause:"暂停",Info:"信息",View:"查看","Load Lineage Graph":"加载血缘关系图",actions:"操作",view:"查看",edit:"编辑","common.dontShowAgain":"不再提示",delete:"删除",download:"下载",upload:"上传",save:"保存",cancel:"取消",confirm:"确认",close:"关闭"},wD={"experiments.title":"实验管理","experiments.subtitle":"追踪、对比和分析您的实验指标与日志","experiments.total_runs":"总运行数","experiments.running":"运行中","experiments.finished":"已完成","experiments.failed":"失败","experiments.interrupted":"已中断","experiments.best_metric":"最佳指标","experiments.artifacts_created":"产出模型","experiments.artifacts_created_tip":"创建了 {{count}} 个模型","experiments.artifacts_used":"使用模型","experiments.search_placeholder":"搜索实验名称或ID...","experiments.compare":"对比","experiments.export":"导出","experiments.delete":"删除","experiments.cancel":"取消","experiments.fetch_failed":"获取运行列表失败","experiments.delete_confirm_title":"删除运行","experiments.delete_confirm_content":"确定要删除选中的 {{count}} 个运行吗？此操作无法撤销。","experiments.delete_success":"成功删除 {{count}} 个运行","experiments.delete_failed":"删除失败","experiments.export_started":"正在导出运行数据...","experiments.select_multiple":"请至少选择2个运行进行对比","experiments.compare_hint":"请使用运行详情页面的对比功能","experiments.select_one":"请至少选择一个运行进行导出","experiments.export_success":"成功导出 {{count}} 个运行","experiments.export_failed":"导出失败","experiments.export_json":"导出为 JSON","experiments.export_csv":"导出为 CSV","experiments.auto_refresh":"自动刷新","experiments.check_status":"检查状态","experiments.check_status_tooltip":"检查运行中的实验是否仍然存活并更新其状态","experiments.move_to_bin_title":"移至回收站","experiments.soft_delete_confirm_content":"将{{count}}个选中的运行移至回收站？","experiments.soft_delete_note":"文件将被保留，稍后可以恢复。","experiments.move_to_bin":"移至回收站","experiments.soft_delete_success":"已将{{count}}个运行移至回收站","experiments.new_runs":"检测到新运行","experiments.select_one_delete":"请至少选择一个运行进行删除","experiments.delete_warning":"此操作不可撤销！","experiments.no_runs":"未找到实验","experiments.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项","runs.refresh":"刷新","runs.auto_refresh_hint":"每 5 秒自动刷新","runs.auto_refresh":"自动刷新","runs.filter.project":"项目：","runs.filter.name":"实验：","runs.filter.all":"全部","runs.refreshing":"刷新中...","run.title":"运行 {{id}}","run.descriptions.status":"状态","run.descriptions.pid":"PID","run.descriptions.project":"项目","run.descriptions.name":"实验","run.descriptions.dir":"运行目录","run.descriptions.logs":"日志","run.descriptions.metrics":"指标事件","run.load_failed":"加载运行详情失败","run.metrics_failed":"加载指标失败","metrics.title":"指标","metrics.more_columns":"多列布局","metrics.more_columns_tooltip":"多列显示图表以便更好地对比","metrics.none":"暂无步进指标。","logs.title":"实时日志","logs.status.connected":"已连接","logs.status.connecting":"连接中...","logs.status.disconnected":"已断开","logs.status.retry_in":"{{sec}} 秒后重试","logs.tooltip.autoscroll":"自动滚动到最新行","logs.autoscroll":"自动滚动","logs.tooltip.filter_tqdm":"隐藏 tqdm 进度帧以降低噪声","logs.filter_tqdm":"过滤 tqdm","logs.clear":"清空","logs.copy":"复制","logs.copied":"已复制日志到剪贴板","logs.copy_failed":"复制失败","gpu.util":"利用率","gpu.mem":"显存","gpu.power":"功耗","gpu.temp":"温度","gpu.chart.util":"GPU 利用率 %","gpu.chart.mem":"显存使用 %","gpu.chart.power":"功耗 (W)","gpu.chart.temp":"温度 (°C)","gpu.not_available":"GPU 面板不可用","gpu.title":"GPU 面板","gpu.detail":"GPU 数：{{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"每 2 秒轮询","gpu.monitor_title":"GPU 监控","gpu.monitor_desc":"实时 GPU 性能指标与曲线数据","gpu.telemetry_charts":"GPU 曲线图表","gpu.history_2min":"最近 2 分钟","gpu.no_nvidia_smi":"未找到 nvidia-smi","gpu.polling_every_2s":"每 2 秒自动轮询","system.title":"系统指标","system.cpu":"CPU","system.memory":"内存","system.disk":"磁盘","system.cpu_cores":"核心","system.logical":"逻辑","system.frequency":"频率","system.available":"可用","system.swap":"交换空间","system.free":"空闲","system.used_percent":"已用","system.cpu_overall":"CPU 总体使用率","system.cpu_per_core":"各核心使用率","system.freq_current":"当前频率","system.freq_min":"最低频率","system.freq_max":"最高频率","performance.title":"性能监控","performance.desc":"实时系统性能监控（CPU、内存、磁盘、GPU）","performance.polling_hint":"每 2 秒自动轮询","performance.tab_cpu":"CPU","performance.tab_memory_disk":"内存与磁盘","performance.tab_gpu_metrics":"GPU 指标","performance.tab_gpu_telemetry":"GPU 曲线","performance.no_tabs":"没有启用监控模块。请在设置中启用。","compare.title":"对比运行（同一实验）","compare.select.runs":"运行：","compare.select.runs.placeholder":"选择需要叠加的运行","compare.select.metrics":"指标：","compare.select.metrics.placeholder":"选择指标键","compare.stepx":"横轴：","compare.refresh":"刷新","compare.tip":"选择一个或多个运行与指标以叠加展示。","comparison.select_runs":"选择运行","comparison.select_runs_placeholder":"选择要对比的运行","comparison.select_metrics":"选择指标","comparison.select_metrics_placeholder":"选择要显示的指标","comparison.refresh":"刷新","comparison.x_axis":"X轴","comparison.fetch_failed":"获取运行列表失败","comparison.load_failed":"加载指标数据失败","comparison.loading":"正在加载指标...","comparison.no_runs_selected":"请选择运行开始对比","comparison.no_metrics_selected":"没有可用或已选择的指标","comparison.need_multiple":"请至少选择2个运行进行对比","comparison.best_results":"最佳结果","comparison.info_title":"跨实验对比","comparison.info_desc":"在不同项目和实验之间对比运行。如需对比同一实验内的运行，请使用运行详情页面的对比功能。","recycle_bin.title":"回收站","recycle_bin.tooltip":"查看和恢复已删除的实验","recycle_bin.description":"回收站包含已软删除的实验。文件被保留，可以恢复。","recycle_bin.original_status":"原始状态","recycle_bin.deleted_at":"删除时间","recycle_bin.restore_single":"恢复此运行","recycle_bin.restore_selected":"恢复选中项","recycle_bin.empty_bin":"清空回收站","recycle_bin.empty_confirm_title":"清空回收站","recycle_bin.empty_confirm_desc":"这将永久删除回收站中的所有运行。此操作不可撤销！","recycle_bin.empty_confirm":"是的，全部删除","recycle_bin.fetch_failed":"加载回收站失败","recycle_bin.select_to_restore":"请选择要恢复的运行","recycle_bin.restore_success":"已恢复{{count}}个运行","recycle_bin.restore_failed":"恢复运行失败","recycle_bin.empty_success":"已永久删除{{count}}个运行","recycle_bin.empty_failed":"清空回收站失败","recycle_bin.empty_state":"回收站为空","recycle_bin.selection_info":"已选择{{count}}个运行用于恢复","recycle_bin.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项"},_D={"run.artifacts.title":"关联的模型与数据集","run.artifacts.created":"创建的模型","run.artifacts.used":"使用的模型","run.artifacts.no_created":"此实验未创建任何模型或数据集","run.artifacts.no_used":"此实验未使用任何模型或数据集","menu.artifacts":"模型仓库","artifacts.title":"模型仓库","artifacts.description":"版本控制的模型、数据集和文件","artifacts.type.all":"全部类型","artifacts.type.model":"模型","artifacts.type.dataset":"数据集","artifacts.type.config":"配置","artifacts.type.code":"代码","artifacts.type.custom":"自定义","artifacts.search_placeholder":"搜索模型和数据集...","artifacts.no_artifacts":"未找到模型","artifacts.create_first":"在训练代码中通过 run.log_artifact() 创建您的第一个模型","artifacts.latest_version":"最新：v{{version}}","artifacts.versions_count":"{{count}} 个版本","artifacts.size":"大小","artifacts.files":"文件数","artifacts.created":"创建时间","artifacts.updated":"更新时间","artifacts.aliases":"别名","artifacts.view_versions":"查看版本","artifacts.download":"下载","artifacts.delete":"删除","artifacts.delete_confirm":"删除模型 {{name}}:v{{version}}？","artifacts.delete_warning":"此操作不可撤销！","artifacts.stats.total":"总模型数","artifacts.stats.total_versions":"总版本数","artifacts.stats.total_size":"总大小","artifacts.stats.dedup_saved":"去重节省空间","artifact.detail.title":"模型：{{name}}","artifact.detail.version":"版本 {{version}}","artifact.detail.type":"类型","artifact.detail.status":"状态","artifact.detail.created_by":"创建者","artifact.detail.created_at":"创建时间","artifact.detail.size":"大小","artifact.detail.files_count":"文件数","artifact.detail.description":"描述","artifact.detail.metadata":"元数据","artifact.detail.tags":"标签","artifact.detail.no_description":"无描述","artifact.detail.no_metadata":"无元数据","artifact.detail.no_tags":"无标签","artifact.detail.storage_path":"存储路径","artifact.versions.title":"版本历史","artifact.versions.current":"当前版本","artifact.versions.all":"所有版本","artifact.versions.compare":"对比版本","artifact.versions.version":"版本","artifact.versions.date":"日期","artifact.versions.run":"运行","artifact.versions.size":"大小","artifact.versions.files":"文件数","artifact.versions.actions":"操作","artifact.files.title":"文件","artifact.files.name":"文件名","artifact.files.size":"大小","artifact.files.hash":"哈希值","artifact.files.download_file":"下载文件","artifact.files.no_files":"此模型无文件","artifact.references.title":"外部引用","artifact.references.uri":"URI","artifact.references.checksum":"校验和","artifact.references.no_references":"无外部引用","artifact.lineage.title":"血缘关系图","artifact.lineage.description":"显示此模型的创建过程和使用情况","artifact.lineage.upstream":"上游依赖","artifact.lineage.downstream":"下游使用","artifact.lineage.no_dependencies":"未找到依赖关系","artifact.lineage.loading":"正在加载血缘关系图...","artifact.lineage.error":"加载血缘关系图失败","artifact.lineage.node.artifact":"模型","artifact.lineage.node.run":"运行","artifact.lineage.edge.uses":"使用","artifact.lineage.edge.produces":"产出","artifact.training.tab":"训练历史","artifact.training.title":"训练信息","artifact.training.no_data":"暂无训练信息","artifact.training.view_run":"查看训练实验","artifact.training.run_name":"实验名称","artifact.training.project":"项目","artifact.training.status":"状态","artifact.training.duration":"持续时间","artifact.training.created_at":"创建时间","artifact.training.key_metrics":"关键指标","artifact.performance.tab":"性能趋势","artifact.performance.title":"性能历史","artifact.performance.no_data":"暂无性能数据","artifact.performance.select_metrics":"选择要显示的指标","artifact.performance.select_metrics_hint":"请选择要显示的指标","artifact.performance.metrics":"指标值","artifacts.stage":"阶段","artifacts.stage.experimental":"实验阶段","artifacts.stage.staging":"预发布","artifacts.stage.production":"生产环境","artifacts.stage.archived":"已归档"},bD={"remote.title":"Remote Viewer","remote.subtitle":"通过 SSH 连接到远程服务器并启动 Viewer","remote.form.title":"第一步：连接到远程服务器","remote.form.connectButton":"连接到服务器","remote.form.host":"远程主机","remote.form.hostPlaceholder":"192.168.1.100 或 server.example.com","remote.form.port":"SSH 端口","remote.form.username":"用户名","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"认证方式","remote.form.password":"密码","remote.form.passwordAuth":"密码认证","remote.form.keyAuth":"私钥认证","remote.form.privateKey":"私钥路径","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"密码短语（可选）","remote.form.remoteRoot":"远程存储路径","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"本地端口","remote.form.localPortHelp":"留空自动分配","remote.form.remotePort":"远程端口","remote.form.saveConfig":"保存此连接配置","remote.form.savePassword":"同时保存密码（不安全，请谨慎使用）","remote.form.saveName":"配置名称","remote.form.saveNamePlaceholder":"GPU 服务器 - 实验室","remote.form.browse":"浏览...","remote.form.connect":"连接并启动 Viewer","remote.form.testConnection":"测试连接","remote.form.cancel":"取消","remote.form.enterPassword":"请输入密码","remote.form.connectionTo":"连接到","remote.form.required":"是必填项","remote.session.title":"活动会话","remote.session.noActiveSessions":"暂无活动会话","remote.session.startNewConnection":"创建新连接以开始","remote.session.localAccess":"本地访问","remote.session.remotePath":"远程路径","remote.session.sshPort":"SSH 端口","remote.session.remotePort":"远程 Viewer 端口","remote.session.remotePid":"远程进程 ID","remote.session.startedAt":"启动时间","remote.session.open":"打开 Viewer","remote.session.stop":"停止","remote.session.disconnect":"断开连接","remote.session.reconnect":"重新连接","remote.status.connecting":"正在连接...","remote.status.running":"运行中","remote.status.stopping":"正在停止...","remote.status.stopped":"已停止","remote.status.error":"错误","remote.status.disconnected":"已断开","remote.saved.title":"已保存的连接","remote.saved.empty":"暂无保存的连接配置","remote.saved.emptyHint":'连接成功后勾选"保存配置"即可保存',"remote.saved.quickStart":"快速启动","remote.saved.connectOnly":"仅连接","remote.saved.edit":"编辑","remote.saved.delete":"删除","remote.message.connectSuccess":"SSH 连接成功","remote.message.connectFailed":"SSH 连接失败","remote.message.viewerStarted":"Remote Viewer 启动成功！","remote.message.viewerStartFailed":"Remote Viewer 启动失败","remote.message.viewerStopped":"Remote Viewer 已停止","remote.message.viewerStopFailed":"停止 Remote Viewer 失败","remote.message.disconnected":"已断开连接","remote.message.disconnectFailed":"断开连接失败","remote.message.testSuccess":"连接测试成功","remote.message.testFailed":"连接测试失败","remote.message.configSaved":"配置已保存","remote.message.configDeleted":"配置已删除","remote.message.confirmDelete":"确定要删除此连接配置吗？","remote.message.confirmDisconnect":"确定要断开连接吗？这将停止远程 Viewer。","remote.message.sessionLost":"会话已断开，是否重新连接？","remote.message.passwordNotSaved":"密码未保存，请重新输入密码","remote.message.incompleteConfig":"连接配置不完整，请重新配置","remote.message.cancelled":"已取消","remote.error.sshAuthFailed":"SSH 认证失败，请检查用户名和密码","remote.error.remotePathNotFound":"远程路径不存在","remote.error.portInUse":"本地端口已被占用","remote.error.connectionTimeout":"连接超时","remote.error.invalidConfig":"配置无效","remote.error.unknown":"未知错误","remote.help.title":"使用帮助","remote.help.step1":"1. 填写远程服务器的 SSH 连接信息","remote.help.step2":"2. 选择认证方式（密码或私钥）","remote.help.step3":"3. 指定远程存储路径","remote.help.step4":'4. 点击"连接并启动"按钮',"remote.help.step5":"5. 等待 Remote Viewer 启动","remote.help.step6":'6. 点击"打开 Viewer"在新窗口中访问',"remote.help.architecture":"Remote Viewer 采用类似 VSCode Remote 的架构，在远程服务器上运行 Viewer，通过 SSH 隧道访问。","remote.help.advantages":"优势：实时访问、无需同步、节省存储空间","remote.stats.activeSessions":"活动会话","remote.stats.savedConfigs":"保存的配置","remote.stats.connectedServers":"已连接服务器","remote.env.title":"选择 Conda 环境","remote.env.selectHint":"检测到多个 Python 环境","remote.env.selectDescription":"请选择一个环境来运行 Runicorn Viewer","remote.env.default":"默认","remote.env.system":"系统","remote.env.checkRunicorn":"确保目标环境已安装 Runicorn","remote.env.checkRunicornHint":"如果环境中没有安装 Runicorn，请先运行: pip install runicorn","remote.env.fetching":"正在检测环境...","remote.env.detectingEnvironments":"正在列出 Conda 环境...","remote.env.detectFailed":"检测失败","remote.env.runicornNotInstalled":"未安装","remote.env.noEnvs":"未检测到 Conda 环境","remote.env.confirmButton":"确认并启动 Viewer","remote.env.cancelButton":"取消","remote.env.continue":"继续","remote.env.detecting":"正在检测环境","remote.env.detectingEnvironment":"正在检测 {{env}} 环境，请稍候...","remote.env.detectFailedMessage":"无法检测该环境的 Python 和 Runicorn 版本，请检查网络连接或环境配置。","remote.env.runicornNotInstalledTitle":"Runicorn 未安装","remote.env.runicornNotInstalledMessage":"选中的环境中未安装 Runicorn，无法启动 Remote Viewer。","remote.env.installInstructions":"请在远程服务器上安装 Runicorn：","remote.env.activateCommand":"激活环境","remote.env.installCommand":"安装 Runicorn","remote.env.versionTooOldTitle":"Runicorn 版本过低","remote.env.versionTooOldMessage":"远程环境的 Runicorn 版本为 {{version}}，低于 0.5.0，不支持 Remote Viewer 功能。","remote.env.upgradeInstructions":"请升级到最新版本：","remote.env.versionMismatchTitle":"Runicorn 版本不一致","remote.env.versionMismatchMessage":"本地和远程的 Runicorn 版本不一致，可能导致功能异常或体验下降。","remote.env.localVersion":"本地版本","remote.env.remoteVersion":"远程版本","remote.env.versionMismatchWarning":"建议保持版本一致以获得最佳体验，但您仍可以继续连接。","remote.env.continueAnyway":"仍然继续","remote.config.title":"第三步：确认服务器配置","remote.config.connected":"SSH 连接成功","remote.config.pythonVersion":"Python 版本","remote.config.runicornVersion":"Runicorn 版本","remote.config.storageRoot":"存储路径","remote.config.exists":"存在","remote.config.notExists":"不存在","remote.config.suggestedPort":"建议端口","remote.config.confirmStorageRoot":"确认远程存储路径","remote.config.startViewer":"启动 Remote Viewer","remote.config.pathNotExistsWarning":"存储路径不存在","remote.config.pathNotExistsHint":"将在首次使用时自动创建该目录","remote.config.fetchingConfig":"正在获取服务器配置...","remote.config.fetchFailed":"获取服务器配置失败"},SD={"settings.system_info.title":"系统信息","settings.system_info.refresh":"刷新","settings.system_info.copy_all":"复制全部","settings.system_info.copied":"系统信息已复制到剪贴板","settings.system_info.copy_failed":"复制到剪贴板失败","settings.system_info.loading":"加载系统信息中...","settings.system_info.version_info":"版本信息","settings.system_info.runicorn_version":"Runicorn 版本","settings.system_info.api_status":"API 状态","settings.system_info.storage_config":"存储配置","settings.system_info.storage_root":"存储根目录","settings.system_info.config_files":"配置文件","settings.system_info.config_file":"主配置","settings.system_info.rate_limit_config":"速率限制配置","settings.system_info.cache_stats":"缓存统计","settings.system_info.cache_status":"状态","settings.system_info.hit_rate":"命中率","settings.system_info.hits":"命中次数","settings.system_info.misses":"未命中次数","settings.system_info.cache_size":"缓存大小","settings.system_info.artifacts_stats":"Artifacts 统计","settings.system_info.total_artifacts":"总 Artifacts","settings.system_info.total_versions":"总版本数","settings.system_info.deduplication":"去重","settings.system_info.space_saved":"节省空间","settings.system_info.help_text":'此信息对调试和技术支持很有用。点击"复制全部"将所有详情复制到剪贴板。',"settings.drawer.title":"设置","settings.theme.title":"主题","settings.theme.mode":"模式","settings.theme.light":"浅色","settings.theme.dark":"深色","settings.theme.auto":"跟随系统","settings.appearance.primary_color":"主色","settings.appearance.density":"密度","settings.appearance.density_compact":"紧凑型（信息密度高）","settings.appearance.density_default":"默认","settings.appearance.density_loose":"宽松型（留白更舒适）","settings.glass":"玻璃效果","settings.glass.on":"开启","settings.glass.off":"关闭","settings.performance.auto_refresh":"自动刷新","settings.performance.refresh_interval":"刷新间隔","settings.performance.animations":"UI动画","settings.performance.chart_animations":"图表动画","settings.performance.sounds":"声音通知","settings.charts.default_height":"默认图表高度","settings.charts.grid_lines":"显示网格线","settings.charts.max_points":"最大数据点数","settings.animations.ui_desc":"页面切换、悬停效果、弹窗动画","settings.animations.chart_desc":"图表数据加载动画、平滑过渡","settings.units.seconds":"秒","settings.units.points":"数据点","settings.units.pixels":"像素","settings.data.not_configured":"未配置","settings.auto_refresh.desc":"自动刷新实验数据","settings.grid_lines.desc":"在图表中显示网格线以提高可读性","settings.sounds.desc":"为警告和状态变化播放通知声音","settings.glass.desc":"玻璃拟态效果，带背景模糊","settings.tabs.appearance":"外观","settings.tabs.layout":"布局","settings.tabs.data":"数据","settings.tabs.performance":"性能","settings.tabs.system_info":"系统信息","settings.cards.theme":"主题","settings.cards.background":"背景","settings.cards.visual_effects":"视觉效果","settings.cards.storage":"存储设置","settings.cards.import_export":"导入导出","settings.cards.performance":"性能","settings.cards.advanced":"高级选项","settings.data.title":"数据目录","settings.data.current_storage":"当前存储根（storage）：{{path}}","settings.data.user_root.label":"用户根目录（优先级低于环境变量 RUNICORN_DIR）","settings.data.user_root.placeholder":"例如：D:\\RunicornData","settings.data.note":"设置将写入用户配置并立即生效；若设置了环境变量 RUNICORN_DIR，则优先使用环境变量。","settings.data.save":"保存数据目录","settings.messages.enter_valid_path":"请输入有效的目录绝对路径（例如 D:\\RunicornData）","settings.messages.updated":"用户根目录已更新","settings.messages.update_failed":"更新失败","background.title":"背景","background.type.label":"背景类型","background.type.image":"图片","background.type.gradient":"渐变","background.type.color":"纯色","background.image_url":"图片地址（URL）","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"背景预览","background.gradient_presets":"渐变预设","background.color":"背景颜色","background.opacity":"不透明度","background.blur":"模糊强度","offline_import.title":"离线导入（zip / tar.gz）","offline_import.desc":"将离线 Linux 服务器导出的运行记录导入到本机存储以便查看。","offline_import.drag":"将文件拖拽到此处，或点击选择本地归档","offline_import.supports":"支持 .zip / .tar.gz（内部目录为 project/name/runs/<run_id>）","offline_import.importing":"正在导入…","offline_import.success":"导入成功：{{count}} 个新运行。","offline_import.failed":"导入失败","remote_moved.title":"远程同步","remote_moved.tip":"远程实时同步已移动到独立页面，请通过顶部「Remote」进入或点击打开。","chart.controls.title":"图表控件","chart.log_y":"对数Y轴","chart.log_y_tooltip":"使用对数Y轴（隐藏非正值）","chart.auto_scale":"自动缩放Y轴","chart.auto_scale_tooltip":"动态Y轴范围（不强制从0开始）","chart.smooth":"平滑度","chart.smooth_tooltip":"指数移动平均平滑","chart.x_axis":"X轴","chart.x_axis_tooltip":"X轴数据来源列","chart.export_csv":"导出CSV","chart.y_axis_controls":"Y轴控制","chart.linear":"线性","chart.log":"对数","chart.auto":"自动","chart.fixed":"固定","chart.off":"关闭","remote.title":"远程同步（SSH）","remote.desc":'建立到 Linux 服务器的 SSH 连接，浏览并选择远程目录作为数据源，实时镜像到本地 storage 并在"运行"页可视化。',"remote.connect.title":"连接到服务器","remote.placeholder.host":"主机，例如 10.0.0.2","remote.placeholder.port":"端口","remote.placeholder.user":"用户名","remote.placeholder.password":"密码（可选）","remote.placeholder.pkey":"私钥内容（可选）","remote.placeholder.pkey_path":"或 私钥路径（可选，如 ~/.ssh/id_rsa）","remote.connect.button":"连接","remote.connected":"已连接：{{user}}@{{host}}:{{port}}","remote.disconnect":"断开","remote.choose.title":"选择远程目录","remote.current_dir":"当前目录：","remote.up":"上一级","remote.refresh":"刷新","remote.empty":"空目录或无权限","remote.interval.suffix":"秒","remote.sync_dir":"同步此目录","remote.tip":"建议选择到 project/name/runs（新结构）或 runs（旧结构）而不是具体 <run_id>。","remote.tasks.title":"同步任务","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"停止","remote.tasks.none":"暂无任务","remote.to_runs":'同步成功后，前往 "运行" 页面查看可视化。',"remote.msg.fill_host_user":"请填写主机与用户名","remote.msg.ssh_connected":"SSH 已连接","remote.msg.connect_failed":"连接失败","remote.msg.dir_failed":"读取目录失败","remote.msg.need_connect":"请先建立 SSH 连接","remote.msg.need_path":"请选择远程目录","remote.msg.started":"已启动实时同步","remote.msg.start_failed":"启动失败","remote.msg.mirror_configured":"镜像模式配置成功","settings.performance.tabs_title":"性能监控模块","settings.performance.show_cpu_tab":"显示 CPU 模块","settings.performance.show_memory_disk_tab":"显示内存与磁盘模块","settings.performance.show_gpu_metrics_tab":"显示 GPU 指标模块","settings.performance.show_gpu_telemetry_tab":"显示 GPU 曲线模块","settings.dismissedAlerts":"已关闭的提示","settings.noDismissedAlerts":"暂无已关闭的提示","settings.restoreAlert":"恢复显示","settings.restoreAll":"全部恢复","settings.alertRestored":"提示已恢复显示","settings.allAlertsRestored":"所有提示已恢复显示","settings.failedToLoadDismissedAlerts":"加载失败","settings.failedToRestoreAlert":"恢复失败","settings.failedToClearAlerts":"清除失败"},jD={...vD,...wD,..._D,...bD,...SD},CD={en:{translation:xD},zh:{translation:jD}};At.use(nx).use(Xj).init({resources:CD,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]}});cc.createRoot(document.getElementById("root")).render(a.jsx(F1.StrictMode,{children:a.jsx(N1,{children:a.jsx(DM,{})})}));
