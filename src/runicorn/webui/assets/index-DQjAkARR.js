import{r as b,c as Hc,u as ji,f as Rm,e as gs,h as Pm,g as $j,L as So,i as Vj,j as us,R as Bj,B as Uj}from"./react-vendor-Bblx37ko.js";import{T as Te,S as z,a as qe,b as wt,B as pe,s as Q,c as we,t as tr,C as le,D as nr,d as ri,e as ht,R as Zo,f as Es,g as En,F as vr,E as nt,h as di,i as Gc,j as fi,k as lc,l as Kc,m as qt,n as Qn,o as Rt,p as ke,q as Ci,P as er,r as Dt,u as Qo,v as qc,w as Wj,x as Hj,y as Rs,z as Gt,A as ea,G as sn,H as zo,I as Gj,J as Br,K as _r,L as Yc,M as cc,N as Pn,O as ta,Q as Kj,U as qj,V as hi,W as Yj,X as Xj,Y as Jj,Z as Xc,_ as nn,$ as Am,a0 as Zj,a1 as No,a2 as Jc,a3 as Qj,a4 as e1,a5 as uc,a6 as t1,a7 as dc,a8 as n1,a9 as vh,aa as Se,ab as r1,ac as s1,ad as i1,ae as o1,af as Ct,ag as fc,ah as Cs,ai as Em,aj as km,ak as a1,al as l1,am as pi,an as wr,ao as c1,ap as wh,aq as Il,ar as u1,as as d1,at as f1,au as h1,av as p1,aw as _h,ax as bh,ay as Ll,az as m1,aA as g1,aB as Dm,aC as y1,aD as x1,aE as v1,aF as w1}from"./antd-vendor-B1ygAwDR.js";import{c as _1,E as xs}from"./echarts-vendor-BaMD3wbR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Mm={exports:{}},na={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=b,S1=Symbol.for("react.element"),j1=Symbol.for("react.fragment"),C1=Object.prototype.hasOwnProperty,T1=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R1={key:!0,ref:!0,__self:!0,__source:!0};function Im(e,t,n){var s,o={},l=null,c=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(s in t)C1.call(t,s)&&!R1.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:S1,type:e,key:l,ref:c,props:o,_owner:T1.current}}na.Fragment=j1;na.jsx=Im;na.jsxs=Im;Mm.exports=na;var a=Mm.exports,hc={},Sh=Hc;hc.createRoot=Sh.createRoot,hc.hydrateRoot=Sh.hydrateRoot;const Ol={},P1=(Ol==null?void 0:Ol.VITE_API_BASE)||"/api",rt=e=>`${P1}${e}`;async function A1(e){const t=await fetch(rt(`/runs/${e}`));if(!t.ok)throw new Error(await t.text());return t.json()}async function Fl(e){const t=await fetch(rt(`/runs/${e}/metrics_step`));if(!t.ok)throw new Error(await t.text());return t.json()}async function Lm(){const e=new AbortController,t=setTimeout(()=>e.abort(),3e3);try{const n=await fetch(rt("/health"),{signal:e.signal,cache:"no-store"});if(clearTimeout(t),!n.ok)throw new Error(await n.text());return n.json()}catch(n){throw clearTimeout(t),n}}async function Om(){const e=await fetch(rt("/gpu/telemetry"));if(!e.ok)throw new Error(await e.text());return e.json()}async function E1(){const e=await fetch(rt("/system/monitor"));if(!e.ok)throw new Error(await e.text());return e.json()}async function k1(){const e=await fetch(rt("/projects"));if(!e.ok)throw new Error(await e.text());return e.json()}async function D1(e){const t=await fetch(rt(`/projects/${encodeURIComponent(e)}/names`));if(!t.ok)throw new Error(await t.text());return t.json()}async function M1(e,t){const n=await fetch(rt(`/projects/${encodeURIComponent(e)}/names/${encodeURIComponent(t)}/runs`));if(!n.ok)throw new Error(await n.text());return n.json()}async function Zc(){const e=await fetch(rt("/config"));if(!e.ok)throw new Error(await e.text());return e.json()}async function I1(e){const t=await fetch(rt("/config/user_root_dir"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function L1(e){const t=new FormData;t.append("file",e);const n=await fetch(rt("/import/archive"),{method:"POST",body:t});if(!n.ok)throw new Error(await n.text());return n.json()}async function O1(){const e=await fetch(rt("/status/check"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(await e.text());return e.json()}async function F1(e){const t=await fetch(rt("/runs/soft-delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function z1(){const e=await fetch(rt("/recycle-bin"));if(!e.ok)throw new Error(await e.text());return e.json()}async function N1(e){const t=await fetch(rt("/recycle-bin/restore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function $1(){const e=await fetch(rt("/recycle-bin/empty"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})});if(!e.ok)throw new Error(await e.text());return e.json()}async function V1(e){const t=e?`?type=${e}`:"",n=await fetch(rt(`/artifacts${t}`));if(!n.ok)throw new Error(await n.text());return n.json()}async function B1(e,t){const s=await fetch(rt(`/artifacts/${e}/versions`));if(!s.ok)throw new Error(await s.text());return s.json()}async function U1(e,t,n){const o=await fetch(rt(`/artifacts/${e}/v${t}`));if(!o.ok)throw new Error(await o.text());return o.json()}async function W1(e,t,n){const o=await fetch(rt(`/artifacts/${e}/v${t}/files`));if(!o.ok)throw new Error(await o.text());return o.json()}async function H1(e,t,n,s=3){const o=new URLSearchParams({max_depth:s.toString()}),l=await fetch(rt(`/artifacts/${e}/v${t}/lineage?${o.toString()}`));if(!l.ok)throw new Error(await l.text());return l.json()}async function Fm(){const e=await fetch(rt("/artifacts/stats"));if(!e.ok)throw new Error(await e.text());return e.json()}async function G1(e,t,n,s=!1){const o=new URLSearchParams({permanent:s.toString()}),l=await fetch(rt(`/artifacts/${e}/v${t}?${o.toString()}`),{method:"DELETE"});if(!l.ok)throw new Error(await l.text());return l.json()}const K1=(e,t,n,s)=>{var l,c,d,f;const o=[n,{code:t,...s||{}}];if((c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);Nr(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(f=(d=e==null?void 0:e.services)==null?void 0:d.logger)!=null&&f.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},jh={},pc=(e,t,n,s)=>{Nr(n)&&jh[n]||(Nr(n)&&(jh[n]=new Date),K1(e,t,n,s))},zm=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},mc=(e,t,n)=>{e.loadNamespaces(t,zm(e,n))},Ch=(e,t,n,s)=>{if(Nr(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return mc(e,n,s);n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,zm(e,s))},q1=(e,t,n={})=>!t.languages||!t.languages.length?(pc(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,e))return!1}}),Nr=e=>typeof e=="string",Y1=e=>typeof e=="object"&&e!==null,X1=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,J1={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Z1=e=>J1[e],Q1=e=>e.replace(X1,Z1);let gc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Q1};const eC=(e={})=>{gc={...gc,...e}},tC=()=>gc;let Nm;const nC=e=>{Nm=e},rC=()=>Nm,sC={type:"3rdParty",init(e){eC(e.options.react),nC(e)}},iC=b.createContext();class oC{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const aC=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current},$m=(e,t,n,s)=>e.getFixedT(t,n,s),lC=(e,t,n,s)=>b.useCallback($m(e,t,n,s),[e,t,n,s]),Be=(e,t={})=>{var j,R,L,F;const{i18n:n}=t,{i18n:s,defaultNS:o}=b.useContext(iC)||{},l=n||s||rC();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new oC),!l){pc(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const B=(H,X)=>Nr(X)?X:Y1(X)&&Nr(X.defaultValue)?X.defaultValue:Array.isArray(H)?H[H.length-1]:H,N=[B,{},!1];return N.t=B,N.i18n={},N.ready=!1,N}(j=l.options.react)!=null&&j.wait&&pc(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...tC(),...l.options.react,...t},{useSuspense:d,keyPrefix:f}=c;let h=o||((R=l.options)==null?void 0:R.defaultNS);h=Nr(h)?[h]:h||["translation"],(F=(L=l.reportNamespaces).addUsedNamespaces)==null||F.call(L,h);const p=(l.isInitialized||l.initializedStoreOnce)&&h.every(B=>q1(B,l,c)),g=lC(l,t.lng||null,c.nsMode==="fallback"?h:h[0],f),x=()=>g,v=()=>$m(l,t.lng||null,c.nsMode==="fallback"?h:h[0],f),[S,T]=b.useState(x);let k=h.join();t.lng&&(k=`${t.lng}${k}`);const P=aC(k),A=b.useRef(!0);b.useEffect(()=>{const{bindI18n:B,bindI18nStore:N}=c;A.current=!0,!p&&!d&&(t.lng?Ch(l,t.lng,h,()=>{A.current&&T(v)}):mc(l,h,()=>{A.current&&T(v)})),p&&P&&P!==k&&A.current&&T(v);const H=()=>{A.current&&T(v)};return B&&(l==null||l.on(B,H)),N&&(l==null||l.store.on(N,H)),()=>{A.current=!1,l&&B&&(B==null||B.split(" ").forEach(X=>l.off(X,H))),N&&l&&N.split(" ").forEach(X=>l.store.off(X,H))}},[l,k]),b.useEffect(()=>{A.current&&p&&T(x)},[l,f,p]);const D=[S,l,p];if(D.t=S,D.i18n=l,D.ready=p,p||!p&&!d)return D;throw new Promise(B=>{t.lng?Ch(l,t.lng,h,()=>B()):mc(l,h,()=>B())})};function cC(e){return!!(/\d{1,3}%\|/.test(e)||/it\/(s|sec)/i.test(e)||/ETA|elapsed/i.test(e))}function uC({url:e,persistKey:t}){const{t:n}=Be(),[s,o]=b.useState(()=>{if(!t)return[];try{const D=localStorage.getItem(t);if(!D)return[];const j=JSON.parse(D);return Array.isArray(j)?j.slice(-2e3):[]}catch{return[]}}),[l,c]=b.useState(!0),[d,f]=b.useState(!0),[h,p]=b.useState("connecting"),[g,x]=b.useState(0),v=b.useRef(null),S=b.useRef(null),T=b.useRef(null),k=b.useRef(500);b.useEffect(()=>{let D=!1;const j=()=>{try{S.current&&S.current.close()}catch{}p("connecting");const R=new WebSocket(e);S.current=R,R.onopen=()=>{p("connected"),k.current=500,x(0)},R.onmessage=F=>{const B=String(F.data);d&&cC(B)||o(N=>{const X=[...N,B].slice(-2e3);try{t&&localStorage.setItem(t,JSON.stringify(X))}catch{}return X})};const L=()=>{if(D)return;p("disconnected");const F=Math.min(1e4,k.current);k.current=Math.min(1e4,Math.floor(k.current*1.8)),x(F),T.current&&window.clearTimeout(T.current),T.current=window.setTimeout(()=>{x(0),j()},F)};R.onerror=L,R.onclose=L};return j(),()=>{var R;D=!0;try{(R=S.current)==null||R.close()}catch{}T.current&&window.clearTimeout(T.current)}},[e,d,t]),b.useEffect(()=>{l&&v.current&&(v.current.scrollTop=v.current.scrollHeight)},[s,l]);const P=async()=>{try{await navigator.clipboard.writeText(s.join(`
`)),Q.success(n("logs.copied"))}catch{Q.error(n("logs.copy_failed"))}},A=b.useMemo(()=>h==="connected"?a.jsx(Te,{color:"green",children:n("logs.status.connected")}):h==="connecting"?a.jsx(Te,{color:"processing",children:n("logs.status.connecting")}):a.jsxs(Te,{color:"default",children:[n("logs.status.disconnected"),g?`, ${n("logs.status.retry_in",{sec:Math.ceil(g/1e3)})}`:""]}),[h,g,n]);return a.jsxs("div",{children:[a.jsxs(z,{style:{marginBottom:8},children:[A,a.jsx(qe,{title:n("logs.tooltip.autoscroll"),children:a.jsxs("span",{children:[n("logs.autoscroll")," ",a.jsx(wt,{checked:l,onChange:c,style:{marginLeft:6}})]})}),a.jsx(qe,{title:n("logs.tooltip.filter_tqdm"),children:a.jsxs("span",{children:[n("logs.filter_tqdm")," ",a.jsx(wt,{checked:d,onChange:f,style:{marginLeft:6}})]})}),a.jsx(pe,{size:"small",onClick:()=>{o([]);try{t&&localStorage.removeItem(t)}catch{}},children:n("logs.clear")}),a.jsx(pe,{size:"small",onClick:P,children:n("logs.copy")})]}),a.jsx("div",{ref:v,style:{height:320,overflow:"auto",background:"#0b1020",color:"#e6e9ef",padding:12,borderRadius:8,fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:12},children:s.map((D,j)=>a.jsx("div",{children:D},j))})]})}function Qc(e){const t=b.useRef(null),n=b.useRef(null);b.useEffect(()=>{if(!t.current)return;const d=t.current;let f=null;const h=()=>{f!=null&&cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x,v,S;try{(S=(v=(x=n.current)==null?void 0:x.getEchartsInstance())==null?void 0:v.resize)==null||S.call(v)}catch{}})};let p=null;const g=window.ResizeObserver;return g&&(p=new g(()=>h()),p.observe(d)),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),p&&p.disconnect(),f!=null&&cancelAnimationFrame(f)}},[]),b.useEffect(()=>{var f,h;const d=(h=(f=n.current)==null?void 0:f.getEchartsInstance)==null?void 0:h.call(f);if(d&&e.group)try{d.group=e.group,_1(e.group)}catch{}},[e.group]);const s=b.useMemo(()=>({width:"100%",height:"100%",...e.style||{}}),[e.style]),{group:o,style:l,...c}=e;return a.jsx("div",{ref:t,style:{width:"100%",height:"100%"},children:a.jsx(xs,{ref:n,...c,style:s})})}const Vm=b.createContext(void 0),dC=({children:e,value:t})=>a.jsx(Vm.Provider,{value:t,children:e}),Ti=()=>{const e=b.useContext(Vm);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e},ne={spacing:{xs:8,sm:12,md:16,lg:24,xl:32},borderRadius:{md:8},colors:{primary:"#1677ff",success:"#52c41a",warning:"#faad14",info:"#13c2c2"},typography:{fontSize:{xs:12,sm:14,md:16,lg:18},fontWeight:{semibold:600}}},{Text:fC}=we,hC=b.memo(function({metrics:t,xKey:n,yKeys:s,title:o,height:l,persistKey:c,group:d}){const{t:f}=Be(),{settings:h}=Ti(),{token:p}=tr.useToken(),g=l??h.defaultChartHeight,[x,v]=b.useState(!1),[S,T]=b.useState(!0),[k,P]=b.useState(0),A=["iter","step","batch","global_step","time"],D=(t==null?void 0:t.columns)||[],j=b.useMemo(()=>A.filter(ie=>D.includes(ie)),[D]),[R,L]=b.useState(n),F=b.useRef(!1);b.useEffect(()=>{if(n&&D.includes(n))L(n);else if(!D.includes(R)){const ie=j.find(Boolean);ie&&L(ie)}},[n,D,j,R]),b.useEffect(()=>{if(!(!c||F.current)){try{const ie=localStorage.getItem(`MetricChart:${c}`);if(ie){const J=JSON.parse(ie);typeof J.useLog=="boolean"&&v(J.useLog),typeof J.dynamicScale=="boolean"&&T(J.dynamicScale),typeof J.smoothing=="number"&&P(J.smoothing),J.xAxisKey&&D.includes(J.xAxisKey)&&L(J.xAxisKey)}}catch{}F.current=!0}},[c,D]),b.useEffect(()=>{if(c)try{localStorage.setItem(`MetricChart:${c}`,JSON.stringify({useLog:x,dynamicScale:S,smoothing:k,xAxisKey:R}))}catch{}},[c,x,S,k,R]);const B=ie=>{const J=String(ie).toLowerCase();if(J.includes("loss")||J.includes("error"))return"min";if(J.includes("acc")||J.includes("f1")||J.includes("auc")||J.includes("map")||J.includes("precision")||J.includes("recall"))return"max"},N=(ie,J)=>{if(J<=0)return ie;let se=null;return ie.map(oe=>{if(oe==null)return null;const he=1-J;return se=se==null?oe:he*oe+(1-he)*se,se})},H=b.useMemo(()=>{var Z,K;const ie=D.includes(R)?R:n,J=t.rows.map(ee=>{const ce=ee[ie],ge=ce===""||ce==null?null:Number(ce);return ge==null||Number.isNaN(ge)?null:ge});let se=J;if(ie==="time"){const ee=J.find(ce=>ce!=null)??0;se=J.map(ce=>ce==null?null:ce-ee)}const oe=D.includes("stage")&&(ie==="global_step"||ie==="time"),he=[];if(oe){const ee=t.rows;let ce=ee.length?((Z=ee[0])==null?void 0:Z.stage)??null:null;for(let ge=1;ge<ee.length;ge++){const He=(K=ee[ge])==null?void 0:K.stage,Xe=He==null||He===""?ce:He;if(Xe!==ce){const Ne=se[ge];Ne!=null&&he.push({xAxis:Ne}),ce=Xe}}}const re=s.map(ee=>{var gt;const ce=t.rows.map($=>{const ue=$[ee]===""||$[ee]==null?null:Number($[ee]),Ce=ue==null||Number.isNaN(ue)?null:ue;return x&&(Ce==null||Ce<=0)?null:Ce}),ge=N(ce,Math.min(.999,Math.max(0,k))),He=ge.filter($=>$!=null).length,Xe=He<=12||He<=Math.ceil((((gt=t==null?void 0:t.rows)==null?void 0:gt.length)||0)*.2),Ne=B(ee),ut={name:ee,type:"line",smooth:.2,showSymbol:Xe,symbolSize:Xe?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:ge,markPoint:Ne?{data:[{type:Ne,name:Ne==="max"?"Best (max)":"Best (min)"}],symbolSize:60}:void 0};if(ee===s[0]){const $=he;$.length&&(ut.markLine={silent:!0,symbol:"none",lineStyle:{type:"dashed",color:p.colorBorder,width:1},label:{show:!1},data:$})}return ut});return{title:{text:o,left:"center",top:ne.spacing.xs,textStyle:{fontSize:ne.typography.fontSize.md,fontWeight:ne.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:s,top:ne.spacing.xl,padding:[5,10]},xAxis:{type:"category",data:se},yAxis:{type:x?"log":"value",scale:S,min:S?"dataMin":0},grid:{left:50,right:30,top:s.length>3?70:s.length>1?60:50,bottom:80,show:h.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:re,animation:h.enableChartAnimations,animationDuration:h.enableChartAnimations?1e3:0}},[t,n,R,s,o,x,S,k,D,h.enableChartAnimations,h.maxDataPoints,h.showGridLines]),X=()=>{try{const ie=D.includes(R)?R:n,J=[ie,...s],se=[];se.push(J.join(","));for(const Z of t.rows){const K=[],ee=Z[ie];K.push(ee==null?"":String(ee));for(const ce of s){const ge=Z[ce];K.push(ge==null?"":String(ge))}se.push(K.join(","))}const oe=new Blob([se.join(`
`)],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(oe),re=document.createElement("a");re.href=he,re.download=`${o.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(he)}catch{}};return a.jsxs("div",{children:[a.jsx(le,{size:"small",style:{marginBottom:ne.spacing.md,borderRadius:ne.borderRadius.md},bodyStyle:{padding:`${ne.spacing.sm}px ${ne.spacing.md}px`},children:a.jsxs(z,{wrap:!0,size:"small",style:{width:"100%"},children:[a.jsx(qe,{title:f("chart.log_y_tooltip"),children:a.jsx(wt,{checkedChildren:f("chart.log"),unCheckedChildren:f("chart.linear"),checked:x,onChange:v,size:"small"})}),a.jsx(qe,{title:f("chart.auto_scale_tooltip"),children:a.jsx(wt,{checkedChildren:f("chart.auto"),unCheckedChildren:f("chart.fixed"),checked:S,onChange:T,size:"small"})}),a.jsx(nr,{type:"vertical",style:{margin:"0 4px"}}),a.jsxs(z,{size:"small",style:{minWidth:140,maxWidth:200},children:[a.jsxs(fC,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs,whiteSpace:"nowrap"},children:[f("chart.smooth"),":"]}),a.jsx(ri,{min:0,max:.95,step:.05,value:k,onChange:ie=>P(Array.isArray(ie)?ie[0]:ie),style:{width:90},tooltip:{formatter:ie=>ie?`${(ie*100).toFixed(0)}%`:f("chart.off")}})]}),a.jsx(nr,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(ht,{size:"small",value:D.includes(R)?R:n,style:{minWidth:100},onChange:L,options:(j.length?j:[n]).map(ie=>({value:ie,label:`${f("chart.x_axis")}: ${ie}`}))}),a.jsx(nr,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(pe,{size:"small",icon:a.jsx(Zo,{}),onClick:X,children:f("chart.export_csv")})]})}),a.jsx("div",{style:{height:g,width:"100%"},children:a.jsx(Qc,{option:H,group:d})})]})},(e,t)=>e.metrics===t.metrics&&e.xKey===t.xKey&&JSON.stringify(e.yKeys)===JSON.stringify(t.yKeys)&&e.title===t.title&&e.height===t.height&&e.persistKey===t.persistKey&&e.group===t.group),{Text:pC}=we;function mC(e,t){if(!t)return e;let n=null;return e.map(s=>s==null?(n=null,null):(n=n==null?s:t*s+(1-t)*n,n))}const gC=b.memo(function({runs:t,xKey:n,yKey:s,title:o,height:l,persistKey:c,group:d}){const{t:f}=Be(),{settings:h}=Ti(),p=l??h.defaultChartHeight,[g,x]=b.useState(!1),[v,S]=b.useState(!0),[T,k]=b.useState(0),P=b.useRef(!1);b.useEffect(()=>{if(!(!c||P.current)){try{const j=localStorage.getItem(`MultiRunMetric:${c}`);if(j){const R=JSON.parse(j);typeof R.useLog=="boolean"&&x(R.useLog),typeof R.dynamicScale=="boolean"&&S(R.dynamicScale),typeof R.smoothing=="number"&&k(R.smoothing)}}catch{}P.current=!0}},[c]),b.useEffect(()=>{if(c)try{localStorage.setItem(`MultiRunMetric:${c}`,JSON.stringify({useLog:g,dynamicScale:v,smoothing:T}))}catch{}},[c,g,v,T]);const A=b.useMemo(()=>{const j=t.map(R=>{var ie,J;(ie=R.metrics)!=null&&ie.columns;const L=((J=R.metrics)==null?void 0:J.rows)||[],F=L.map(se=>{const oe=se[n],he=oe===""||oe==null?null:Number(oe);return he==null||Number.isNaN(he)?null:he});let B=F;if(n==="time"){const se=F.find(oe=>oe!=null)??0;B=F.map(oe=>oe==null?null:oe-se)}const N=L.map(se=>{const oe=se[s],he=oe===""||oe==null?null:Number(oe);return g&&(he==null||he<=0)||he==null||Number.isNaN(he)?null:he}),H=mC(N,Math.min(.95,Math.max(0,T))),X=[];for(let se=0;se<H.length;se++){const oe=B[se],he=H[se];oe!=null&&he!=null&&X.push([oe,he])}return{name:R.label||R.id,type:"line",smooth:!0,showSymbol:X.length<=12,symbolSize:X.length<=12?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:X}});return{title:{text:o,left:"center",top:ne.spacing.xs,textStyle:{fontSize:ne.typography.fontSize.md,fontWeight:ne.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:t.map(R=>R.label||R.id),top:ne.spacing.xl,type:"scroll",padding:[5,10]},xAxis:{type:"value",name:n},yAxis:{type:g?"log":"value",scale:v,min:v?"dataMin":0},grid:{left:50,right:30,top:t.length>3?70:t.length>1?60:50,bottom:80,show:h.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:j,animation:h.enableChartAnimations,animationDuration:h.enableChartAnimations?1e3:0}},[t,n,s,o,g,v,T,h.enableChartAnimations,h.maxDataPoints,h.showGridLines]),D=()=>{var j;try{const L=[["run_id",n,s].join(",")];for(const H of t){const X=((j=H.metrics)==null?void 0:j.rows)||[];for(const ie of X){const J=ie[n],se=ie[s],oe=[H.id,J==null?"":String(J),se==null?"":String(se)];L.push(oe.join(","))}}const F=new Blob([L.join(`
`)],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(F),N=document.createElement("a");N.href=B,N.download=`${o.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(B)}catch{}};return a.jsxs("div",{children:[a.jsx(le,{size:"small",style:{marginBottom:ne.spacing.md,borderRadius:ne.borderRadius.md},bodyStyle:{padding:`${ne.spacing.sm}px ${ne.spacing.md}px`},children:a.jsxs(z,{wrap:!0,size:"small",style:{width:"100%"},children:[a.jsx(qe,{title:f("chart.log_y_tooltip"),children:a.jsx(wt,{checkedChildren:f("chart.log"),unCheckedChildren:f("chart.linear"),checked:g,onChange:x,size:"small"})}),a.jsx(qe,{title:f("chart.auto_scale_tooltip"),children:a.jsx(wt,{checkedChildren:f("chart.auto"),unCheckedChildren:f("chart.fixed"),checked:v,onChange:S,size:"small"})}),a.jsx(nr,{type:"vertical",style:{margin:"0 4px"}}),a.jsxs(z,{size:"small",style:{minWidth:140,maxWidth:200},children:[a.jsxs(pC,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs,whiteSpace:"nowrap"},children:[f("chart.smooth"),":"]}),a.jsx(ri,{min:0,max:.95,step:.05,value:T,onChange:j=>k(Array.isArray(j)?j[0]:j),style:{width:90},tooltip:{formatter:j=>j?`${(j*100).toFixed(0)}%`:f("chart.off")}})]}),a.jsx(nr,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(pe,{size:"small",icon:a.jsx(Zo,{}),onClick:D,children:f("chart.export_csv")})]})}),a.jsx("div",{style:{height:p,width:"100%"},children:a.jsx(Qc,{option:A,group:d})})]})},(e,t)=>JSON.stringify(e.runs)===JSON.stringify(t.runs)&&e.xKey===t.xKey&&e.yKey===t.yKey&&e.title===t.title&&e.height===t.height&&e.persistKey===t.persistKey&&e.group===t.group);function yC(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(2))+" "+n[s]}function $o(e){if(!e||e===0)return"-";const t=e<1e10?e*1e3:e,n=new Date(t);return isNaN(n.getTime())?"-":n.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function Bm(e){if(!e||e<=0)return"0s";const t=Math.floor(e/1e3),n=Math.floor(t/60),s=Math.floor(n/60),o=Math.floor(s/24);if(o>0){const l=s%24;return`${o}d ${l}h`}if(s>0){const l=n%60;return`${s}h ${l}m`}if(n>0){const l=t%60;return`${n}m ${l}s`}return`${t}s`}const Th={log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{},info:(...e)=>{},debug:(...e)=>{},table:e=>{}},{TabPane:Rh}=Es,xC=e=>{switch(e){case"model":return a.jsx(di,{});case"dataset":return a.jsx(qt,{});case"config":return a.jsx(Kc,{});case"code":return a.jsx(lc,{});default:return a.jsx(fi,{})}},vC=e=>{switch(e){case"production":return"green";case"staging":return"blue";case"experimental":return"orange";case"archived":return"default";default:return"default"}};function wC({runId:e}){const{t}=Be(),n=ji(),[s,o]=b.useState(!1),[l,c]=b.useState([]),[d,f]=b.useState([]);b.useEffect(()=>{h()},[e]);const h=async()=>{o(!0);try{const g=await fetch(`/api/runs/${e}/artifacts`);if(!g.ok){const v=await g.text();throw Th.error(`API error: ${g.status} ${g.statusText}`,v),new Error(`Failed to load artifacts: ${g.statusText}`)}const x=await g.json();Th.info("Loaded artifacts:",x),c(x.created||[]),f(x.used||[])}catch(g){Q.error(`Failed to load artifacts: ${g}`)}finally{o(!1)}},p=[{title:t("artifacts.name"),dataIndex:"name",key:"name",render:(g,x)=>a.jsxs(z,{children:[xC(x.type),a.jsx("a",{onClick:()=>n(`/artifacts/${g}`),children:g})]})},{title:t("artifacts.version"),dataIndex:"version",key:"version",width:100,render:g=>a.jsxs(Te,{children:["v",g]})},{title:t("artifacts.aliases"),dataIndex:"aliases",key:"aliases",render:g=>a.jsx(z,{size:4,children:g.map(x=>a.jsx(Te,{color:"blue",children:x},x))})},{title:t("artifacts.stage"),dataIndex:"lifecycle_stage",key:"lifecycle_stage",render:g=>g&&a.jsx(Te,{color:vC(g),children:t(`artifacts.stage.${g}`)})},{title:t("artifacts.size"),dataIndex:"size_bytes",key:"size_bytes",width:100,render:g=>yC(g)},{title:t("artifacts.created"),dataIndex:"created_at",key:"created_at",width:180,render:g=>$o(g)},{title:t("actions"),key:"actions",width:100,render:(g,x)=>a.jsx(pe,{type:"link",size:"small",onClick:()=>n(`/artifacts/${x.name}?version=${x.version}`),children:t("view")})}];return s?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(En,{size:"large"})}):a.jsxs(Es,{defaultActiveKey:"created",children:[a.jsx(Rh,{tab:a.jsxs("span",{children:[a.jsx(di,{})," ",t("run.artifacts.created")," (",l.length,")"]}),children:l.length>0?a.jsx(vr,{dataSource:l,columns:p,rowKey:g=>`${g.name}-v${g.version}`,size:"small",pagination:{pageSize:10}}):a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:t("run.artifacts.no_created")})},"created"),a.jsx(Rh,{tab:a.jsxs("span",{children:[a.jsx(Gc,{})," ",t("run.artifacts.used")," (",d.length,")"]}),children:d.length>0?a.jsx(vr,{dataSource:d,columns:p,rowKey:g=>`${g.name}-v${g.version}`,size:"small",pagination:{pageSize:10}}):a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:t("run.artifacts.no_used")})},"used")]})}function _C(){return a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(Rt,{gutter:[ne.spacing.md,ne.spacing.md],children:[1,2,3,4].map(e=>a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Qn,{active:!0,paragraph:{rows:1}})})},e))}),a.jsx(le,{children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(Qn.Button,{active:!0,style:{width:"100%",height:40}}),[1,2,3,4,5,6,7,8].map(e=>a.jsx(Qn,{active:!0,paragraph:{rows:0}},e))]})})]})}function Um(){return a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(le,{children:a.jsx(Qn,{active:!0,paragraph:{rows:4}})}),a.jsx(le,{children:a.jsx(Qn,{active:!0,paragraph:{rows:2}})}),a.jsx(Rt,{gutter:[ne.spacing.md,ne.spacing.md],children:[1,2,3,4].map(e=>a.jsx(ke,{xs:24,md:12,children:a.jsx(le,{children:a.jsx(Qn.Image,{active:!0,style:{width:"100%",height:300}})})},e))}),a.jsx(le,{children:a.jsx(Qn,{active:!0,paragraph:{rows:6}})})]})}function bC({rows:e=4}){return a.jsx(le,{children:a.jsx(Qn,{active:!0,paragraph:{rows:e}})})}const{Text:Ln}=we,Wm=({gpus:e,loading:t=!1})=>{const{t:n}=Be(),{token:s}=tr.useToken();if(!e||e.length===0)return null;const o=Math.max(6,Math.floor(24/e.length)),l=d=>d<60?s.colorSuccess:d<80?s.colorWarning:s.colorError,c=(d,f)=>{const h=Math.round(d.util_gpu??0),p=Math.round(d.mem_used_pct??(d.mem_used_mib&&d.mem_total_mib?d.mem_used_mib/d.mem_total_mib*100:0)),g=d.power_limit_w??350,x=d.power_w?Math.round(d.power_w/g*100):0,v=d.temp_max_c??85,S=d.temp_c?Math.round(d.temp_c/v*100):0;return a.jsx(ke,{xs:24,sm:24,md:o,style:{textAlign:"center"},children:a.jsxs(z,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(Ln,{strong:!0,style:{fontSize:14,color:s.colorTextSecondary},children:["GPU ",d.index??f]}),d.name&&a.jsx("div",{children:a.jsx(Ln,{type:"secondary",style:{fontSize:12},children:d.name})})]}),a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(z,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(z,{size:4,children:[a.jsx(Ci,{style:{color:l(h),fontSize:14}}),a.jsx(Ln,{style:{fontSize:12},children:n("gpu.util")})]}),a.jsxs(Ln,{strong:!0,style:{fontSize:12},children:[h,"%"]})]}),a.jsx(er,{percent:h,strokeColor:l(h),size:"small",showInfo:!1})]})}),a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(z,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(z,{size:4,children:[a.jsx(qt,{style:{color:l(p),fontSize:14}}),a.jsx(Ln,{style:{fontSize:12},children:n("gpu.mem")})]}),a.jsx(Ln,{strong:!0,style:{fontSize:12},children:d.mem_used_mib&&d.mem_total_mib?`${(d.mem_used_mib/1024).toFixed(1)}GB / ${(d.mem_total_mib/1024).toFixed(1)}GB`:`${p}%`})]}),a.jsx(er,{percent:p,strokeColor:l(p),size:"small",showInfo:!1})]})}),d.power_w!==void 0&&a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(z,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(z,{size:4,children:[a.jsx(Dt,{style:{color:l(x),fontSize:14}}),a.jsx(Ln,{style:{fontSize:12},children:n("gpu.power")})]}),a.jsx(Ln,{strong:!0,style:{fontSize:12},children:`${Math.round(d.power_w)}W / ${Math.round(g)}W`})]}),a.jsx(er,{percent:x,strokeColor:l(x),size:"small",showInfo:!1})]})}),d.temp_c!==void 0&&a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(z,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(z,{size:4,children:[a.jsx(Qo,{style:{color:l(S),fontSize:14}}),a.jsx(Ln,{style:{fontSize:12},children:n("gpu.temp")})]}),a.jsx(Ln,{strong:!0,style:{fontSize:12},children:`${Math.round(d.temp_c)}°C / ${Math.round(v)}°C`})]}),a.jsx(er,{percent:S,strokeColor:l(S),size:"small",showInfo:!1})]})})]})},f)};return a.jsx(le,{title:n("gpu.monitor_title"),loading:t,style:{marginTop:16},children:a.jsx(Rt,{gutter:[16,24],justify:"center",children:e.map((d,f)=>c(d,f))})})};function Ph({children:e,height:t=320,threshold:n=.1,placeholder:s}){const o=b.useRef(null),[l,c]=b.useState(!1);return b.useEffect(()=>{if(l)return;const d=new IntersectionObserver(([f])=>{f.isIntersecting&&(c(!0),d.disconnect())},{rootMargin:"200px",threshold:n});return o.current&&d.observe(o.current),()=>d.disconnect()},[l,n]),a.jsx("div",{ref:o,style:{minHeight:t,width:"100%"},children:l?e:s||a.jsx("div",{style:{height:t,width:"100%",padding:16,background:"rgba(0,0,0,0.02)",borderRadius:8,display:"flex",flexDirection:"column",justifyContent:"center"},children:a.jsx(Qn,{active:!0,paragraph:{rows:4},title:!1})})})}const zl={},{Text:pn,Title:SC}=we,{Panel:jC}=qc;function CC(){var It;const{id:e=""}=Rm(),{t}=Be(),{settings:n}=Ti(),[s,o]=b.useState(null),[l,c]=b.useState({columns:[],rows:[]}),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(null),[v,S]=b.useState(()=>{try{return localStorage.getItem(`run:${e}:step:xAxis`)||"global_step"}catch{return"global_step"}}),[T,k]=b.useState(()=>{try{return localStorage.getItem(`run:${e}:layout:twoCol`)==="1"}catch{return!0}}),[P,A]=b.useState(window.innerWidth);b.useEffect(()=>{const Y=()=>A(window.innerWidth);return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]);const[D,j]=b.useState(null);b.useRef([]);const[R,L]=b.useState([]),[F,B]=b.useState(""),[N,H]=b.useState([]),[X,ie]=b.useState(""),[J,se]=b.useState([]),[oe,he]=b.useState([]),[re,Z]=b.useState([]),[K,ee]=b.useState({}),ce=async(Y=!0)=>{Y&&f(!0);try{const Me=await A1(e);o(Me),x(new Date)}catch{Q.error(t("run.load_failed")||"Failed to load run details")}finally{Y&&f(!1)}},ge=async(Y=!0)=>{Y&&p(!0);try{const Me=await Fl(e);c(Me)}catch{Q.error(t("run.metrics_failed")||"Failed to load metrics")}finally{Y&&p(!1)}};b.useEffect(()=>{ce(),ge();const Y=setInterval(()=>{ce(!1),ge(!1)},3e3);return()=>clearInterval(Y)},[e]),b.useEffect(()=>{!(s!=null&&s.project)||!(s!=null&&s.name)||(k1().then(Y=>L(Y.projects||[])).catch(()=>{}),F||(B(s.project),ie(s.name)),he(Y=>Y.includes(e)?Y:[e]))},[s==null?void 0:s.project,s==null?void 0:s.name,e]),b.useEffect(()=>{if(!F){H([]);return}D1(F).then(Y=>{H(Y.names||[]),F!==(s==null?void 0:s.project)?ie(""):ie((s==null?void 0:s.name)||"")}).catch(()=>H([]))},[F,s==null?void 0:s.project,s==null?void 0:s.name]),b.useEffect(()=>{if(!F||!X){se([]);return}M1(F,X).then(Y=>{const Me=(Y||[]).sort((dt,wn)=>(wn.start_time||0)-(dt.start_time||0));se(Me)}).catch(()=>se([]))},[F,X]),b.useEffect(()=>{let Y=!1;return(async()=>{const Me={...K};for(const dt of oe)if(!Me[dt])try{const wn=await Fl(dt);Y||(Me[dt]=wn)}catch{}ee(Me)})(),()=>{Y=!0}},[oe]),b.useEffect(()=>{try{localStorage.setItem(`run:${e}:step:xAxis`,v)}catch{}},[e,v]),b.useEffect(()=>{try{localStorage.setItem(`run:${e}:layout:twoCol`,T?"1":"0")}catch{}},[e,T]);const He=location.protocol==="https:"?"wss":"ws",Xe=b.useMemo(()=>{const Y=(zl==null?void 0:zl.VITE_API_BASE)||"/api";return/^https?:/i.test(Y)?`${Y.replace(/^http/i,He).replace(/\/$/,"")}/runs/${e}/logs/ws`:`${He}://${location.host}${Y.replace(/\/$/,"")}/runs/${e}/logs/ws`},[e,He]),Ne=(Y,Me)=>{var dt;if(!((dt=Y==null?void 0:Y.rows)!=null&&dt.length))return!1;for(const wn of Y.rows){const q=wn[Me];if(q==null||q==="")continue;const fe=Number(q);if(!Number.isNaN(fe))return!0}return!1},ut=new Set(["epoch","global_step","iter","step","batch","time","stage"]),gt=b.useMemo(()=>(l.columns||[]).filter(Y=>!ut.has(Y)&&Ne(l,Y)),[l]),$=b.useMemo(()=>{const Y=new Set;for(const Me of oe){const dt=K[Me];if(!dt)continue;const wn=dt.columns||[];for(const q of wn)!ut.has(q)&&Ne(dt,q)&&Y.add(q)}return Array.from(Y).sort()},[oe,K]),ue=b.useMemo(()=>({display:"grid",gridTemplateColumns:T&&P>=900?"repeat(auto-fit, minmax(400px, 1fr))":"1fr",gap:16,width:"100%",maxWidth:"100%"}),[T,P]),Ce=b.useMemo(()=>{const Y=n.defaultChartHeight;return P>=1200?Y+30:P>=900?Y:Math.max(250,Y-40)},[P,n.defaultChartHeight]),Pt=Y=>{switch(Y){case"running":return a.jsx(Yc,{spin:!0,style:{color:"#1890ff"}});case"finished":return a.jsx(_r,{style:{color:"#52c41a"}});case"failed":return a.jsx(Br,{style:{color:"#ff4d4f"}});default:return a.jsx(Gj,{})}};return d&&!s?a.jsx(Um,{}):a.jsxs(z,{direction:"vertical",size:"middle",style:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:[a.jsxs(le,{bodyStyle:{padding:"20px 24px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:16},children:[a.jsxs("div",{children:[a.jsxs(z,{align:"center",style:{marginBottom:8},children:[a.jsx(SC,{level:3,style:{margin:0},children:(s==null?void 0:s.name)||e}),(s==null?void 0:s.status)&&a.jsx(Te,{icon:Pt(s.status),color:s.status==="running"?"processing":s.status==="finished"?"success":s.status==="failed"?"error":"default",style:{fontSize:"14px",padding:"4px 10px",borderRadius:4},children:s.status.toUpperCase()})]}),a.jsxs(z,{split:a.jsx(nr,{type:"vertical"}),children:[a.jsxs(pn,{type:"secondary",children:[a.jsx(Wj,{})," ",(s==null?void 0:s.project)||"Default Project"]}),(s==null?void 0:s.start_time)&&a.jsxs(pn,{type:"secondary",children:[a.jsx(Hj,{})," ",$o(s.start_time)]}),(s==null?void 0:s.pid)&&a.jsxs(pn,{type:"secondary",children:["PID: ",s.pid]})]})]}),a.jsxs(z,{children:[g&&a.jsx(pn,{type:"secondary",style:{fontSize:"12px"},children:t("run.updated",{time:g.toLocaleTimeString()})}),a.jsx(pe,{icon:a.jsx(Rs,{}),onClick:()=>{ce(),ge(),Q.success(t("run.refreshed"))},loading:d,children:t("run.refresh")})]})]}),a.jsx(nr,{style:{margin:"16px 0"}}),a.jsxs(Rt,{gutter:[24,16],children:[a.jsx(ke,{xs:24,sm:12,md:8,children:a.jsx(Gt,{title:t("run.stats.duration")||"Duration",value:s!=null&&s.duration?Bm(s.duration*1e3):"-",prefix:a.jsx(ea,{})})}),a.jsx(ke,{xs:24,sm:12,md:8,children:a.jsx(Gt,{title:t("run.stats.total_steps")||"Total Steps",value:((It=l.rows)==null?void 0:It.length)||0,prefix:a.jsx(Dt,{})})}),a.jsx(ke,{xs:24,sm:12,md:8,children:a.jsx(Gt,{title:t("run.stats.artifacts")||"Artifacts",value:((s==null?void 0:s.artifacts_created_count)||0)+((s==null?void 0:s.artifacts_used_count)||0),prefix:a.jsx(di,{})})})]}),a.jsx(qc,{ghost:!0,style:{marginTop:16},children:a.jsx(jC,{header:t("run.more_details")||"More Details (Paths, Logs)",children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[a.jsxs("div",{children:[a.jsxs(pn,{type:"secondary",style:{display:"inline-block",width:100},children:[t("run.descriptions.run_id"),":"]}),a.jsx(pn,{copyable:!0,children:e})]}),a.jsxs("div",{children:[a.jsxs(pn,{type:"secondary",style:{display:"inline-block",width:100},children:[t("run.descriptions.run_dir"),":"]}),a.jsx(pn,{copyable:!0,ellipsis:!0,style:{maxWidth:"calc(100% - 120px)"},children:s==null?void 0:s.run_dir})]}),a.jsxs("div",{children:[a.jsxs(pn,{type:"secondary",style:{display:"inline-block",width:100},children:[t("run.descriptions.log_file"),":"]}),a.jsx(pn,{copyable:!0,ellipsis:!0,style:{maxWidth:"calc(100% - 120px)"},children:s==null?void 0:s.logs})]})]})},"1")})]}),(s==null?void 0:s.status)==="running"&&(D==null?void 0:D.gpus)&&D.gpus.length>0&&a.jsx(Wm,{gpus:D.gpus,loading:d}),a.jsx(le,{title:a.jsxs(z,{children:[a.jsx(Qo,{}),a.jsx("span",{children:t("compare.title")}),oe.length>1&&re.length>0&&a.jsx(zo,{count:`${oe.length} runs × ${re.length} metrics`,style:{backgroundColor:"#52c41a"}})]}),extra:a.jsxs(z,{children:[a.jsx(qe,{title:"Select all available metrics",children:a.jsx(pe,{size:"small",type:"dashed",onClick:()=>Z($),disabled:$.length===0,children:"Select All"})}),a.jsx(qe,{title:"Clear all selections",children:a.jsx(pe,{size:"small",type:"text",onClick:()=>{Z([]),he([e])},children:"Clear"})})]}),children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsxs(z,{wrap:!0,style:{width:"100%"},align:"start",children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,flex:1,minWidth:300},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[a.jsxs("div",{style:{flex:1,minWidth:160},children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:t("run.descriptions.project")||"Project"}),a.jsx(ht,{showSearch:!0,style:{width:"100%"},value:F,onChange:B,options:R.map(Y=>({value:Y,label:Y})),placeholder:"Select Project"})]}),a.jsxs("div",{style:{flex:1,minWidth:160},children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:t("run.descriptions.name")||"Experiment"}),a.jsx(ht,{showSearch:!0,style:{width:"100%"},value:X,onChange:ie,options:N.map(Y=>({value:Y,label:Y})),placeholder:"Select Experiment",disabled:!F})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:t("compare.select.runs")}),a.jsx(ht,{mode:"multiple",allowClear:!0,style:{width:"100%"},value:oe,onChange:he,placeholder:t("compare.select.runs.placeholder"),optionLabelProp:"label",maxTagCount:3,children:(J||[]).map(Y=>a.jsx(ht.Option,{value:Y.id,label:Y.id.substring(0,8),children:a.jsxs(z,{direction:"vertical",size:0,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx(pn,{strong:!0,children:Y.id}),a.jsx(Te,{color:Y.status==="running"?"blue":Y.status==="finished"?"green":"red",style:{marginRight:0},children:Y.status})]}),a.jsx(pn,{type:"secondary",style:{fontSize:12},children:Y.start_time?$o(Y.start_time):"-"})]})},Y.id))})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:a.jsxs(z,{children:[a.jsx("span",{children:t("compare.select.metrics")}),a.jsxs(z.Compact,{size:"small",children:[a.jsx(pe,{type:"text",size:"small",onClick:()=>Z($.filter(Y=>Y.match(/loss|error/i))),children:"Loss"}),a.jsx(pe,{type:"text",size:"small",onClick:()=>Z($.filter(Y=>Y.match(/acc|accuracy/i))),children:"Acc"})]})]})}),a.jsx(ht,{mode:"multiple",allowClear:!0,style:{width:"100%"},value:re,onChange:Z,placeholder:t("compare.select.metrics.placeholder"),options:$.map(Y=>({value:Y,label:Y})),maxTagCount:"responsive"})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:8,paddingBottom:4},children:[a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:4,fontSize:"12px",color:"#8c8c8c"},children:t("compare.stepx")}),a.jsx(ht,{value:v,onChange:Y=>S(Y),style:{width:120},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),a.jsx(pe,{onClick:async()=>{const Y={};for(const Me of oe)try{Y[Me]=await Fl(Me)}catch{}ee(Y)},children:t("compare.refresh")})]})]}),re.length===0||oe.length===0?a.jsx(sn,{type:"info",showIcon:!0,message:t("compare.tip")}):a.jsx("div",{style:ue,children:re.map(Y=>a.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px",backgroundColor:"#fff"},children:a.jsx(Ph,{height:Ce,children:a.jsx(gC,{title:Y,xKey:v,yKey:Y,runs:oe.map(Me=>({id:Me,metrics:K[Me]||{columns:[],rows:[]}})),height:Ce,group:`overlay-group-${e}`,persistKey:`run:${e}:overlay:${Y}`})})},Y))})]})}),a.jsx(le,{title:a.jsxs(z,{children:[a.jsx(Ci,{}),a.jsx("span",{children:t("metrics.title")}),a.jsx(zo,{count:gt.length,showZero:!0,style:{backgroundColor:"#1677ff"}}),h&&a.jsx(En,{size:"small"})]}),extra:a.jsxs(z,{wrap:!0,children:[a.jsx(qe,{title:t("metrics.more_columns_tooltip")||"Display charts in multiple columns",children:a.jsxs("span",{children:[t("metrics.more_columns")," ",a.jsx(wt,{checked:T,onChange:k})]})}),a.jsxs("span",{children:[t("compare.stepx")," ",a.jsx(ht,{size:"small",value:v,onChange:Y=>S(Y),style:{width:140},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),a.jsx(qe,{title:"Refresh metrics",children:a.jsx(pe,{type:"text",size:"small",icon:a.jsx(Rs,{}),loading:h,onClick:()=>ge()})})]}),children:gt.length===0?a.jsx(sn,{type:"info",showIcon:!0,message:t("metrics.none")}):a.jsx("div",{style:ue,children:gt.map(Y=>a.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px",backgroundColor:"#fff"},children:a.jsx(Ph,{height:Ce,children:a.jsx(hC,{metrics:l,xKey:v,yKeys:[Y],title:Y,height:Ce,group:`step-group-${e}`,persistKey:`run:${e}:step:${Y}`})})},Y))})}),((s==null?void 0:s.artifacts_created_count)>0||(s==null?void 0:s.artifacts_used_count)>0)&&a.jsx(le,{title:a.jsxs(z,{children:[a.jsx(di,{}),t("run.artifacts.title")]}),children:a.jsx(wC,{runId:e})}),a.jsx(le,{title:a.jsxs(z,{children:[a.jsx(qt,{}),a.jsx("span",{children:t("logs.title")}),a.jsx(Te,{color:"cyan",children:"Real-time"})]}),styles:{body:{padding:0}},children:a.jsx(uC,{url:Xe,persistKey:`run_${e}_logs`})})]})}const eu=b.createContext({});function Ri(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const tu=typeof window<"u",nu=tu?b.useLayoutEffect:b.useEffect,ra=b.createContext(null);function ru(e,t){e.indexOf(t)===-1&&e.push(t)}function sa(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const rr=(e,t,n)=>n>t?t:n<e?e:n;let su=()=>{};const sr={},Hm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Gm(e){return typeof e=="object"&&e!==null}const Km=e=>/^0[^.\s]+$/u.test(e);function iu(e){let t;return()=>(t===void 0&&(t=e()),t)}const vn=e=>e,TC=(e,t)=>n=>t(e(n)),Pi=(...e)=>e.reduce(TC),Ps=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ou{constructor(){this.subscriptions=[]}add(t){return ru(this.subscriptions,t),()=>sa(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kn=e=>e*1e3,xn=e=>e/1e3;function qm(e,t){return t?e*(1e3/t):0}const RC=(e,t,n)=>{const s=t-e;return((n-e)%s+s)%s+e},Ym=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,PC=1e-7,AC=12;function EC(e,t,n,s,o){let l,c,d=0;do c=t+(n-t)/2,l=Ym(c,s,o)-e,l>0?n=c:t=c;while(Math.abs(l)>PC&&++d<AC);return c}function Ai(e,t,n,s){if(e===t&&n===s)return vn;const o=l=>EC(l,0,1,e,n);return l=>l===0||l===1?l:Ym(o(l),t,s)}const Xm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jm=e=>t=>1-e(1-t),Zm=Ai(.33,1.53,.69,.99),au=Jm(Zm),Qm=Xm(au),eg=e=>(e*=2)<1?.5*au(e):.5*(2-Math.pow(2,-10*(e-1))),lu=e=>1-Math.sin(Math.acos(e)),tg=Jm(lu),ng=Xm(lu),kC=Ai(.42,0,1,1),DC=Ai(0,0,.58,1),rg=Ai(.42,0,.58,1),sg=e=>Array.isArray(e)&&typeof e[0]!="number";function ig(e,t){return sg(e)?e[RC(0,e.length,t)]:e}const og=e=>Array.isArray(e)&&typeof e[0]=="number",MC={linear:vn,easeIn:kC,easeInOut:rg,easeOut:DC,circIn:lu,circInOut:ng,circOut:tg,backIn:au,backInOut:Qm,backOut:Zm,anticipate:eg},IC=e=>typeof e=="string",Ah=e=>{if(og(e)){su(e.length===4);const[t,n,s,o]=e;return Ai(t,n,s,o)}else if(IC(e))return MC[e];return e},jo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function LC(e,t){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(h.schedule(p),e()),p(d)}const h={schedule:(p,g=!1,x=!1)=>{const S=x&&o?n:s;return g&&c.add(p),S.has(p)||S.add(p),p},cancel:p=>{s.delete(p),c.delete(p)},process:p=>{if(d=p,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(f),n.clear(),o=!1,l&&(l=!1,h.process(p))}};return h}const OC=40;function ag(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=jo.reduce((D,j)=>(D[j]=LC(l),D),{}),{setup:d,read:f,resolveKeyframes:h,preUpdate:p,update:g,preRender:x,render:v,postRender:S}=c,T=()=>{const D=sr.useManualTiming?o.timestamp:performance.now();n=!1,sr.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(D-o.timestamp,OC),1)),o.timestamp=D,o.isProcessing=!0,d.process(o),f.process(o),h.process(o),p.process(o),g.process(o),x.process(o),v.process(o),S.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(T))},k=()=>{n=!0,s=!0,o.isProcessing||e(T)};return{schedule:jo.reduce((D,j)=>{const R=c[j];return D[j]=(L,F=!1,B=!1)=>(n||k(),R.schedule(L,F,B)),D},{}),cancel:D=>{for(let j=0;j<jo.length;j++)c[jo[j]].cancel(D)},state:o,steps:c}}const{schedule:Ye,cancel:ir,state:Tt,steps:Nl}=ag(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0);let Mo;function FC(){Mo=void 0}const Kt={now:()=>(Mo===void 0&&Kt.set(Tt.isProcessing||sr.useManualTiming?Tt.timestamp:performance.now()),Mo),set:e=>{Mo=e,queueMicrotask(FC)}},lg=e=>t=>typeof t=="string"&&t.startsWith(e),cu=lg("--"),zC=lg("var(--"),uu=e=>zC(e)?NC.test(e.split("/*")[0].trim()):!1,NC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ks={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},mi={...ks,transform:e=>rr(0,1,e)},Co={...ks,default:1},si=e=>Math.round(e*1e5)/1e5,du=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $C(e){return e==null}const VC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fu=(e,t)=>n=>!!(typeof n=="string"&&VC.test(n)&&n.startsWith(e)||t&&!$C(n)&&Object.prototype.hasOwnProperty.call(n,t)),cg=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(du);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},BC=e=>rr(0,255,e),$l={...ks,transform:e=>Math.round(BC(e))},Or={test:fu("rgb","red"),parse:cg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+$l.transform(e)+", "+$l.transform(t)+", "+$l.transform(n)+", "+si(mi.transform(s))+")"};function UC(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const yc={test:fu("#"),parse:UC,transform:Or.transform},Ei=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xr=Ei("deg"),zn=Ei("%"),ve=Ei("px"),WC=Ei("vh"),HC=Ei("vw"),Eh={...zn,parse:e=>zn.parse(e)/100,transform:e=>zn.transform(e*100)},vs={test:fu("hsl","hue"),parse:cg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+zn.transform(si(t))+", "+zn.transform(si(n))+", "+si(mi.transform(s))+")"},ft={test:e=>Or.test(e)||yc.test(e)||vs.test(e),parse:e=>Or.test(e)?Or.parse(e):vs.test(e)?vs.parse(e):yc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Or.transform(e):vs.transform(e),getAnimatableNone:e=>{const t=ft.parse(e);return t.alpha=0,ft.transform(t)}},GC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(du))==null?void 0:t.length)||0)+(((n=e.match(GC))==null?void 0:n.length)||0)>0}const ug="number",dg="color",qC="var",YC="var(",kh="${}",XC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gi(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=t.replace(XC,f=>(ft.test(f)?(s.color.push(l),o.push(dg),n.push(ft.parse(f))):f.startsWith(YC)?(s.var.push(l),o.push(qC),n.push(f)):(s.number.push(l),o.push(ug),n.push(parseFloat(f))),++l,kh)).split(kh);return{values:n,split:d,indexes:s,types:o}}function fg(e){return gi(e).values}function hg(e){const{split:t,types:n}=gi(e),s=t.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],o[c]!==void 0){const d=n[c];d===ug?l+=si(o[c]):d===dg?l+=ft.transform(o[c]):l+=o[c]}return l}}const JC=e=>typeof e=="number"?0:ft.test(e)?ft.getAnimatableNone(e):e;function ZC(e){const t=fg(e);return hg(e)(t.map(JC))}const br={test:KC,parse:fg,createTransformer:hg,getAnimatableNone:ZC};function Vl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function QC({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,c=0;if(!t)o=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;o=Vl(f,d,e+1/3),l=Vl(f,d,e),c=Vl(f,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Vo(e,t){return n=>n>0?t:e}const Qe=(e,t,n)=>e+(t-e)*n,Bl=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},eT=[yc,Or,vs],tT=e=>eT.find(t=>t.test(e));function Dh(e){const t=tT(e);if(!t)return!1;let n=t.parse(e);return t===vs&&(n=QC(n)),n}const Mh=(e,t)=>{const n=Dh(e),s=Dh(t);if(!n||!s)return Vo(e,t);const o={...n};return l=>(o.red=Bl(n.red,s.red,l),o.green=Bl(n.green,s.green,l),o.blue=Bl(n.blue,s.blue,l),o.alpha=Qe(n.alpha,s.alpha,l),Or.transform(o))},xc=new Set(["none","hidden"]);function nT(e,t){return xc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function rT(e,t){return n=>Qe(e,t,n)}function hu(e){return typeof e=="number"?rT:typeof e=="string"?uu(e)?Vo:ft.test(e)?Mh:oT:Array.isArray(e)?pg:typeof e=="object"?ft.test(e)?Mh:sT:Vo}function pg(e,t){const n=[...e],s=n.length,o=e.map((l,c)=>hu(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function sT(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=hu(e[o])(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function iT(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][s[l]],d=e.values[c]??0;n[o]=d,s[l]++}return n}const oT=(e,t)=>{const n=br.createTransformer(t),s=gi(e),o=gi(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?xc.has(e)&&!o.values.length||xc.has(t)&&!s.values.length?nT(e,t):Pi(pg(iT(s,o),o.values),n):Vo(e,t)};function mg(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qe(e,t,n):hu(e)(e,t)}const aT=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ye.update(t,n),stop:()=>ir(t),now:()=>Tt.isProcessing?Tt.timestamp:Kt.now()}},gg=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)s+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Bo=2e4;function pu(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Bo;)t+=n,s=e.next(t);return t>=Bo?1/0:t}function yg(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(pu(s),Bo);return{type:"keyframes",ease:l=>s.next(o*l).value/t,duration:xn(o)}}const lT=5;function xg(e,t,n){const s=Math.max(t-lT,0);return qm(n-e(s),t-s)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ul=.001;function cT({duration:e=ot.duration,bounce:t=ot.bounce,velocity:n=ot.velocity,mass:s=ot.mass}){let o,l,c=1-t;c=rr(ot.minDamping,ot.maxDamping,c),e=rr(ot.minDuration,ot.maxDuration,xn(e)),c<1?(o=h=>{const p=h*c,g=p*e,x=p-n,v=vc(h,c),S=Math.exp(-g);return Ul-x/v*S},l=h=>{const g=h*c*e,x=g*n+n,v=Math.pow(c,2)*Math.pow(h,2)*e,S=Math.exp(-g),T=vc(Math.pow(h,2),c);return(-o(h)+Ul>0?-1:1)*((x-v)*S)/T}):(o=h=>{const p=Math.exp(-h*e),g=(h-n)*e+1;return-Ul+p*g},l=h=>{const p=Math.exp(-h*e),g=(n-h)*(e*e);return p*g});const d=5/e,f=dT(o,l,d);if(e=kn(e),isNaN(f))return{stiffness:ot.stiffness,damping:ot.damping,duration:e};{const h=Math.pow(f,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:e}}}const uT=12;function dT(e,t,n){let s=n;for(let o=1;o<uT;o++)s=s-e(s)/t(s);return s}function vc(e,t){return e*Math.sqrt(1-t*t)}const fT=["duration","bounce"],hT=["stiffness","damping","mass"];function Ih(e,t){return t.some(n=>e[n]!==void 0)}function pT(e){let t={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...e};if(!Ih(e,hT)&&Ih(e,fT))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*rr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:ot.mass,stiffness:o,damping:l}}else{const n=cT(e);t={...t,...n,mass:ot.mass},t.isResolvedFromDuration=!0}return t}function yi(e=ot.visualDuration,t=ot.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:h,mass:p,duration:g,velocity:x,isResolvedFromDuration:v}=pT({...n,velocity:-xn(n.velocity||0)}),S=x||0,T=h/(2*Math.sqrt(f*p)),k=c-l,P=xn(Math.sqrt(f/p)),A=Math.abs(k)<5;s||(s=A?ot.restSpeed.granular:ot.restSpeed.default),o||(o=A?ot.restDelta.granular:ot.restDelta.default);let D;if(T<1){const R=vc(P,T);D=L=>{const F=Math.exp(-T*P*L);return c-F*((S+T*P*k)/R*Math.sin(R*L)+k*Math.cos(R*L))}}else if(T===1)D=R=>c-Math.exp(-P*R)*(k+(S+P*k)*R);else{const R=P*Math.sqrt(T*T-1);D=L=>{const F=Math.exp(-T*P*L),B=Math.min(R*L,300);return c-F*((S+T*P*k)*Math.sinh(B)+R*k*Math.cosh(B))/R}}const j={calculatedDuration:v&&g||null,next:R=>{const L=D(R);if(v)d.done=R>=g;else{let F=R===0?S:0;T<1&&(F=R===0?kn(S):xg(D,R,L));const B=Math.abs(F)<=s,N=Math.abs(c-L)<=o;d.done=B&&N}return d.value=d.done?c:L,d},toString:()=>{const R=Math.min(pu(j),Bo),L=gg(F=>j.next(R*F).value,R,30);return R+"ms "+L},toTransition:()=>{}};return j}yi.applyToOptions=e=>{const t=yg(e,100,yi);return e.ease=t.ease,e.duration=kn(t.duration),e.type="keyframes",e};function wc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:h=.5,restSpeed:p}){const g=e[0],x={done:!1,value:g},v=B=>d!==void 0&&B<d||f!==void 0&&B>f,S=B=>d===void 0?f:f===void 0||Math.abs(d-B)<Math.abs(f-B)?d:f;let T=n*t;const k=g+T,P=c===void 0?k:c(k);P!==k&&(T=P-g);const A=B=>-T*Math.exp(-B/s),D=B=>P+A(B),j=B=>{const N=A(B),H=D(B);x.done=Math.abs(N)<=h,x.value=x.done?P:H};let R,L;const F=B=>{v(x.value)&&(R=B,L=yi({keyframes:[x.value,S(x.value)],velocity:xg(D,B,x.value),damping:o,stiffness:l,restDelta:h,restSpeed:p}))};return F(0),{calculatedDuration:null,next:B=>{let N=!1;return!L&&R===void 0&&(N=!0,j(B),F(B)),R!==void 0&&B>=R?L.next(B-R):(!N&&j(B),x)}}}function mT(e,t,n){const s=[],o=n||sr.mix||mg,l=e.length-1;for(let c=0;c<l;c++){let d=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||vn:t;d=Pi(f,d)}s.push(d)}return s}function vg(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(su(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=mT(t,s,o),f=d.length,h=p=>{if(c&&p<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const x=Ps(e[g],e[g+1],p);return d[g](x)};return n?p=>h(rr(e[0],e[l-1],p)):h}function wg(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Ps(0,t,s);e.push(Qe(n,1,o))}}function _g(e){const t=[0];return wg(t,e.length-1),t}function gT(e,t){return e.map(n=>n*t)}function yT(e,t){return e.map(()=>t||rg).splice(0,e.length-1)}function ii({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=sg(s)?s.map(Ah):Ah(s),l={done:!1,value:t[0]},c=gT(n&&n.length===t.length?n:_g(t),e),d=vg(c,t,{ease:Array.isArray(o)?o:yT(t,o)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const xT=e=>e!==null;function mu(e,{repeat:t,repeatType:n="loop"},s,o=1){const l=e.filter(xT),d=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const vT={decay:wc,inertia:wc,tween:ii,keyframes:ii,spring:yi};function bg(e){typeof e.type=="string"&&(e.type=vT[e.type])}class gu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const wT=e=>e/100;class yu extends gu{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Kt.now()&&this.tick(Kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bg(t);const{type:n=ii,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||ii;f!==ii&&typeof d[0]!="number"&&(this.mixKeyframes=Pi(wT,mg(d[0],d[1])),d=[0,100]);const h=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=pu(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:x,repeatDelay:v,type:S,onUpdate:T,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const P=this.currentTime-h*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?P<0:P>o;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let D=this.currentTime,j=s;if(g){const B=Math.min(this.currentTime,o)/d;let N=Math.floor(B),H=B%1;!H&&B>=1&&(H=1),H===1&&N--,N=Math.min(N,g+1),!!(N%2)&&(x==="reverse"?(H=1-H,v&&(H-=v/d)):x==="mirror"&&(j=c)),D=rr(0,1,H)*d}const R=A?{done:!1,value:p[0]}:j.next(D);l&&(R.value=l(R.value));let{done:L}=R;!A&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return F&&S!==wc&&(R.value=mu(p,this.options,k,this.speed)),T&&T(R.value),F&&this.finish(),R}then(t,n){return this.finished.then(t,n)}get duration(){return xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xn(t)}get time(){return xn(this.currentTime)}set time(t){var n;t=kn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Kt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xn(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=aT,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function _T(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fr=e=>e*180/Math.PI,_c=e=>{const t=Fr(Math.atan2(e[1],e[0]));return bc(t)},bT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_c,rotateZ:_c,skewX:e=>Fr(Math.atan(e[1])),skewY:e=>Fr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},bc=e=>(e=e%360,e<0&&(e+=360),e),Lh=_c,Oh=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Fh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ST={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Oh,scaleY:Fh,scale:e=>(Oh(e)+Fh(e))/2,rotateX:e=>bc(Fr(Math.atan2(e[6],e[5]))),rotateY:e=>bc(Fr(Math.atan2(-e[2],e[0]))),rotateZ:Lh,rotate:Lh,skewX:e=>Fr(Math.atan(e[4])),skewY:e=>Fr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Sc(e){return e.includes("scale")?1:0}function jc(e,t){if(!e||e==="none")return Sc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=ST,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=bT,o=d}if(!o)return Sc(t);const l=s[t],c=o[1].split(",").map(CT);return typeof l=="function"?l(c):c[l]}const jT=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return jc(n,t)};function CT(e){return parseFloat(e.trim())}const Ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ms=new Set(Ds),zh=e=>e===ks||e===ve,TT=new Set(["x","y","z"]),RT=Ds.filter(e=>!TT.has(e));function PT(e){const t=[];return RT.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const $r={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>jc(t,"x"),y:(e,{transform:t})=>jc(t,"y")};$r.translateX=$r.x;$r.translateY=$r.y;const Vr=new Set;let Cc=!1,Tc=!1,Rc=!1;function Sg(){if(Tc){const e=Array.from(Vr).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=PT(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Tc=!1,Cc=!1,Vr.forEach(e=>e.complete(Rc)),Vr.clear()}function jg(){Vr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Tc=!0)})}function AT(){Rc=!0,jg(),Sg(),Rc=!1}class xu{constructor(t,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Vr.add(this),Cc||(Cc=!0,Ye.read(jg),Ye.resolveKeyframes(Sg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}_T(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Vr.delete(this)}cancel(){this.state==="scheduled"&&(Vr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ET=e=>e.startsWith("--");function kT(e,t,n){ET(t)?e.style.setProperty(t,n):e.style[t]=n}const DT=iu(()=>window.ScrollTimeline!==void 0),MT={};function IT(e,t){const n=iu(e);return()=>MT[t]??n()}const Cg=IT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ni=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Nh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ni([0,.65,.55,1]),circOut:ni([.55,0,1,.45]),backIn:ni([.31,.01,.66,-.59]),backOut:ni([.33,1.53,.69,.99])};function Tg(e,t){if(e)return typeof e=="function"?Cg()?gg(e,t):"ease-out":og(e)?ni(e):Array.isArray(e)?e.map(n=>Tg(n,t)||Nh.easeOut):Nh[e]}function LT(e,t,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},h=void 0){const p={[t]:n};f&&(p.offset=f);const g=Tg(d,o);Array.isArray(g)&&(p.easing=g);const x={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),e.animate(p,x)}function vu(e){return typeof e=="function"&&"applyToOptions"in e}function OT({type:e,...t}){return vu(e)&&Cg()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class FT extends gu{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,su(typeof t.type!="string");const h=OT(t);this.animation=LT(n,s,o,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=mu(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):kT(n,s,p),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xn(t)}get time(){return xn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=kn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&DT()?(this.animation.timeline=t,vn):n(this)}}const Rg={anticipate:eg,backInOut:Qm,circInOut:ng};function zT(e){return e in Rg}function NT(e){typeof e.ease=="string"&&zT(e.ease)&&(e.ease=Rg[e.ease])}const $h=10;class $T extends FT{constructor(t){NT(t),bg(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new yu({...c,autoplay:!1}),f=kn(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-$h).value,d.sample(f).value,$h),d.stop()}}const Vh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(br.test(e)||e==="0")&&!e.startsWith("url("));function VT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function BT(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Vh(o,t),d=Vh(l,t);return!c||!d?!1:VT(e)||(n==="spring"||vu(n))&&s}function Pc(e){e.duration=0,e.type="keyframes"}const UT=new Set(["opacity","clipPath","filter","transform"]),WT=iu(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HT(e){var p;const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return WT()&&n&&UT.has(n)&&(n!=="transform"||!h)&&!f&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const GT=40;class KT extends gu{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:h,element:p,...g}){var S;super(),this.stop=()=>{var T,k;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Kt.now();const x={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:f,motionValue:h,element:p,...g},v=(p==null?void 0:p.KeyframeResolver)||xu;this.keyframeResolver=new v(d,(T,k,P)=>this.onKeyframesResolved(T,k,x,!P),f,h,p),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:h,onUpdate:p}=s;this.resolvedAt=Kt.now(),BT(t,l,c,d)||((sr.instantAnimations||!f)&&(p==null||p(mu(t,s,n))),t[0]=t[t.length-1],Pc(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>GT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},v=!h&&HT(x)?new $T({...x,element:x.motionValue.owner.current}):new yu(x);v.finished.then(()=>this.notifyFinished()).catch(vn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),AT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class qT{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t){const n=this.animations.map(s=>s.attachTimeline(t));return()=>{n.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return Bh(this.animations,"duration")}get iterationDuration(){return Bh(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Bh(e,t){let n=0;for(let s=0;s<e.length;s++){const o=e[s][t];o!==null&&o>n&&(n=o)}return n}class YT extends qT{then(t,n){return this.finished.finally(t).then(()=>{})}}const XT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JT(e){const t=XT.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function Pg(e,t,n=1){const[s,o]=JT(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Hm(c)?parseFloat(c):c}return uu(o)?Pg(o,t,n+1):o}function wu(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ag=new Set(["width","height","top","left","right","bottom",...Ds]),ZT={test:e=>e==="auto",parse:e=>e},Eg=e=>t=>t.test(e),kg=[ks,ve,zn,xr,HC,WC,ZT],Uh=e=>kg.find(Eg(e));function QT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Km(e):!0}const eR=new Set(["brightness","contrast","saturate","opacity"]);function tR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(du)||[];if(!s)return e;const o=n.replace(s,"");let l=eR.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const nR=/\b([a-z-]*)\(.*?\)/gu,Ac={...br,getAnimatableNone:e=>{const t=e.match(nR);return t?t.map(tR).join(" "):e}},Wh={...ks,transform:Math.round},rR={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:Co,scaleX:Co,scaleY:Co,scaleZ:Co,skew:xr,skewX:xr,skewY:xr,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:mi,originX:Eh,originY:Eh,originZ:ve},_u={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve,...rR,zIndex:Wh,fillOpacity:mi,strokeOpacity:mi,numOctaves:Wh},sR={..._u,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:Ac,WebkitFilter:Ac},Dg=e=>sR[e];function Mg(e,t){let n=Dg(e);return n!==Ac&&(n=br),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const iR=new Set(["auto","none","0"]);function oR(e,t,n){let s=0,o;for(;s<e.length&&!o;){const l=e[s];typeof l=="string"&&!iR.has(l)&&gi(l).values.length&&(o=e[s]),s++}if(o&&n)for(const l of t)e[l]=Mg(n,o)}class aR extends xu{constructor(t,n,s,o,l){super(t,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),uu(h))){const p=Pg(h,n.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Ag.has(s)||t.length!==2)return;const[o,l]=t,c=Uh(o),d=Uh(l);if(c!==d)if(zh(c)&&zh(d))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else $r[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||QT(t[o]))&&s.push(o);s.length&&oR(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$r[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=$r[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function Ig(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(n==null?void 0:n[e])??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const Lg=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Og(e){return Gm(e)&&"offsetHeight"in e}const Hh=30,lR=e=>!isNaN(parseFloat(e)),oi={current:void 0};class cR{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const o=Kt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ou);const s=this.events[t].add(n);return t==="change"?()=>{s(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return oi.current&&oi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hh);return qm(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ur(e,t){return new cR(e,t)}const{schedule:bu}=ag(queueMicrotask,!1),Rn={x:!1,y:!1};function Fg(){return Rn.x||Rn.y}function uR(e){return e==="x"||e==="y"?Rn[e]?null:(Rn[e]=!0,()=>{Rn[e]=!1}):Rn.x||Rn.y?null:(Rn.x=Rn.y=!0,()=>{Rn.x=Rn.y=!1})}function zg(e,t){const n=Ig(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function Gh(e){return!(e.pointerType==="touch"||Fg())}function dR(e,t,n={}){const[s,o,l]=zg(e,n),c=d=>{if(!Gh(d))return;const{target:f}=d,h=t(f,d);if(typeof h!="function"||!f)return;const p=g=>{Gh(g)&&(h(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const Ng=(e,t)=>t?e===t?!0:Ng(e,t.parentElement):!1,Su=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,fR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hR(e){return fR.has(e.tagName)||e.tabIndex!==-1}const Io=new WeakSet;function Kh(e){return t=>{t.key==="Enter"&&e(t)}}function Wl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pR=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Kh(()=>{if(Io.has(n))return;Wl(n,"down");const o=Kh(()=>{Wl(n,"up")}),l=()=>Wl(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function qh(e){return Su(e)&&!Fg()}function mR(e,t,n={}){const[s,o,l]=zg(e,n),c=d=>{const f=d.currentTarget;if(!qh(d))return;Io.add(f);const h=t(f,d),p=(v,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),Io.has(f)&&Io.delete(f),qh(v)&&typeof h=="function"&&h(v,{success:S})},g=v=>{p(v,f===window||f===document||n.useGlobalTarget||Ng(f,v.target))},x=v=>{p(v,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",x,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),Og(d)&&(d.addEventListener("focus",h=>pR(h,o)),!hR(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ju(e){return Gm(e)&&"ownerSVGElement"in e}function $g(e){return ju(e)&&e.tagName==="svg"}function gR(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],l=e[2+n],c=e[3+n],d=vg(o,l,c);return t?d(s):d}const _t=e=>!!(e&&e.getVelocity),yR=[...kg,ft,br],xR=e=>yR.find(Eg(e)),ia=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Yh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vR(...e){return t=>{let n=!1;const s=e.map(o=>{const l=Yh(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Yh(e[o],null)}}}}function wR(...e){return b.useCallback(vR(...e),e)}class _R extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=Og(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bR({children:e,isPresent:t,anchorX:n,root:s}){const o=b.useId(),l=b.useRef(null),c=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=b.useContext(ia),f=wR(l,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:h,height:p,top:g,left:x,right:v}=c.current;if(t||!l.current||!h||!p)return;const S=n==="left"?`left: ${x}`:`right: ${v}`;l.current.dataset.motionPopId=o;const T=document.createElement("style");d&&(T.nonce=d);const k=s??document.head;return k.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{k.contains(T)&&k.removeChild(T)}},[t]),a.jsx(_R,{isPresent:t,childRef:l,sizeRef:c,children:b.cloneElement(e,{ref:f})})}const SR=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const h=Ri(jR),p=b.useId();let g=!0,x=b.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:n,custom:o,onExitComplete:v=>{h.set(v,!0);for(const S of h.values())if(!S)return;s&&s()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,s]);return l&&g&&(x={...x}),b.useMemo(()=>{h.forEach((v,S)=>h.set(S,!1))},[n]),b.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(e=a.jsx(bR,{isPresent:n,anchorX:d,root:f,children:e})),a.jsx(ra.Provider,{value:x,children:e})};function jR(){return new Map}function Vg(e=!0){const t=b.useContext(ra);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,l=b.useId();b.useEffect(()=>{if(e)return o(l)},[e]);const c=b.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const To=e=>e.key||"";function Xh(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const CR=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[h,p]=Vg(c),g=b.useMemo(()=>Xh(e),[e]),x=c&&!h?[]:g.map(To),v=b.useRef(!0),S=b.useRef(g),T=Ri(()=>new Map),[k,P]=b.useState(g),[A,D]=b.useState(g);nu(()=>{v.current=!1,S.current=g;for(let L=0;L<A.length;L++){const F=To(A[L]);x.includes(F)?T.delete(F):T.get(F)!==!0&&T.set(F,!1)}},[A,x.length,x.join("-")]);const j=[];if(g!==k){let L=[...g];for(let F=0;F<A.length;F++){const B=A[F],N=To(B);x.includes(N)||(L.splice(F,0,B),j.push(B))}return l==="wait"&&j.length&&(L=j),D(Xh(L)),P(g),null}const{forceRender:R}=b.useContext(eu);return a.jsx(a.Fragment,{children:A.map(L=>{const F=To(L),B=c&&!h?!1:g===A||x.includes(F),N=()=>{if(T.has(F))T.set(F,!0);else return;let H=!0;T.forEach(X=>{X||(H=!1)}),H&&(R==null||R(),D(S.current),c&&(p==null||p()),s&&s())};return a.jsx(SR,{isPresent:B,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:B?void 0:N,anchorX:d,children:L},F)})})},Bg=b.createContext({strict:!1}),Jh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},As={};for(const e in Jh)As[e]={isEnabled:t=>Jh[e].some(n=>!!t[n])};function TR(e){for(const t in e)As[t]={...As[t],...e[t]}}const RR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||RR.has(e)}let Ug=e=>!Uo(e);function PR(e){typeof e=="function"&&(Ug=t=>t.startsWith("on")?!Uo(t):e(t))}try{PR(require("@emotion/is-prop-valid").default)}catch{}function AR(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(Ug(o)||n===!0&&Uo(o)||!t&&!Uo(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const oa=b.createContext({});function aa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xi(e){return typeof e=="string"||Array.isArray(e)}const Cu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tu=["initial",...Cu];function la(e){return aa(e.animate)||Tu.some(t=>xi(e[t]))}function Wg(e){return!!(la(e)||e.variants)}function ER(e,t){if(la(e)){const{initial:n,animate:s}=e;return{initial:n===!1||xi(n)?n:void 0,animate:xi(s)?s:void 0}}return e.inherit!==!1?t:{}}function kR(e){const{initial:t,animate:n}=ER(e,b.useContext(oa));return b.useMemo(()=>({initial:t,animate:n}),[Zh(t),Zh(n)])}function Zh(e){return Array.isArray(e)?e.join(" "):e}const vi={};function DR(e){for(const t in e)vi[t]=e[t],cu(t)&&(vi[t].isCSSVariable=!0)}function Hg(e,{layout:t,layoutId:n}){return Ms.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!vi[e]||e==="opacity")}const MR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IR=Ds.length;function LR(e,t,n){let s="",o=!0;for(let l=0;l<IR;l++){const c=Ds[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const h=Lg(d,_u[c]);if(!f){o=!1;const p=MR[c]||c;s+=`${p}(${h}) `}n&&(t[c]=h)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function Ru(e,t,n){const{style:s,vars:o,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const h=t[f];if(Ms.has(f)){c=!0;continue}else if(cu(f)){o[f]=h;continue}else{const p=Lg(h,_u[f]);f.startsWith("origin")?(d=!0,l[f]=p):s[f]=p}}if(t.transform||(c||n?s.transform=LR(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const Pu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gg(e,t,n){for(const s in t)!_t(t[s])&&!Hg(s,n)&&(e[s]=t[s])}function OR({transformTemplate:e},t){return b.useMemo(()=>{const n=Pu();return Ru(n,t,e),Object.assign({},n.vars,n.style)},[t])}function FR(e,t){const n=e.style||{},s={};return Gg(s,n,e),Object.assign(s,OR(e,t)),s}function zR(e,t){const n={},s=FR(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const NR={offset:"stroke-dashoffset",array:"stroke-dasharray"},$R={offset:"strokeDashoffset",array:"strokeDasharray"};function VR(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?NR:$R;e[l.offset]=ve.transform(-s);const c=ve.transform(t),d=ve.transform(n);e[l.array]=`${c} ${d}`}function Kg(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},f,h,p){if(Ru(e,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x}=e;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&VR(g,o,l,c,!1)}const qg=()=>({...Pu(),attrs:{}}),Yg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BR(e,t,n,s){const o=b.useMemo(()=>{const l=qg();return Kg(l,t,Yg(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Gg(l,e.style,e),o.style={...l,...o.style}}return o}const UR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Au(e){return typeof e!="string"||e.includes("-")?!1:!!(UR.indexOf(e)>-1||/[A-Z]/u.test(e))}function WR(e,t,n,{latestValues:s},o,l=!1){const d=(Au(e)?BR:zR)(t,s,o,e),f=AR(t,typeof e=="string",l),h=e!==b.Fragment?{...f,...d,ref:n}:{},{children:p}=t,g=b.useMemo(()=>_t(p)?p.get():p,[p]);return b.createElement(e,{...h,children:g})}function Qh(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Eu(e,t,n,s){if(typeof t=="function"){const[o,l]=Qh(s);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=Qh(s);t=t(n!==void 0?n:e.custom,o,l)}return t}function Lo(e){return _t(e)?e.get():e}function HR({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:GR(n,s,o,e),renderState:t()}}function GR(e,t,n,s){const o={},l=s(e,{});for(const x in l)o[x]=Lo(l[x]);let{initial:c,animate:d}=e;const f=la(e),h=Wg(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?d:c;if(g&&typeof g!="boolean"&&!aa(g)){const x=Array.isArray(g)?g:[g];for(let v=0;v<x.length;v++){const S=Eu(e,x[v]);if(S){const{transitionEnd:T,transition:k,...P}=S;for(const A in P){let D=P[A];if(Array.isArray(D)){const j=p?D.length-1:0;D=D[j]}D!==null&&(o[A]=D)}for(const A in T)o[A]=T[A]}}}return o}const Xg=e=>(t,n)=>{const s=b.useContext(oa),o=b.useContext(ra),l=()=>HR(e,t,s,o);return n?l():Ri(l)};function ku(e,t,n){var l;const{style:s}=e,o={};for(const c in s)(_t(s[c])||t.style&&_t(t.style[c])||Hg(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=s[c]);return o}const KR=Xg({scrapeMotionValuesFromProps:ku,createRenderState:Pu});function Jg(e,t,n){const s=ku(e,t,n);for(const o in e)if(_t(e[o])||_t(t[o])){const l=Ds.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=e[o]}return s}const qR=Xg({scrapeMotionValuesFromProps:Jg,createRenderState:qg}),YR=Symbol.for("motionComponentSymbol");function ws(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function XR(e,t,n){return b.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):ws(n)&&(n.current=s))},[t])}const Du=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JR="framerAppearId",Zg="data-"+Du(JR),Qg=b.createContext({});function ZR(e,t,n,s,o){var T,k;const{visualElement:l}=b.useContext(oa),c=b.useContext(Bg),d=b.useContext(ra),f=b.useContext(ia).reducedMotion,h=b.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,g=b.useContext(Qg);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&QR(h.current,n,o,g);const x=b.useRef(!1);b.useInsertionEffect(()=>{p&&x.current&&p.update(n,d)});const v=n[Zg],S=b.useRef(!!v&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,v))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,v)));return nu(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,v)}),S.current=!1),p.enteringChildren=void 0)}),p}function QR(e,t,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:h,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ey(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&ws(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:f,layoutRoot:h})}function ey(e){if(e)return e.options.allowProjection!==!1?e.projection:ey(e.parent)}function Hl(e,{forwardMotionProps:t=!1}={},n,s){n&&TR(n);const o=Au(e)?qR:KR;function l(d,f){let h;const p={...b.useContext(ia),...d,layoutId:eP(d)},{isStatic:g}=p,x=kR(d),v=o(d,g);if(!g&&tu){tP();const S=nP(p);h=S.MeasureLayout,x.visualElement=ZR(e,v,p,s,S.ProjectionNode)}return a.jsxs(oa.Provider,{value:x,children:[h&&x.visualElement?a.jsx(h,{visualElement:x.visualElement,...p}):null,WR(e,d,XR(v,x.visualElement,f),v,g,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=b.forwardRef(l);return c[YR]=e,c}function eP({layoutId:e}){const t=b.useContext(eu).id;return t&&e!==void 0?t+"-"+e:e}function tP(e,t){b.useContext(Bg).strict}function nP(e){const{drag:t,layout:n}=As;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function rP(e,t){if(typeof Proxy>"u")return Hl;const n=new Map,s=(l,c)=>Hl(l,c,e,t),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Hl(c,void 0,e,t)),n.get(c))})}function ty({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function sP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Gl(e){return e===void 0||e===1}function Ec({scale:e,scaleX:t,scaleY:n}){return!Gl(e)||!Gl(t)||!Gl(n)}function Lr(e){return Ec(e)||ny(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ny(e){return ep(e.x)||ep(e.y)}function ep(e){return e&&e!=="0%"}function Wo(e,t,n){const s=e-n,o=t*s;return n+o}function tp(e,t,n,s,o){return o!==void 0&&(e=Wo(e,o,s)),Wo(e,n,s)+t}function kc(e,t=0,n=1,s,o){e.min=tp(e.min,t,n,s,o),e.max=tp(e.max,t,n,s,o)}function ry(e,{x:t,y:n}){kc(e.x,t.translate,t.scale,t.originPoint),kc(e.y,n.translate,n.scale,n.originPoint)}const np=.999999999999,rp=1.0000000000001;function oP(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&bs(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,ry(e,c)),s&&Lr(l.latestValues)&&bs(e,l.latestValues))}t.x<rp&&t.x>np&&(t.x=1),t.y<rp&&t.y>np&&(t.y=1)}function _s(e,t){e.min=e.min+t,e.max=e.max+t}function sp(e,t,n,s,o=.5){const l=Qe(e.min,e.max,o);kc(e,t,n,l,s)}function bs(e,t){sp(e.x,t.x,t.scaleX,t.scale,t.originX),sp(e.y,t.y,t.scaleY,t.scale,t.originY)}function sy(e,t){return ty(iP(e.getBoundingClientRect(),t))}function aP(e,t,n){const s=sy(e,n),{scroll:o}=t;return o&&(_s(s.x,o.offset.x),_s(s.y,o.offset.y)),s}const ip=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ss=()=>({x:ip(),y:ip()}),op=()=>({min:0,max:0}),it=()=>({x:op(),y:op()}),Dc={current:null},iy={current:!1};function lP(){if(iy.current=!0,!!tu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dc.current=e.matches;e.addEventListener("change",t),t()}else Dc.current=!1}const wi=new WeakMap;function cP(e,t,n){for(const s in t){const o=t[s],l=n[s];if(_t(o))e.addValue(s,o);else if(_t(l))e.addValue(s,Ur(o,{owner:e}));else if(l!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,Ur(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const ap=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oy{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Kt.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ye.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=la(n),this.isVariantNode=Wg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const v=g[x];f[x]!==void 0&&_t(v)&&v.set(f[x])}}mount(t){var n;this.current=t,wi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),iy.current||lP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dc.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ir(this.notifyUpdate),ir(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ms.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in As){const n=As[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ap.length;s++){const o=ap[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=cP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ur(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Hm(s)||Km(s))?s=parseFloat(s):!xR(s)&&br.test(n)&&(s=Mg(t,n)),this.setBaseTarget(t,_t(s)?s.get():s)),_t(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Eu(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!_t(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ou),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){bu.render(this.render)}}class ay extends oy{constructor(){super(...arguments),this.KeyframeResolver=aR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ly(e,{style:t,vars:n},s,o){const l=e.style;let c;for(c in t)l[c]=t[c];o==null||o.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function uP(e){return window.getComputedStyle(e)}class cy extends ay{constructor(){super(...arguments),this.type="html",this.renderInstance=ly}readValueFromInstance(t,n){var s;if(Ms.has(n))return(s=this.projection)!=null&&s.isProjecting?Sc(n):jT(t,n);{const o=uP(t),l=(cu(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return sy(t,n)}build(t,n,s){Ru(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return ku(t,n,s)}}const uy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dP(e,t,n,s){ly(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(uy.has(o)?o:Du(o),t.attrs[o])}class dy extends ay{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ms.has(n)){const s=Dg(n);return s&&s.default||0}return n=uy.has(n)?n:Du(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Jg(t,n,s)}build(t,n,s){Kg(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){dP(t,n,s,o)}mount(t){this.isSVGTag=Yg(t.tagName),super.mount(t)}}const fP=(e,t)=>Au(e)?new dy(t):new cy(t,{allowProjection:e!==b.Fragment});function Ts(e,t,n){const s=e.getProps();return Eu(s,t,n!==void 0?n:s.custom,e)}const Mc=e=>Array.isArray(e);function hP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ur(n))}function pP(e){return Mc(e)?e[e.length-1]||0:e}function mP(e,t){const n=Ts(e,t);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const d=pP(l[c]);hP(e,c,d)}}function gP(e){return!!(_t(e)&&e.add)}function Ic(e,t){const n=e.getValue("willChange");if(gP(n))return n.add(t);if(!n&&sr.WillChange){const s=new sr.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function fy(e){return e.props[Zg]}const yP=e=>e!==null;function xP(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(yP),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const vP={type:"spring",stiffness:500,damping:25,restSpeed:10},wP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_P={type:"keyframes",duration:.8},bP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SP=(e,{keyframes:t})=>t.length>2?_P:Ms.has(e)?e.startsWith("scale")?wP(t[1]):vP:bP;function jP({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const Mu=(e,t,n,s={},o,l)=>c=>{const d=wu(s,e)||{},f=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-kn(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-h,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:o};jP(d)||Object.assign(p,SP(e,p)),p.duration&&(p.duration=kn(p.duration)),p.repeatDelay&&(p.repeatDelay=kn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Pc(p),p.delay===0&&(g=!0)),(sr.instantAnimations||sr.skipAnimations)&&(g=!0,Pc(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,g&&!l&&t.get()!==void 0){const x=xP(p.keyframes,d);if(x!==void 0){Ye.update(()=>{p.onUpdate(x),p.onComplete()});return}}return d.isSync?new yu(p):new KT(p)};function CP({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Iu(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const f=[],h=o&&e.animationState&&e.animationState.getState()[o];for(const p in d){const g=e.getValue(p,e.latestValues[p]??null),x=d[p];if(x===void 0||h&&CP(h,p))continue;const v={delay:n,...wu(l||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===S&&!v.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const P=fy(e);if(P){const A=window.MotionHandoffAnimation(P,p,Ye);A!==null&&(v.startTime=A,T=!0)}}Ic(e,p),g.start(Mu(p,g,x,e.shouldReduceMotion&&Ag.has(p)?{type:!1}:v,e,T));const k=g.animation;k&&f.push(k)}return c&&Promise.all(f).then(()=>{Ye.update(()=>{c&&mP(e,c)})}),f}function hy(e,t,n,s=0,o=1){const l=Array.from(e).sort((h,p)=>h.sortNodePosition(p)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):o===1?l*s:d-l*s}function Lc(e,t,n={}){var f;const s=Ts(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(Iu(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=o;return TP(e,t,h,p,g,x,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,p]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function TP(e,t,n=0,s=0,o=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(Lc(f,t,{...c,delay:n+(typeof s=="function"?0:s)+hy(e.variantChildren,f,s,o,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function RP(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>Lc(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=Lc(e,t,n);else{const o=typeof t=="function"?Ts(e,t,n.custom):t;s=Promise.all(Iu(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function py(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const PP=Tu.length;function my(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?my(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<PP;n++){const s=Tu[n],o=e.props[s];(xi(o)||o===!1)&&(t[s]=o)}return t}const AP=[...Cu].reverse(),EP=Cu.length;function kP(e){return t=>Promise.all(t.map(({animation:n,options:s})=>RP(e,n,s)))}function DP(e){let t=kP(e),n=lp(),s=!0;const o=f=>(h,p)=>{var x;const g=Ts(e,p,f==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(g){const{transition:v,transitionEnd:S,...T}=g;h={...h,...T,...S}}return h};function l(f){t=f(e)}function c(f){const{props:h}=e,p=my(e.parent)||{},g=[],x=new Set;let v={},S=1/0;for(let k=0;k<EP;k++){const P=AP[k],A=n[P],D=h[P]!==void 0?h[P]:p[P],j=xi(D),R=P===f?A.isActive:null;R===!1&&(S=k);let L=D===p[P]&&D!==h[P]&&j;if(L&&s&&e.manuallyAnimateOnMount&&(L=!1),A.protectedKeys={...v},!A.isActive&&R===null||!D&&!A.prevProp||aa(D)||typeof D=="boolean")continue;const F=MP(A.prevProp,D);let B=F||P===f&&A.isActive&&!L&&j||k>S&&j,N=!1;const H=Array.isArray(D)?D:[D];let X=H.reduce(o(P),{});R===!1&&(X={});const{prevResolvedValues:ie={}}=A,J={...ie,...X},se=re=>{B=!0,x.has(re)&&(N=!0,x.delete(re)),A.needsAnimating[re]=!0;const Z=e.getValue(re);Z&&(Z.liveStyle=!1)};for(const re in J){const Z=X[re],K=ie[re];if(v.hasOwnProperty(re))continue;let ee=!1;Mc(Z)&&Mc(K)?ee=!py(Z,K):ee=Z!==K,ee?Z!=null?se(re):x.add(re):Z!==void 0&&x.has(re)?se(re):A.protectedKeys[re]=!0}A.prevProp=D,A.prevResolvedValues=X,A.isActive&&(v={...v,...X}),s&&e.blockInitialAnimation&&(B=!1);const oe=L&&F;B&&(!oe||N)&&g.push(...H.map(re=>{const Z={type:P};if(typeof re=="string"&&s&&!oe&&e.manuallyAnimateOnMount&&e.parent){const{parent:K}=e,ee=Ts(K,re);if(K.enteringChildren&&ee){const{delayChildren:ce}=ee.transition||{};Z.delay=hy(K.enteringChildren,e,ce)}}return{animation:re,options:Z}}))}if(x.size){const k={};if(typeof h.initial!="boolean"){const P=Ts(e,Array.isArray(h.initial)?h.initial[0]:h.initial);P&&P.transition&&(k.transition=P.transition)}x.forEach(P=>{const A=e.getBaseTarget(P),D=e.getValue(P);D&&(D.liveStyle=!0),k[P]=A??null}),g.push({animation:k})}let T=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(T=!1),s=!1,T?t(g):Promise.resolve()}function d(f,h){var g;if(n[f].isActive===h)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(f,h)}),n[f].isActive=h;const p=c(f);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=lp()}}}function MP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!py(t,e):!1}function Mr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lp(){return{animate:Mr(!0),whileInView:Mr(),whileHover:Mr(),whileTap:Mr(),whileDrag:Mr(),whileFocus:Mr(),exit:Mr()}}class Sr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class IP extends Sr{constructor(t){super(t),t.animationState||(t.animationState=DP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();aa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let LP=0;class OP extends Sr{constructor(){super(...arguments),this.id=LP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const FP={animation:{Feature:IP},exit:{Feature:OP}};function _i(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function ki(e){return{point:{x:e.pageX,y:e.pageY}}}const zP=e=>t=>Su(t)&&e(t,ki(t));function ai(e,t,n,s){return _i(e,t,zP(n),s)}const gy=1e-4,NP=1-gy,$P=1+gy,yy=.01,VP=0-yy,BP=0+yy;function Vt(e){return e.max-e.min}function UP(e,t,n){return Math.abs(e-t)<=n}function cp(e,t,n,s=.5){e.origin=s,e.originPoint=Qe(t.min,t.max,e.origin),e.scale=Vt(n)/Vt(t),e.translate=Qe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=NP&&e.scale<=$P||isNaN(e.scale))&&(e.scale=1),(e.translate>=VP&&e.translate<=BP||isNaN(e.translate))&&(e.translate=0)}function li(e,t,n,s){cp(e.x,t.x,n.x,s?s.originX:void 0),cp(e.y,t.y,n.y,s?s.originY:void 0)}function up(e,t,n){e.min=n.min+t.min,e.max=e.min+Vt(t)}function WP(e,t,n){up(e.x,t.x,n.x),up(e.y,t.y,n.y)}function dp(e,t,n){e.min=t.min-n.min,e.max=e.min+Vt(t)}function ci(e,t,n){dp(e.x,t.x,n.x),dp(e.y,t.y,n.y)}function yn(e){return[e("x"),e("y")]}const xy=({current:e})=>e?e.ownerDocument.defaultView:null,fp=(e,t)=>Math.abs(e-t);function HP(e,t){const n=fp(e.x,t.x),s=fp(e.y,t.y);return Math.sqrt(n**2+s**2)}class vy{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ql(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=HP(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!S)return;const{point:T}=x,{timestamp:k}=Tt;this.history.push({...T,timestamp:k});const{onStart:P,onMove:A}=this.handlers;v||(P&&P(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Kl(v,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=ql(x.type==="pointercancel"?this.lastMoveEventInfo:Kl(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,P),T&&T(x,P)},!Su(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=ki(t),f=Kl(d,this.transformPagePoint),{point:h}=f,{timestamp:p}=Tt;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(t,ql(f,this.history)),this.removeListeners=Pi(ai(this.contextWindow,"pointermove",this.handlePointerMove),ai(this.contextWindow,"pointerup",this.handlePointerUp),ai(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ir(this.updatePoint)}}function Kl(e,t){return t?{point:t(e.point)}:e}function hp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ql({point:e},t){return{point:e,delta:hp(e,wy(t)),offset:hp(e,GP(t)),velocity:KP(t,.1)}}function GP(e){return e[0]}function wy(e){return e[e.length-1]}function KP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=wy(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>kn(t)));)n--;if(!s)return{x:0,y:0};const l=xn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function qP(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Qe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Qe(n,e,s.max):Math.min(e,n)),e}function pp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function YP(e,{top:t,left:n,bottom:s,right:o}){return{x:pp(e.x,n,o),y:pp(e.y,t,s)}}function mp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function XP(e,t){return{x:mp(e.x,t.x),y:mp(e.y,t.y)}}function JP(e,t){let n=.5;const s=Vt(e),o=Vt(t);return o>s?n=Ps(t.min,t.max-s,e.min):s>o&&(n=Ps(e.min,e.max-o,t.min)),rr(0,1,n)}function ZP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Oc=.35;function QP(e=Oc){return e===!1?e=0:e===!0&&(e=Oc),{x:gp(e,"left","right"),y:gp(e,"top","bottom")}}function gp(e,t,n){return{min:yp(e,t),max:yp(e,n)}}function yp(e,t){return typeof e=="number"?e:e[t]||0}const eA=new WeakMap;class tA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ki(g).point)},c=(g,x)=>{const{drag:v,dragPropagation:S,onDragStart:T}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uR(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(P=>{let A=this.getAxisMotionValue(P).get()||0;if(zn.test(A)){const{projection:D}=this.visualElement;if(D&&D.layout){const j=D.layout.layoutBox[P];j&&(A=Vt(j)*(parseFloat(A)/100))}}this.originPoint[P]=A}),T&&Ye.postRender(()=>T(g,x)),Ic(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:T,onDrag:k}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:P}=x;if(S&&this.currentDirection===null){this.currentDirection=nA(P),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,P),this.updateAxis("y",x.point,P),this.visualElement.render(),k&&k(g,x)},f=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>yn(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new vy(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:xy(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ye.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Ro(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=qP(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&ws(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=YP(s.layoutBox,t):this.constraints=!1,this.elastic=QP(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&yn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ZP(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ws(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=aP(s,o.root,this.visualElement.getTransformPagePoint());let c=XP(o.layout.layoutBox,l);if(n){const d=n(sP(c));this.hasMutatedConstraints=!!d,d&&(c=ty(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},h=yn(p=>{if(!Ro(p,n,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const x=o?200:1e6,v=o?40:1e7,S={type:"inertia",velocity:s?t[p]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Ic(this.visualElement,t),s.start(Mu(t,s,0,n,this.visualElement,!1))}stopAnimation(){yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){yn(n=>{const{drag:s}=this.getProps();if(!Ro(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(t[n]-Qe(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ws(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};yn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();o[c]=JP({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),yn(c=>{if(!Ro(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];d.set(Qe(f,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;eA.set(this.visualElement,this);const t=this.visualElement.current,n=ai(t,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();ws(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ye.read(s);const c=_i(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(yn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Oc,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Ro(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function nA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class rA extends Sr{constructor(t){super(t),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new tA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xp=e=>(t,n)=>{e&&Ye.postRender(()=>e(t,n))};class sA extends Sr{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(t){this.session=new vy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:xp(t),onStart:xp(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&Ye.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=ai(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ys={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ve.test(e))e=parseFloat(e);else return e;const n=vp(e,t.target.x),s=vp(e,t.target.y);return`${n}% ${s}%`}},iA={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=br.parse(e);if(o.length>5)return s;const l=br.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=f;const h=Qe(d,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),l(o)}};let Yl=!1;class oA extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;DR(aA),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Yl&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Oo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Yl=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Ye.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bu.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Yl=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _y(e){const[t,n]=Vg(),s=b.useContext(eu);return a.jsx(oA,{...e,layoutGroup:s,switchLayoutGroup:b.useContext(Qg),isPresent:t,safeToRemove:n})}const aA={borderRadius:{...Ys,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ys,borderTopRightRadius:Ys,borderBottomLeftRadius:Ys,borderBottomRightRadius:Ys,boxShadow:iA};function by(e,t,n){const s=_t(e)?e:Ur(e);return s.start(Mu("",s,t,n)),s.animation}const lA=(e,t)=>e.depth-t.depth;class cA{constructor(){this.children=[],this.isDirty=!1}add(t){ru(this.children,t),this.isDirty=!0}remove(t){sa(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lA),this.isDirty=!1,this.children.forEach(t)}}function uA(e,t){const n=Kt.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(ir(s),e(l-t))};return Ye.setup(s,!0),()=>ir(s)}const Sy=["TopLeft","TopRight","BottomLeft","BottomRight"],dA=Sy.length,wp=e=>typeof e=="string"?parseFloat(e):e,_p=e=>typeof e=="number"||ve.test(e);function fA(e,t,n,s,o,l){o?(e.opacity=Qe(0,n.opacity??1,hA(s)),e.opacityExit=Qe(t.opacity??1,0,pA(s))):l&&(e.opacity=Qe(t.opacity??1,n.opacity??1,s));for(let c=0;c<dA;c++){const d=`border${Sy[c]}Radius`;let f=bp(t,d),h=bp(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||_p(f)===_p(h)?(e[d]=Math.max(Qe(wp(f),wp(h),s),0),(zn.test(h)||zn.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||n.rotate)&&(e.rotate=Qe(t.rotate||0,n.rotate||0,s))}function bp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hA=jy(0,.5,tg),pA=jy(.5,.95,vn);function jy(e,t,n){return s=>s<e?0:s>t?1:n(Ps(e,t,s))}function Sp(e,t){e.min=t.min,e.max=t.max}function mn(e,t){Sp(e.x,t.x),Sp(e.y,t.y)}function jp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Cp(e,t,n,s,o){return e-=t,e=Wo(e,1/n,s),o!==void 0&&(e=Wo(e,1/o,s)),e}function mA(e,t=0,n=1,s=.5,o,l=e,c=e){if(zn.test(t)&&(t=parseFloat(t),t=Qe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Qe(l.min,l.max,s);e===l&&(d-=t),e.min=Cp(e.min,t,n,d,o),e.max=Cp(e.max,t,n,d,o)}function Tp(e,t,[n,s,o],l,c){mA(e,t[n],t[s],t[o],t.scale,l,c)}const gA=["x","scaleX","originX"],yA=["y","scaleY","originY"];function Rp(e,t,n,s){Tp(e.x,t,gA,n?n.x:void 0,s?s.x:void 0),Tp(e.y,t,yA,n?n.y:void 0,s?s.y:void 0)}function Pp(e){return e.translate===0&&e.scale===1}function Cy(e){return Pp(e.x)&&Pp(e.y)}function Ap(e,t){return e.min===t.min&&e.max===t.max}function xA(e,t){return Ap(e.x,t.x)&&Ap(e.y,t.y)}function Ep(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ty(e,t){return Ep(e.x,t.x)&&Ep(e.y,t.y)}function kp(e){return Vt(e.x)/Vt(e.y)}function Dp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vA{constructor(){this.members=[]}add(t){ru(this.members,t),t.scheduleRender()}remove(t){if(sa(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wA(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:x,skewX:v,skewY:S}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),v&&(s+=`skewX(${v}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Xl=["","X","Y","Z"],_A=1e3;let bA=0;function Jl(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Ry(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=fy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ye,!(o||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Ry(s)}function Py({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t==null?void 0:t()){this.id=bA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CA),this.nodes.forEach(AA),this.nodes.forEach(EA),this.nodes.forEach(TA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new cA)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ou),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ju(c)&&!$g(c),this.instance=c;const{layoutId:d,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let p,g=0;const x=()=>this.root.updateBlockedByResize=!1;Ye.read(()=>{g=window.innerWidth}),e(c,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,p&&p(),p=uA(x,250),Oo.hasAnimatedSinceResize&&(Oo.hasAnimatedSinceResize=!1,this.nodes.forEach(Lp)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||LA,{onLayoutAnimationStart:T,onLayoutAnimationComplete:k}=h.getProps(),P=!this.targetLayout||!Ty(this.targetLayout,v),A=!g&&x;if(this.options.layoutRoot||this.resumeFrom||A||g&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...wu(S,"layout"),onPlay:T,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(p,A)}else g||Lp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kA),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ry(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ip);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PA),this.nodes.forEach(SA),this.nodes.forEach(jA)):this.nodes.forEach(Ip),this.clearAllSnapshots();const d=Kt.now();Tt.delta=rr(0,1e3/60,d-Tt.timestamp),Tt.timestamp=d,Tt.isProcessing=!0,Nl.update.process(Tt),Nl.preRender.process(Tt),Nl.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RA),this.sharedNodes.forEach(DA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vt(this.snapshot.measuredBox.x)&&!Vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Cy(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(d||Lr(this.latestValues)||p)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),OA(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return it();const d=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(FA))){const{scroll:p}=this.root;p&&(_s(d.x,p.offset.x),_s(d.y,p.offset.y))}return d}removeElementScroll(c){var f;const d=it();if(mn(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&mn(d,c),_s(d.x,g.offset.x),_s(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const f=it();mn(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&bs(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Lr(p.latestValues)&&bs(f,p.latestValues)}return Lr(this.latestValues)&&bs(f,this.latestValues),f}removeTransform(c){const d=it();mn(d,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Lr(h.latestValues))continue;Ec(h.latestValues)&&h.updateSnapshot();const p=it(),g=h.measurePageBox();mn(p,g),Rp(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Lr(this.latestValues)&&Rp(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),ci(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),ry(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),ci(this.relativeTargetOrigin,this.target,v.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ec(this.parent.latestValues)||ny(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;mn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;oP(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=it());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jp(this.prevProjectionDelta.x,this.projectionDelta.x),jp(this.prevProjectionDelta.y,this.projectionDelta.y)),li(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!Dp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ss(),this.projectionDelta=Ss(),this.projectionDeltaWithTransform=Ss()}setAnimationOrigin(c,d=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},g=Ss();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=it(),v=f?f.source:void 0,S=this.layout?this.layout.source:void 0,T=v!==S,k=this.getStack(),P=!k||k.members.length<=1,A=!!(T&&!P&&this.options.crossfade===!0&&!this.path.some(IA));this.animationProgress=0;let D;this.mixTargetDelta=j=>{const R=j/1e3;Op(g.x,c.x,R),Op(g.y,c.y,R),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ci(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MA(this.relativeTarget,this.relativeTargetOrigin,x,R),D&&xA(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=it()),mn(D,this.relativeTarget)),T&&(this.animationValues=p,fA(p,h,this.latestValues,R,A,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,h;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(h=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Oo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ur(0)),this.currentAnimation=by(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_A),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:h,latestValues:p}=c;if(!(!d||!f||!h)){if(this!==c&&this.layout&&h&&Ay(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||it();const g=Vt(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const x=Vt(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}mn(d,f),bs(d,p),li(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new vA),this.sharedNodes.get(c).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const h={};f.z&&Jl("z",c,h,this.animationValues);for(let p=0;p<Xl.length;p++)Jl(`rotate${Xl[p]}`,c,h,this.animationValues),Jl(`skew${Xl[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Lo(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Lo(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Lr(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=wA(this.projectionDeltaWithTransform,this.treeScale,p);f&&(g=f(p,g)),c.transform=g;const{x,y:v}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in vi){if(p[S]===void 0)continue;const{correct:T,applyTo:k,isCSSVariable:P}=vi[S],A=g==="none"?p[S]:T(p[S],h);if(k){const D=k.length;for(let j=0;j<D;j++)c[k[j]]=A}else P?this.options.visualElement.renderState.vars[S]=A:c[S]=A}this.options.layoutId&&(c.pointerEvents=h===this?Lo(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Mp),this.root.sharedNodes.clear()}}}function SA(e){e.updateLayout()}function jA(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?yn(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],v=Vt(x);x.min=s[g].min,x.max=x.min+v}):Ay(l,t.layoutBox,s)&&yn(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],v=Vt(s[g]);x.max=x.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+v)});const d=Ss();li(d,s,t.layoutBox);const f=Ss();c?li(f,e.applyTransform(o,!0),t.measuredBox):li(f,s,t.layoutBox);const h=!Cy(d);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:v}=g;if(x&&v){const S=it();ci(S,t.layoutBox,x.layoutBox);const T=it();ci(T,s,v.layoutBox),Ty(S,T)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function CA(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function RA(e){e.clearSnapshot()}function Mp(e){e.clearMeasurements()}function Ip(e){e.isLayoutDirty=!1}function PA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Lp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function AA(e){e.resolveTargetDelta()}function EA(e){e.calcProjection()}function kA(e){e.resetSkewAndRotation()}function DA(e){e.removeLeadSnapshot()}function Op(e,t,n){e.translate=Qe(t.translate,0,n),e.scale=Qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Fp(e,t,n,s){e.min=Qe(t.min,n.min,s),e.max=Qe(t.max,n.max,s)}function MA(e,t,n,s){Fp(e.x,t.x,n.x,s),Fp(e.y,t.y,n.y,s)}function IA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const LA={duration:.45,ease:[.4,0,.1,1]},zp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Np=zp("applewebkit/")&&!zp("chrome/")?Math.round:vn;function $p(e){e.min=Np(e.min),e.max=Np(e.max)}function OA(e){$p(e.x),$p(e.y)}function Ay(e,t,n){return e==="position"||e==="preserve-aspect"&&!UP(kp(t),kp(n),.2)}function FA(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const zA=Py({attachResizeListener:(e,t)=>_i(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zl={current:void 0},Ey=Py({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zl.current){const e=new zA({});e.mount(window),e.setOptions({layoutScroll:!0}),Zl.current=e}return Zl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NA={pan:{Feature:sA},drag:{Feature:rA,ProjectionNode:Ey,MeasureLayout:_y}};function Vp(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Ye.postRender(()=>l(t,ki(t)))}class $A extends Sr{mount(){const{current:t}=this.node;t&&(this.unmount=dR(t,(n,s)=>(Vp(this.node,s,"Start"),o=>Vp(this.node,o,"End"))))}unmount(){}}class VA extends Sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pi(_i(this.node.current,"focus",()=>this.onFocus()),_i(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bp(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Ye.postRender(()=>l(t,ki(t)))}class BA extends Sr{mount(){const{current:t}=this.node;t&&(this.unmount=mR(t,(n,s)=>(Bp(this.node,s,"Start"),(o,{success:l})=>Bp(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fc=new WeakMap,Ql=new WeakMap,UA=e=>{const t=Fc.get(e.target);t&&t(e)},WA=e=>{e.forEach(UA)};function HA({root:e,...t}){const n=e||document;Ql.has(n)||Ql.set(n,{});const s=Ql.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(WA,{root:e,...t})),s[o]}function GA(e,t,n){const s=HA(t);return Fc.set(e,n),s.observe(e),()=>{Fc.delete(e),s.unobserve(e)}}const KA={some:0,all:1};class qA extends Sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:KA[o]},d=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=h?p:g;x&&x(f)};return GA(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(YA(t,n))&&this.startObserver()}unmount(){}}function YA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const XA={inView:{Feature:qA},tap:{Feature:BA},focus:{Feature:VA},hover:{Feature:$A}},JA={layout:{ProjectionNode:Ey,MeasureLayout:_y}},ZA={...FP,...XA,...NA,...JA},tt=rP(ZA,fP);function ky(e){const t=Ri(()=>Ur(e)),{isStatic:n}=b.useContext(ia);if(n){const[,s]=b.useState(e);b.useEffect(()=>t.on("change",s),[])}return t}function Dy(e,t){const n=ky(t()),s=()=>n.set(t());return s(),nu(()=>{const o=()=>Ye.preRender(s,!1,!0),l=e.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),ir(s)}}),n}function QA(e){oi.current=[],e();const t=Dy(oi.current,e);return oi.current=void 0,t}function eE(e,t,n,s){if(typeof e=="function")return QA(e);const o=typeof t=="function"?t:gR(t,n,s);return Array.isArray(e)?Up(e,o):Up([e],([l])=>o(l))}function Up(e,t){const n=Ri(()=>[]);return Dy(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function Lu(e){return typeof e=="object"&&!Array.isArray(e)}function My(e,t,n,s){return typeof e=="string"&&Lu(t)?Ig(e,n,s):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function tE(e,t,n){return e*(t+1)}function Wp(e,t,n,s){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):s.get(t)??e}function nE(e,t,n){for(let s=0;s<e.length;s++){const o=e[s];o.at>t&&o.at<n&&(sa(e,o),s--)}}function rE(e,t,n,s,o,l){nE(e,o,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:Qe(o,l,s[c]),easing:ig(n,c)})}function sE(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function iE(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const oE="easeInOut";function aE(e,{defaultTransition:t={},...n}={},s,o){const l=t.duration||.3,c=new Map,d=new Map,f={},h=new Map;let p=0,g=0,x=0;for(let v=0;v<e.length;v++){const S=e[v];if(typeof S=="string"){h.set(S,g);continue}else if(!Array.isArray(S)){h.set(S.name,Wp(g,S.at,p,h));continue}let[T,k,P={}]=S;P.at!==void 0&&(g=Wp(g,P.at,p,h));let A=0;const D=(j,R,L,F=0,B=0)=>{const N=lE(j),{delay:H=0,times:X=_g(N),type:ie="keyframes",repeat:J,repeatType:se,repeatDelay:oe=0,...he}=R;let{ease:re=t.ease||"easeOut",duration:Z}=R;const K=typeof H=="function"?H(F,B):H,ee=N.length,ce=vu(ie)?ie:o==null?void 0:o[ie||"keyframes"];if(ee<=2&&ce){let Ne=100;if(ee===2&&dE(N)){const $=N[1]-N[0];Ne=Math.abs($)}const ut={...he};Z!==void 0&&(ut.duration=kn(Z));const gt=yg(ut,Ne,ce);re=gt.ease,Z=gt.duration}Z??(Z=l);const ge=g+K;X.length===1&&X[0]===0&&(X[1]=1);const He=X.length-N.length;if(He>0&&wg(X,He),N.length===1&&N.unshift(null),J){Z=tE(Z,J);const Ne=[...N],ut=[...X];re=Array.isArray(re)?[...re]:[re];const gt=[...re];for(let $=0;$<J;$++){N.push(...Ne);for(let ue=0;ue<Ne.length;ue++)X.push(ut[ue]+($+1)),re.push(ue===0?"linear":ig(gt,ue-1))}sE(X,J)}const Xe=ge+Z;rE(L,N,re,X,ge,Xe),A=Math.max(K+Z,A),x=Math.max(Xe,x)};if(_t(T)){const j=Hp(T,d);D(k,P,Gp("default",j))}else{const j=My(T,k,s,f),R=j.length;for(let L=0;L<R;L++){k=k,P=P;const F=j[L],B=Hp(F,d);for(const N in k)D(k[N],cE(P,N),Gp(N,B),L,R)}}p=g,g+=A}return d.forEach((v,S)=>{for(const T in v){const k=v[T];k.sort(iE);const P=[],A=[],D=[];for(let R=0;R<k.length;R++){const{at:L,value:F,easing:B}=k[R];P.push(F),A.push(Ps(0,x,L)),D.push(B||"easeOut")}A[0]!==0&&(A.unshift(0),P.unshift(P[0]),D.unshift(oE)),A[A.length-1]!==1&&(A.push(1),P.push(null)),c.has(S)||c.set(S,{keyframes:{},transition:{}});const j=c.get(S);j.keyframes[T]=P,j.transition[T]={...t,duration:x,ease:D,times:A,...n}}}),c}function Hp(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Gp(e,t){return t[e]||(t[e]=[]),t[e]}function lE(e){return Array.isArray(e)?e:[e]}function cE(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const uE=e=>typeof e=="number",dE=e=>e.every(uE);function fE(e,t){return e in t}class hE extends oy{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(fE(n,t)){const s=t[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return it()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function pE(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ju(e)&&!$g(e)?new dy(t):new cy(t);n.mount(e),wi.set(e,n)}function mE(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new hE(t);n.mount(e),wi.set(e,n)}function gE(e,t){return _t(e)||typeof e=="number"||typeof e=="string"&&!Lu(t)}function Iy(e,t,n,s){const o=[];if(gE(e,t))o.push(by(e,Lu(t)&&t.default||t,n&&(n.default||n)));else{const l=My(e,t,s),c=l.length;for(let d=0;d<c;d++){const f=l[d],h=f instanceof Element?pE:mE;wi.has(f)||h(f);const p=wi.get(f),g={...n};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(d,c)),o.push(...Iu(p,{...t,transition:g},{}))}}return o}function yE(e,t,n){const s=[];return aE(e,t,n,{spring:yi}).forEach(({keyframes:l,transition:c},d)=>{s.push(...Iy(d,l,c))}),s}function xE(e){return Array.isArray(e)&&e.some(Array.isArray)}function vE(e){function t(n,s,o){let l=[],c;if(xE(n))l=yE(n,s,e);else{const{onComplete:f,...h}=o||{};typeof f=="function"&&(c=f),l=Iy(n,s,h,e)}const d=new YT(l);return c&&d.finished.then(c),d}return t}const wE=vE();function _E({open:e,onClose:t,onRestore:n}){const{t:s}=Be(),[o,l]=b.useState([]),[c,d]=b.useState(!1),[f,h]=b.useState([]),[p,g]=b.useState(!1),[x,v]=b.useState(!1),S=b.useCallback(async()=>{if(e){d(!0);try{const A=await z1();l(A.deleted_runs||[])}catch{Q.error(s("recycle_bin.fetch_failed")||"Failed to load recycle bin")}finally{d(!1)}}},[e,s]);b.useEffect(()=>{e&&(S(),h([]))},[e,S]);const T=async()=>{if(f.length===0){Q.warning(s("recycle_bin.select_to_restore")||"Please select runs to restore");return}g(!0);try{const A=await N1(f);A.restored_count>0?(Q.success(s("recycle_bin.restore_success",{count:A.restored_count})||`Restored ${A.restored_count} runs`),h([]),S(),n==null||n()):Q.warning("No runs were restored")}catch{Q.error(s("recycle_bin.restore_failed")||"Failed to restore runs")}finally{g(!1)}},k=async()=>{v(!0);try{const A=await $1();Q.success(s("recycle_bin.empty_success",{count:A.permanently_deleted})||`Permanently deleted ${A.permanently_deleted} runs`),S()}catch{Q.error(s("recycle_bin.empty_failed")||"Failed to empty recycle bin")}finally{v(!1)}},P=[{title:s("table.run_id"),dataIndex:"id",key:"id",render:A=>a.jsx(we.Text,{code:!0,style:{fontSize:"12px"},children:A})},{title:s("table.project"),dataIndex:"project",key:"project",render:A=>a.jsx(Te,{color:"blue",children:A})},{title:s("table.name"),dataIndex:"name",key:"name",render:A=>a.jsx(Te,{color:"purple",children:A})},{title:s("recycle_bin.original_status"),dataIndex:"original_status",key:"original_status",render:A=>a.jsx(Te,{color:A==="running"?"processing":A==="finished"?"success":A==="failed"?"error":"default",children:A})},{title:s("recycle_bin.deleted_at"),dataIndex:"deleted_at",key:"deleted_at",render:A=>a.jsx(qe,{title:new Date(A*1e3).toLocaleString(),children:new Date(A*1e3).toLocaleDateString()})},{title:s("table.actions"),key:"actions",render:(A,D)=>a.jsx(z,{size:"small",children:a.jsx(qe,{title:s("recycle_bin.restore_single"),children:a.jsx(pe,{type:"text",size:"small",icon:a.jsx(cc,{}),onClick:async()=>{h([D.id]),await T()}})})})}];return a.jsx(Pn,{title:a.jsxs(z,{children:[a.jsx(hi,{}),a.jsx("span",{children:s("recycle_bin.title")||"Recycle Bin"}),a.jsx(Te,{color:"orange",children:o.length})]}),open:e,onCancel:t,width:800,footer:[a.jsx(pe,{onClick:t,children:s("experiments.cancel")||"Close"},"close"),a.jsxs(pe,{type:"primary",icon:a.jsx(cc,{}),loading:p,disabled:f.length===0,onClick:T,children:[s("recycle_bin.restore_selected")||"Restore Selected",f.length>0&&` (${f.length})`]},"restore"),a.jsx(Kj,{title:s("recycle_bin.empty_confirm_title")||"Empty Recycle Bin",description:s("recycle_bin.empty_confirm_desc")||"This will permanently delete all runs in recycle bin. This cannot be undone!",okText:s("recycle_bin.empty_confirm")||"Yes, Delete All",okType:"danger",cancelText:s("experiments.cancel")||"Cancel",onConfirm:k,children:a.jsx(pe,{danger:!0,icon:a.jsx(qj,{}),loading:x,disabled:o.length===0,children:s("recycle_bin.empty_bin")||"Empty Bin"})},"empty")],children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(sn,{message:s("recycle_bin.description")||"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.",type:"info",icon:a.jsx(ta,{}),showIcon:!0}),a.jsx(vr,{rowSelection:{selectedRowKeys:f,onChange:A=>h(A),getCheckboxProps:A=>({disabled:!1})},dataSource:o,columns:P,loading:c,rowKey:"id",size:"small",pagination:{pageSize:10,showSizeChanger:!1,showQuickJumper:!1,showTotal:(A,D)=>s("recycle_bin.table_total",{from:D[0],to:D[1],total:A})||`${D[0]}-${D[1]} of ${A} items`},locale:{emptyText:a.jsx("div",{style:{padding:20,textAlign:"center"},children:a.jsx(we.Text,{type:"secondary",children:s("recycle_bin.empty_state")||"Recycle bin is empty"})})}}),f.length>0&&a.jsx(sn,{message:s("recycle_bin.selection_info",{count:f.length})||`${f.length} runs selected for restoration`,type:"info",style:{marginTop:8}})]})})}var Ou={exports:{}},Di={},ca={exports:{}},Ly={},Oy={exports:{}},bE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SE=bE,jE=SE;function Fy(){}function zy(){}zy.resetWarningCache=Fy;var CE=function(){function e(s,o,l,c,d,f){if(f!==jE){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zy,resetWarningCache:Fy};return n.PropTypes=n,n};Oy.exports=CE();var ua=Oy.exports,zc={exports:{}};function Ny(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ny(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Kp(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ny(e))&&(s&&(s+=" "),s+=t);return s}zc.exports=Kp,zc.exports.clsx=Kp;var TE=zc.exports,at={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.dontSetMe=kE;Nn.findInArray=RE;Nn.int=EE;Nn.isFunction=PE;Nn.isNum=AE;function RE(e,t){for(let n=0,s=e.length;n<s;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function PE(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function AE(e){return typeof e=="number"&&!isNaN(e)}function EE(e){return parseInt(e,10)}function kE(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.browserPrefixToKey=Vy;Wr.browserPrefixToStyle=DE;Wr.default=void 0;Wr.getPrefix=$y;const ec=["Moz","Webkit","O","ms"];function $y(){var n,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(s=(n=window.document)==null?void 0:n.documentElement)==null?void 0:s.style;if(!t||e in t)return"";for(let o=0;o<ec.length;o++)if(Vy(e,ec[o])in t)return ec[o];return""}function Vy(e,t){return t?`${t}${ME(e)}`:e}function DE(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function ME(e){let t="",n=!0;for(let s=0;s<e.length;s++)n?(t+=e[s].toUpperCase(),n=!1):e[s]==="-"?n=!0:t+=e[s];return t}Wr.default=$y();Object.defineProperty(at,"__esModule",{value:!0});at.addClassName=Wy;at.addEvent=LE;at.addUserSelectStyles=GE;at.createCSSTransform=BE;at.createSVGTransform=UE;at.getTouch=WE;at.getTouchIdentifier=HE;at.getTranslation=Fu;at.innerHeight=NE;at.innerWidth=$E;at.matchesSelector=Uy;at.matchesSelectorAndParentsTo=IE;at.offsetXYFromParent=VE;at.outerHeight=FE;at.outerWidth=zE;at.removeClassName=Hy;at.removeEvent=OE;at.scheduleRemoveUserSelectStyles=KE;var rn=Nn,qp=By(Wr);function By(e,t){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(By=function(o,l){if(!l&&o&&o.__esModule)return o;var c,d,f={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return f;if(c=l?s:n){if(c.has(o))return c.get(o);c.set(o,f)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?c(f,h,d):f[h]=o[h]);return f})(e,t)}let Po="";function Uy(e,t){return Po||(Po=(0,rn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,rn.isFunction)(e[n])})),(0,rn.isFunction)(e[Po])?e[Po](t):!1}function IE(e,t,n){let s=e;do{if(Uy(s,t))return!0;if(s===n)return!1;s=s.parentNode}while(s);return!1}function LE(e,t,n,s){if(!e)return;const o={capture:!0,...s};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function OE(e,t,n,s){if(!e)return;const o={capture:!0,...s};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function FE(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,rn.int)(n.borderTopWidth),t+=(0,rn.int)(n.borderBottomWidth),t}function zE(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,rn.int)(n.borderLeftWidth),t+=(0,rn.int)(n.borderRightWidth),t}function NE(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,rn.int)(n.paddingTop),t-=(0,rn.int)(n.paddingBottom),t}function $E(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,rn.int)(n.paddingLeft),t-=(0,rn.int)(n.paddingRight),t}function VE(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),l=(e.clientX+t.scrollLeft-o.left)/n,c=(e.clientY+t.scrollTop-o.top)/n;return{x:l,y:c}}function BE(e,t){const n=Fu(e,t,"px");return{[(0,qp.browserPrefixToKey)("transform",qp.default)]:n}}function UE(e,t){return Fu(e,t,"")}function Fu(e,t,n){let{x:s,y:o}=e,l=`translate(${s}${n},${o}${n})`;if(t){const c=`${typeof t.x=="string"?t.x:t.x+n}`,d=`${typeof t.y=="string"?t.y:t.y+n}`;l=`translate(${c}, ${d})`+l}return l}function WE(e,t){return e.targetTouches&&(0,rn.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,rn.findInArray)(e.changedTouches,n=>t===n.identifier)}function HE(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function GE(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Wy(e.body,"react-draggable-transparent-selection")}function KE(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Yp(e)}):Yp(e)}function Yp(e){if(e)try{if(e.body&&Hy(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Wy(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Hy(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var $n={};Object.defineProperty($n,"__esModule",{value:!0});$n.canDragX=XE;$n.canDragY=JE;$n.createCoreData=QE;$n.createDraggableData=ek;$n.getBoundPosition=qE;$n.getControlPosition=ZE;$n.snapToGrid=YE;var tn=Nn,js=at;function qE(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:s}=e.props;s=typeof s=="string"?s:tk(s);const o=zu(e);if(typeof s=="string"){const{ownerDocument:l}=o,c=l.defaultView;let d;if(s==="parent"?d=o.parentNode:d=o.getRootNode().querySelector(s),!(d instanceof c.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const f=d,h=c.getComputedStyle(o),p=c.getComputedStyle(f);s={left:-o.offsetLeft+(0,tn.int)(p.paddingLeft)+(0,tn.int)(h.marginLeft),top:-o.offsetTop+(0,tn.int)(p.paddingTop)+(0,tn.int)(h.marginTop),right:(0,js.innerWidth)(f)-(0,js.outerWidth)(o)-o.offsetLeft+(0,tn.int)(p.paddingRight)-(0,tn.int)(h.marginRight),bottom:(0,js.innerHeight)(f)-(0,js.outerHeight)(o)-o.offsetTop+(0,tn.int)(p.paddingBottom)-(0,tn.int)(h.marginBottom)}}return(0,tn.isNum)(s.right)&&(t=Math.min(t,s.right)),(0,tn.isNum)(s.bottom)&&(n=Math.min(n,s.bottom)),(0,tn.isNum)(s.left)&&(t=Math.max(t,s.left)),(0,tn.isNum)(s.top)&&(n=Math.max(n,s.top)),[t,n]}function YE(e,t,n){const s=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[s,o]}function XE(e){return e.props.axis==="both"||e.props.axis==="x"}function JE(e){return e.props.axis==="both"||e.props.axis==="y"}function ZE(e,t,n){const s=typeof t=="number"?(0,js.getTouch)(e,t):null;if(typeof t=="number"&&!s)return null;const o=zu(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,js.offsetXYFromParent)(s||e,l,n.props.scale)}function QE(e,t,n){const s=!(0,tn.isNum)(e.lastX),o=zu(e);return s?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function ek(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function tk(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function zu(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var da={},fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.default=nk;function nk(){}Object.defineProperty(da,"__esModule",{value:!0});da.default=void 0;var tc=Gy(b),Nt=Nu(ua),rk=Nu(Hc),kt=at,gr=$n,nc=Nn,Xs=Nu(fa);function Nu(e){return e&&e.__esModule?e:{default:e}}function Gy(e,t){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(Gy=function(o,l){if(!l&&o&&o.__esModule)return o;var c,d,f={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return f;if(c=l?s:n){if(c.has(o))return c.get(o);c.set(o,f)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?c(f,h,d):f[h]=o[h]);return f})(e,t)}function $t(e,t,n){return(t=sk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sk(e){var t=ik(e,"string");return typeof t=="symbol"?t:t+""}function ik(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Tn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let yr=Tn.mouse,ha=class extends tc.Component{constructor(){super(...arguments),$t(this,"dragging",!1),$t(this,"lastX",NaN),$t(this,"lastY",NaN),$t(this,"touchIdentifier",null),$t(this,"mounted",!1),$t(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:s}=n;if(this.props.disabled||!(t.target instanceof s.defaultView.Node)||this.props.handle&&!(0,kt.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,kt.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,kt.getTouchIdentifier)(t);this.touchIdentifier=o;const l=(0,gr.getControlPosition)(t,o,this);if(l==null)return;const{x:c,y:d}=l,f=(0,gr.createCoreData)(this,c,d);(0,Xs.default)("DraggableCore: handleDragStart: %j",f),(0,Xs.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,kt.addUserSelectStyles)(s),this.dragging=!0,this.lastX=c,this.lastY=d,(0,kt.addEvent)(s,yr.move,this.handleDrag),(0,kt.addEvent)(s,yr.stop,this.handleDragStop))}),$t(this,"handleDrag",t=>{const n=(0,gr.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:s,y:o}=n;if(Array.isArray(this.props.grid)){let d=s-this.lastX,f=o-this.lastY;if([d,f]=(0,gr.snapToGrid)(this.props.grid,d,f),!d&&!f)return;s=this.lastX+d,o=this.lastY+f}const l=(0,gr.createCoreData)(this,s,o);if((0,Xs.default)("DraggableCore: handleDrag: %j",l),this.props.onDrag(t,l)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=s,this.lastY=o}),$t(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,gr.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:s,y:o}=n;if(Array.isArray(this.props.grid)){let f=s-this.lastX||0,h=o-this.lastY||0;[f,h]=(0,gr.snapToGrid)(this.props.grid,f,h),s=this.lastX+f,o=this.lastY+h}const l=(0,gr.createCoreData)(this,s,o);if(this.props.onStop(t,l)===!1||this.mounted===!1)return!1;const d=this.findDOMNode();d&&this.props.enableUserSelectHack&&(0,kt.scheduleRemoveUserSelectStyles)(d.ownerDocument),(0,Xs.default)("DraggableCore: handleDragStop: %j",l),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,d&&((0,Xs.default)("DraggableCore: Removing handlers"),(0,kt.removeEvent)(d.ownerDocument,yr.move,this.handleDrag),(0,kt.removeEvent)(d.ownerDocument,yr.stop,this.handleDragStop))}),$t(this,"onMouseDown",t=>(yr=Tn.mouse,this.handleDragStart(t))),$t(this,"onMouseUp",t=>(yr=Tn.mouse,this.handleDragStop(t))),$t(this,"onTouchStart",t=>(yr=Tn.touch,this.handleDragStart(t))),$t(this,"onTouchEnd",t=>(yr=Tn.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,kt.addEvent)(t,Tn.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,kt.removeEvent)(n,Tn.mouse.move,this.handleDrag),(0,kt.removeEvent)(n,Tn.touch.move,this.handleDrag),(0,kt.removeEvent)(n,Tn.mouse.stop,this.handleDragStop),(0,kt.removeEvent)(n,Tn.touch.stop,this.handleDragStop),(0,kt.removeEvent)(t,Tn.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,kt.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,s;return(t=this.props)!=null&&t.nodeRef?(s=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:s.current:rk.default.findDOMNode(this)}render(){return tc.cloneElement(tc.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};da.default=ha;$t(ha,"displayName","DraggableCore");$t(ha,"propTypes",{allowAnyClick:Nt.default.bool,allowMobileScroll:Nt.default.bool,children:Nt.default.node.isRequired,disabled:Nt.default.bool,enableUserSelectHack:Nt.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Nt.default.arrayOf(Nt.default.number),handle:Nt.default.string,cancel:Nt.default.string,nodeRef:Nt.default.object,onStart:Nt.default.func,onDrag:Nt.default.func,onStop:Nt.default.func,onMouseDown:Nt.default.func,scale:Nt.default.number,className:nc.dontSetMe,style:nc.dontSetMe,transform:nc.dontSetMe});$t(ha,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=g(b),n=p(ua),s=p(Hc),o=TE,l=at,c=$n,d=Nn,f=p(da),h=p(fa);function p(P){return P&&P.__esModule?P:{default:P}}function g(P,A){if(typeof WeakMap=="function")var D=new WeakMap,j=new WeakMap;return(g=function(R,L){if(!L&&R&&R.__esModule)return R;var F,B,N={__proto__:null,default:R};if(R===null||typeof R!="object"&&typeof R!="function")return N;if(F=L?j:D){if(F.has(R))return F.get(R);F.set(R,N)}for(const H in R)H!=="default"&&{}.hasOwnProperty.call(R,H)&&((B=(F=Object.defineProperty)&&Object.getOwnPropertyDescriptor(R,H))&&(B.get||B.set)?F(N,H,B):N[H]=R[H]);return N})(P,A)}function x(){return x=Object.assign?Object.assign.bind():function(P){for(var A=1;A<arguments.length;A++){var D=arguments[A];for(var j in D)({}).hasOwnProperty.call(D,j)&&(P[j]=D[j])}return P},x.apply(null,arguments)}function v(P,A,D){return(A=S(A))in P?Object.defineProperty(P,A,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[A]=D,P}function S(P){var A=T(P,"string");return typeof A=="symbol"?A:A+""}function T(P,A){if(typeof P!="object"||!P)return P;var D=P[Symbol.toPrimitive];if(D!==void 0){var j=D.call(P,A);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(P)}class k extends t.Component{static getDerivedStateFromProps(A,D){let{position:j}=A,{prevPropsPosition:R}=D;return j&&(!R||j.x!==R.x||j.y!==R.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:j,prevPropsPosition:R}),{x:j.x,y:j.y,prevPropsPosition:{...j}}):null}constructor(A){super(A),v(this,"onDragStart",(D,j)=>{if((0,h.default)("Draggable: onDragStart: %j",j),this.props.onStart(D,(0,c.createDraggableData)(this,j))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(D,j)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",j);const R=(0,c.createDraggableData)(this,j),L={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:B,y:N}=L;L.x+=this.state.slackX,L.y+=this.state.slackY;const[H,X]=(0,c.getBoundPosition)(this,L.x,L.y);L.x=H,L.y=X,L.slackX=this.state.slackX+(B-L.x),L.slackY=this.state.slackY+(N-L.y),R.x=L.x,R.y=L.y,R.deltaX=L.x-this.state.x,R.deltaY=L.y-this.state.y}if(this.props.onDrag(D,R)===!1)return!1;this.setState(L)}),v(this,"onDragStop",(D,j)=>{if(!this.state.dragging||this.props.onStop(D,(0,c.createDraggableData)(this,j))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",j);const L={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:B,y:N}=this.props.position;L.x=B,L.y=N}this.setState(L)}),this.state={dragging:!1,dragged:!1,x:A.position?A.position.x:A.defaultPosition.x,y:A.position?A.position.y:A.defaultPosition.y,prevPropsPosition:{...A.position},slackX:0,slackY:0,isElementSVG:!1},A.position&&!(A.onDrag||A.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var A,D;return((D=(A=this.props)==null?void 0:A.nodeRef)==null?void 0:D.current)??s.default.findDOMNode(this)}render(){const{axis:A,bounds:D,children:j,defaultPosition:R,defaultClassName:L,defaultClassNameDragging:F,defaultClassNameDragged:B,position:N,positionOffset:H,scale:X,...ie}=this.props;let J={},se=null;const he=!!!N||this.state.dragging,re=N||R,Z={x:(0,c.canDragX)(this)&&he?this.state.x:re.x,y:(0,c.canDragY)(this)&&he?this.state.y:re.y};this.state.isElementSVG?se=(0,l.createSVGTransform)(Z,H):J=(0,l.createCSSTransform)(Z,H);const K=(0,o.clsx)(j.props.className||"",L,{[F]:this.state.dragging,[B]:this.state.dragged});return t.createElement(f.default,x({},ie,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(j),{className:K,style:{...j.props.style,...J},transform:se}))}}e.default=k,v(k,"displayName","Draggable"),v(k,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),v(k,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Ly);const{default:Ky,DraggableCore:ok}=Ly;ca.exports=Ky;ca.exports.default=Ky;ca.exports.DraggableCore=ok;var ak=ca.exports,$u={};$u.__esModule=!0;$u.cloneElement=hk;var lk=ck(b);function ck(e){return e&&e.__esModule?e:{default:e}}function Xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xp(Object(n),!0).forEach(function(s){uk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uk(e,t,n){return t=dk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dk(e){var t=fk(e,"string");return typeof t=="symbol"?t:String(t)}function fk(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hk(e,t){return t.style&&e.props.style&&(t.style=Jp(Jp({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),lk.default.cloneElement(e,t)}var Mi={};Mi.__esModule=!0;Mi.resizableProps=void 0;var Pe=pk(ua);function pk(e){return e&&e.__esModule?e:{default:e}}var mk={axis:Pe.default.oneOf(["both","x","y","none"]),className:Pe.default.string,children:Pe.default.element.isRequired,draggableOpts:Pe.default.shape({allowAnyClick:Pe.default.bool,cancel:Pe.default.string,children:Pe.default.node,disabled:Pe.default.bool,enableUserSelectHack:Pe.default.bool,offsetParent:Pe.default.node,grid:Pe.default.arrayOf(Pe.default.number),handle:Pe.default.string,nodeRef:Pe.default.object,onStart:Pe.default.func,onDrag:Pe.default.func,onStop:Pe.default.func,onMouseDown:Pe.default.func,scale:Pe.default.number}),height:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var o=n[0];if(o.axis==="both"||o.axis==="y"){var l;return(l=Pe.default.number).isRequired.apply(l,n)}return Pe.default.number.apply(Pe.default,n)},handle:Pe.default.oneOfType([Pe.default.node,Pe.default.func]),handleSize:Pe.default.arrayOf(Pe.default.number),lockAspectRatio:Pe.default.bool,maxConstraints:Pe.default.arrayOf(Pe.default.number),minConstraints:Pe.default.arrayOf(Pe.default.number),onResizeStop:Pe.default.func,onResizeStart:Pe.default.func,onResize:Pe.default.func,resizeHandles:Pe.default.arrayOf(Pe.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Pe.default.number,width:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var o=n[0];if(o.axis==="both"||o.axis==="x"){var l;return(l=Pe.default.number).isRequired.apply(l,n)}return Pe.default.number.apply(Pe.default,n)}};Mi.resizableProps=mk;Di.__esModule=!0;Di.default=void 0;var Js=wk(b),gk=ak,yk=$u,xk=Mi,vk=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function qy(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(qy=function(o){return o?n:t})(e)}function wk(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=qy(t);if(n&&n.has(e))return n.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var c=o?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(s,l,c):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nc.apply(this,arguments)}function _k(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zp(Object(n),!0).forEach(function(s){bk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bk(e,t,n){return t=Sk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sk(e){var t=jk(e,"string");return typeof t=="symbol"?t:String(t)}function jk(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ck(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$c(e,t)}function $c(e,t){return $c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},$c(e,t)}var Vu=function(e){Ck(t,e);function t(){for(var s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return s=e.call.apply(e,[this].concat(l))||this,s.handleRefs={},s.lastHandleRect=null,s.slack=null,s}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(o,l){var c=this.props,d=c.minConstraints,f=c.maxConstraints,h=c.lockAspectRatio;if(!d&&!f&&!h)return[o,l];if(h){var p=this.props.width/this.props.height,g=o-this.props.width,x=l-this.props.height;Math.abs(g)>Math.abs(x*p)?l=o/p:o=l*p}var v=o,S=l,T=this.slack||[0,0],k=T[0],P=T[1];return o+=k,l+=P,d&&(o=Math.max(d[0],o),l=Math.max(d[1],l)),f&&(o=Math.min(f[0],o),l=Math.min(f[1],l)),this.slack=[k+(v-o),P+(S-l)],[o,l]},n.resizeHandler=function(o,l){var c=this;return function(d,f){var h=f.node,p=f.deltaX,g=f.deltaY;o==="onResizeStart"&&c.resetData();var x=(c.props.axis==="both"||c.props.axis==="x")&&l!=="n"&&l!=="s",v=(c.props.axis==="both"||c.props.axis==="y")&&l!=="e"&&l!=="w";if(!(!x&&!v)){var S=l[0],T=l[l.length-1],k=h.getBoundingClientRect();if(c.lastHandleRect!=null){if(T==="w"){var P=k.left-c.lastHandleRect.left;p+=P}if(S==="n"){var A=k.top-c.lastHandleRect.top;g+=A}}c.lastHandleRect=k,T==="w"&&(p=-p),S==="n"&&(g=-g);var D=c.props.width+(x?p/c.props.transformScale:0),j=c.props.height+(v?g/c.props.transformScale:0),R=c.runConstraints(D,j);D=R[0],j=R[1];var L=D!==c.props.width||j!==c.props.height,F=typeof c.props[o]=="function"?c.props[o]:null,B=o==="onResize"&&!L;F&&!B&&(d.persist==null||d.persist(),F(d,{node:h,size:{width:D,height:j},handle:l})),o==="onResizeStop"&&c.resetData()}}},n.renderResizeHandle=function(o,l){var c=this.props.handle;if(!c)return Js.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:l});if(typeof c=="function")return c(o,l);var d=typeof c.type=="string",f=rc({ref:l},d?{}:{handleAxis:o});return Js.cloneElement(c,f)},n.render=function(){var o=this,l=this.props,c=l.children,d=l.className,f=l.draggableOpts;l.width,l.height,l.handle,l.handleSize,l.lockAspectRatio,l.axis,l.minConstraints,l.maxConstraints,l.onResize,l.onResizeStop,l.onResizeStart;var h=l.resizeHandles;l.transformScale;var p=_k(l,vk);return(0,yk.cloneElement)(c,rc(rc({},p),{},{className:(d?d+" ":"")+"react-resizable",children:[].concat(c.props.children,h.map(function(g){var x,v=(x=o.handleRefs[g])!=null?x:o.handleRefs[g]=Js.createRef();return Js.createElement(gk.DraggableCore,Nc({},f,{nodeRef:v,key:"resizableHandle-"+g,onStop:o.resizeHandler("onResizeStop",g),onStart:o.resizeHandler("onResizeStart",g),onDrag:o.resizeHandler("onResize",g)}),o.renderResizeHandle(g,v))}))}))},t}(Js.Component);Di.default=Vu;Vu.propTypes=xk.resizableProps;Vu.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var pa={};pa.__esModule=!0;pa.default=void 0;var sc=Ek(b),Tk=Yy(ua),Rk=Yy(Di),Pk=Mi,Ak=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function Yy(e){return e&&e.__esModule?e:{default:e}}function Xy(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Xy=function(o){return o?n:t})(e)}function Ek(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Xy(t);if(n&&n.has(e))return n.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var c=o?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(s,l,c):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vc.apply(this,arguments)}function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qp(Object(n),!0).forEach(function(s){kk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kk(e,t,n){return t=Dk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dk(e){var t=Mk(e,"string");return typeof t=="symbol"?t:String(t)}function Mk(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ik(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Lk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Bc(e,t)}function Bc(e,t){return Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Bc(e,t)}var Jy=function(e){Lk(t,e);function t(){for(var s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return s=e.call.apply(e,[this].concat(l))||this,s.state={width:s.props.width,height:s.props.height,propsWidth:s.props.width,propsHeight:s.props.height},s.onResize=function(d,f){var h=f.size;s.props.onResize?(d.persist==null||d.persist(),s.setState(h,function(){return s.props.onResize&&s.props.onResize(d,f)})):s.setState(h)},s}t.getDerivedStateFromProps=function(o,l){return l.propsWidth!==o.width||l.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var n=t.prototype;return n.render=function(){var o=this.props,l=o.handle,c=o.handleSize;o.onResize;var d=o.onResizeStart,f=o.onResizeStop,h=o.draggableOpts,p=o.minConstraints,g=o.maxConstraints,x=o.lockAspectRatio,v=o.axis;o.width,o.height;var S=o.resizeHandles,T=o.style,k=o.transformScale,P=Ik(o,Ak);return sc.createElement(Rk.default,{axis:v,draggableOpts:h,handle:l,handleSize:c,height:this.state.height,lockAspectRatio:x,maxConstraints:g,minConstraints:p,onResizeStart:d,onResize:this.onResize,onResizeStop:f,resizeHandles:S,transformScale:k,width:this.state.width},sc.createElement("div",Vc({},P,{style:Ho(Ho({},T),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(sc.Component);pa.default=Jy;Jy.propTypes=Ho(Ho({},Pk.resizableProps),{},{children:Tk.default.element});Ou.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Ok=Ou.exports.Resizable=Di.default;Ou.exports.ResizableBox=pa.default;const Fk=e=>{const{onResize:t,width:n,...s}=e;return n?a.jsx(Ok,{width:n,height:0,handle:a.jsx("span",{className:"react-resizable-handle",onClick:o=>{o.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:a.jsx("th",{...s})}):a.jsx("th",{...s})};var Go={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Go.exports;(function(e,t){(function(){var n,s="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",g=1,x=2,v=4,S=1,T=2,k=1,P=2,A=4,D=8,j=16,R=32,L=64,F=128,B=256,N=512,H=30,X="...",ie=800,J=16,se=1,oe=2,he=3,re=1/0,Z=9007199254740991,K=17976931348623157e292,ee=NaN,ce=4294967295,ge=ce-1,He=ce>>>1,Xe=[["ary",F],["bind",k],["bindKey",P],["curry",D],["curryRight",j],["flip",N],["partial",R],["partialRight",L],["rearg",B]],Ne="[object Arguments]",ut="[object Array]",gt="[object AsyncFunction]",$="[object Boolean]",ue="[object Date]",Ce="[object DOMException]",Pt="[object Error]",It="[object Function]",Y="[object GeneratorFunction]",Me="[object Map]",dt="[object Number]",wn="[object Null]",q="[object Object]",fe="[object Promise]",Je="[object Proxy]",bt="[object RegExp]",Ue="[object Set]",yt="[object String]",xt="[object Symbol]",$e="[object Undefined]",Vn="[object WeakMap]",Lt="[object WeakSet]",or="[object ArrayBuffer]",Bn="[object DataView]",Gr="[object Float32Array]",Kr="[object Float64Array]",qr="[object Int8Array]",Yr="[object Int16Array]",ya="[object Int32Array]",xa="[object Uint8Array]",va="[object Uint8ClampedArray]",wa="[object Uint16Array]",_a="[object Uint32Array]",ax=/\b__p \+= '';/g,lx=/\b(__p \+=) '' \+/g,cx=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Uu=/&(?:amp|lt|gt|quot|#39);/g,Wu=/[&<>"']/g,ux=RegExp(Uu.source),dx=RegExp(Wu.source),fx=/<%-([\s\S]+?)%>/g,hx=/<%([\s\S]+?)%>/g,Hu=/<%=([\s\S]+?)%>/g,px=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mx=/^\w*$/,gx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ba=/[\\^$.*+?()[\]{}|]/g,yx=RegExp(ba.source),Sa=/^\s+/,xx=/\s/,vx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wx=/\{\n\/\* \[wrapped with (.+)\] \*/,_x=/,? & /,bx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sx=/[()=,{}\[\]\/\s]/,jx=/\\(\\)?/g,Cx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gu=/\w*$/,Tx=/^[-+]0x[0-9a-f]+$/i,Rx=/^0b[01]+$/i,Px=/^\[object .+?Constructor\]$/,Ax=/^0o[0-7]+$/i,Ex=/^(?:0|[1-9]\d*)$/,kx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ii=/($^)/,Dx=/['\n\r\u2028\u2029\\]/g,Li="\\ud800-\\udfff",Mx="\\u0300-\\u036f",Ix="\\ufe20-\\ufe2f",Lx="\\u20d0-\\u20ff",Ku=Mx+Ix+Lx,qu="\\u2700-\\u27bf",Yu="a-z\\xdf-\\xf6\\xf8-\\xff",Ox="\\xac\\xb1\\xd7\\xf7",Fx="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zx="\\u2000-\\u206f",Nx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ju="\\ufe0e\\ufe0f",Zu=Ox+Fx+zx+Nx,ja="['’]",$x="["+Li+"]",Qu="["+Zu+"]",Oi="["+Ku+"]",ed="\\d+",Vx="["+qu+"]",td="["+Yu+"]",nd="[^"+Li+Zu+ed+qu+Yu+Xu+"]",Ca="\\ud83c[\\udffb-\\udfff]",Bx="(?:"+Oi+"|"+Ca+")",rd="[^"+Li+"]",Ta="(?:\\ud83c[\\udde6-\\uddff]){2}",Ra="[\\ud800-\\udbff][\\udc00-\\udfff]",Xr="["+Xu+"]",sd="\\u200d",id="(?:"+td+"|"+nd+")",Ux="(?:"+Xr+"|"+nd+")",od="(?:"+ja+"(?:d|ll|m|re|s|t|ve))?",ad="(?:"+ja+"(?:D|LL|M|RE|S|T|VE))?",ld=Bx+"?",cd="["+Ju+"]?",Wx="(?:"+sd+"(?:"+[rd,Ta,Ra].join("|")+")"+cd+ld+")*",Hx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ud=cd+ld+Wx,Kx="(?:"+[Vx,Ta,Ra].join("|")+")"+ud,qx="(?:"+[rd+Oi+"?",Oi,Ta,Ra,$x].join("|")+")",Yx=RegExp(ja,"g"),Xx=RegExp(Oi,"g"),Pa=RegExp(Ca+"(?="+Ca+")|"+qx+ud,"g"),Jx=RegExp([Xr+"?"+td+"+"+od+"(?="+[Qu,Xr,"$"].join("|")+")",Ux+"+"+ad+"(?="+[Qu,Xr+id,"$"].join("|")+")",Xr+"?"+id+"+"+od,Xr+"+"+ad,Gx,Hx,ed,Kx].join("|"),"g"),Zx=RegExp("["+sd+Li+Ku+Ju+"]"),Qx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ev=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tv=-1,Ke={};Ke[Gr]=Ke[Kr]=Ke[qr]=Ke[Yr]=Ke[ya]=Ke[xa]=Ke[va]=Ke[wa]=Ke[_a]=!0,Ke[Ne]=Ke[ut]=Ke[or]=Ke[$]=Ke[Bn]=Ke[ue]=Ke[Pt]=Ke[It]=Ke[Me]=Ke[dt]=Ke[q]=Ke[bt]=Ke[Ue]=Ke[yt]=Ke[Vn]=!1;var Ge={};Ge[Ne]=Ge[ut]=Ge[or]=Ge[Bn]=Ge[$]=Ge[ue]=Ge[Gr]=Ge[Kr]=Ge[qr]=Ge[Yr]=Ge[ya]=Ge[Me]=Ge[dt]=Ge[q]=Ge[bt]=Ge[Ue]=Ge[yt]=Ge[xt]=Ge[xa]=Ge[va]=Ge[wa]=Ge[_a]=!0,Ge[Pt]=Ge[It]=Ge[Vn]=!1;var nv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},rv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},iv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ov=parseFloat,av=parseInt,dd=typeof gs=="object"&&gs&&gs.Object===Object&&gs,lv=typeof self=="object"&&self&&self.Object===Object&&self,St=dd||lv||Function("return this")(),Aa=t&&!t.nodeType&&t,jr=Aa&&!0&&e&&!e.nodeType&&e,fd=jr&&jr.exports===Aa,Ea=fd&&dd.process,on=function(){try{var M=jr&&jr.require&&jr.require("util").types;return M||Ea&&Ea.binding&&Ea.binding("util")}catch{}}(),hd=on&&on.isArrayBuffer,pd=on&&on.isDate,md=on&&on.isMap,gd=on&&on.isRegExp,yd=on&&on.isSet,xd=on&&on.isTypedArray;function Yt(M,V,O){switch(O.length){case 0:return M.call(V);case 1:return M.call(V,O[0]);case 2:return M.call(V,O[0],O[1]);case 3:return M.call(V,O[0],O[1],O[2])}return M.apply(V,O)}function cv(M,V,O,ae){for(var be=-1,Fe=M==null?0:M.length;++be<Fe;){var pt=M[be];V(ae,pt,O(pt),M)}return ae}function an(M,V){for(var O=-1,ae=M==null?0:M.length;++O<ae&&V(M[O],O,M)!==!1;);return M}function uv(M,V){for(var O=M==null?0:M.length;O--&&V(M[O],O,M)!==!1;);return M}function vd(M,V){for(var O=-1,ae=M==null?0:M.length;++O<ae;)if(!V(M[O],O,M))return!1;return!0}function ar(M,V){for(var O=-1,ae=M==null?0:M.length,be=0,Fe=[];++O<ae;){var pt=M[O];V(pt,O,M)&&(Fe[be++]=pt)}return Fe}function Fi(M,V){var O=M==null?0:M.length;return!!O&&Jr(M,V,0)>-1}function ka(M,V,O){for(var ae=-1,be=M==null?0:M.length;++ae<be;)if(O(V,M[ae]))return!0;return!1}function Ze(M,V){for(var O=-1,ae=M==null?0:M.length,be=Array(ae);++O<ae;)be[O]=V(M[O],O,M);return be}function lr(M,V){for(var O=-1,ae=V.length,be=M.length;++O<ae;)M[be+O]=V[O];return M}function Da(M,V,O,ae){var be=-1,Fe=M==null?0:M.length;for(ae&&Fe&&(O=M[++be]);++be<Fe;)O=V(O,M[be],be,M);return O}function dv(M,V,O,ae){var be=M==null?0:M.length;for(ae&&be&&(O=M[--be]);be--;)O=V(O,M[be],be,M);return O}function Ma(M,V){for(var O=-1,ae=M==null?0:M.length;++O<ae;)if(V(M[O],O,M))return!0;return!1}var fv=Ia("length");function hv(M){return M.split("")}function pv(M){return M.match(bx)||[]}function wd(M,V,O){var ae;return O(M,function(be,Fe,pt){if(V(be,Fe,pt))return ae=Fe,!1}),ae}function zi(M,V,O,ae){for(var be=M.length,Fe=O+(ae?1:-1);ae?Fe--:++Fe<be;)if(V(M[Fe],Fe,M))return Fe;return-1}function Jr(M,V,O){return V===V?Tv(M,V,O):zi(M,_d,O)}function mv(M,V,O,ae){for(var be=O-1,Fe=M.length;++be<Fe;)if(ae(M[be],V))return be;return-1}function _d(M){return M!==M}function bd(M,V){var O=M==null?0:M.length;return O?Oa(M,V)/O:ee}function Ia(M){return function(V){return V==null?n:V[M]}}function La(M){return function(V){return M==null?n:M[V]}}function Sd(M,V,O,ae,be){return be(M,function(Fe,pt,We){O=ae?(ae=!1,Fe):V(O,Fe,pt,We)}),O}function gv(M,V){var O=M.length;for(M.sort(V);O--;)M[O]=M[O].value;return M}function Oa(M,V){for(var O,ae=-1,be=M.length;++ae<be;){var Fe=V(M[ae]);Fe!==n&&(O=O===n?Fe:O+Fe)}return O}function Fa(M,V){for(var O=-1,ae=Array(M);++O<M;)ae[O]=V(O);return ae}function yv(M,V){return Ze(V,function(O){return[O,M[O]]})}function jd(M){return M&&M.slice(0,Pd(M)+1).replace(Sa,"")}function Xt(M){return function(V){return M(V)}}function za(M,V){return Ze(V,function(O){return M[O]})}function Is(M,V){return M.has(V)}function Cd(M,V){for(var O=-1,ae=M.length;++O<ae&&Jr(V,M[O],0)>-1;);return O}function Td(M,V){for(var O=M.length;O--&&Jr(V,M[O],0)>-1;);return O}function xv(M,V){for(var O=M.length,ae=0;O--;)M[O]===V&&++ae;return ae}var vv=La(nv),wv=La(rv);function _v(M){return"\\"+iv[M]}function bv(M,V){return M==null?n:M[V]}function Zr(M){return Zx.test(M)}function Sv(M){return Qx.test(M)}function jv(M){for(var V,O=[];!(V=M.next()).done;)O.push(V.value);return O}function Na(M){var V=-1,O=Array(M.size);return M.forEach(function(ae,be){O[++V]=[be,ae]}),O}function Rd(M,V){return function(O){return M(V(O))}}function cr(M,V){for(var O=-1,ae=M.length,be=0,Fe=[];++O<ae;){var pt=M[O];(pt===V||pt===p)&&(M[O]=p,Fe[be++]=O)}return Fe}function Ni(M){var V=-1,O=Array(M.size);return M.forEach(function(ae){O[++V]=ae}),O}function Cv(M){var V=-1,O=Array(M.size);return M.forEach(function(ae){O[++V]=[ae,ae]}),O}function Tv(M,V,O){for(var ae=O-1,be=M.length;++ae<be;)if(M[ae]===V)return ae;return-1}function Rv(M,V,O){for(var ae=O+1;ae--;)if(M[ae]===V)return ae;return ae}function Qr(M){return Zr(M)?Av(M):fv(M)}function _n(M){return Zr(M)?Ev(M):hv(M)}function Pd(M){for(var V=M.length;V--&&xx.test(M.charAt(V)););return V}var Pv=La(sv);function Av(M){for(var V=Pa.lastIndex=0;Pa.test(M);)++V;return V}function Ev(M){return M.match(Pa)||[]}function kv(M){return M.match(Jx)||[]}var Dv=function M(V){V=V==null?St:es.defaults(St.Object(),V,es.pick(St,ev));var O=V.Array,ae=V.Date,be=V.Error,Fe=V.Function,pt=V.Math,We=V.Object,$a=V.RegExp,Mv=V.String,ln=V.TypeError,$i=O.prototype,Iv=Fe.prototype,ts=We.prototype,Vi=V["__core-js_shared__"],Bi=Iv.toString,Ve=ts.hasOwnProperty,Lv=0,Ad=function(){var r=/[^.]+$/.exec(Vi&&Vi.keys&&Vi.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Ui=ts.toString,Ov=Bi.call(We),Fv=St._,zv=$a("^"+Bi.call(Ve).replace(ba,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wi=fd?V.Buffer:n,ur=V.Symbol,Hi=V.Uint8Array,Ed=Wi?Wi.allocUnsafe:n,Gi=Rd(We.getPrototypeOf,We),kd=We.create,Dd=ts.propertyIsEnumerable,Ki=$i.splice,Md=ur?ur.isConcatSpreadable:n,Ls=ur?ur.iterator:n,Cr=ur?ur.toStringTag:n,qi=function(){try{var r=Er(We,"defineProperty");return r({},"",{}),r}catch{}}(),Nv=V.clearTimeout!==St.clearTimeout&&V.clearTimeout,$v=ae&&ae.now!==St.Date.now&&ae.now,Vv=V.setTimeout!==St.setTimeout&&V.setTimeout,Yi=pt.ceil,Xi=pt.floor,Va=We.getOwnPropertySymbols,Bv=Wi?Wi.isBuffer:n,Id=V.isFinite,Uv=$i.join,Wv=Rd(We.keys,We),mt=pt.max,At=pt.min,Hv=ae.now,Gv=V.parseInt,Ld=pt.random,Kv=$i.reverse,Ba=Er(V,"DataView"),Os=Er(V,"Map"),Ua=Er(V,"Promise"),ns=Er(V,"Set"),Fs=Er(V,"WeakMap"),zs=Er(We,"create"),Ji=Fs&&new Fs,rs={},qv=kr(Ba),Yv=kr(Os),Xv=kr(Ua),Jv=kr(ns),Zv=kr(Fs),Zi=ur?ur.prototype:n,Ns=Zi?Zi.valueOf:n,Od=Zi?Zi.toString:n;function w(r){if(st(r)&&!je(r)&&!(r instanceof Ie)){if(r instanceof cn)return r;if(Ve.call(r,"__wrapped__"))return zf(r)}return new cn(r)}var ss=function(){function r(){}return function(i){if(!et(i))return{};if(kd)return kd(i);r.prototype=i;var u=new r;return r.prototype=n,u}}();function Qi(){}function cn(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=n}w.templateSettings={escape:fx,evaluate:hx,interpolate:Hu,variable:"",imports:{_:w}},w.prototype=Qi.prototype,w.prototype.constructor=w,cn.prototype=ss(Qi.prototype),cn.prototype.constructor=cn;function Ie(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function Qv(){var r=new Ie(this.__wrapped__);return r.__actions__=Bt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Bt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Bt(this.__views__),r}function e0(){if(this.__filtered__){var r=new Ie(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function t0(){var r=this.__wrapped__.value(),i=this.__dir__,u=je(r),m=i<0,y=u?r.length:0,_=hw(0,y,this.__views__),C=_.start,E=_.end,I=E-C,U=m?E:C-1,W=this.__iteratees__,G=W.length,te=0,de=At(I,this.__takeCount__);if(!u||!m&&y==I&&de==I)return af(r,this.__actions__);var ye=[];e:for(;I--&&te<de;){U+=i;for(var Ae=-1,xe=r[U];++Ae<G;){var De=W[Ae],Le=De.iteratee,Qt=De.type,zt=Le(xe);if(Qt==oe)xe=zt;else if(!zt){if(Qt==se)continue e;break e}}ye[te++]=xe}return ye}Ie.prototype=ss(Qi.prototype),Ie.prototype.constructor=Ie;function Tr(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function n0(){this.__data__=zs?zs(null):{},this.size=0}function r0(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function s0(r){var i=this.__data__;if(zs){var u=i[r];return u===f?n:u}return Ve.call(i,r)?i[r]:n}function i0(r){var i=this.__data__;return zs?i[r]!==n:Ve.call(i,r)}function o0(r,i){var u=this.__data__;return this.size+=this.has(r)?0:1,u[r]=zs&&i===n?f:i,this}Tr.prototype.clear=n0,Tr.prototype.delete=r0,Tr.prototype.get=s0,Tr.prototype.has=i0,Tr.prototype.set=o0;function Un(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function a0(){this.__data__=[],this.size=0}function l0(r){var i=this.__data__,u=eo(i,r);if(u<0)return!1;var m=i.length-1;return u==m?i.pop():Ki.call(i,u,1),--this.size,!0}function c0(r){var i=this.__data__,u=eo(i,r);return u<0?n:i[u][1]}function u0(r){return eo(this.__data__,r)>-1}function d0(r,i){var u=this.__data__,m=eo(u,r);return m<0?(++this.size,u.push([r,i])):u[m][1]=i,this}Un.prototype.clear=a0,Un.prototype.delete=l0,Un.prototype.get=c0,Un.prototype.has=u0,Un.prototype.set=d0;function Wn(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function f0(){this.size=0,this.__data__={hash:new Tr,map:new(Os||Un),string:new Tr}}function h0(r){var i=ho(this,r).delete(r);return this.size-=i?1:0,i}function p0(r){return ho(this,r).get(r)}function m0(r){return ho(this,r).has(r)}function g0(r,i){var u=ho(this,r),m=u.size;return u.set(r,i),this.size+=u.size==m?0:1,this}Wn.prototype.clear=f0,Wn.prototype.delete=h0,Wn.prototype.get=p0,Wn.prototype.has=m0,Wn.prototype.set=g0;function Rr(r){var i=-1,u=r==null?0:r.length;for(this.__data__=new Wn;++i<u;)this.add(r[i])}function y0(r){return this.__data__.set(r,f),this}function x0(r){return this.__data__.has(r)}Rr.prototype.add=Rr.prototype.push=y0,Rr.prototype.has=x0;function bn(r){var i=this.__data__=new Un(r);this.size=i.size}function v0(){this.__data__=new Un,this.size=0}function w0(r){var i=this.__data__,u=i.delete(r);return this.size=i.size,u}function _0(r){return this.__data__.get(r)}function b0(r){return this.__data__.has(r)}function S0(r,i){var u=this.__data__;if(u instanceof Un){var m=u.__data__;if(!Os||m.length<o-1)return m.push([r,i]),this.size=++u.size,this;u=this.__data__=new Wn(m)}return u.set(r,i),this.size=u.size,this}bn.prototype.clear=v0,bn.prototype.delete=w0,bn.prototype.get=_0,bn.prototype.has=b0,bn.prototype.set=S0;function Fd(r,i){var u=je(r),m=!u&&Dr(r),y=!u&&!m&&mr(r),_=!u&&!m&&!y&&ls(r),C=u||m||y||_,E=C?Fa(r.length,Mv):[],I=E.length;for(var U in r)(i||Ve.call(r,U))&&!(C&&(U=="length"||y&&(U=="offset"||U=="parent")||_&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||qn(U,I)))&&E.push(U);return E}function zd(r){var i=r.length;return i?r[el(0,i-1)]:n}function j0(r,i){return po(Bt(r),Pr(i,0,r.length))}function C0(r){return po(Bt(r))}function Wa(r,i,u){(u!==n&&!Sn(r[i],u)||u===n&&!(i in r))&&Hn(r,i,u)}function $s(r,i,u){var m=r[i];(!(Ve.call(r,i)&&Sn(m,u))||u===n&&!(i in r))&&Hn(r,i,u)}function eo(r,i){for(var u=r.length;u--;)if(Sn(r[u][0],i))return u;return-1}function T0(r,i,u,m){return dr(r,function(y,_,C){i(m,y,u(y),C)}),m}function Nd(r,i){return r&&Mn(i,vt(i),r)}function R0(r,i){return r&&Mn(i,Wt(i),r)}function Hn(r,i,u){i=="__proto__"&&qi?qi(r,i,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[i]=u}function Ha(r,i){for(var u=-1,m=i.length,y=O(m),_=r==null;++u<m;)y[u]=_?n:Cl(r,i[u]);return y}function Pr(r,i,u){return r===r&&(u!==n&&(r=r<=u?r:u),i!==n&&(r=r>=i?r:i)),r}function un(r,i,u,m,y,_){var C,E=i&g,I=i&x,U=i&v;if(u&&(C=y?u(r,m,y,_):u(r)),C!==n)return C;if(!et(r))return r;var W=je(r);if(W){if(C=mw(r),!E)return Bt(r,C)}else{var G=Et(r),te=G==It||G==Y;if(mr(r))return uf(r,E);if(G==q||G==Ne||te&&!y){if(C=I||te?{}:Af(r),!E)return I?sw(r,R0(C,r)):rw(r,Nd(C,r))}else{if(!Ge[G])return y?r:{};C=gw(r,G,E)}}_||(_=new bn);var de=_.get(r);if(de)return de;_.set(r,C),sh(r)?r.forEach(function(xe){C.add(un(xe,i,u,xe,r,_))}):nh(r)&&r.forEach(function(xe,De){C.set(De,un(xe,i,u,De,r,_))});var ye=U?I?dl:ul:I?Wt:vt,Ae=W?n:ye(r);return an(Ae||r,function(xe,De){Ae&&(De=xe,xe=r[De]),$s(C,De,un(xe,i,u,De,r,_))}),C}function P0(r){var i=vt(r);return function(u){return $d(u,r,i)}}function $d(r,i,u){var m=u.length;if(r==null)return!m;for(r=We(r);m--;){var y=u[m],_=i[y],C=r[y];if(C===n&&!(y in r)||!_(C))return!1}return!0}function Vd(r,i,u){if(typeof r!="function")throw new ln(c);return Ks(function(){r.apply(n,u)},i)}function Vs(r,i,u,m){var y=-1,_=Fi,C=!0,E=r.length,I=[],U=i.length;if(!E)return I;u&&(i=Ze(i,Xt(u))),m?(_=ka,C=!1):i.length>=o&&(_=Is,C=!1,i=new Rr(i));e:for(;++y<E;){var W=r[y],G=u==null?W:u(W);if(W=m||W!==0?W:0,C&&G===G){for(var te=U;te--;)if(i[te]===G)continue e;I.push(W)}else _(i,G,m)||I.push(W)}return I}var dr=mf(Dn),Bd=mf(Ka,!0);function A0(r,i){var u=!0;return dr(r,function(m,y,_){return u=!!i(m,y,_),u}),u}function to(r,i,u){for(var m=-1,y=r.length;++m<y;){var _=r[m],C=i(_);if(C!=null&&(E===n?C===C&&!Zt(C):u(C,E)))var E=C,I=_}return I}function E0(r,i,u,m){var y=r.length;for(u=Re(u),u<0&&(u=-u>y?0:y+u),m=m===n||m>y?y:Re(m),m<0&&(m+=y),m=u>m?0:oh(m);u<m;)r[u++]=i;return r}function Ud(r,i){var u=[];return dr(r,function(m,y,_){i(m,y,_)&&u.push(m)}),u}function jt(r,i,u,m,y){var _=-1,C=r.length;for(u||(u=xw),y||(y=[]);++_<C;){var E=r[_];i>0&&u(E)?i>1?jt(E,i-1,u,m,y):lr(y,E):m||(y[y.length]=E)}return y}var Ga=gf(),Wd=gf(!0);function Dn(r,i){return r&&Ga(r,i,vt)}function Ka(r,i){return r&&Wd(r,i,vt)}function no(r,i){return ar(i,function(u){return Yn(r[u])})}function Ar(r,i){i=hr(i,r);for(var u=0,m=i.length;r!=null&&u<m;)r=r[In(i[u++])];return u&&u==m?r:n}function Hd(r,i,u){var m=i(r);return je(r)?m:lr(m,u(r))}function Ot(r){return r==null?r===n?$e:wn:Cr&&Cr in We(r)?fw(r):Cw(r)}function qa(r,i){return r>i}function k0(r,i){return r!=null&&Ve.call(r,i)}function D0(r,i){return r!=null&&i in We(r)}function M0(r,i,u){return r>=At(i,u)&&r<mt(i,u)}function Ya(r,i,u){for(var m=u?ka:Fi,y=r[0].length,_=r.length,C=_,E=O(_),I=1/0,U=[];C--;){var W=r[C];C&&i&&(W=Ze(W,Xt(i))),I=At(W.length,I),E[C]=!u&&(i||y>=120&&W.length>=120)?new Rr(C&&W):n}W=r[0];var G=-1,te=E[0];e:for(;++G<y&&U.length<I;){var de=W[G],ye=i?i(de):de;if(de=u||de!==0?de:0,!(te?Is(te,ye):m(U,ye,u))){for(C=_;--C;){var Ae=E[C];if(!(Ae?Is(Ae,ye):m(r[C],ye,u)))continue e}te&&te.push(ye),U.push(de)}}return U}function I0(r,i,u,m){return Dn(r,function(y,_,C){i(m,u(y),_,C)}),m}function Bs(r,i,u){i=hr(i,r),r=Mf(r,i);var m=r==null?r:r[In(fn(i))];return m==null?n:Yt(m,r,u)}function Gd(r){return st(r)&&Ot(r)==Ne}function L0(r){return st(r)&&Ot(r)==or}function O0(r){return st(r)&&Ot(r)==ue}function Us(r,i,u,m,y){return r===i?!0:r==null||i==null||!st(r)&&!st(i)?r!==r&&i!==i:F0(r,i,u,m,Us,y)}function F0(r,i,u,m,y,_){var C=je(r),E=je(i),I=C?ut:Et(r),U=E?ut:Et(i);I=I==Ne?q:I,U=U==Ne?q:U;var W=I==q,G=U==q,te=I==U;if(te&&mr(r)){if(!mr(i))return!1;C=!0,W=!1}if(te&&!W)return _||(_=new bn),C||ls(r)?Tf(r,i,u,m,y,_):uw(r,i,I,u,m,y,_);if(!(u&S)){var de=W&&Ve.call(r,"__wrapped__"),ye=G&&Ve.call(i,"__wrapped__");if(de||ye){var Ae=de?r.value():r,xe=ye?i.value():i;return _||(_=new bn),y(Ae,xe,u,m,_)}}return te?(_||(_=new bn),dw(r,i,u,m,y,_)):!1}function z0(r){return st(r)&&Et(r)==Me}function Xa(r,i,u,m){var y=u.length,_=y,C=!m;if(r==null)return!_;for(r=We(r);y--;){var E=u[y];if(C&&E[2]?E[1]!==r[E[0]]:!(E[0]in r))return!1}for(;++y<_;){E=u[y];var I=E[0],U=r[I],W=E[1];if(C&&E[2]){if(U===n&&!(I in r))return!1}else{var G=new bn;if(m)var te=m(U,W,I,r,i,G);if(!(te===n?Us(W,U,S|T,m,G):te))return!1}}return!0}function Kd(r){if(!et(r)||ww(r))return!1;var i=Yn(r)?zv:Px;return i.test(kr(r))}function N0(r){return st(r)&&Ot(r)==bt}function $0(r){return st(r)&&Et(r)==Ue}function V0(r){return st(r)&&wo(r.length)&&!!Ke[Ot(r)]}function qd(r){return typeof r=="function"?r:r==null?Ht:typeof r=="object"?je(r)?Jd(r[0],r[1]):Xd(r):yh(r)}function Ja(r){if(!Gs(r))return Wv(r);var i=[];for(var u in We(r))Ve.call(r,u)&&u!="constructor"&&i.push(u);return i}function B0(r){if(!et(r))return jw(r);var i=Gs(r),u=[];for(var m in r)m=="constructor"&&(i||!Ve.call(r,m))||u.push(m);return u}function Za(r,i){return r<i}function Yd(r,i){var u=-1,m=Ut(r)?O(r.length):[];return dr(r,function(y,_,C){m[++u]=i(y,_,C)}),m}function Xd(r){var i=hl(r);return i.length==1&&i[0][2]?kf(i[0][0],i[0][1]):function(u){return u===r||Xa(u,r,i)}}function Jd(r,i){return ml(r)&&Ef(i)?kf(In(r),i):function(u){var m=Cl(u,r);return m===n&&m===i?Tl(u,r):Us(i,m,S|T)}}function ro(r,i,u,m,y){r!==i&&Ga(i,function(_,C){if(y||(y=new bn),et(_))U0(r,i,C,u,ro,m,y);else{var E=m?m(yl(r,C),_,C+"",r,i,y):n;E===n&&(E=_),Wa(r,C,E)}},Wt)}function U0(r,i,u,m,y,_,C){var E=yl(r,u),I=yl(i,u),U=C.get(I);if(U){Wa(r,u,U);return}var W=_?_(E,I,u+"",r,i,C):n,G=W===n;if(G){var te=je(I),de=!te&&mr(I),ye=!te&&!de&&ls(I);W=I,te||de||ye?je(E)?W=E:lt(E)?W=Bt(E):de?(G=!1,W=uf(I,!0)):ye?(G=!1,W=df(I,!0)):W=[]:qs(I)||Dr(I)?(W=E,Dr(E)?W=ah(E):(!et(E)||Yn(E))&&(W=Af(I))):G=!1}G&&(C.set(I,W),y(W,I,m,_,C),C.delete(I)),Wa(r,u,W)}function Zd(r,i){var u=r.length;if(u)return i+=i<0?u:0,qn(i,u)?r[i]:n}function Qd(r,i,u){i.length?i=Ze(i,function(_){return je(_)?function(C){return Ar(C,_.length===1?_[0]:_)}:_}):i=[Ht];var m=-1;i=Ze(i,Xt(me()));var y=Yd(r,function(_,C,E){var I=Ze(i,function(U){return U(_)});return{criteria:I,index:++m,value:_}});return gv(y,function(_,C){return nw(_,C,u)})}function W0(r,i){return ef(r,i,function(u,m){return Tl(r,m)})}function ef(r,i,u){for(var m=-1,y=i.length,_={};++m<y;){var C=i[m],E=Ar(r,C);u(E,C)&&Ws(_,hr(C,r),E)}return _}function H0(r){return function(i){return Ar(i,r)}}function Qa(r,i,u,m){var y=m?mv:Jr,_=-1,C=i.length,E=r;for(r===i&&(i=Bt(i)),u&&(E=Ze(r,Xt(u)));++_<C;)for(var I=0,U=i[_],W=u?u(U):U;(I=y(E,W,I,m))>-1;)E!==r&&Ki.call(E,I,1),Ki.call(r,I,1);return r}function tf(r,i){for(var u=r?i.length:0,m=u-1;u--;){var y=i[u];if(u==m||y!==_){var _=y;qn(y)?Ki.call(r,y,1):rl(r,y)}}return r}function el(r,i){return r+Xi(Ld()*(i-r+1))}function G0(r,i,u,m){for(var y=-1,_=mt(Yi((i-r)/(u||1)),0),C=O(_);_--;)C[m?_:++y]=r,r+=u;return C}function tl(r,i){var u="";if(!r||i<1||i>Z)return u;do i%2&&(u+=r),i=Xi(i/2),i&&(r+=r);while(i);return u}function Ee(r,i){return xl(Df(r,i,Ht),r+"")}function K0(r){return zd(cs(r))}function q0(r,i){var u=cs(r);return po(u,Pr(i,0,u.length))}function Ws(r,i,u,m){if(!et(r))return r;i=hr(i,r);for(var y=-1,_=i.length,C=_-1,E=r;E!=null&&++y<_;){var I=In(i[y]),U=u;if(I==="__proto__"||I==="constructor"||I==="prototype")return r;if(y!=C){var W=E[I];U=m?m(W,I,E):n,U===n&&(U=et(W)?W:qn(i[y+1])?[]:{})}$s(E,I,U),E=E[I]}return r}var nf=Ji?function(r,i){return Ji.set(r,i),r}:Ht,Y0=qi?function(r,i){return qi(r,"toString",{configurable:!0,enumerable:!1,value:Pl(i),writable:!0})}:Ht;function X0(r){return po(cs(r))}function dn(r,i,u){var m=-1,y=r.length;i<0&&(i=-i>y?0:y+i),u=u>y?y:u,u<0&&(u+=y),y=i>u?0:u-i>>>0,i>>>=0;for(var _=O(y);++m<y;)_[m]=r[m+i];return _}function J0(r,i){var u;return dr(r,function(m,y,_){return u=i(m,y,_),!u}),!!u}function so(r,i,u){var m=0,y=r==null?m:r.length;if(typeof i=="number"&&i===i&&y<=He){for(;m<y;){var _=m+y>>>1,C=r[_];C!==null&&!Zt(C)&&(u?C<=i:C<i)?m=_+1:y=_}return y}return nl(r,i,Ht,u)}function nl(r,i,u,m){var y=0,_=r==null?0:r.length;if(_===0)return 0;i=u(i);for(var C=i!==i,E=i===null,I=Zt(i),U=i===n;y<_;){var W=Xi((y+_)/2),G=u(r[W]),te=G!==n,de=G===null,ye=G===G,Ae=Zt(G);if(C)var xe=m||ye;else U?xe=ye&&(m||te):E?xe=ye&&te&&(m||!de):I?xe=ye&&te&&!de&&(m||!Ae):de||Ae?xe=!1:xe=m?G<=i:G<i;xe?y=W+1:_=W}return At(_,ge)}function rf(r,i){for(var u=-1,m=r.length,y=0,_=[];++u<m;){var C=r[u],E=i?i(C):C;if(!u||!Sn(E,I)){var I=E;_[y++]=C===0?0:C}}return _}function sf(r){return typeof r=="number"?r:Zt(r)?ee:+r}function Jt(r){if(typeof r=="string")return r;if(je(r))return Ze(r,Jt)+"";if(Zt(r))return Od?Od.call(r):"";var i=r+"";return i=="0"&&1/r==-re?"-0":i}function fr(r,i,u){var m=-1,y=Fi,_=r.length,C=!0,E=[],I=E;if(u)C=!1,y=ka;else if(_>=o){var U=i?null:lw(r);if(U)return Ni(U);C=!1,y=Is,I=new Rr}else I=i?[]:E;e:for(;++m<_;){var W=r[m],G=i?i(W):W;if(W=u||W!==0?W:0,C&&G===G){for(var te=I.length;te--;)if(I[te]===G)continue e;i&&I.push(G),E.push(W)}else y(I,G,u)||(I!==E&&I.push(G),E.push(W))}return E}function rl(r,i){return i=hr(i,r),r=Mf(r,i),r==null||delete r[In(fn(i))]}function of(r,i,u,m){return Ws(r,i,u(Ar(r,i)),m)}function io(r,i,u,m){for(var y=r.length,_=m?y:-1;(m?_--:++_<y)&&i(r[_],_,r););return u?dn(r,m?0:_,m?_+1:y):dn(r,m?_+1:0,m?y:_)}function af(r,i){var u=r;return u instanceof Ie&&(u=u.value()),Da(i,function(m,y){return y.func.apply(y.thisArg,lr([m],y.args))},u)}function sl(r,i,u){var m=r.length;if(m<2)return m?fr(r[0]):[];for(var y=-1,_=O(m);++y<m;)for(var C=r[y],E=-1;++E<m;)E!=y&&(_[y]=Vs(_[y]||C,r[E],i,u));return fr(jt(_,1),i,u)}function lf(r,i,u){for(var m=-1,y=r.length,_=i.length,C={};++m<y;){var E=m<_?i[m]:n;u(C,r[m],E)}return C}function il(r){return lt(r)?r:[]}function ol(r){return typeof r=="function"?r:Ht}function hr(r,i){return je(r)?r:ml(r,i)?[r]:Ff(ze(r))}var Z0=Ee;function pr(r,i,u){var m=r.length;return u=u===n?m:u,!i&&u>=m?r:dn(r,i,u)}var cf=Nv||function(r){return St.clearTimeout(r)};function uf(r,i){if(i)return r.slice();var u=r.length,m=Ed?Ed(u):new r.constructor(u);return r.copy(m),m}function al(r){var i=new r.constructor(r.byteLength);return new Hi(i).set(new Hi(r)),i}function Q0(r,i){var u=i?al(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}function ew(r){var i=new r.constructor(r.source,Gu.exec(r));return i.lastIndex=r.lastIndex,i}function tw(r){return Ns?We(Ns.call(r)):{}}function df(r,i){var u=i?al(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}function ff(r,i){if(r!==i){var u=r!==n,m=r===null,y=r===r,_=Zt(r),C=i!==n,E=i===null,I=i===i,U=Zt(i);if(!E&&!U&&!_&&r>i||_&&C&&I&&!E&&!U||m&&C&&I||!u&&I||!y)return 1;if(!m&&!_&&!U&&r<i||U&&u&&y&&!m&&!_||E&&u&&y||!C&&y||!I)return-1}return 0}function nw(r,i,u){for(var m=-1,y=r.criteria,_=i.criteria,C=y.length,E=u.length;++m<C;){var I=ff(y[m],_[m]);if(I){if(m>=E)return I;var U=u[m];return I*(U=="desc"?-1:1)}}return r.index-i.index}function hf(r,i,u,m){for(var y=-1,_=r.length,C=u.length,E=-1,I=i.length,U=mt(_-C,0),W=O(I+U),G=!m;++E<I;)W[E]=i[E];for(;++y<C;)(G||y<_)&&(W[u[y]]=r[y]);for(;U--;)W[E++]=r[y++];return W}function pf(r,i,u,m){for(var y=-1,_=r.length,C=-1,E=u.length,I=-1,U=i.length,W=mt(_-E,0),G=O(W+U),te=!m;++y<W;)G[y]=r[y];for(var de=y;++I<U;)G[de+I]=i[I];for(;++C<E;)(te||y<_)&&(G[de+u[C]]=r[y++]);return G}function Bt(r,i){var u=-1,m=r.length;for(i||(i=O(m));++u<m;)i[u]=r[u];return i}function Mn(r,i,u,m){var y=!u;u||(u={});for(var _=-1,C=i.length;++_<C;){var E=i[_],I=m?m(u[E],r[E],E,u,r):n;I===n&&(I=r[E]),y?Hn(u,E,I):$s(u,E,I)}return u}function rw(r,i){return Mn(r,pl(r),i)}function sw(r,i){return Mn(r,Rf(r),i)}function oo(r,i){return function(u,m){var y=je(u)?cv:T0,_=i?i():{};return y(u,r,me(m,2),_)}}function is(r){return Ee(function(i,u){var m=-1,y=u.length,_=y>1?u[y-1]:n,C=y>2?u[2]:n;for(_=r.length>3&&typeof _=="function"?(y--,_):n,C&&Ft(u[0],u[1],C)&&(_=y<3?n:_,y=1),i=We(i);++m<y;){var E=u[m];E&&r(i,E,m,_)}return i})}function mf(r,i){return function(u,m){if(u==null)return u;if(!Ut(u))return r(u,m);for(var y=u.length,_=i?y:-1,C=We(u);(i?_--:++_<y)&&m(C[_],_,C)!==!1;);return u}}function gf(r){return function(i,u,m){for(var y=-1,_=We(i),C=m(i),E=C.length;E--;){var I=C[r?E:++y];if(u(_[I],I,_)===!1)break}return i}}function iw(r,i,u){var m=i&k,y=Hs(r);function _(){var C=this&&this!==St&&this instanceof _?y:r;return C.apply(m?u:this,arguments)}return _}function yf(r){return function(i){i=ze(i);var u=Zr(i)?_n(i):n,m=u?u[0]:i.charAt(0),y=u?pr(u,1).join(""):i.slice(1);return m[r]()+y}}function os(r){return function(i){return Da(mh(ph(i).replace(Yx,"")),r,"")}}function Hs(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var u=ss(r.prototype),m=r.apply(u,i);return et(m)?m:u}}function ow(r,i,u){var m=Hs(r);function y(){for(var _=arguments.length,C=O(_),E=_,I=as(y);E--;)C[E]=arguments[E];var U=_<3&&C[0]!==I&&C[_-1]!==I?[]:cr(C,I);if(_-=U.length,_<u)return bf(r,i,ao,y.placeholder,n,C,U,n,n,u-_);var W=this&&this!==St&&this instanceof y?m:r;return Yt(W,this,C)}return y}function xf(r){return function(i,u,m){var y=We(i);if(!Ut(i)){var _=me(u,3);i=vt(i),u=function(E){return _(y[E],E,y)}}var C=r(i,u,m);return C>-1?y[_?i[C]:C]:n}}function vf(r){return Kn(function(i){var u=i.length,m=u,y=cn.prototype.thru;for(r&&i.reverse();m--;){var _=i[m];if(typeof _!="function")throw new ln(c);if(y&&!C&&fo(_)=="wrapper")var C=new cn([],!0)}for(m=C?m:u;++m<u;){_=i[m];var E=fo(_),I=E=="wrapper"?fl(_):n;I&&gl(I[0])&&I[1]==(F|D|R|B)&&!I[4].length&&I[9]==1?C=C[fo(I[0])].apply(C,I[3]):C=_.length==1&&gl(_)?C[E]():C.thru(_)}return function(){var U=arguments,W=U[0];if(C&&U.length==1&&je(W))return C.plant(W).value();for(var G=0,te=u?i[G].apply(this,U):W;++G<u;)te=i[G].call(this,te);return te}})}function ao(r,i,u,m,y,_,C,E,I,U){var W=i&F,G=i&k,te=i&P,de=i&(D|j),ye=i&N,Ae=te?n:Hs(r);function xe(){for(var De=arguments.length,Le=O(De),Qt=De;Qt--;)Le[Qt]=arguments[Qt];if(de)var zt=as(xe),en=xv(Le,zt);if(m&&(Le=hf(Le,m,y,de)),_&&(Le=pf(Le,_,C,de)),De-=en,de&&De<U){var ct=cr(Le,zt);return bf(r,i,ao,xe.placeholder,u,Le,ct,E,I,U-De)}var jn=G?u:this,Jn=te?jn[r]:r;return De=Le.length,E?Le=Tw(Le,E):ye&&De>1&&Le.reverse(),W&&I<De&&(Le.length=I),this&&this!==St&&this instanceof xe&&(Jn=Ae||Hs(Jn)),Jn.apply(jn,Le)}return xe}function wf(r,i){return function(u,m){return I0(u,r,i(m),{})}}function lo(r,i){return function(u,m){var y;if(u===n&&m===n)return i;if(u!==n&&(y=u),m!==n){if(y===n)return m;typeof u=="string"||typeof m=="string"?(u=Jt(u),m=Jt(m)):(u=sf(u),m=sf(m)),y=r(u,m)}return y}}function ll(r){return Kn(function(i){return i=Ze(i,Xt(me())),Ee(function(u){var m=this;return r(i,function(y){return Yt(y,m,u)})})})}function co(r,i){i=i===n?" ":Jt(i);var u=i.length;if(u<2)return u?tl(i,r):i;var m=tl(i,Yi(r/Qr(i)));return Zr(i)?pr(_n(m),0,r).join(""):m.slice(0,r)}function aw(r,i,u,m){var y=i&k,_=Hs(r);function C(){for(var E=-1,I=arguments.length,U=-1,W=m.length,G=O(W+I),te=this&&this!==St&&this instanceof C?_:r;++U<W;)G[U]=m[U];for(;I--;)G[U++]=arguments[++E];return Yt(te,y?u:this,G)}return C}function _f(r){return function(i,u,m){return m&&typeof m!="number"&&Ft(i,u,m)&&(u=m=n),i=Xn(i),u===n?(u=i,i=0):u=Xn(u),m=m===n?i<u?1:-1:Xn(m),G0(i,u,m,r)}}function uo(r){return function(i,u){return typeof i=="string"&&typeof u=="string"||(i=hn(i),u=hn(u)),r(i,u)}}function bf(r,i,u,m,y,_,C,E,I,U){var W=i&D,G=W?C:n,te=W?n:C,de=W?_:n,ye=W?n:_;i|=W?R:L,i&=~(W?L:R),i&A||(i&=-4);var Ae=[r,i,y,de,G,ye,te,E,I,U],xe=u.apply(n,Ae);return gl(r)&&If(xe,Ae),xe.placeholder=m,Lf(xe,r,i)}function cl(r){var i=pt[r];return function(u,m){if(u=hn(u),m=m==null?0:At(Re(m),292),m&&Id(u)){var y=(ze(u)+"e").split("e"),_=i(y[0]+"e"+(+y[1]+m));return y=(ze(_)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return i(u)}}var lw=ns&&1/Ni(new ns([,-0]))[1]==re?function(r){return new ns(r)}:kl;function Sf(r){return function(i){var u=Et(i);return u==Me?Na(i):u==Ue?Cv(i):yv(i,r(i))}}function Gn(r,i,u,m,y,_,C,E){var I=i&P;if(!I&&typeof r!="function")throw new ln(c);var U=m?m.length:0;if(U||(i&=-97,m=y=n),C=C===n?C:mt(Re(C),0),E=E===n?E:Re(E),U-=y?y.length:0,i&L){var W=m,G=y;m=y=n}var te=I?n:fl(r),de=[r,i,u,m,y,W,G,_,C,E];if(te&&Sw(de,te),r=de[0],i=de[1],u=de[2],m=de[3],y=de[4],E=de[9]=de[9]===n?I?0:r.length:mt(de[9]-U,0),!E&&i&(D|j)&&(i&=-25),!i||i==k)var ye=iw(r,i,u);else i==D||i==j?ye=ow(r,i,E):(i==R||i==(k|R))&&!y.length?ye=aw(r,i,u,m):ye=ao.apply(n,de);var Ae=te?nf:If;return Lf(Ae(ye,de),r,i)}function jf(r,i,u,m){return r===n||Sn(r,ts[u])&&!Ve.call(m,u)?i:r}function Cf(r,i,u,m,y,_){return et(r)&&et(i)&&(_.set(i,r),ro(r,i,n,Cf,_),_.delete(i)),r}function cw(r){return qs(r)?n:r}function Tf(r,i,u,m,y,_){var C=u&S,E=r.length,I=i.length;if(E!=I&&!(C&&I>E))return!1;var U=_.get(r),W=_.get(i);if(U&&W)return U==i&&W==r;var G=-1,te=!0,de=u&T?new Rr:n;for(_.set(r,i),_.set(i,r);++G<E;){var ye=r[G],Ae=i[G];if(m)var xe=C?m(Ae,ye,G,i,r,_):m(ye,Ae,G,r,i,_);if(xe!==n){if(xe)continue;te=!1;break}if(de){if(!Ma(i,function(De,Le){if(!Is(de,Le)&&(ye===De||y(ye,De,u,m,_)))return de.push(Le)})){te=!1;break}}else if(!(ye===Ae||y(ye,Ae,u,m,_))){te=!1;break}}return _.delete(r),_.delete(i),te}function uw(r,i,u,m,y,_,C){switch(u){case Bn:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case or:return!(r.byteLength!=i.byteLength||!_(new Hi(r),new Hi(i)));case $:case ue:case dt:return Sn(+r,+i);case Pt:return r.name==i.name&&r.message==i.message;case bt:case yt:return r==i+"";case Me:var E=Na;case Ue:var I=m&S;if(E||(E=Ni),r.size!=i.size&&!I)return!1;var U=C.get(r);if(U)return U==i;m|=T,C.set(r,i);var W=Tf(E(r),E(i),m,y,_,C);return C.delete(r),W;case xt:if(Ns)return Ns.call(r)==Ns.call(i)}return!1}function dw(r,i,u,m,y,_){var C=u&S,E=ul(r),I=E.length,U=ul(i),W=U.length;if(I!=W&&!C)return!1;for(var G=I;G--;){var te=E[G];if(!(C?te in i:Ve.call(i,te)))return!1}var de=_.get(r),ye=_.get(i);if(de&&ye)return de==i&&ye==r;var Ae=!0;_.set(r,i),_.set(i,r);for(var xe=C;++G<I;){te=E[G];var De=r[te],Le=i[te];if(m)var Qt=C?m(Le,De,te,i,r,_):m(De,Le,te,r,i,_);if(!(Qt===n?De===Le||y(De,Le,u,m,_):Qt)){Ae=!1;break}xe||(xe=te=="constructor")}if(Ae&&!xe){var zt=r.constructor,en=i.constructor;zt!=en&&"constructor"in r&&"constructor"in i&&!(typeof zt=="function"&&zt instanceof zt&&typeof en=="function"&&en instanceof en)&&(Ae=!1)}return _.delete(r),_.delete(i),Ae}function Kn(r){return xl(Df(r,n,Vf),r+"")}function ul(r){return Hd(r,vt,pl)}function dl(r){return Hd(r,Wt,Rf)}var fl=Ji?function(r){return Ji.get(r)}:kl;function fo(r){for(var i=r.name+"",u=rs[i],m=Ve.call(rs,i)?u.length:0;m--;){var y=u[m],_=y.func;if(_==null||_==r)return y.name}return i}function as(r){var i=Ve.call(w,"placeholder")?w:r;return i.placeholder}function me(){var r=w.iteratee||Al;return r=r===Al?qd:r,arguments.length?r(arguments[0],arguments[1]):r}function ho(r,i){var u=r.__data__;return vw(i)?u[typeof i=="string"?"string":"hash"]:u.map}function hl(r){for(var i=vt(r),u=i.length;u--;){var m=i[u],y=r[m];i[u]=[m,y,Ef(y)]}return i}function Er(r,i){var u=bv(r,i);return Kd(u)?u:n}function fw(r){var i=Ve.call(r,Cr),u=r[Cr];try{r[Cr]=n;var m=!0}catch{}var y=Ui.call(r);return m&&(i?r[Cr]=u:delete r[Cr]),y}var pl=Va?function(r){return r==null?[]:(r=We(r),ar(Va(r),function(i){return Dd.call(r,i)}))}:Dl,Rf=Va?function(r){for(var i=[];r;)lr(i,pl(r)),r=Gi(r);return i}:Dl,Et=Ot;(Ba&&Et(new Ba(new ArrayBuffer(1)))!=Bn||Os&&Et(new Os)!=Me||Ua&&Et(Ua.resolve())!=fe||ns&&Et(new ns)!=Ue||Fs&&Et(new Fs)!=Vn)&&(Et=function(r){var i=Ot(r),u=i==q?r.constructor:n,m=u?kr(u):"";if(m)switch(m){case qv:return Bn;case Yv:return Me;case Xv:return fe;case Jv:return Ue;case Zv:return Vn}return i});function hw(r,i,u){for(var m=-1,y=u.length;++m<y;){var _=u[m],C=_.size;switch(_.type){case"drop":r+=C;break;case"dropRight":i-=C;break;case"take":i=At(i,r+C);break;case"takeRight":r=mt(r,i-C);break}}return{start:r,end:i}}function pw(r){var i=r.match(wx);return i?i[1].split(_x):[]}function Pf(r,i,u){i=hr(i,r);for(var m=-1,y=i.length,_=!1;++m<y;){var C=In(i[m]);if(!(_=r!=null&&u(r,C)))break;r=r[C]}return _||++m!=y?_:(y=r==null?0:r.length,!!y&&wo(y)&&qn(C,y)&&(je(r)||Dr(r)))}function mw(r){var i=r.length,u=new r.constructor(i);return i&&typeof r[0]=="string"&&Ve.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function Af(r){return typeof r.constructor=="function"&&!Gs(r)?ss(Gi(r)):{}}function gw(r,i,u){var m=r.constructor;switch(i){case or:return al(r);case $:case ue:return new m(+r);case Bn:return Q0(r,u);case Gr:case Kr:case qr:case Yr:case ya:case xa:case va:case wa:case _a:return df(r,u);case Me:return new m;case dt:case yt:return new m(r);case bt:return ew(r);case Ue:return new m;case xt:return tw(r)}}function yw(r,i){var u=i.length;if(!u)return r;var m=u-1;return i[m]=(u>1?"& ":"")+i[m],i=i.join(u>2?", ":" "),r.replace(vx,`{
/* [wrapped with `+i+`] */
`)}function xw(r){return je(r)||Dr(r)||!!(Md&&r&&r[Md])}function qn(r,i){var u=typeof r;return i=i??Z,!!i&&(u=="number"||u!="symbol"&&Ex.test(r))&&r>-1&&r%1==0&&r<i}function Ft(r,i,u){if(!et(u))return!1;var m=typeof i;return(m=="number"?Ut(u)&&qn(i,u.length):m=="string"&&i in u)?Sn(u[i],r):!1}function ml(r,i){if(je(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||Zt(r)?!0:mx.test(r)||!px.test(r)||i!=null&&r in We(i)}function vw(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function gl(r){var i=fo(r),u=w[i];if(typeof u!="function"||!(i in Ie.prototype))return!1;if(r===u)return!0;var m=fl(u);return!!m&&r===m[0]}function ww(r){return!!Ad&&Ad in r}var _w=Vi?Yn:Ml;function Gs(r){var i=r&&r.constructor,u=typeof i=="function"&&i.prototype||ts;return r===u}function Ef(r){return r===r&&!et(r)}function kf(r,i){return function(u){return u==null?!1:u[r]===i&&(i!==n||r in We(u))}}function bw(r){var i=xo(r,function(m){return u.size===h&&u.clear(),m}),u=i.cache;return i}function Sw(r,i){var u=r[1],m=i[1],y=u|m,_=y<(k|P|F),C=m==F&&u==D||m==F&&u==B&&r[7].length<=i[8]||m==(F|B)&&i[7].length<=i[8]&&u==D;if(!(_||C))return r;m&k&&(r[2]=i[2],y|=u&k?0:A);var E=i[3];if(E){var I=r[3];r[3]=I?hf(I,E,i[4]):E,r[4]=I?cr(r[3],p):i[4]}return E=i[5],E&&(I=r[5],r[5]=I?pf(I,E,i[6]):E,r[6]=I?cr(r[5],p):i[6]),E=i[7],E&&(r[7]=E),m&F&&(r[8]=r[8]==null?i[8]:At(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=y,r}function jw(r){var i=[];if(r!=null)for(var u in We(r))i.push(u);return i}function Cw(r){return Ui.call(r)}function Df(r,i,u){return i=mt(i===n?r.length-1:i,0),function(){for(var m=arguments,y=-1,_=mt(m.length-i,0),C=O(_);++y<_;)C[y]=m[i+y];y=-1;for(var E=O(i+1);++y<i;)E[y]=m[y];return E[i]=u(C),Yt(r,this,E)}}function Mf(r,i){return i.length<2?r:Ar(r,dn(i,0,-1))}function Tw(r,i){for(var u=r.length,m=At(i.length,u),y=Bt(r);m--;){var _=i[m];r[m]=qn(_,u)?y[_]:n}return r}function yl(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var If=Of(nf),Ks=Vv||function(r,i){return St.setTimeout(r,i)},xl=Of(Y0);function Lf(r,i,u){var m=i+"";return xl(r,yw(m,Rw(pw(m),u)))}function Of(r){var i=0,u=0;return function(){var m=Hv(),y=J-(m-u);if(u=m,y>0){if(++i>=ie)return arguments[0]}else i=0;return r.apply(n,arguments)}}function po(r,i){var u=-1,m=r.length,y=m-1;for(i=i===n?m:i;++u<i;){var _=el(u,y),C=r[_];r[_]=r[u],r[u]=C}return r.length=i,r}var Ff=bw(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(gx,function(u,m,y,_){i.push(y?_.replace(jx,"$1"):m||u)}),i});function In(r){if(typeof r=="string"||Zt(r))return r;var i=r+"";return i=="0"&&1/r==-re?"-0":i}function kr(r){if(r!=null){try{return Bi.call(r)}catch{}try{return r+""}catch{}}return""}function Rw(r,i){return an(Xe,function(u){var m="_."+u[0];i&u[1]&&!Fi(r,m)&&r.push(m)}),r.sort()}function zf(r){if(r instanceof Ie)return r.clone();var i=new cn(r.__wrapped__,r.__chain__);return i.__actions__=Bt(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function Pw(r,i,u){(u?Ft(r,i,u):i===n)?i=1:i=mt(Re(i),0);var m=r==null?0:r.length;if(!m||i<1)return[];for(var y=0,_=0,C=O(Yi(m/i));y<m;)C[_++]=dn(r,y,y+=i);return C}function Aw(r){for(var i=-1,u=r==null?0:r.length,m=0,y=[];++i<u;){var _=r[i];_&&(y[m++]=_)}return y}function Ew(){var r=arguments.length;if(!r)return[];for(var i=O(r-1),u=arguments[0],m=r;m--;)i[m-1]=arguments[m];return lr(je(u)?Bt(u):[u],jt(i,1))}var kw=Ee(function(r,i){return lt(r)?Vs(r,jt(i,1,lt,!0)):[]}),Dw=Ee(function(r,i){var u=fn(i);return lt(u)&&(u=n),lt(r)?Vs(r,jt(i,1,lt,!0),me(u,2)):[]}),Mw=Ee(function(r,i){var u=fn(i);return lt(u)&&(u=n),lt(r)?Vs(r,jt(i,1,lt,!0),n,u):[]});function Iw(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Re(i),dn(r,i<0?0:i,m)):[]}function Lw(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Re(i),i=m-i,dn(r,0,i<0?0:i)):[]}function Ow(r,i){return r&&r.length?io(r,me(i,3),!0,!0):[]}function Fw(r,i){return r&&r.length?io(r,me(i,3),!0):[]}function zw(r,i,u,m){var y=r==null?0:r.length;return y?(u&&typeof u!="number"&&Ft(r,i,u)&&(u=0,m=y),E0(r,i,u,m)):[]}function Nf(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=u==null?0:Re(u);return y<0&&(y=mt(m+y,0)),zi(r,me(i,3),y)}function $f(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=m-1;return u!==n&&(y=Re(u),y=u<0?mt(m+y,0):At(y,m-1)),zi(r,me(i,3),y,!0)}function Vf(r){var i=r==null?0:r.length;return i?jt(r,1):[]}function Nw(r){var i=r==null?0:r.length;return i?jt(r,re):[]}function $w(r,i){var u=r==null?0:r.length;return u?(i=i===n?1:Re(i),jt(r,i)):[]}function Vw(r){for(var i=-1,u=r==null?0:r.length,m={};++i<u;){var y=r[i];m[y[0]]=y[1]}return m}function Bf(r){return r&&r.length?r[0]:n}function Bw(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=u==null?0:Re(u);return y<0&&(y=mt(m+y,0)),Jr(r,i,y)}function Uw(r){var i=r==null?0:r.length;return i?dn(r,0,-1):[]}var Ww=Ee(function(r){var i=Ze(r,il);return i.length&&i[0]===r[0]?Ya(i):[]}),Hw=Ee(function(r){var i=fn(r),u=Ze(r,il);return i===fn(u)?i=n:u.pop(),u.length&&u[0]===r[0]?Ya(u,me(i,2)):[]}),Gw=Ee(function(r){var i=fn(r),u=Ze(r,il);return i=typeof i=="function"?i:n,i&&u.pop(),u.length&&u[0]===r[0]?Ya(u,n,i):[]});function Kw(r,i){return r==null?"":Uv.call(r,i)}function fn(r){var i=r==null?0:r.length;return i?r[i-1]:n}function qw(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=m;return u!==n&&(y=Re(u),y=y<0?mt(m+y,0):At(y,m-1)),i===i?Rv(r,i,y):zi(r,_d,y,!0)}function Yw(r,i){return r&&r.length?Zd(r,Re(i)):n}var Xw=Ee(Uf);function Uf(r,i){return r&&r.length&&i&&i.length?Qa(r,i):r}function Jw(r,i,u){return r&&r.length&&i&&i.length?Qa(r,i,me(u,2)):r}function Zw(r,i,u){return r&&r.length&&i&&i.length?Qa(r,i,n,u):r}var Qw=Kn(function(r,i){var u=r==null?0:r.length,m=Ha(r,i);return tf(r,Ze(i,function(y){return qn(y,u)?+y:y}).sort(ff)),m});function e_(r,i){var u=[];if(!(r&&r.length))return u;var m=-1,y=[],_=r.length;for(i=me(i,3);++m<_;){var C=r[m];i(C,m,r)&&(u.push(C),y.push(m))}return tf(r,y),u}function vl(r){return r==null?r:Kv.call(r)}function t_(r,i,u){var m=r==null?0:r.length;return m?(u&&typeof u!="number"&&Ft(r,i,u)?(i=0,u=m):(i=i==null?0:Re(i),u=u===n?m:Re(u)),dn(r,i,u)):[]}function n_(r,i){return so(r,i)}function r_(r,i,u){return nl(r,i,me(u,2))}function s_(r,i){var u=r==null?0:r.length;if(u){var m=so(r,i);if(m<u&&Sn(r[m],i))return m}return-1}function i_(r,i){return so(r,i,!0)}function o_(r,i,u){return nl(r,i,me(u,2),!0)}function a_(r,i){var u=r==null?0:r.length;if(u){var m=so(r,i,!0)-1;if(Sn(r[m],i))return m}return-1}function l_(r){return r&&r.length?rf(r):[]}function c_(r,i){return r&&r.length?rf(r,me(i,2)):[]}function u_(r){var i=r==null?0:r.length;return i?dn(r,1,i):[]}function d_(r,i,u){return r&&r.length?(i=u||i===n?1:Re(i),dn(r,0,i<0?0:i)):[]}function f_(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Re(i),i=m-i,dn(r,i<0?0:i,m)):[]}function h_(r,i){return r&&r.length?io(r,me(i,3),!1,!0):[]}function p_(r,i){return r&&r.length?io(r,me(i,3)):[]}var m_=Ee(function(r){return fr(jt(r,1,lt,!0))}),g_=Ee(function(r){var i=fn(r);return lt(i)&&(i=n),fr(jt(r,1,lt,!0),me(i,2))}),y_=Ee(function(r){var i=fn(r);return i=typeof i=="function"?i:n,fr(jt(r,1,lt,!0),n,i)});function x_(r){return r&&r.length?fr(r):[]}function v_(r,i){return r&&r.length?fr(r,me(i,2)):[]}function w_(r,i){return i=typeof i=="function"?i:n,r&&r.length?fr(r,n,i):[]}function wl(r){if(!(r&&r.length))return[];var i=0;return r=ar(r,function(u){if(lt(u))return i=mt(u.length,i),!0}),Fa(i,function(u){return Ze(r,Ia(u))})}function Wf(r,i){if(!(r&&r.length))return[];var u=wl(r);return i==null?u:Ze(u,function(m){return Yt(i,n,m)})}var __=Ee(function(r,i){return lt(r)?Vs(r,i):[]}),b_=Ee(function(r){return sl(ar(r,lt))}),S_=Ee(function(r){var i=fn(r);return lt(i)&&(i=n),sl(ar(r,lt),me(i,2))}),j_=Ee(function(r){var i=fn(r);return i=typeof i=="function"?i:n,sl(ar(r,lt),n,i)}),C_=Ee(wl);function T_(r,i){return lf(r||[],i||[],$s)}function R_(r,i){return lf(r||[],i||[],Ws)}var P_=Ee(function(r){var i=r.length,u=i>1?r[i-1]:n;return u=typeof u=="function"?(r.pop(),u):n,Wf(r,u)});function Hf(r){var i=w(r);return i.__chain__=!0,i}function A_(r,i){return i(r),r}function mo(r,i){return i(r)}var E_=Kn(function(r){var i=r.length,u=i?r[0]:0,m=this.__wrapped__,y=function(_){return Ha(_,r)};return i>1||this.__actions__.length||!(m instanceof Ie)||!qn(u)?this.thru(y):(m=m.slice(u,+u+(i?1:0)),m.__actions__.push({func:mo,args:[y],thisArg:n}),new cn(m,this.__chain__).thru(function(_){return i&&!_.length&&_.push(n),_}))});function k_(){return Hf(this)}function D_(){return new cn(this.value(),this.__chain__)}function M_(){this.__values__===n&&(this.__values__=ih(this.value()));var r=this.__index__>=this.__values__.length,i=r?n:this.__values__[this.__index__++];return{done:r,value:i}}function I_(){return this}function L_(r){for(var i,u=this;u instanceof Qi;){var m=zf(u);m.__index__=0,m.__values__=n,i?y.__wrapped__=m:i=m;var y=m;u=u.__wrapped__}return y.__wrapped__=r,i}function O_(){var r=this.__wrapped__;if(r instanceof Ie){var i=r;return this.__actions__.length&&(i=new Ie(this)),i=i.reverse(),i.__actions__.push({func:mo,args:[vl],thisArg:n}),new cn(i,this.__chain__)}return this.thru(vl)}function F_(){return af(this.__wrapped__,this.__actions__)}var z_=oo(function(r,i,u){Ve.call(r,u)?++r[u]:Hn(r,u,1)});function N_(r,i,u){var m=je(r)?vd:A0;return u&&Ft(r,i,u)&&(i=n),m(r,me(i,3))}function $_(r,i){var u=je(r)?ar:Ud;return u(r,me(i,3))}var V_=xf(Nf),B_=xf($f);function U_(r,i){return jt(go(r,i),1)}function W_(r,i){return jt(go(r,i),re)}function H_(r,i,u){return u=u===n?1:Re(u),jt(go(r,i),u)}function Gf(r,i){var u=je(r)?an:dr;return u(r,me(i,3))}function Kf(r,i){var u=je(r)?uv:Bd;return u(r,me(i,3))}var G_=oo(function(r,i,u){Ve.call(r,u)?r[u].push(i):Hn(r,u,[i])});function K_(r,i,u,m){r=Ut(r)?r:cs(r),u=u&&!m?Re(u):0;var y=r.length;return u<0&&(u=mt(y+u,0)),_o(r)?u<=y&&r.indexOf(i,u)>-1:!!y&&Jr(r,i,u)>-1}var q_=Ee(function(r,i,u){var m=-1,y=typeof i=="function",_=Ut(r)?O(r.length):[];return dr(r,function(C){_[++m]=y?Yt(i,C,u):Bs(C,i,u)}),_}),Y_=oo(function(r,i,u){Hn(r,u,i)});function go(r,i){var u=je(r)?Ze:Yd;return u(r,me(i,3))}function X_(r,i,u,m){return r==null?[]:(je(i)||(i=i==null?[]:[i]),u=m?n:u,je(u)||(u=u==null?[]:[u]),Qd(r,i,u))}var J_=oo(function(r,i,u){r[u?0:1].push(i)},function(){return[[],[]]});function Z_(r,i,u){var m=je(r)?Da:Sd,y=arguments.length<3;return m(r,me(i,4),u,y,dr)}function Q_(r,i,u){var m=je(r)?dv:Sd,y=arguments.length<3;return m(r,me(i,4),u,y,Bd)}function eb(r,i){var u=je(r)?ar:Ud;return u(r,vo(me(i,3)))}function tb(r){var i=je(r)?zd:K0;return i(r)}function nb(r,i,u){(u?Ft(r,i,u):i===n)?i=1:i=Re(i);var m=je(r)?j0:q0;return m(r,i)}function rb(r){var i=je(r)?C0:X0;return i(r)}function sb(r){if(r==null)return 0;if(Ut(r))return _o(r)?Qr(r):r.length;var i=Et(r);return i==Me||i==Ue?r.size:Ja(r).length}function ib(r,i,u){var m=je(r)?Ma:J0;return u&&Ft(r,i,u)&&(i=n),m(r,me(i,3))}var ob=Ee(function(r,i){if(r==null)return[];var u=i.length;return u>1&&Ft(r,i[0],i[1])?i=[]:u>2&&Ft(i[0],i[1],i[2])&&(i=[i[0]]),Qd(r,jt(i,1),[])}),yo=$v||function(){return St.Date.now()};function ab(r,i){if(typeof i!="function")throw new ln(c);return r=Re(r),function(){if(--r<1)return i.apply(this,arguments)}}function qf(r,i,u){return i=u?n:i,i=r&&i==null?r.length:i,Gn(r,F,n,n,n,n,i)}function Yf(r,i){var u;if(typeof i!="function")throw new ln(c);return r=Re(r),function(){return--r>0&&(u=i.apply(this,arguments)),r<=1&&(i=n),u}}var _l=Ee(function(r,i,u){var m=k;if(u.length){var y=cr(u,as(_l));m|=R}return Gn(r,m,i,u,y)}),Xf=Ee(function(r,i,u){var m=k|P;if(u.length){var y=cr(u,as(Xf));m|=R}return Gn(i,m,r,u,y)});function Jf(r,i,u){i=u?n:i;var m=Gn(r,D,n,n,n,n,n,i);return m.placeholder=Jf.placeholder,m}function Zf(r,i,u){i=u?n:i;var m=Gn(r,j,n,n,n,n,n,i);return m.placeholder=Zf.placeholder,m}function Qf(r,i,u){var m,y,_,C,E,I,U=0,W=!1,G=!1,te=!0;if(typeof r!="function")throw new ln(c);i=hn(i)||0,et(u)&&(W=!!u.leading,G="maxWait"in u,_=G?mt(hn(u.maxWait)||0,i):_,te="trailing"in u?!!u.trailing:te);function de(ct){var jn=m,Jn=y;return m=y=n,U=ct,C=r.apply(Jn,jn),C}function ye(ct){return U=ct,E=Ks(De,i),W?de(ct):C}function Ae(ct){var jn=ct-I,Jn=ct-U,xh=i-jn;return G?At(xh,_-Jn):xh}function xe(ct){var jn=ct-I,Jn=ct-U;return I===n||jn>=i||jn<0||G&&Jn>=_}function De(){var ct=yo();if(xe(ct))return Le(ct);E=Ks(De,Ae(ct))}function Le(ct){return E=n,te&&m?de(ct):(m=y=n,C)}function Qt(){E!==n&&cf(E),U=0,m=I=y=E=n}function zt(){return E===n?C:Le(yo())}function en(){var ct=yo(),jn=xe(ct);if(m=arguments,y=this,I=ct,jn){if(E===n)return ye(I);if(G)return cf(E),E=Ks(De,i),de(I)}return E===n&&(E=Ks(De,i)),C}return en.cancel=Qt,en.flush=zt,en}var lb=Ee(function(r,i){return Vd(r,1,i)}),cb=Ee(function(r,i,u){return Vd(r,hn(i)||0,u)});function ub(r){return Gn(r,N)}function xo(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new ln(c);var u=function(){var m=arguments,y=i?i.apply(this,m):m[0],_=u.cache;if(_.has(y))return _.get(y);var C=r.apply(this,m);return u.cache=_.set(y,C)||_,C};return u.cache=new(xo.Cache||Wn),u}xo.Cache=Wn;function vo(r){if(typeof r!="function")throw new ln(c);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function db(r){return Yf(2,r)}var fb=Z0(function(r,i){i=i.length==1&&je(i[0])?Ze(i[0],Xt(me())):Ze(jt(i,1),Xt(me()));var u=i.length;return Ee(function(m){for(var y=-1,_=At(m.length,u);++y<_;)m[y]=i[y].call(this,m[y]);return Yt(r,this,m)})}),bl=Ee(function(r,i){var u=cr(i,as(bl));return Gn(r,R,n,i,u)}),eh=Ee(function(r,i){var u=cr(i,as(eh));return Gn(r,L,n,i,u)}),hb=Kn(function(r,i){return Gn(r,B,n,n,n,i)});function pb(r,i){if(typeof r!="function")throw new ln(c);return i=i===n?i:Re(i),Ee(r,i)}function mb(r,i){if(typeof r!="function")throw new ln(c);return i=i==null?0:mt(Re(i),0),Ee(function(u){var m=u[i],y=pr(u,0,i);return m&&lr(y,m),Yt(r,this,y)})}function gb(r,i,u){var m=!0,y=!0;if(typeof r!="function")throw new ln(c);return et(u)&&(m="leading"in u?!!u.leading:m,y="trailing"in u?!!u.trailing:y),Qf(r,i,{leading:m,maxWait:i,trailing:y})}function yb(r){return qf(r,1)}function xb(r,i){return bl(ol(i),r)}function vb(){if(!arguments.length)return[];var r=arguments[0];return je(r)?r:[r]}function wb(r){return un(r,v)}function _b(r,i){return i=typeof i=="function"?i:n,un(r,v,i)}function bb(r){return un(r,g|v)}function Sb(r,i){return i=typeof i=="function"?i:n,un(r,g|v,i)}function jb(r,i){return i==null||$d(r,i,vt(i))}function Sn(r,i){return r===i||r!==r&&i!==i}var Cb=uo(qa),Tb=uo(function(r,i){return r>=i}),Dr=Gd(function(){return arguments}())?Gd:function(r){return st(r)&&Ve.call(r,"callee")&&!Dd.call(r,"callee")},je=O.isArray,Rb=hd?Xt(hd):L0;function Ut(r){return r!=null&&wo(r.length)&&!Yn(r)}function lt(r){return st(r)&&Ut(r)}function Pb(r){return r===!0||r===!1||st(r)&&Ot(r)==$}var mr=Bv||Ml,Ab=pd?Xt(pd):O0;function Eb(r){return st(r)&&r.nodeType===1&&!qs(r)}function kb(r){if(r==null)return!0;if(Ut(r)&&(je(r)||typeof r=="string"||typeof r.splice=="function"||mr(r)||ls(r)||Dr(r)))return!r.length;var i=Et(r);if(i==Me||i==Ue)return!r.size;if(Gs(r))return!Ja(r).length;for(var u in r)if(Ve.call(r,u))return!1;return!0}function Db(r,i){return Us(r,i)}function Mb(r,i,u){u=typeof u=="function"?u:n;var m=u?u(r,i):n;return m===n?Us(r,i,n,u):!!m}function Sl(r){if(!st(r))return!1;var i=Ot(r);return i==Pt||i==Ce||typeof r.message=="string"&&typeof r.name=="string"&&!qs(r)}function Ib(r){return typeof r=="number"&&Id(r)}function Yn(r){if(!et(r))return!1;var i=Ot(r);return i==It||i==Y||i==gt||i==Je}function th(r){return typeof r=="number"&&r==Re(r)}function wo(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Z}function et(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function st(r){return r!=null&&typeof r=="object"}var nh=md?Xt(md):z0;function Lb(r,i){return r===i||Xa(r,i,hl(i))}function Ob(r,i,u){return u=typeof u=="function"?u:n,Xa(r,i,hl(i),u)}function Fb(r){return rh(r)&&r!=+r}function zb(r){if(_w(r))throw new be(l);return Kd(r)}function Nb(r){return r===null}function $b(r){return r==null}function rh(r){return typeof r=="number"||st(r)&&Ot(r)==dt}function qs(r){if(!st(r)||Ot(r)!=q)return!1;var i=Gi(r);if(i===null)return!0;var u=Ve.call(i,"constructor")&&i.constructor;return typeof u=="function"&&u instanceof u&&Bi.call(u)==Ov}var jl=gd?Xt(gd):N0;function Vb(r){return th(r)&&r>=-Z&&r<=Z}var sh=yd?Xt(yd):$0;function _o(r){return typeof r=="string"||!je(r)&&st(r)&&Ot(r)==yt}function Zt(r){return typeof r=="symbol"||st(r)&&Ot(r)==xt}var ls=xd?Xt(xd):V0;function Bb(r){return r===n}function Ub(r){return st(r)&&Et(r)==Vn}function Wb(r){return st(r)&&Ot(r)==Lt}var Hb=uo(Za),Gb=uo(function(r,i){return r<=i});function ih(r){if(!r)return[];if(Ut(r))return _o(r)?_n(r):Bt(r);if(Ls&&r[Ls])return jv(r[Ls]());var i=Et(r),u=i==Me?Na:i==Ue?Ni:cs;return u(r)}function Xn(r){if(!r)return r===0?r:0;if(r=hn(r),r===re||r===-re){var i=r<0?-1:1;return i*K}return r===r?r:0}function Re(r){var i=Xn(r),u=i%1;return i===i?u?i-u:i:0}function oh(r){return r?Pr(Re(r),0,ce):0}function hn(r){if(typeof r=="number")return r;if(Zt(r))return ee;if(et(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=et(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=jd(r);var u=Rx.test(r);return u||Ax.test(r)?av(r.slice(2),u?2:8):Tx.test(r)?ee:+r}function ah(r){return Mn(r,Wt(r))}function Kb(r){return r?Pr(Re(r),-Z,Z):r===0?r:0}function ze(r){return r==null?"":Jt(r)}var qb=is(function(r,i){if(Gs(i)||Ut(i)){Mn(i,vt(i),r);return}for(var u in i)Ve.call(i,u)&&$s(r,u,i[u])}),lh=is(function(r,i){Mn(i,Wt(i),r)}),bo=is(function(r,i,u,m){Mn(i,Wt(i),r,m)}),Yb=is(function(r,i,u,m){Mn(i,vt(i),r,m)}),Xb=Kn(Ha);function Jb(r,i){var u=ss(r);return i==null?u:Nd(u,i)}var Zb=Ee(function(r,i){r=We(r);var u=-1,m=i.length,y=m>2?i[2]:n;for(y&&Ft(i[0],i[1],y)&&(m=1);++u<m;)for(var _=i[u],C=Wt(_),E=-1,I=C.length;++E<I;){var U=C[E],W=r[U];(W===n||Sn(W,ts[U])&&!Ve.call(r,U))&&(r[U]=_[U])}return r}),Qb=Ee(function(r){return r.push(n,Cf),Yt(ch,n,r)});function eS(r,i){return wd(r,me(i,3),Dn)}function tS(r,i){return wd(r,me(i,3),Ka)}function nS(r,i){return r==null?r:Ga(r,me(i,3),Wt)}function rS(r,i){return r==null?r:Wd(r,me(i,3),Wt)}function sS(r,i){return r&&Dn(r,me(i,3))}function iS(r,i){return r&&Ka(r,me(i,3))}function oS(r){return r==null?[]:no(r,vt(r))}function aS(r){return r==null?[]:no(r,Wt(r))}function Cl(r,i,u){var m=r==null?n:Ar(r,i);return m===n?u:m}function lS(r,i){return r!=null&&Pf(r,i,k0)}function Tl(r,i){return r!=null&&Pf(r,i,D0)}var cS=wf(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=Ui.call(i)),r[i]=u},Pl(Ht)),uS=wf(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=Ui.call(i)),Ve.call(r,i)?r[i].push(u):r[i]=[u]},me),dS=Ee(Bs);function vt(r){return Ut(r)?Fd(r):Ja(r)}function Wt(r){return Ut(r)?Fd(r,!0):B0(r)}function fS(r,i){var u={};return i=me(i,3),Dn(r,function(m,y,_){Hn(u,i(m,y,_),m)}),u}function hS(r,i){var u={};return i=me(i,3),Dn(r,function(m,y,_){Hn(u,y,i(m,y,_))}),u}var pS=is(function(r,i,u){ro(r,i,u)}),ch=is(function(r,i,u,m){ro(r,i,u,m)}),mS=Kn(function(r,i){var u={};if(r==null)return u;var m=!1;i=Ze(i,function(_){return _=hr(_,r),m||(m=_.length>1),_}),Mn(r,dl(r),u),m&&(u=un(u,g|x|v,cw));for(var y=i.length;y--;)rl(u,i[y]);return u});function gS(r,i){return uh(r,vo(me(i)))}var yS=Kn(function(r,i){return r==null?{}:W0(r,i)});function uh(r,i){if(r==null)return{};var u=Ze(dl(r),function(m){return[m]});return i=me(i),ef(r,u,function(m,y){return i(m,y[0])})}function xS(r,i,u){i=hr(i,r);var m=-1,y=i.length;for(y||(y=1,r=n);++m<y;){var _=r==null?n:r[In(i[m])];_===n&&(m=y,_=u),r=Yn(_)?_.call(r):_}return r}function vS(r,i,u){return r==null?r:Ws(r,i,u)}function wS(r,i,u,m){return m=typeof m=="function"?m:n,r==null?r:Ws(r,i,u,m)}var dh=Sf(vt),fh=Sf(Wt);function _S(r,i,u){var m=je(r),y=m||mr(r)||ls(r);if(i=me(i,4),u==null){var _=r&&r.constructor;y?u=m?new _:[]:et(r)?u=Yn(_)?ss(Gi(r)):{}:u={}}return(y?an:Dn)(r,function(C,E,I){return i(u,C,E,I)}),u}function bS(r,i){return r==null?!0:rl(r,i)}function SS(r,i,u){return r==null?r:of(r,i,ol(u))}function jS(r,i,u,m){return m=typeof m=="function"?m:n,r==null?r:of(r,i,ol(u),m)}function cs(r){return r==null?[]:za(r,vt(r))}function CS(r){return r==null?[]:za(r,Wt(r))}function TS(r,i,u){return u===n&&(u=i,i=n),u!==n&&(u=hn(u),u=u===u?u:0),i!==n&&(i=hn(i),i=i===i?i:0),Pr(hn(r),i,u)}function RS(r,i,u){return i=Xn(i),u===n?(u=i,i=0):u=Xn(u),r=hn(r),M0(r,i,u)}function PS(r,i,u){if(u&&typeof u!="boolean"&&Ft(r,i,u)&&(i=u=n),u===n&&(typeof i=="boolean"?(u=i,i=n):typeof r=="boolean"&&(u=r,r=n)),r===n&&i===n?(r=0,i=1):(r=Xn(r),i===n?(i=r,r=0):i=Xn(i)),r>i){var m=r;r=i,i=m}if(u||r%1||i%1){var y=Ld();return At(r+y*(i-r+ov("1e-"+((y+"").length-1))),i)}return el(r,i)}var AS=os(function(r,i,u){return i=i.toLowerCase(),r+(u?hh(i):i)});function hh(r){return Rl(ze(r).toLowerCase())}function ph(r){return r=ze(r),r&&r.replace(kx,vv).replace(Xx,"")}function ES(r,i,u){r=ze(r),i=Jt(i);var m=r.length;u=u===n?m:Pr(Re(u),0,m);var y=u;return u-=i.length,u>=0&&r.slice(u,y)==i}function kS(r){return r=ze(r),r&&dx.test(r)?r.replace(Wu,wv):r}function DS(r){return r=ze(r),r&&yx.test(r)?r.replace(ba,"\\$&"):r}var MS=os(function(r,i,u){return r+(u?"-":"")+i.toLowerCase()}),IS=os(function(r,i,u){return r+(u?" ":"")+i.toLowerCase()}),LS=yf("toLowerCase");function OS(r,i,u){r=ze(r),i=Re(i);var m=i?Qr(r):0;if(!i||m>=i)return r;var y=(i-m)/2;return co(Xi(y),u)+r+co(Yi(y),u)}function FS(r,i,u){r=ze(r),i=Re(i);var m=i?Qr(r):0;return i&&m<i?r+co(i-m,u):r}function zS(r,i,u){r=ze(r),i=Re(i);var m=i?Qr(r):0;return i&&m<i?co(i-m,u)+r:r}function NS(r,i,u){return u||i==null?i=0:i&&(i=+i),Gv(ze(r).replace(Sa,""),i||0)}function $S(r,i,u){return(u?Ft(r,i,u):i===n)?i=1:i=Re(i),tl(ze(r),i)}function VS(){var r=arguments,i=ze(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var BS=os(function(r,i,u){return r+(u?"_":"")+i.toLowerCase()});function US(r,i,u){return u&&typeof u!="number"&&Ft(r,i,u)&&(i=u=n),u=u===n?ce:u>>>0,u?(r=ze(r),r&&(typeof i=="string"||i!=null&&!jl(i))&&(i=Jt(i),!i&&Zr(r))?pr(_n(r),0,u):r.split(i,u)):[]}var WS=os(function(r,i,u){return r+(u?" ":"")+Rl(i)});function HS(r,i,u){return r=ze(r),u=u==null?0:Pr(Re(u),0,r.length),i=Jt(i),r.slice(u,u+i.length)==i}function GS(r,i,u){var m=w.templateSettings;u&&Ft(r,i,u)&&(i=n),r=ze(r),i=bo({},i,m,jf);var y=bo({},i.imports,m.imports,jf),_=vt(y),C=za(y,_),E,I,U=0,W=i.interpolate||Ii,G="__p += '",te=$a((i.escape||Ii).source+"|"+W.source+"|"+(W===Hu?Cx:Ii).source+"|"+(i.evaluate||Ii).source+"|$","g"),de="//# sourceURL="+(Ve.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tv+"]")+`
`;r.replace(te,function(xe,De,Le,Qt,zt,en){return Le||(Le=Qt),G+=r.slice(U,en).replace(Dx,_v),De&&(E=!0,G+=`' +
__e(`+De+`) +
'`),zt&&(I=!0,G+=`';
`+zt+`;
__p += '`),Le&&(G+=`' +
((__t = (`+Le+`)) == null ? '' : __t) +
'`),U=en+xe.length,xe}),G+=`';
`;var ye=Ve.call(i,"variable")&&i.variable;if(!ye)G=`with (obj) {
`+G+`
}
`;else if(Sx.test(ye))throw new be(d);G=(I?G.replace(ax,""):G).replace(lx,"$1").replace(cx,"$1;"),G="function("+(ye||"obj")+`) {
`+(ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(I?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+G+`return __p
}`;var Ae=gh(function(){return Fe(_,de+"return "+G).apply(n,C)});if(Ae.source=G,Sl(Ae))throw Ae;return Ae}function KS(r){return ze(r).toLowerCase()}function qS(r){return ze(r).toUpperCase()}function YS(r,i,u){if(r=ze(r),r&&(u||i===n))return jd(r);if(!r||!(i=Jt(i)))return r;var m=_n(r),y=_n(i),_=Cd(m,y),C=Td(m,y)+1;return pr(m,_,C).join("")}function XS(r,i,u){if(r=ze(r),r&&(u||i===n))return r.slice(0,Pd(r)+1);if(!r||!(i=Jt(i)))return r;var m=_n(r),y=Td(m,_n(i))+1;return pr(m,0,y).join("")}function JS(r,i,u){if(r=ze(r),r&&(u||i===n))return r.replace(Sa,"");if(!r||!(i=Jt(i)))return r;var m=_n(r),y=Cd(m,_n(i));return pr(m,y).join("")}function ZS(r,i){var u=H,m=X;if(et(i)){var y="separator"in i?i.separator:y;u="length"in i?Re(i.length):u,m="omission"in i?Jt(i.omission):m}r=ze(r);var _=r.length;if(Zr(r)){var C=_n(r);_=C.length}if(u>=_)return r;var E=u-Qr(m);if(E<1)return m;var I=C?pr(C,0,E).join(""):r.slice(0,E);if(y===n)return I+m;if(C&&(E+=I.length-E),jl(y)){if(r.slice(E).search(y)){var U,W=I;for(y.global||(y=$a(y.source,ze(Gu.exec(y))+"g")),y.lastIndex=0;U=y.exec(W);)var G=U.index;I=I.slice(0,G===n?E:G)}}else if(r.indexOf(Jt(y),E)!=E){var te=I.lastIndexOf(y);te>-1&&(I=I.slice(0,te))}return I+m}function QS(r){return r=ze(r),r&&ux.test(r)?r.replace(Uu,Pv):r}var ej=os(function(r,i,u){return r+(u?" ":"")+i.toUpperCase()}),Rl=yf("toUpperCase");function mh(r,i,u){return r=ze(r),i=u?n:i,i===n?Sv(r)?kv(r):pv(r):r.match(i)||[]}var gh=Ee(function(r,i){try{return Yt(r,n,i)}catch(u){return Sl(u)?u:new be(u)}}),tj=Kn(function(r,i){return an(i,function(u){u=In(u),Hn(r,u,_l(r[u],r))}),r});function nj(r){var i=r==null?0:r.length,u=me();return r=i?Ze(r,function(m){if(typeof m[1]!="function")throw new ln(c);return[u(m[0]),m[1]]}):[],Ee(function(m){for(var y=-1;++y<i;){var _=r[y];if(Yt(_[0],this,m))return Yt(_[1],this,m)}})}function rj(r){return P0(un(r,g))}function Pl(r){return function(){return r}}function sj(r,i){return r==null||r!==r?i:r}var ij=vf(),oj=vf(!0);function Ht(r){return r}function Al(r){return qd(typeof r=="function"?r:un(r,g))}function aj(r){return Xd(un(r,g))}function lj(r,i){return Jd(r,un(i,g))}var cj=Ee(function(r,i){return function(u){return Bs(u,r,i)}}),uj=Ee(function(r,i){return function(u){return Bs(r,u,i)}});function El(r,i,u){var m=vt(i),y=no(i,m);u==null&&!(et(i)&&(y.length||!m.length))&&(u=i,i=r,r=this,y=no(i,vt(i)));var _=!(et(u)&&"chain"in u)||!!u.chain,C=Yn(r);return an(y,function(E){var I=i[E];r[E]=I,C&&(r.prototype[E]=function(){var U=this.__chain__;if(_||U){var W=r(this.__wrapped__),G=W.__actions__=Bt(this.__actions__);return G.push({func:I,args:arguments,thisArg:r}),W.__chain__=U,W}return I.apply(r,lr([this.value()],arguments))})}),r}function dj(){return St._===this&&(St._=Fv),this}function kl(){}function fj(r){return r=Re(r),Ee(function(i){return Zd(i,r)})}var hj=ll(Ze),pj=ll(vd),mj=ll(Ma);function yh(r){return ml(r)?Ia(In(r)):H0(r)}function gj(r){return function(i){return r==null?n:Ar(r,i)}}var yj=_f(),xj=_f(!0);function Dl(){return[]}function Ml(){return!1}function vj(){return{}}function wj(){return""}function _j(){return!0}function bj(r,i){if(r=Re(r),r<1||r>Z)return[];var u=ce,m=At(r,ce);i=me(i),r-=ce;for(var y=Fa(m,i);++u<r;)i(u);return y}function Sj(r){return je(r)?Ze(r,In):Zt(r)?[r]:Bt(Ff(ze(r)))}function jj(r){var i=++Lv;return ze(r)+i}var Cj=lo(function(r,i){return r+i},0),Tj=cl("ceil"),Rj=lo(function(r,i){return r/i},1),Pj=cl("floor");function Aj(r){return r&&r.length?to(r,Ht,qa):n}function Ej(r,i){return r&&r.length?to(r,me(i,2),qa):n}function kj(r){return bd(r,Ht)}function Dj(r,i){return bd(r,me(i,2))}function Mj(r){return r&&r.length?to(r,Ht,Za):n}function Ij(r,i){return r&&r.length?to(r,me(i,2),Za):n}var Lj=lo(function(r,i){return r*i},1),Oj=cl("round"),Fj=lo(function(r,i){return r-i},0);function zj(r){return r&&r.length?Oa(r,Ht):0}function Nj(r,i){return r&&r.length?Oa(r,me(i,2)):0}return w.after=ab,w.ary=qf,w.assign=qb,w.assignIn=lh,w.assignInWith=bo,w.assignWith=Yb,w.at=Xb,w.before=Yf,w.bind=_l,w.bindAll=tj,w.bindKey=Xf,w.castArray=vb,w.chain=Hf,w.chunk=Pw,w.compact=Aw,w.concat=Ew,w.cond=nj,w.conforms=rj,w.constant=Pl,w.countBy=z_,w.create=Jb,w.curry=Jf,w.curryRight=Zf,w.debounce=Qf,w.defaults=Zb,w.defaultsDeep=Qb,w.defer=lb,w.delay=cb,w.difference=kw,w.differenceBy=Dw,w.differenceWith=Mw,w.drop=Iw,w.dropRight=Lw,w.dropRightWhile=Ow,w.dropWhile=Fw,w.fill=zw,w.filter=$_,w.flatMap=U_,w.flatMapDeep=W_,w.flatMapDepth=H_,w.flatten=Vf,w.flattenDeep=Nw,w.flattenDepth=$w,w.flip=ub,w.flow=ij,w.flowRight=oj,w.fromPairs=Vw,w.functions=oS,w.functionsIn=aS,w.groupBy=G_,w.initial=Uw,w.intersection=Ww,w.intersectionBy=Hw,w.intersectionWith=Gw,w.invert=cS,w.invertBy=uS,w.invokeMap=q_,w.iteratee=Al,w.keyBy=Y_,w.keys=vt,w.keysIn=Wt,w.map=go,w.mapKeys=fS,w.mapValues=hS,w.matches=aj,w.matchesProperty=lj,w.memoize=xo,w.merge=pS,w.mergeWith=ch,w.method=cj,w.methodOf=uj,w.mixin=El,w.negate=vo,w.nthArg=fj,w.omit=mS,w.omitBy=gS,w.once=db,w.orderBy=X_,w.over=hj,w.overArgs=fb,w.overEvery=pj,w.overSome=mj,w.partial=bl,w.partialRight=eh,w.partition=J_,w.pick=yS,w.pickBy=uh,w.property=yh,w.propertyOf=gj,w.pull=Xw,w.pullAll=Uf,w.pullAllBy=Jw,w.pullAllWith=Zw,w.pullAt=Qw,w.range=yj,w.rangeRight=xj,w.rearg=hb,w.reject=eb,w.remove=e_,w.rest=pb,w.reverse=vl,w.sampleSize=nb,w.set=vS,w.setWith=wS,w.shuffle=rb,w.slice=t_,w.sortBy=ob,w.sortedUniq=l_,w.sortedUniqBy=c_,w.split=US,w.spread=mb,w.tail=u_,w.take=d_,w.takeRight=f_,w.takeRightWhile=h_,w.takeWhile=p_,w.tap=A_,w.throttle=gb,w.thru=mo,w.toArray=ih,w.toPairs=dh,w.toPairsIn=fh,w.toPath=Sj,w.toPlainObject=ah,w.transform=_S,w.unary=yb,w.union=m_,w.unionBy=g_,w.unionWith=y_,w.uniq=x_,w.uniqBy=v_,w.uniqWith=w_,w.unset=bS,w.unzip=wl,w.unzipWith=Wf,w.update=SS,w.updateWith=jS,w.values=cs,w.valuesIn=CS,w.without=__,w.words=mh,w.wrap=xb,w.xor=b_,w.xorBy=S_,w.xorWith=j_,w.zip=C_,w.zipObject=T_,w.zipObjectDeep=R_,w.zipWith=P_,w.entries=dh,w.entriesIn=fh,w.extend=lh,w.extendWith=bo,El(w,w),w.add=Cj,w.attempt=gh,w.camelCase=AS,w.capitalize=hh,w.ceil=Tj,w.clamp=TS,w.clone=wb,w.cloneDeep=bb,w.cloneDeepWith=Sb,w.cloneWith=_b,w.conformsTo=jb,w.deburr=ph,w.defaultTo=sj,w.divide=Rj,w.endsWith=ES,w.eq=Sn,w.escape=kS,w.escapeRegExp=DS,w.every=N_,w.find=V_,w.findIndex=Nf,w.findKey=eS,w.findLast=B_,w.findLastIndex=$f,w.findLastKey=tS,w.floor=Pj,w.forEach=Gf,w.forEachRight=Kf,w.forIn=nS,w.forInRight=rS,w.forOwn=sS,w.forOwnRight=iS,w.get=Cl,w.gt=Cb,w.gte=Tb,w.has=lS,w.hasIn=Tl,w.head=Bf,w.identity=Ht,w.includes=K_,w.indexOf=Bw,w.inRange=RS,w.invoke=dS,w.isArguments=Dr,w.isArray=je,w.isArrayBuffer=Rb,w.isArrayLike=Ut,w.isArrayLikeObject=lt,w.isBoolean=Pb,w.isBuffer=mr,w.isDate=Ab,w.isElement=Eb,w.isEmpty=kb,w.isEqual=Db,w.isEqualWith=Mb,w.isError=Sl,w.isFinite=Ib,w.isFunction=Yn,w.isInteger=th,w.isLength=wo,w.isMap=nh,w.isMatch=Lb,w.isMatchWith=Ob,w.isNaN=Fb,w.isNative=zb,w.isNil=$b,w.isNull=Nb,w.isNumber=rh,w.isObject=et,w.isObjectLike=st,w.isPlainObject=qs,w.isRegExp=jl,w.isSafeInteger=Vb,w.isSet=sh,w.isString=_o,w.isSymbol=Zt,w.isTypedArray=ls,w.isUndefined=Bb,w.isWeakMap=Ub,w.isWeakSet=Wb,w.join=Kw,w.kebabCase=MS,w.last=fn,w.lastIndexOf=qw,w.lowerCase=IS,w.lowerFirst=LS,w.lt=Hb,w.lte=Gb,w.max=Aj,w.maxBy=Ej,w.mean=kj,w.meanBy=Dj,w.min=Mj,w.minBy=Ij,w.stubArray=Dl,w.stubFalse=Ml,w.stubObject=vj,w.stubString=wj,w.stubTrue=_j,w.multiply=Lj,w.nth=Yw,w.noConflict=dj,w.noop=kl,w.now=yo,w.pad=OS,w.padEnd=FS,w.padStart=zS,w.parseInt=NS,w.random=PS,w.reduce=Z_,w.reduceRight=Q_,w.repeat=$S,w.replace=VS,w.result=xS,w.round=Oj,w.runInContext=M,w.sample=tb,w.size=sb,w.snakeCase=BS,w.some=ib,w.sortedIndex=n_,w.sortedIndexBy=r_,w.sortedIndexOf=s_,w.sortedLastIndex=i_,w.sortedLastIndexBy=o_,w.sortedLastIndexOf=a_,w.startCase=WS,w.startsWith=HS,w.subtract=Fj,w.sum=zj,w.sumBy=Nj,w.template=GS,w.times=bj,w.toFinite=Xn,w.toInteger=Re,w.toLength=oh,w.toLower=KS,w.toNumber=hn,w.toSafeInteger=Kb,w.toString=ze,w.toUpper=qS,w.trim=YS,w.trimEnd=XS,w.trimStart=JS,w.truncate=ZS,w.unescape=QS,w.uniqueId=jj,w.upperCase=ej,w.upperFirst=Rl,w.each=Gf,w.eachRight=Kf,w.first=Bf,El(w,function(){var r={};return Dn(w,function(i,u){Ve.call(w.prototype,u)||(r[u]=i)}),r}(),{chain:!1}),w.VERSION=s,an(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){w[r].placeholder=w}),an(["drop","take"],function(r,i){Ie.prototype[r]=function(u){u=u===n?1:mt(Re(u),0);var m=this.__filtered__&&!i?new Ie(this):this.clone();return m.__filtered__?m.__takeCount__=At(u,m.__takeCount__):m.__views__.push({size:At(u,ce),type:r+(m.__dir__<0?"Right":"")}),m},Ie.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}}),an(["filter","map","takeWhile"],function(r,i){var u=i+1,m=u==se||u==he;Ie.prototype[r]=function(y){var _=this.clone();return _.__iteratees__.push({iteratee:me(y,3),type:u}),_.__filtered__=_.__filtered__||m,_}}),an(["head","last"],function(r,i){var u="take"+(i?"Right":"");Ie.prototype[r]=function(){return this[u](1).value()[0]}}),an(["initial","tail"],function(r,i){var u="drop"+(i?"":"Right");Ie.prototype[r]=function(){return this.__filtered__?new Ie(this):this[u](1)}}),Ie.prototype.compact=function(){return this.filter(Ht)},Ie.prototype.find=function(r){return this.filter(r).head()},Ie.prototype.findLast=function(r){return this.reverse().find(r)},Ie.prototype.invokeMap=Ee(function(r,i){return typeof r=="function"?new Ie(this):this.map(function(u){return Bs(u,r,i)})}),Ie.prototype.reject=function(r){return this.filter(vo(me(r)))},Ie.prototype.slice=function(r,i){r=Re(r);var u=this;return u.__filtered__&&(r>0||i<0)?new Ie(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),i!==n&&(i=Re(i),u=i<0?u.dropRight(-i):u.take(i-r)),u)},Ie.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Ie.prototype.toArray=function(){return this.take(ce)},Dn(Ie.prototype,function(r,i){var u=/^(?:filter|find|map|reject)|While$/.test(i),m=/^(?:head|last)$/.test(i),y=w[m?"take"+(i=="last"?"Right":""):i],_=m||/^find/.test(i);y&&(w.prototype[i]=function(){var C=this.__wrapped__,E=m?[1]:arguments,I=C instanceof Ie,U=E[0],W=I||je(C),G=function(De){var Le=y.apply(w,lr([De],E));return m&&te?Le[0]:Le};W&&u&&typeof U=="function"&&U.length!=1&&(I=W=!1);var te=this.__chain__,de=!!this.__actions__.length,ye=_&&!te,Ae=I&&!de;if(!_&&W){C=Ae?C:new Ie(this);var xe=r.apply(C,E);return xe.__actions__.push({func:mo,args:[G],thisArg:n}),new cn(xe,te)}return ye&&Ae?r.apply(this,E):(xe=this.thru(G),ye?m?xe.value()[0]:xe.value():xe)})}),an(["pop","push","shift","sort","splice","unshift"],function(r){var i=$i[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",m=/^(?:pop|shift)$/.test(r);w.prototype[r]=function(){var y=arguments;if(m&&!this.__chain__){var _=this.value();return i.apply(je(_)?_:[],y)}return this[u](function(C){return i.apply(je(C)?C:[],y)})}}),Dn(Ie.prototype,function(r,i){var u=w[i];if(u){var m=u.name+"";Ve.call(rs,m)||(rs[m]=[]),rs[m].push({name:i,func:u})}}),rs[ao(n,P).name]=[{name:"wrapper",func:n}],Ie.prototype.clone=Qv,Ie.prototype.reverse=e0,Ie.prototype.value=t0,w.prototype.at=E_,w.prototype.chain=k_,w.prototype.commit=D_,w.prototype.next=M_,w.prototype.plant=L_,w.prototype.reverse=O_,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=F_,w.prototype.first=w.prototype.head,Ls&&(w.prototype[Ls]=I_),w},es=Dv();jr?((jr.exports=es)._=es,Aa._=es):St._=es}).call(gs)})(Go,Go.exports);var em=Go.exports;const tm=(e,t)=>{const n=Math.round(e/100)*100,s=Math.round(t/100)*100;return`${n}x${s}`};function zk(e,t){const[n,s]=b.useState(t),[o,l]=b.useState({width:window.innerWidth,height:window.innerHeight});b.useEffect(()=>{c()},[o,e]),b.useEffect(()=>{const p=em.debounce(()=>{l({width:window.innerWidth,height:window.innerHeight})},300);return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),p.cancel()}},[]);const c=async()=>{try{const p=tm(o.width,o.height),g=await fetch(`/api/config/column-widths?table=${e}&size=${p}`);if(g.ok){const x=await g.json();x.widths&&s({...t,...x.widths})}}catch(p){console.warn("Failed to load column width preferences:",p)}},d=b.useCallback(em.debounce(async p=>{try{const g=tm(o.width,o.height);await fetch("/api/config/column-widths",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({table:e,size:g,widths:p,window_width:o.width,window_height:o.height})})}catch(g){console.warn("Failed to save column width preferences:",g)}},1e3),[e,o]),f=b.useCallback((p,g)=>{s(x=>{const v={...x,[p]:g};return d(v),v})},[d]),h=b.useCallback(()=>{s(t),d(t)},[t,d]);return{columnWidths:n,setColumnWidth:f,resetWidths:h}}const Nk={title:{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},fontSize:36,fontWeight:700,marginBottom:8,lineHeight:1.2},subtitle:{fontSize:15,color:"#8c8c8c",fontWeight:400},statCards:{total:{gradientColors:["#434343","#000000"],delay:0,pulse:!1},running:{gradientColors:["#1890ff","#096dd9"],delay:.1},finished:{gradientColors:["#52c41a","#389e0d"],delay:.2,pulse:!1},failed:{gradientColors:["#ff4d4f","#cf1322"],delay:.3,pulse:!1}},filterCard:{animation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5}},borderRadius:16,background:"rgba(255,255,255,0.7)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.3)",boxShadow:"0 4px 20px rgba(0,0,0,0.06)",padding:20},tableContainer:{animation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6}},borderRadius:16,boxShadow:"0 4px 20px rgba(0,0,0,0.06)"}},$k={statusLight:{size:12,colors:{online:"#52c41a",offline:"#ff4d4f",connecting:"#faad14"},pulseAnimation:{boxShadow:["0 0 0 0 rgba(82, 196, 26, 0.7)","0 0 0 10px rgba(82, 196, 26, 0)"],transition:{duration:1.5,ease:"easeOut"}}}},Vk={fancyStatCard:{entrance:{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.25,.1,.25,1]}},hover:{y:-6,scale:1.03,transition:{duration:.2}},tap:{scale:.98},pulse:{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,ease:"easeInOut"}},shimmer:{animate:{left:["100%","200%"]},transition:{duration:2.5,repeatDelay:5,ease:"linear"}},style:{borderRadius:16,minHeight:140,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",iconSize:140,iconOpacity:.12,iconPosition:{right:-30,top:-30},titleFontSize:14,titleFontWeight:500,titleLetterSpacing:"0.5px",titleColor:"rgba(255,255,255,0.95)",titleMarginBottom:12,valueFontSize:40,valueFontWeight:700,valueColor:"#fff",valueTextShadow:"0 2px 8px rgba(0,0,0,0.15)"}},statusBadge:{entrance:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20}},pulse:{boxShadow:["0 0 0 0 rgba(22, 119, 255, 0.4)","0 0 0 8px rgba(22, 119, 255, 0)"],transition:{duration:1.5,ease:"easeOut"}},style:{fontSize:13,padding:"6px 16px",borderRadius:16,fontWeight:500},statuses:{running:{gradientColors:["#1677ff","#4096ff"],pulse:!0},finished:{gradientColors:["#52c41a","#73d13d"],pulse:!1},failed:{gradientColors:["#ff4d4f","#ff7875"],pulse:!1},interrupted:{gradientColors:["#faad14","#ffc53d"],pulse:!1}}},emptyState:{animation:{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5}},illustrationFloat:{animate:{y:[0,-8,0]},transition:{duration:3,ease:"easeInOut"}},svg:{width:200,height:200,circleStroke:"#91caff",circleStrokeWidth:2,circleDashArray:"10 5",circleRadius:80,circleRotationDuration:30,dotCount:6,dotRadius:2,dotFill:"#1677ff",dotOpacity:.4,dotFloatDistance:-8,dotFloatDuration:1.5,dotStaggerDelay:.15},style:{padding:"80px 40px",maxWidth:500,titleFontSize:24,titleFontWeight:600,titleColor:"#262626",titleMarginTop:32,titleMarginBottom:12,titleLineHeight:1.3,descriptionFontSize:15,descriptionColor:"#8c8c8c",descriptionLineHeight:1.6,descriptionMarginBottom:32,descriptionMaxWidth:400,buttonHeight:48,buttonPadding:"0 32px",buttonFontSize:15,buttonFontWeight:500,buttonBorderRadius:8,buttonShadow:"0 4px 16px rgba(22, 119, 255, 0.3)",buttonGradient:["#667eea","#764ba2"]},buttonHover:{scale:1.05},buttonTap:{scale:.95}}},Bk={gradients:{primary:["#667eea","#764ba2"],success:["#56ab2f","#a8e063"],warning:["#f12711","#f5af19"],info:["#4facfe","#00f2fe"]}},Oe=Nk,Bu=Vk,zr=Bk,An=({title:e,value:t,icon:n,gradientColors:[s,o],delay:l=0,pulse:c=!1,onClick:d,formattedValue:f,subtitle:h})=>{const p=Bu.fancyStatCard,g=ky(0),x=eE(g,S=>Math.floor(S).toLocaleString());b.useEffect(()=>wE(g,t,{duration:.5,ease:[0,.2,.5,1]}).stop,[t,g]);const v={...p.entrance.transition,delay:l};return a.jsx(tt.div,{initial:p.entrance.initial,animate:p.entrance.animate,transition:v,whileHover:p.hover,whileTap:d?p.tap:{},onClick:d,style:{cursor:d?"pointer":"default",height:"100%"},children:a.jsxs(le,{bordered:!1,style:{background:`linear-gradient(135deg, ${s}, ${o})`,borderRadius:p.style.borderRadius,overflow:"hidden",position:"relative",height:"100%",minHeight:p.style.minHeight,boxShadow:p.style.boxShadow},bodyStyle:{padding:24,position:"relative",zIndex:1},children:[a.jsx("div",{style:{position:"absolute",right:p.style.iconPosition.right,top:p.style.iconPosition.top,fontSize:p.style.iconSize,opacity:p.style.iconOpacity,color:"#fff",pointerEvents:"none"},children:n}),c&&a.jsx(tt.div,{style:{position:"absolute",top:"-50%",right:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%)",pointerEvents:"none"},animate:p.pulse.animate,transition:{...p.pulse.transition,repeat:1/0}}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{color:p.style.titleColor,fontSize:p.style.titleFontSize,fontWeight:p.style.titleFontWeight,marginBottom:p.style.titleMarginBottom,letterSpacing:p.style.titleLetterSpacing},children:e}),a.jsx("div",{style:{color:p.style.valueColor,fontSize:p.style.valueFontSize,fontWeight:p.style.valueFontWeight,lineHeight:1,fontVariantNumeric:"tabular-nums",textShadow:p.style.valueTextShadow},children:f!==void 0?a.jsx("span",{children:f}):a.jsx(tt.span,{children:x})}),h&&a.jsx("div",{style:{color:"rgba(255, 255, 255, 0.85)",fontSize:12,marginTop:8,fontWeight:400},children:h})]}),a.jsx(tt.div,{style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)",pointerEvents:"none"},animate:p.shimmer.animate,transition:{...p.shimmer.transition,repeat:1/0}})]})})},Uk=({title:e,description:t,actionText:n,onAction:s,type:o="no-data"})=>{const l=Bu.emptyState,c=l.svg,d=l.style,f=()=>a.jsxs("svg",{width:c.width,height:c.height,viewBox:"0 0 200 200",fill:"none",children:[a.jsx(tt.circle,{cx:"100",cy:"100",r:c.circleRadius,stroke:c.circleStroke,strokeWidth:c.circleStrokeWidth,strokeDasharray:c.circleDashArray,fill:"none",initial:{rotate:0},animate:{rotate:360},transition:{duration:c.circleRotationDuration,repeat:1/0,ease:"linear"}}),a.jsxs(tt.g,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},children:[a.jsx("rect",{x:"70",y:"85",width:"60",height:"45",rx:"4",fill:"#91caff",opacity:"0.8"}),a.jsx("path",{d:"M70 85 L70 80 Q70 75 75 75 L95 75 L100 80 L125 80 Q130 80 130 85 Z",fill:"#69b1ff"}),a.jsxs(tt.g,{animate:{x:[0,3,0],y:[0,-3,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[a.jsx("circle",{cx:"125",cy:"125",r:"12",fill:"none",stroke:"#1677ff",strokeWidth:"2.5"}),a.jsx("line",{x1:"133",y1:"133",x2:"143",y2:"143",stroke:"#1677ff",strokeWidth:"2.5",strokeLinecap:"round"})]})]}),[...Array(c.dotCount)].map((h,p)=>a.jsx(tt.circle,{cx:60+p*20,cy:40,r:c.dotRadius,fill:c.dotFill,opacity:c.dotOpacity,animate:{y:[0,c.dotFloatDistance,0],opacity:[c.dotOpacity,c.dotOpacity*2,c.dotOpacity]},transition:{duration:c.dotFloatDuration,repeat:1/0,delay:p*c.dotStaggerDelay,ease:"easeInOut"}},p))]});return a.jsxs(tt.div,{initial:l.animation.initial,animate:l.animation.animate,transition:l.animation.transition,style:{padding:d.padding,textAlign:"center",maxWidth:d.maxWidth,margin:"0 auto"},children:[a.jsx(tt.div,{animate:l.illustrationFloat.animate,transition:{...l.illustrationFloat.transition,repeat:1/0},children:a.jsx(f,{})}),a.jsx("h2",{style:{marginTop:d.titleMarginTop,marginBottom:d.titleMarginBottom,fontSize:d.titleFontSize,fontWeight:d.titleFontWeight,color:d.titleColor,lineHeight:d.titleLineHeight},children:e}),a.jsx("p",{style:{color:d.descriptionColor,fontSize:d.descriptionFontSize,lineHeight:d.descriptionLineHeight,marginBottom:d.descriptionMarginBottom,maxWidth:d.descriptionMaxWidth,margin:`0 auto ${d.descriptionMarginBottom}px`},children:t}),n&&s&&a.jsx(tt.div,{whileHover:l.buttonHover,whileTap:l.buttonTap,children:a.jsx(pe,{type:"primary",size:"large",icon:a.jsx(di,{}),onClick:s,style:{borderRadius:d.buttonBorderRadius,height:d.buttonHeight,padding:d.buttonPadding,fontSize:d.buttonFontSize,fontWeight:d.buttonFontWeight,boxShadow:d.buttonShadow,background:`linear-gradient(135deg, ${d.buttonGradient[0]}, ${d.buttonGradient[1]})`,border:"none"},children:n})})]})},nm={running:a.jsx(Yc,{spin:!0}),finished:a.jsx(_r,{}),failed:a.jsx(Br,{}),interrupted:a.jsx(ea,{})},Wk=({status:e})=>{const t=e.toLowerCase(),n=Bu.statusBadge,s=n.statuses[t]||n.statuses.interrupted,o=nm[t]||nm.interrupted;return a.jsx(tt.div,{initial:n.entrance.initial,animate:n.entrance.animate,transition:n.entrance.transition,style:{display:"inline-block"},children:a.jsx(tt.div,{animate:s.pulse?{boxShadow:n.pulse.boxShadow}:{},transition:{...n.pulse.transition,repeat:s.pulse?1/0:0},style:{display:"inline-block",borderRadius:n.style.borderRadius},children:a.jsx(Te,{icon:o,style:{fontSize:n.style.fontSize,padding:n.style.padding,borderRadius:n.style.borderRadius,fontWeight:n.style.fontWeight,background:`linear-gradient(135deg, ${s.gradientColors[0]}, ${s.gradientColors[1]})`,border:"none",color:"#fff",margin:0},children:e.charAt(0).toUpperCase()+e.slice(1)})})})},Hk=()=>{const[e,t]=b.useState(!1),n=()=>{t(!0),setTimeout(()=>t(!1),2e3)},s=e?a.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:9999},children:[[...Array(20)].map((o,l)=>{const c=["#1677ff","#52c41a","#faad14","#ff4d4f","#13c2c2"],d=typeof window<"u"?window.innerWidth/2:500,f=typeof window<"u"?window.innerHeight/2:300,h=l/20*2*Math.PI,p=200+Math.random()*200,g=d+Math.cos(h)*p,x=f+Math.sin(h)*p-200;return a.jsx(tt.div,{style:{position:"absolute",left:d,top:f,width:8+Math.random()*8,height:8+Math.random()*8,background:c[l%c.length],borderRadius:"50%"},initial:{x:0,y:0,opacity:1,scale:0},animate:{x:g-d,y:x-f,opacity:[1,1,0],scale:[0,1,.5],rotate:Math.random()*720},transition:{duration:1.5,ease:[.25,.1,.25,1]}},l)}),a.jsx(tt.div,{style:{position:"absolute",left:"50%",top:"50%",width:100,height:100,marginLeft:-50,marginTop:-50,borderRadius:"50%",background:"radial-gradient(circle, rgba(82, 196, 26, 0.4), transparent)"},initial:{scale:0,opacity:1},animate:{scale:3,opacity:0},transition:{duration:.6,ease:"easeOut"}})]}):null;return{trigger:n,ConfettiComponent:s}},Gk={initial:{opacity:0,y:24,scale:.96},animate:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.1,.25,1],when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-24,scale:.96,transition:{duration:.3,ease:[.25,.1,.25,1]}}},Kk=({children:e})=>{const t=Pm();return a.jsx(CR,{mode:"wait",children:a.jsx(tt.div,{variants:Gk,initial:"initial",animate:"animate",exit:"exit",children:e},t.pathname)})},qk=({children:e,staggerDelay:t=.08})=>a.jsx(tt.div,{variants:{animate:{transition:{staggerChildren:t}}},initial:"initial",animate:"animate",children:e}),Ao=({children:e})=>a.jsx(tt.div,{variants:{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},children:e}),Cn=e=>{if(e==null)return"";const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t},Yk=()=>{const{t:e,i18n:t}=Be(),n=ji(),{settings:s,setSettings:o}=Ti(),[l,c]=b.useState([]),[d,f]=b.useState(!1),[h,p]=b.useState([]),[g,x]=b.useState(""),[v,S]=b.useState("all"),[T,k]=b.useState("all"),[P,A]=b.useState([]),[D,j]=b.useState({total:0,running:0,finished:0,failed:0}),[R,L]=b.useState(null),F=s.autoRefresh,B=q=>{o({...s,autoRefresh:q})},N={project:120,name:100,run_id:280,status:100,created:210,best_metric:200,artifacts_created:120,actions:120},{columnWidths:H,setColumnWidth:X}=zk("experiments",N),[ie,J]=b.useState({}),[se,oe]=b.useState(10),[he,re]=b.useState(!1),[Z,K]=b.useState(!1),[ee,ce]=b.useState(!1),ge=b.useCallback(q=>(fe,{size:Je})=>{X(q,Je.width)},[X]),[He,Xe]=b.useState(!1),{trigger:Ne,ConfettiComponent:ut}=Hk();b.useEffect(()=>{const q=localStorage.getItem("experiment_preferences");if(q)try{const fe=JSON.parse(q);fe.pageSize&&oe(fe.pageSize)}catch{}},[]);const gt=b.useCallback(()=>{localStorage.setItem("experiment_preferences",JSON.stringify({pageSize:se}))},[se]);b.useEffect(()=>{gt()},[gt]);const $=b.useCallback(async(q=!0)=>{q&&f(!0);try{const fe=await fetch("/api/runs");if(!fe.ok)throw new Error(`HTTP ${fe.status}: ${fe.statusText}`);const Je=await fe.json(),bt=Array.isArray(Je)?Je:Je.runs||[],Ue=bt.map($e=>{const Vn=$e.created_time?new Date($e.created_time*1e3):new Date;return{run_id:$e.id||$e.run_id,project:$e.project||"default",name:$e.name||"unnamed",status:$e.status||"unknown",created:Vn.toISOString(),summary:$e.summary||{},pid:$e.pid,best_metric_value:$e.best_metric_value,best_metric_name:$e.best_metric_name,artifacts_created_count:$e.artifacts_created_count||0,artifacts_used_count:$e.artifacts_used_count||0}});c(Ue);const yt=[...new Set(Ue.map($e=>$e.project))];A(yt);const xt={total:Ue.length,running:Ue.filter($e=>$e.status==="running").length,finished:Ue.filter($e=>$e.status==="finished").length,failed:Ue.filter($e=>$e.status==="failed").length};j(xt),!q&&Ue.length>bt.length&&Yj.info({message:e("experiments.new_runs")||"New runs detected",description:`${Ue.length-bt.length} new run(s) added`,placement:"bottomRight"})}catch{q&&Q.error(e("experiments.fetch_failed")||"Failed to fetch runs")}q&&f(!1)},[l.length,e]);b.useEffect(()=>{$(!0)},[]),b.useEffect(()=>{if(F){const q=window.setInterval(()=>{$(!1)},s.refreshInterval*1e3);L(q)}else R&&(window.clearInterval(R),L(null));return()=>{R&&window.clearInterval(R)}},[F,s.refreshInterval]);const ue=b.useCallback(()=>{if(h.length===0){Q.warning(e("experiments.select_one_delete")||"Please select at least one run to delete");return}Pn.confirm({title:e("experiments.move_to_bin_title")||"Move to Recycle Bin",content:a.jsxs("div",{children:[a.jsx("p",{children:e("experiments.soft_delete_confirm_content",{count:h.length})||`Move ${h.length} selected runs to recycle bin?`}),a.jsx("p",{style:{color:"#1677ff",fontWeight:500},children:e("experiments.soft_delete_note")||"Files will be preserved and can be restored later."})]}),okText:e("experiments.move_to_bin")||"Move to Bin",okType:"primary",cancelText:e("experiments.cancel")||"Cancel",okButtonProps:{loading:he},onOk:async()=>{re(!0);try{const q=await F1(h);p([]),q.deleted_count>0?(Ne(),Q.success(e("experiments.soft_delete_success",{count:q.deleted_count})||`Moved ${q.deleted_count} runs to recycle bin`),await $(!1)):Q.warning("No runs were moved to recycle bin")}catch{Q.error(e("experiments.delete_failed")||"Failed to move runs to recycle bin")}finally{re(!1)}}})},[h,e,he,$]),Ce=async()=>{if(h.length===0){Q.warning(e("experiments.select_one")||"Please select at least one run to export");return}const q=l.filter(fe=>h.includes(fe.run_id));try{const fe={export_time:new Date().toISOString(),total_runs:q.length,runs:q.map(xt=>({run_id:xt.run_id,project:xt.project,name:xt.name,status:xt.status,created:xt.created,summary:xt.summary}))},Je=JSON.stringify(fe,null,2),bt=new Blob([Je],{type:"application/json"}),Ue=URL.createObjectURL(bt),yt=document.createElement("a");yt.href=Ue,yt.download=`runicorn_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),URL.revokeObjectURL(Ue),Q.success(e("experiments.export_success",{count:q.length})||`Successfully exported ${q.length} runs`)}catch{Q.error(e("experiments.export_failed")||"Failed to export runs")}},Pt=async()=>{ce(!0);try{const q=await O1();q.updated>0?(Q.success(`Updated ${q.updated} experiment statuses`),$(!1)):Q.info("All experiment statuses are up to date")}catch{Q.error("Failed to check experiment statuses")}finally{ce(!1)}},It=async()=>{if(h.length===0){Q.warning(e("experiments.select_one")||"Please select at least one run to export");return}K(!0);const q=l.filter(fe=>h.includes(fe.run_id));try{const fe=["Run ID","Project","Experiment Name","Status","Created Time","Final Loss","Learning Rate","Batch Size","Epochs","Best Metric Value","Best Metric Name"],Je=q.map(Lt=>{var or,Bn,Gr,Kr,qr,Yr;return[Cn(Lt.run_id),Cn(Lt.project),Cn(Lt.name),Cn(Lt.status),Cn(new Date(Lt.created).toLocaleString()),Cn(((Bn=(or=Lt.summary)==null?void 0:or.final_loss)==null?void 0:Bn.toFixed(6))||""),Cn(((Gr=Lt.summary)==null?void 0:Gr.learning_rate)||""),Cn(((Kr=Lt.summary)==null?void 0:Kr.batch_size)||""),Cn(((qr=Lt.summary)==null?void 0:qr.total_epochs)||""),Cn(((Yr=Lt.best_metric_value)==null?void 0:Yr.toFixed(4))||""),Cn(Lt.best_metric_name||"")]}),Ue="\uFEFF"+[fe.join(","),...Je.map(Lt=>Lt.join(","))].join(`
`),yt=new Blob([Ue],{type:"text/csv;charset=utf-8;"}),xt=URL.createObjectURL(yt),$e=document.createElement("a");$e.href=xt;const Vn=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);$e.download=`runicorn_experiments_${Vn}.csv`,document.body.appendChild($e),$e.click(),document.body.removeChild($e),URL.revokeObjectURL(xt),Q.success(e("experiments.export_success",{count:q.length})||`Successfully exported ${q.length} runs`)}catch{Q.error(e("experiments.export_failed")||"Failed to export runs")}finally{K(!1)}},Y=[{key:"json",icon:a.jsx(Xj,{}),label:e("experiments.export_json")||"Export as JSON",onClick:Ce},{key:"csv",icon:a.jsx(Jj,{}),label:e("experiments.export_csv")||"Export as CSV",onClick:It}],Me=()=>{if(h.length<2){Q.warning(e("experiments.select_multiple")||"Please select at least 2 runs to compare");return}const q=h[0];n(`/runs/${q}`),Q.info(e("experiments.compare_hint")||"Use the comparison feature in the run detail page")},dt=b.useMemo(()=>l.filter(q=>{var yt;const fe=g.toLowerCase(),Je=g===""||q.run_id.toLowerCase().includes(fe)||q.name.toLowerCase().includes(fe)||q.project.toLowerCase().includes(fe)||((yt=q.summary)==null?void 0:yt.tags)&&q.summary.tags.some(xt=>xt.toLowerCase().includes(fe)),bt=v==="all"||q.project===v,Ue=T==="all"||q.status===T;return Je&&bt&&Ue}),[l,g,v,T]),wn=b.useMemo(()=>[{title:e("table.project"),dataIndex:"project",key:"project",sorter:(q,fe)=>q.project.localeCompare(fe.project),render:q=>a.jsx(Te,{color:"blue",children:q}),width:H.project,onHeaderCell:()=>({width:H.project,onResize:ge("project")})},{title:e("table.name"),dataIndex:"name",key:"name",width:H.name,sorter:(q,fe)=>q.name.localeCompare(fe.name),render:(q,fe)=>a.jsx(qe,{title:`${fe.project}/${q}`,children:a.jsx("strong",{children:q})}),onHeaderCell:()=>({width:H.name,onResize:ge("name")})},{title:e("table.run_id"),dataIndex:"run_id",key:"run_id",width:H.run_id,render:q=>a.jsx("code",{style:{fontSize:"11px",wordBreak:"break-all"},children:q}),onHeaderCell:()=>({width:H.run_id,onResize:ge("run_id")})},{title:e("table.status"),dataIndex:"status",key:"status",width:H.status,sorter:(q,fe)=>q.status.localeCompare(fe.status),onHeaderCell:()=>({width:H.status,onResize:ge("status")}),render:(q,fe)=>a.jsx(Wk,{status:q})},{title:e("table.created"),dataIndex:"created",key:"created",width:H.created,sorter:(q,fe)=>new Date(q.created).getTime()-new Date(fe.created).getTime(),render:q=>{const fe=new Date(q),Je=t.language==="zh"?"zh-CN":"en-US";return a.jsx("span",{style:{fontSize:"13px",whiteSpace:"nowrap"},children:fe.toLocaleString(Je,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})},onHeaderCell:()=>({width:H.created,onResize:ge("created")})},{title:e("experiments.best_metric")||"Best Metric",key:"best_metric",width:H.best_metric,onHeaderCell:()=>({width:H.best_metric,onResize:ge("best_metric")}),render:(q,fe)=>{const Je=fe.best_metric_value,bt=fe.best_metric_name;return Je!=null&&bt?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("span",{style:{fontSize:"13px",color:"#666",fontWeight:500},children:bt}),a.jsx("span",{style:{fontSize:"16px",fontWeight:700,color:"#1677ff"},children:Je.toFixed(4)})]}):"-"}},{title:e("experiments.artifacts_created")||"Artifacts",key:"artifacts_created",width:H.artifacts_created,onHeaderCell:()=>({width:H.artifacts_created,onResize:ge("artifacts_created")}),render:(q,fe)=>{const Je=fe.artifacts_created_count||0;return Je===0?a.jsx("span",{style:{color:"#999"},children:"-"}):a.jsx(qe,{title:e("experiments.artifacts_created_tip",{count:Je}),children:a.jsx(zo,{count:Je,style:{backgroundColor:"#52c41a"}})})}},{title:e("table.actions"),key:"actions",width:H.actions,onHeaderCell:()=>({width:H.actions,onResize:ge("actions")}),render:(q,fe)=>a.jsxs(z,{size:"small",children:[a.jsx(qe,{title:e("table.view"),children:a.jsx(pe,{type:"link",icon:a.jsx(Xc,{}),onClick:()=>n(`/runs/${fe.run_id}`)})}),a.jsx(qe,{title:e("experiments.delete")||"Delete",children:a.jsx(pe,{type:"link",danger:!0,icon:a.jsx(hi,{}),onClick:()=>{p([fe.run_id]),ue()}})})]})}],[e,n,H,ge,ue]);return d&&l.length===0?a.jsx(_C,{}):a.jsxs(a.Fragment,{children:[ut,a.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:24},children:[a.jsxs(tt.div,{initial:Oe.title.initial,animate:Oe.title.animate,transition:Oe.title.transition,style:{marginBottom:36},children:[a.jsx("h1",{style:{fontSize:Oe.title.fontSize,fontWeight:Oe.title.fontWeight,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:Oe.title.marginBottom,lineHeight:Oe.title.lineHeight},children:e("menu.experiments")}),a.jsx("p",{style:{color:Oe.subtitle.color,fontSize:Oe.subtitle.fontSize,margin:0,fontWeight:Oe.subtitle.fontWeight},children:e("experiments.subtitle")})]}),a.jsx(qk,{children:a.jsxs(Rt,{gutter:[16,16],style:{marginBottom:32},children:[a.jsx(ke,{xs:24,sm:12,lg:6,children:a.jsx(Ao,{children:a.jsx(An,{title:e("experiments.total_runs")||"Total Runs",value:D.total,icon:a.jsx(Gc,{}),gradientColors:Oe.statCards.total.gradientColors,delay:Oe.statCards.total.delay,pulse:Oe.statCards.total.pulse})})}),a.jsx(ke,{xs:24,sm:12,lg:6,children:a.jsx(Ao,{children:a.jsx(An,{title:e("experiments.running")||"Running",value:D.running,icon:a.jsx(Dt,{}),gradientColors:Oe.statCards.running.gradientColors,delay:Oe.statCards.running.delay,pulse:D.running>0})})}),a.jsx(ke,{xs:24,sm:12,lg:6,children:a.jsx(Ao,{children:a.jsx(An,{title:e("experiments.finished")||"Finished",value:D.finished,icon:a.jsx(_r,{}),gradientColors:Oe.statCards.finished.gradientColors,delay:Oe.statCards.finished.delay,pulse:Oe.statCards.finished.pulse})})}),a.jsx(ke,{xs:24,sm:12,lg:6,children:a.jsx(Ao,{children:a.jsx(An,{title:e("experiments.failed")||"Failed",value:D.failed,icon:a.jsx(Br,{}),gradientColors:Oe.statCards.failed.gradientColors,delay:Oe.statCards.failed.delay,pulse:Oe.statCards.failed.pulse})})})]})}),a.jsx(tt.div,{initial:Oe.filterCard.animation.initial,animate:Oe.filterCard.animation.animate,transition:Oe.filterCard.animation.transition,children:a.jsx(le,{bordered:!1,style:{borderRadius:Oe.filterCard.borderRadius,marginBottom:20,background:Oe.filterCard.background,backdropFilter:Oe.filterCard.backdropFilter,border:Oe.filterCard.border,boxShadow:Oe.filterCard.boxShadow},bodyStyle:{padding:Oe.filterCard.padding},children:a.jsxs(z,{style:{width:"100%",justifyContent:"space-between"},children:[a.jsxs(z,{children:[a.jsx(nn,{placeholder:e("experiments.search_placeholder")||"Search runs...",prefix:a.jsx(Am,{}),value:g,onChange:q=>x(q.target.value),style:{width:200}}),a.jsxs(ht,{value:v,onChange:S,style:{width:150},children:[a.jsx(ht.Option,{value:"all",children:e("runs.filter.all")}),P.map(q=>a.jsx(ht.Option,{value:q,children:q},q))]}),a.jsxs(ht,{value:T,onChange:k,style:{width:120},children:[a.jsx(ht.Option,{value:"all",children:e("runs.filter.all")}),a.jsx(ht.Option,{value:"running",children:e("experiments.running")||"Running"}),a.jsx(ht.Option,{value:"finished",children:e("experiments.finished")||"Finished"}),a.jsx(ht.Option,{value:"failed",children:e("experiments.failed")||"Failed"})]}),a.jsx(pe,{icon:F?a.jsx(Yc,{spin:!0}):a.jsx(Rs,{}),onClick:()=>$(!0),loading:d,children:e(F?"runs.refreshing":"runs.refresh")}),a.jsx(qe,{title:e("experiments.check_status_tooltip")||"Check if running experiments are still alive",children:a.jsx(pe,{icon:a.jsx(Zj,{}),onClick:Pt,loading:ee,type:"dashed",children:e("experiments.check_status")||"Check Status"})}),a.jsx(No,{checked:F,onChange:q=>B(q.target.checked),children:e("experiments.auto_refresh")||"Auto-refresh"}),a.jsx(qe,{title:e("recycle_bin.tooltip")||"View and restore deleted experiments",children:a.jsx(pe,{icon:a.jsx(cc,{}),onClick:()=>Xe(!0),type:"dashed",children:e("recycle_bin.title")||"Recycle Bin"})})]}),a.jsx(z,{children:h.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs(pe,{icon:a.jsx(Jc,{}),onClick:Me,disabled:h.length<2,children:[e("experiments.compare")||"Compare"," (",h.length,")"]}),a.jsx(Qj,{menu:{items:Y},trigger:["click"],children:a.jsxs(pe,{icon:a.jsx(Zo,{}),children:[e("experiments.export")||"Export"," (",h.length,") ",a.jsx(e1,{})]})}),a.jsxs(pe,{danger:!0,icon:a.jsx(hi,{}),onClick:ue,children:[e("experiments.delete")||"Delete"," (",h.length,")"]})]})})]})})}),a.jsx(tt.div,{initial:Oe.tableContainer.animation.initial,animate:Oe.tableContainer.animation.animate,transition:Oe.tableContainer.animation.transition,children:a.jsx(le,{bordered:!1,style:{borderRadius:Oe.tableContainer.borderRadius,overflow:"hidden",boxShadow:Oe.tableContainer.boxShadow},bodyStyle:{padding:0},children:a.jsx(vr,{className:"enhanced-table",components:{header:{cell:Fk}},rowSelection:{selectedRowKeys:h,onChange:q=>p(q),getCheckboxProps:q=>({disabled:he})},columns:wn,dataSource:dt,rowKey:"run_id",loading:d,pagination:{pageSize:se,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:(q,fe)=>oe(fe),showTotal:(q,fe)=>e("experiments.table_total",{from:fe[0],to:fe[1],total:q})||`${fe[0]}-${fe[1]} of ${q} items`},scroll:{x:1200},size:"middle",onChange:(q,fe,Je)=>{J(Je)},locale:{emptyText:a.jsx(Uk,{title:e("experiments.no_runs")||"No experiments yet",description:e("experiments.no_runs_desc")||"Start tracking your ML experiments with Runicorn SDK. Check out the quickstart guide to begin.",actionText:e("experiments.view_quickstart")||"View Quickstart Guide",onAction:()=>window.open("https://github.com/runicorn/runicorn#quick-start","_blank")})}})})}),a.jsx(_E,{open:He,onClose:()=>Xe(!1),onRestore:()=>$(!1)})]})]})},{Text:On,Title:Xk}=we,Jk=()=>{const{t:e}=Be(),t=ji(),[n,s]=b.useState([]),[o,l]=b.useState(!1),[c,d]=b.useState(""),[f,h]=b.useState("all"),[p,g]=b.useState(null),x=b.useCallback(async(j=!0)=>{j&&l(!0);try{const L=await V1(f==="all"?void 0:f);s(L||[])}catch{Q.error(e("Failed to fetch artifacts"))}finally{j&&l(!1)}},[f,e]),v=b.useCallback(async()=>{try{const j=await Fm();g(j)}catch{}},[]);b.useEffect(()=>{x(),v()},[x,v]);const S=n.filter(j=>{if(!c)return!0;const R=c.toLowerCase();return j.name.toLowerCase().includes(R)||j.type.toLowerCase().includes(R)});n.length,n.filter(j=>j.type==="model").length,n.filter(j=>j.type==="dataset").length,n.reduce((j,R)=>j+R.size_bytes,0);const T=j=>{if(j===0)return"0 B";const R=1024,L=["B","KB","MB","GB","TB"],F=Math.floor(Math.log(j)/Math.log(R));return(j/Math.pow(R,F)).toFixed(2)+" "+L[F]},k=j=>new Date(j*1e3).toLocaleString(),P=j=>{const R={style:{fontSize:16}};switch(j){case"model":return a.jsx(qt,{...R});case"dataset":return a.jsx(n1,{...R});case"config":return a.jsx(dc,{...R});case"code":return a.jsx(lc,{...R});default:return a.jsx(fi,{...R})}},A=j=>{switch(j){case"model":return ne.colors.primary;case"dataset":return ne.colors.success;case"config":return ne.colors.warning;case"code":return ne.colors.info;default:return"#8c8c8c"}},D=[{title:e("artifacts.type"),dataIndex:"type",key:"type",width:100,render:j=>a.jsx(qe,{title:e(`artifacts.type.${j}`),children:a.jsx(Te,{icon:P(j),color:A(j),children:e(`artifacts.type.${j}`)})}),filters:[{text:e("artifacts.type.model"),value:"model"},{text:e("artifacts.type.dataset"),value:"dataset"},{text:e("artifacts.type.config"),value:"config"},{text:e("artifacts.type.code"),value:"code"},{text:e("artifacts.type.custom"),value:"custom"}],onFilter:(j,R)=>R.type===j},{title:e("Name"),dataIndex:"name",key:"name",render:(j,R)=>a.jsxs(z,{direction:"vertical",size:0,children:[a.jsx(On,{strong:!0,style:{fontSize:ne.typography.fontSize.md},children:j}),a.jsxs(z,{size:"small",children:[a.jsx(On,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:e("artifacts.latest_version",{version:R.latest_version})}),a.jsx(On,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:"•"}),a.jsx(On,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:e("artifacts.versions_count",{count:R.num_versions})})]})]})},{title:e("artifacts.size"),dataIndex:"size_bytes",key:"size",width:120,render:j=>T(j),sorter:(j,R)=>j.size_bytes-R.size_bytes},{title:e("artifacts.updated"),dataIndex:"updated_at",key:"updated",width:180,render:j=>k(j),sorter:(j,R)=>j.updated_at-R.updated_at,defaultSortOrder:"descend"},{title:e("artifacts.aliases"),dataIndex:"aliases",key:"aliases",width:150,render:j=>a.jsxs(z,{size:4,wrap:!0,children:[Object.keys(j).slice(0,3).map(R=>a.jsx(Te,{color:"blue",style:{fontSize:ne.typography.fontSize.xs},children:R},R)),Object.keys(j).length>3&&a.jsxs(Te,{style:{fontSize:ne.typography.fontSize.xs},children:["+",Object.keys(j).length-3]})]})},{title:e("table.actions"),key:"actions",width:200,render:(j,R)=>a.jsx(z,{size:"small",children:a.jsx(qe,{title:e("artifacts.view_versions"),children:a.jsx(pe,{size:"small",icon:a.jsx(Xc,{}),onClick:()=>t(`/artifacts/${R.name}`),children:e("View")})})})}];return o&&n.length===0?a.jsx(bC,{rows:8}):a.jsx("div",{style:{padding:ne.spacing.lg},children:a.jsxs(z,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(Xk,{level:2,style:{marginBottom:ne.spacing.sm},children:e("artifacts.title")}),a.jsx(On,{type:"secondary",children:e("artifacts.description")})]}),p&&a.jsxs(Rt,{gutter:[ne.spacing.md,ne.spacing.md],children:[a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(An,{title:e("artifacts.stats.total"),value:p.total_artifacts||0,icon:a.jsx(qt,{}),gradientColors:zr.gradients.primary})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(An,{title:e("artifacts.stats.total_versions"),value:p.total_versions||0,icon:a.jsx(uc,{}),gradientColors:zr.gradients.info})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(An,{title:e("artifacts.stats.total_size"),value:p.total_size_bytes||0,formattedValue:T(p.total_size_bytes||0),icon:a.jsx(t1,{}),gradientColors:zr.gradients.success})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(An,{title:e("artifacts.stats.dedup_saved"),value:p.space_saved_bytes||0,formattedValue:p.dedup_enabled?T(p.space_saved_bytes||0):"N/A",subtitle:p.dedup_enabled&&p.dedup_ratio?`${(p.dedup_ratio*100).toFixed(1)}% saved`:void 0,icon:a.jsx(fi,{}),gradientColors:zr.gradients.warning})})]}),a.jsx(le,{size:"small",children:a.jsxs(z,{wrap:!0,children:[a.jsx(nn,{placeholder:e("artifacts.search_placeholder"),prefix:a.jsx(Am,{}),value:c,onChange:j=>d(j.target.value),style:{width:300},allowClear:!0}),a.jsx(ht,{value:f,onChange:h,style:{width:150},options:[{label:e("artifacts.type.all"),value:"all"},{label:e("artifacts.type.model"),value:"model"},{label:e("artifacts.type.dataset"),value:"dataset"},{label:e("artifacts.type.config"),value:"config"},{label:e("artifacts.type.code"),value:"code"},{label:e("artifacts.type.custom"),value:"custom"}]}),a.jsx(pe,{icon:a.jsx(Rs,{spin:o}),onClick:()=>{x(),v()},loading:o,children:e("runs.refresh")})]})}),p&&p.by_type&&Object.keys(p.by_type).length>0&&a.jsx(sn,{message:a.jsxs(z,{children:[a.jsx(On,{children:"Type Distribution:"}),Object.entries(p.by_type).map(([j,R])=>a.jsx(zo,{count:R.count,showZero:!0,color:A(j),overflowCount:9999,style:{marginLeft:8},children:a.jsx(Te,{icon:P(j),children:e(`artifacts.type.${j}`)})},j))]}),type:"info",showIcon:!1,style:{marginBottom:ne.spacing.md}}),a.jsx(le,{children:a.jsx(vr,{dataSource:S,columns:D,rowKey:"name",loading:o,pagination:{pageSize:10,showTotal:(j,R)=>e("experiments.table_total",{from:R[0],to:R[1],total:j}),showSizeChanger:!0,showQuickJumper:!0},locale:{emptyText:a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:a.jsxs(z,{direction:"vertical",size:"small",children:[a.jsx(On,{type:"secondary",children:e("artifacts.no_artifacts")}),a.jsx(On,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:e("artifacts.create_first")})]})})}})}),n.length===0&&!o&&a.jsx(le,{title:a.jsxs(z,{children:[a.jsx(lc,{}),a.jsx("span",{children:"Quick Start Guide"})]}),children:a.jsxs(z,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(On,{strong:!0,children:"1. Save a model as artifact:"}),a.jsx("pre",{style:{background:"#f5f5f5",padding:ne.spacing.md,borderRadius:ne.borderRadius.md,marginTop:ne.spacing.sm},children:`import runicorn as rn

run = rn.init(project="my_project")

# Create artifact
artifact = rn.Artifact("my-model", type="model")
artifact.add_file("model.pth")
artifact.add_metadata({"accuracy": 0.95})

# Save with version control
run.log_artifact(artifact)  # → v1
run.finish()`})]}),a.jsxs("div",{children:[a.jsx(On,{strong:!0,children:"2. Use a saved artifact:"}),a.jsx("pre",{style:{background:"#f5f5f5",padding:ne.spacing.md,borderRadius:ne.borderRadius.md,marginTop:ne.spacing.sm},children:`import runicorn as rn

run = rn.init(project="inference")

# Load latest version
artifact = run.use_artifact("my-model:latest")
model_path = artifact.download()

# Use the model...
run.finish()`})]})]})})]})})},{Text:Ir}=we,Zk=({data:e})=>{const{t}=Be(),{token:n}=tr.useToken(),s=b.useMemo(()=>{if(!e||!e.nodes||e.nodes.length===0)return null;const l=e.nodes.map(d=>{const f=d.node_type==="artifact",h=d.node_id===e.root_artifact;return{id:d.node_id,name:d.label,symbol:f?"roundRect":"circle",symbolSize:h?[120,60]:f?[100,50]:40,label:{show:!0,fontSize:h?14:12,fontWeight:h?"bold":"normal"},itemStyle:{color:f?h?ne.colors.primary:ne.colors.info:ne.colors.success,borderColor:h?ne.colors.primary:"#fff",borderWidth:h?3:1},category:f?0:1}}),c=e.edges.map(d=>({source:d.source,target:d.target,label:{show:!0,formatter:d.edge_type,fontSize:10},lineStyle:{color:d.edge_type==="produces"?ne.colors.success:ne.colors.info,width:2,type:d.edge_type==="produces"?"solid":"dashed"},symbol:["none","arrow"],symbolSize:8}));return{title:{text:t("artifact.lineage.title"),left:"center",textStyle:{fontSize:ne.typography.fontSize.lg,fontWeight:ne.typography.fontWeight.semibold}},tooltip:{trigger:"item",formatter:d=>{if(d.dataType==="node"){const f=e.nodes.find(h=>h.node_id===d.data.id);if(f){const h=f.node_type==="artifact";let p=`<b>${f.label}</b><br/>`;if(p+=`Type: ${t(h?"artifact.lineage.node.artifact":"artifact.lineage.node.run")}<br/>`,f.metadata.size){const g=o(f.metadata.size);p+=`Size: ${g}<br/>`}return p}}else if(d.dataType==="edge")return`${d.data.label.formatter}`;return d.name}},legend:{data:[{name:t("artifact.lineage.node.artifact"),icon:"roundRect"},{name:t("artifact.lineage.node.run"),icon:"circle"}],bottom:0},series:[{type:"graph",layout:"force",data:l,links:c,categories:[{name:t("artifact.lineage.node.artifact")},{name:t("artifact.lineage.node.run")}],roam:!0,label:{show:!0,position:"inside",formatter:"{b}"},force:{repulsion:400,edgeLength:[120,180],gravity:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]}},[e,t]),o=l=>{if(l===0)return"0 B";const c=1024,d=["B","KB","MB","GB","TB"],f=Math.floor(Math.log(l)/Math.log(c));return(l/Math.pow(c,f)).toFixed(2)+" "+d[f]};return s?a.jsxs(z,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsx(le,{size:"small",children:a.jsxs(z,{split:a.jsx("span",{style:{margin:"0 12px",color:n.colorBorder},children:"•"}),children:[a.jsxs(z,{size:"small",children:[a.jsx(qt,{style:{color:ne.colors.info}}),a.jsx(Ir,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.node.artifact")})]}),a.jsxs(z,{size:"small",children:[a.jsx(Dt,{style:{color:ne.colors.success}}),a.jsx(Ir,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.node.run")})]}),a.jsxs(z,{size:"small",children:[a.jsx(vh,{style:{color:ne.colors.info}}),a.jsx(Ir,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.edge.uses")})]}),a.jsxs(z,{size:"small",children:[a.jsx(vh,{style:{color:ne.colors.success}}),a.jsx(Ir,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.edge.produces")})]})]})}),a.jsx(le,{children:a.jsx(xs,{option:s,style:{height:500},opts:{renderer:"canvas"}})}),a.jsx(le,{size:"small",children:a.jsxs(z,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs(Ir,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:[a.jsxs("b",{children:[t("Summary"),":"]})," ",e.nodes.length," nodes, ",e.edges.length," edges"]}),a.jsxs(Ir,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:["• Artifacts: ",e.nodes.filter(l=>l.node_type==="artifact").length]}),a.jsxs(Ir,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:["• Runs: ",e.nodes.filter(l=>l.node_type==="run").length]})]})})]}):a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:t("artifact.lineage.no_dependencies")})},Qk=e=>{switch(e){case"finished":return a.jsx(_r,{style:{color:"#52c41a"}});case"failed":return a.jsx(Br,{style:{color:"#ff4d4f"}});case"running":return a.jsx(Dt,{style:{color:"#1890ff"}});default:return a.jsx(ea,{style:{color:"#d9d9d9"}})}};function eD({artifactName:e,artifactType:t,version:n}){const{t:s}=Be(),o=ji(),[l,c]=b.useState(!1),[d,f]=b.useState(null);b.useEffect(()=>{h()},[e,n]);const h=async()=>{c(!0);try{const g=new URLSearchParams;n&&g.append("version",n.toString()),t&&g.append("type",t);const x=await fetch(`/api/artifacts/${e}/training-metrics?${g}`);if(!x.ok){if(x.status===404){f(null);return}throw new Error(`Failed to load training metrics: ${x.statusText}`)}const v=await x.json();f(v)}catch{Q.error(s("Failed to load training metrics"))}finally{c(!1)}};if(l)return a.jsx(le,{children:a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(En,{size:"large"})})});if(!d)return a.jsx(le,{children:a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:s("artifact.training.no_data")})});const p=Object.entries(d.metrics).filter(([g,x])=>typeof x=="number").slice(0,6);return a.jsxs(le,{title:a.jsxs(z,{children:[a.jsx(r1,{}),s("artifact.training.title")]}),extra:a.jsx(pe,{type:"primary",onClick:()=>o(`/runs/${d.run_id}`),children:s("artifact.training.view_run")}),children:[a.jsxs(Se,{bordered:!0,column:2,style:{marginBottom:16},children:[a.jsx(Se.Item,{label:s("artifact.training.run_name"),children:a.jsxs(z,{children:[Qk(d.status),a.jsx("a",{onClick:()=>o(`/runs/${d.run_id}`),children:d.run_name})]})}),a.jsx(Se.Item,{label:s("artifact.training.project"),children:a.jsx(Te,{children:d.project})}),a.jsx(Se.Item,{label:s("artifact.training.status"),children:a.jsx(Te,{color:d.status==="finished"?"success":"error",children:s(`status.${d.status}`)})}),a.jsx(Se.Item,{label:s("artifact.training.duration"),children:d.duration_seconds?Bm(d.duration_seconds*1e3):"-"}),a.jsx(Se.Item,{label:s("artifact.training.created_at"),span:2,children:$o(d.created_at)})]}),p.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h4",{children:s("artifact.training.key_metrics")}),a.jsx(Rt,{gutter:16,children:p.map(([g,x])=>a.jsx(ke,{span:8,style:{marginBottom:16},children:a.jsx(Gt,{title:g,value:x,precision:typeof x=="number"&&x<1?4:2})},g))})]})]})}const{Option:tD}=ht;function nD({artifactName:e,artifactType:t}){const{t:n}=Be(),[s,o]=b.useState(!1),[l,c]=b.useState([]),[d,f]=b.useState([]),[h,p]=b.useState([]);b.useEffect(()=>{g()},[e]);const g=async()=>{o(!0);try{const v=new URLSearchParams;t&&v.append("type",t);const S=await fetch(`/api/artifacts/${e}/performance-history?${v}`);if(!S.ok)throw new Error(`Failed to load performance history: ${S.statusText}`);const T=await S.json();c(T);const k=new Set;T.forEach(D=>{Object.keys(D.metrics).forEach(j=>k.add(j))});const P=Array.from(k).sort();f(P);const A=P.slice(0,3);p(A)}catch{Q.error(n("Failed to load performance history"))}finally{o(!1)}},x=b.useMemo(()=>{if(!l.length||!h.length)return null;const v=l.filter(T=>T.status==="finished").map(T=>`v${T.version}`),S=h.map(T=>({name:T,type:"line",smooth:!0,symbol:"circle",symbolSize:8,data:l.filter(k=>k.status==="finished").map(k=>k.metrics[T]||0)}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:h,top:0},grid:{left:"10%",right:"10%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:v},yAxis:{type:"value",name:n("artifact.performance.metrics")},series:S}},[l,h,n]);return s?a.jsx(le,{children:a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(En,{size:"large"})})}):l.length===0?a.jsx(le,{children:a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.no_data")})}):a.jsx(le,{title:a.jsxs(z,{children:[a.jsx(Jc,{}),n("artifact.performance.title")]}),extra:a.jsx(ht,{mode:"multiple",style:{width:300},placeholder:n("artifact.performance.select_metrics"),value:h,onChange:p,maxTagCount:3,children:d.map(v=>a.jsx(tD,{value:v,children:v},v))}),children:x?a.jsx("div",{style:{height:400},children:a.jsx(Qc,{option:x,style:{height:"100%",width:"100%"}})}):a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.select_metrics_hint")})})}const{Text:ic,Title:Eo,Paragraph:rD}=we,{TabPane:ds}=Es,sD=()=>{var Z;const{name:e}=Rm(),t=ji(),{t:n}=Be(),[s,o]=b.useState(!1),[l,c]=b.useState(null),[d,f]=b.useState(null),[h,p]=b.useState([]),[g,x]=b.useState(null),[v,S]=b.useState(null),[T,k]=b.useState(!1),[P,A]=b.useState(!1),[D,j]=b.useState(!1),[R,L]=b.useState(null),[F,B]=b.useState(!1),N=K=>{if(K===0)return"0 B";const ee=1024,ce=["B","KB","MB","GB","TB"],ge=Math.floor(Math.log(K)/Math.log(ee));return(K/Math.pow(ee,ge)).toFixed(2)+" "+ce[ge]},H=K=>new Date(K*1e3).toLocaleString(),X=b.useCallback(async()=>{if(e)try{const K=await B1(e);p(K||[]),!l&&K&&K.length>0&&c(K[K.length-1].version)}catch{Q.error(n("Failed to fetch versions"))}},[e,l,n]),ie=b.useCallback(async()=>{if(!(!e||!l)){o(!0);try{const K=await U1(e,l);f(K)}catch{Q.error(n("Failed to fetch artifact details"))}finally{o(!1)}}},[e,l,n]),J=b.useCallback(async()=>{if(!(!e||!l))try{const K=await W1(e,l);x(K)}catch{}},[e,l]),se=b.useCallback(async()=>{if(!(!e||!l)){k(!0);try{const K=await H1(e,l,void 0,3);S(K)}catch{}finally{k(!1)}}},[e,l]);b.useEffect(()=>{X()},[X]),b.useEffect(()=>{l&&(ie(),J())},[ie,J]);const oe=async K=>{Pn.confirm({title:n("artifacts.delete_confirm",{name:e,version:K}),content:n("artifacts.delete_warning"),okText:n("artifacts.delete"),okType:"danger",cancelText:n("experiments.cancel"),onOk:async()=>{try{if(await G1(e,K),Q.success(n("Deleted successfully")),X(),K===l){const ee=h.filter(ce=>ce.version!==K);ee.length>0?c(ee[ee.length-1].version):t("/artifacts")}}catch{Q.error(n("Delete failed"))}}})};if(s&&!d)return a.jsx(Um,{});if(!d)return a.jsx(le,{children:a.jsx(nt,{description:n("artifact.detail.title",{name:e})})});h.map(K=>({label:`v${K.version} (${H(K.created_at)})`,value:K.version}));const he=[{title:n("artifact.files.name"),dataIndex:"path",key:"path",render:(K,ee)=>a.jsxs(z,{direction:"vertical",size:0,children:[a.jsx(ic,{strong:!0,children:K}),ee.absolute_path&&a.jsx(qe,{title:n("Click to copy path"),children:a.jsx(ic,{code:!0,copyable:{text:ee.absolute_path},style:{fontSize:ne.typography.fontSize.xs},children:ee.absolute_path})})]})},{title:n("artifact.files.size"),dataIndex:"size",key:"size",width:120,render:K=>N(K)},{title:n("artifact.files.hash"),dataIndex:"digest",key:"digest",width:200,render:K=>{var ee;return a.jsx(qe,{title:K,children:a.jsxs(ic,{code:!0,style:{fontSize:ne.typography.fontSize.xs},children:[(ee=K.split(":")[1])==null?void 0:ee.substring(0,16),"..."]})})}}],re=[{title:n("artifact.versions.version"),dataIndex:"version",key:"version",width:100,render:K=>a.jsxs(Te,{color:K===l?"blue":"default",children:["v",K]})},{title:n("artifact.versions.date"),dataIndex:"created_at",key:"created_at",render:K=>H(K)},{title:n("artifact.versions.run"),dataIndex:"created_by_run",key:"created_by_run",render:K=>a.jsx(qe,{title:"Click to view run",children:a.jsxs(pe,{type:"link",size:"small",onClick:()=>t(`/runs/${K}`),children:[K.substring(0,16),"..."]})})},{title:n("artifact.versions.size"),dataIndex:"size_bytes",key:"size",width:120,render:K=>N(K)},{title:n("artifact.versions.files"),dataIndex:"num_files",key:"num_files",width:80},{title:n("Aliases"),dataIndex:"aliases",key:"aliases",render:K=>a.jsx(z,{size:4,wrap:!0,children:K.map(ee=>a.jsx(Te,{color:"blue",style:{fontSize:ne.typography.fontSize.xs},children:ee},ee))})},{title:n("artifact.versions.actions"),key:"actions",width:150,render:(K,ee)=>a.jsxs(z,{size:"small",children:[a.jsx(pe,{size:"small",type:ee.version===l?"primary":"default",onClick:()=>c(ee.version),children:n("View")}),a.jsx(pe,{size:"small",danger:!0,icon:a.jsx(hi,{}),onClick:()=>oe(ee.version)})]})}];return a.jsx("div",{style:{padding:ne.spacing.lg},children:a.jsxs(z,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsx(pe,{icon:a.jsx(s1,{}),onClick:()=>t("/artifacts"),children:n("Back to Artifacts")}),a.jsx(le,{children:a.jsxs(z,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs(z,{children:[a.jsx(Eo,{level:2,style:{margin:0},children:n("artifact.detail.title",{name:e})}),a.jsx(Te,{color:ne.colors.primary,children:n("artifact.detail.version",{version:l})}),a.jsx(Te,{icon:a.jsx(qt,{}),children:n(`artifacts.type.${d.type}`)})]}),d.description&&a.jsx(rD,{type:"secondary",children:d.description})]})}),a.jsxs(Rt,{gutter:[ne.spacing.md,ne.spacing.md],children:[a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Gt,{title:n("artifact.detail.size"),value:N(d.size_bytes),prefix:a.jsx(qt,{})})})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Gt,{title:n("artifact.detail.files_count"),value:d.num_files,prefix:a.jsx(dc,{})})})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Gt,{title:n("Total Versions"),value:h.length,prefix:a.jsx(uc,{})})})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Gt,{title:n("artifact.detail.created_at"),value:H(d.created_at),valueStyle:{fontSize:ne.typography.fontSize.sm},prefix:a.jsx(ea,{})})})})]}),a.jsx(le,{children:a.jsxs(Es,{defaultActiveKey:"info",children:[a.jsxs(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(ta,{})," ",n("Info")]}),children:[a.jsxs(Se,{bordered:!0,column:2,size:"small",children:[a.jsx(Se.Item,{label:n("artifact.detail.type"),children:n(`artifacts.type.${d.type}`)}),a.jsx(Se.Item,{label:n("artifact.detail.status"),children:a.jsx(Te,{color:"success",children:d.status})}),a.jsx(Se.Item,{label:n("artifact.detail.created_by"),children:a.jsx(pe,{type:"link",size:"small",onClick:()=>t(`/runs/${d.created_by_run}`),children:d.created_by_run})}),a.jsx(Se.Item,{label:n("artifact.detail.created_at"),children:H(d.created_at)}),a.jsx(Se.Item,{label:n("artifact.detail.size"),children:N(d.size_bytes)}),a.jsxs(Se.Item,{label:n("artifact.detail.files_count"),children:[d.num_files," files, ",d.num_references," references"]})]}),d.metadata&&Object.keys(d.metadata).length>0&&a.jsxs("div",{style:{marginTop:ne.spacing.lg},children:[a.jsx(Eo,{level:5,children:n("artifact.detail.metadata")}),a.jsx(le,{size:"small",children:a.jsx("pre",{style:{margin:0,fontSize:ne.typography.fontSize.sm},children:JSON.stringify(d.metadata,null,2)})})]}),d.tags&&d.tags.length>0&&a.jsxs("div",{style:{marginTop:ne.spacing.md},children:[a.jsx(Eo,{level:5,children:n("artifact.detail.tags")}),a.jsx(z,{size:[8,8],wrap:!0,children:d.tags.map(K=>a.jsx(Te,{icon:a.jsx(i1,{}),color:"blue",children:K},K))})]})]},"info"),a.jsxs(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(dc,{})," ",n("artifact.files.title")," (",((Z=g==null?void 0:g.files)==null?void 0:Z.length)||0,")"]}),children:[a.jsx(vr,{dataSource:(g==null?void 0:g.files)||[],columns:he,rowKey:"path",size:"small",pagination:!1,locale:{emptyText:a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.files.no_files")})}}),(g==null?void 0:g.references)&&g.references.length>0&&a.jsxs("div",{style:{marginTop:ne.spacing.lg},children:[a.jsx(Eo,{level:5,children:n("artifact.references.title")}),a.jsx(vr,{dataSource:g.references,columns:[{title:n("artifact.references.uri"),dataIndex:"uri",key:"uri"},{title:n("artifact.references.checksum"),dataIndex:"checksum",key:"checksum",render:K=>K||"-"}],size:"small",pagination:!1})]})]},"files"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(uc,{})," ",n("artifact.versions.title")," (",h.length,")"]}),children:a.jsx(vr,{dataSource:h,columns:re,rowKey:"version",size:"small",pagination:{pageSize:10}})},"versions"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Dt,{})," ",n("artifact.training.tab")]}),children:a.jsx(eD,{artifactName:e,artifactType:d==null?void 0:d.type,version:l})},"training"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Jc,{})," ",n("artifact.performance.tab")]}),children:a.jsx(nD,{artifactName:e,artifactType:d==null?void 0:d.type})},"performance"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(o1,{})," ",n("artifact.lineage.title")]}),children:a.jsxs(z,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsx(sn,{message:n("artifact.lineage.description"),type:"info",showIcon:!0,closable:!0}),!v&&!T&&a.jsx(pe,{onClick:se,children:n("Load Lineage Graph")}),T&&a.jsx(le,{loading:!0}),v&&a.jsx(Zk,{data:v})]})},"lineage")]})})]})})};function iD({onSubmit:e,onTest:t,onCancel:n,loading:s=!1,initialValues:o}){const{t:l}=Be(),[c]=Ct.useForm(),[d,f]=b.useState((o==null?void 0:o.authMethod)||"password"),[h,p]=b.useState(!1),g=async v=>{console.log("Form values:",{...v,password:v.password?"***":void 0,savePassword:v.savePassword});const S={host:v.host,port:v.port||22,username:v.username,authMethod:v.authMethod,password:v.password,privateKeyPath:v.privateKeyPath,passphrase:v.passphrase,remoteRoot:v.remoteRoot,localPort:v.localPort,remotePort:v.remotePort||23300,saveName:v.saveName,savePassword:v.savePassword||!1};console.log("Config to submit:",{...S,password:S.password?"***":void 0});try{await e(S),Q.success(l("remote.message.connectSuccess")),c.resetFields()}catch(T){Q.error(T instanceof Error?T.message:l("remote.message.connectFailed"))}},x=async()=>{try{const v=await c.validateFields(),S={host:v.host,port:v.port||22,username:v.username,authMethod:v.authMethod,password:v.password,privateKeyPath:v.privateKeyPath,passphrase:v.passphrase,remoteRoot:v.remoteRoot,localPort:v.localPort,remotePort:v.remotePort||23300};t&&(await t(S),Q.success(l("remote.message.testSuccess")))}catch(v){v instanceof Error&&Q.error(v.message)}};return a.jsxs(Ct,{form:c,layout:"vertical",initialValues:{port:22,remotePort:23300,authMethod:"password",...o},onFinish:g,children:[a.jsx(Ct.Item,{label:l("remote.form.host"),name:"host",rules:[{required:!0,message:"Please enter host address"}],children:a.jsx(nn,{placeholder:l("remote.form.hostPlaceholder")})}),a.jsxs(Rt,{gutter:16,children:[a.jsx(ke,{span:12,children:a.jsx(Ct.Item,{label:l("remote.form.port"),name:"port",children:a.jsx(fc,{min:1,max:65535,style:{width:"100%"}})})}),a.jsx(ke,{span:12,children:a.jsx(Ct.Item,{label:l("remote.form.username"),name:"username",rules:[{required:!0,message:"Please enter username"}],children:a.jsx(nn,{placeholder:l("remote.form.usernamePlaceholder")})})})]}),a.jsx(Ct.Item,{label:l("remote.form.authMethod"),name:"authMethod",children:a.jsxs(Cs.Group,{onChange:v=>f(v.target.value),children:[a.jsx(Cs,{value:"password",children:l("remote.form.passwordAuth")}),a.jsx(Cs,{value:"key",children:l("remote.form.keyAuth")})]})}),d==="password"?a.jsx(Ct.Item,{label:l("remote.form.password"),name:"password",rules:[{required:!0,message:"Please enter password"}],children:a.jsx(nn.Password,{})}):a.jsxs(a.Fragment,{children:[a.jsx(Ct.Item,{label:l("remote.form.privateKey"),name:"privateKeyPath",rules:[{required:!0,message:"Please enter private key path"}],children:a.jsx(nn,{placeholder:l("remote.form.privateKeyPlaceholder")})}),a.jsx(Ct.Item,{label:l("remote.form.passphrase"),name:"passphrase",children:a.jsx(nn.Password,{})})]}),a.jsx(Ct.Item,{children:a.jsxs(z,{direction:"vertical",children:[a.jsx(No,{checked:h,onChange:v=>p(v.target.checked),children:l("remote.form.saveConfig")}),h&&d==="password"&&a.jsx(Ct.Item,{name:"savePassword",valuePropName:"checked",initialValue:!1,noStyle:!0,children:a.jsx(No,{style:{marginLeft:24},children:l("remote.form.savePassword")})})]})}),h&&a.jsx(Ct.Item,{label:l("remote.form.saveName"),name:"saveName",children:a.jsx(nn,{placeholder:l("remote.form.saveNamePlaceholder")})}),a.jsx(Ct.Item,{children:a.jsxs(z,{children:[a.jsx(pe,{type:"primary",htmlType:"submit",loading:s,size:"large",children:l("remote.form.connectButton")}),t&&a.jsx(pe,{onClick:x,children:l("remote.form.testConnection")}),n&&a.jsx(pe,{onClick:n,children:l("remote.form.cancel")})]})})]})}var Zy={exports:{}};(function(e,t){(function(n,s){e.exports=s()})(gs,function(){return function(n,s,o){n=n||{};var l=s.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(h,p,g,x){return l.fromToBase(h,p,g,x)}o.en.relativeTime=c,l.fromToBase=function(h,p,g,x,v){for(var S,T,k,P=g.$locale().relativeTime||c,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],D=A.length,j=0;j<D;j+=1){var R=A[j];R.d&&(S=x?o(h).diff(g,R.d,!0):g.diff(h,R.d,!0));var L=(n.rounding||Math.round)(Math.abs(S));if(k=S>0,L<=R.r||!R.r){L<=1&&j>0&&(R=A[j-1]);var F=P[R.l];v&&(L=v(""+L)),T=typeof F=="string"?F.replace("%d",L):F(L,p,R.l,k);break}}if(p)return T;var B=k?P.future:P.past;return typeof B=="function"?B(T):B.replace("%s",T)},l.to=function(h,p){return d(h,p,this,!0)},l.from=function(h,p){return d(h,p,this)};var f=function(h){return h.$u?o.utc():o()};l.toNow=function(h){return this.to(f(this),h)},l.fromNow=function(h){return this.from(f(this),h)}}})})(Zy);var oD=Zy.exports;const aD=$j(oD),lD=({status:e,label:t})=>{const n=$k.statusLight,s=n.colors[e],o=e==="online"||e==="connecting";return a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[a.jsx(tt.div,{style:{width:n.size,height:n.size,borderRadius:"50%",background:s,position:"relative"},animate:o?{boxShadow:n.pulseAnimation.boxShadow}:{},transition:{...n.pulseAnimation.transition,repeat:o?1/0:0}}),t&&a.jsx("span",{style:{fontSize:13,color:"#595959"},children:t})]})};Em.extend(aD);const{Text:oc}=we,cD={connecting:"Establishing connection...",running:"Remote Viewer is running and accessible",stopping:"Stopping Remote Viewer...",stopped:"Remote Viewer has been stopped",error:"An error occurred"};function uD({session:e,onOpen:t,onStop:n,onDisconnect:s}){const{t:o}=Be(),l=()=>{const f=`http://localhost:${e.localPort}`;window.open(f,"_blank"),t==null||t(e)},c=async()=>{if(n)try{await n(e)}catch{}},d=()=>{Pn.confirm({title:o("remote.message.confirmDisconnect"),content:`${e.host}:${e.remotePort}`,onOk:async()=>{s&&await s(e)}})};return a.jsxs(le,{title:a.jsxs(z,{children:[a.jsx(pi,{}),a.jsx(oc,{strong:!0,children:e.host}),a.jsx(lD,{status:e.status==="running"?"online":e.status==="connecting"||e.status==="stopping"?"connecting":"offline",label:o(`remote.status.${e.status}`)})]}),extra:a.jsxs(z,{children:[a.jsx(pe,{type:"primary",icon:a.jsx(km,{}),onClick:l,disabled:e.status!=="running",children:o("remote.session.open")}),a.jsx(pe,{icon:a.jsx(a1,{}),onClick:c,disabled:e.status!=="running",children:o("remote.session.stop")}),a.jsx(pe,{danger:!0,icon:a.jsx(l1,{}),onClick:d,children:o("remote.session.disconnect")})]}),style:{marginBottom:16},children:[a.jsxs(Se,{column:2,size:"small",children:[a.jsx(Se.Item,{label:o("remote.session.localAccess"),children:a.jsxs("a",{href:`http://localhost:${e.localPort}`,target:"_blank",rel:"noopener noreferrer",children:["http://localhost:",e.localPort]})}),a.jsx(Se.Item,{label:o("remote.session.remotePath"),children:a.jsx(oc,{code:!0,children:e.remoteRoot})}),a.jsx(Se.Item,{label:o("remote.session.sshPort"),children:e.sshPort}),a.jsx(Se.Item,{label:o("remote.session.remotePort"),children:e.remotePort}),a.jsx(Se.Item,{label:o("remote.session.remotePid"),children:e.remotePid||"N/A"}),a.jsx(Se.Item,{label:o("remote.session.startedAt"),children:Em(e.startedAt).fromNow()})]}),a.jsx(sn,{type:e.status==="running"?"success":e.status==="error"?"error":"info",message:cD[e.status]||e.status,description:e.error,showIcon:!0,style:{marginTop:16}}),a.jsx("div",{style:{marginTop:16,color:"#888",fontSize:"12px"},children:a.jsxs(oc,{type:"secondary",children:["Session ID: ",e.sessionId]})})]})}const{Text:fs}=we;function dD({connections:e,onQuickStart:t,onConnect:n,onEdit:s,onDelete:o,loading:l=!1}){const{t:c}=Be(),d=async p=>{try{await t(p),Q.success(c("remote.message.viewerStarted"))}catch(g){Q.error(g instanceof Error?g.message:c("remote.message.viewerStartFailed"))}},f=async p=>{if(n)try{await n(p)}catch(g){Q.error(g instanceof Error?g.message:c("remote.message.connectFailed"))}},h=p=>{Pn.confirm({title:c("remote.message.confirmDelete"),content:p.name,okText:c("remote.saved.delete"),okButtonProps:{danger:!0},onOk:()=>{o(p.id),Q.success(c("remote.message.configDeleted"))}})};return e.length===0?a.jsx(le,{title:c("remote.saved.title"),children:a.jsx(nt,{description:a.jsxs(z,{direction:"vertical",children:[a.jsx(fs,{type:"secondary",children:c("remote.saved.empty")}),a.jsx(fs,{type:"secondary",style:{fontSize:"12px"},children:c("remote.saved.emptyHint")})]})})}):a.jsx(le,{title:c("remote.saved.title"),children:a.jsx(wr,{dataSource:e,loading:l,renderItem:p=>a.jsx(wr.Item,{actions:[a.jsx(pe,{type:"primary",icon:a.jsx(Dt,{}),onClick:()=>d(p),size:"small",children:c("remote.saved.quickStart")},"quickstart"),n&&a.jsx(pe,{icon:a.jsx(km,{}),onClick:()=>f(p),size:"small",children:c("remote.saved.connectOnly")},"connect"),a.jsx(pe,{danger:!0,icon:a.jsx(hi,{}),onClick:()=>h(p),size:"small",children:c("remote.saved.delete")},"delete")].filter(Boolean),children:a.jsx(wr.Item.Meta,{avatar:a.jsx(c1,{icon:a.jsx(pi,{}),style:{backgroundColor:"#1677ff"}}),title:a.jsx(fs,{strong:!0,children:p.name}),description:a.jsxs(z,{direction:"vertical",size:0,children:[a.jsxs(fs,{type:"secondary",children:[p.username,"@",p.host,":",p.port]}),a.jsx(fs,{type:"secondary",code:!0,style:{fontSize:"12px"},children:p.remoteRoot}),a.jsx(fs,{type:"secondary",style:{fontSize:"11px"},children:p.authMethod==="password"?"Password Auth":`Key Auth (${p.privateKeyPath})`})]})})})})})}const ma="/api/config";async function Qy(){const e=await fetch(`${ma}/dismissed-alerts`);if(!e.ok)throw new Error("Failed to get dismissed alerts");return(await e.json()).dismissed_alerts||[]}async function fD(e){if(!(await fetch(`${ma}/dismissed-alerts/dismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:e})})).ok)throw new Error("Failed to dismiss alert")}async function hD(e){if(!(await fetch(`${ma}/dismissed-alerts/undismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:e})})).ok)throw new Error("Failed to undismiss alert")}async function pD(){if(!(await fetch(`${ma}/dismissed-alerts/clear`,{method:"POST"})).ok)throw new Error("Failed to clear dismissed alerts")}function Ko({alertId:e,showDismissOption:t=!0,onDismiss:n,...s}){const{t:o}=Be(),[l,c]=b.useState(!0),[d,f]=b.useState(!1),[h,p]=b.useState(!1);b.useEffect(()=>{(async()=>{try{(await Qy()).includes(e)&&(p(!0),c(!1))}catch(v){console.error("Failed to check dismissed alerts:",v)}})()},[e]);const g=async()=>{if(c(!1),d)try{await fD(e),p(!0),n==null||n()}catch(x){console.error("Failed to dismiss alert:",x)}};return h||!l?null:a.jsx(sn,{...s,closable:!0,onClose:g,action:t?a.jsx("div",{style:{marginTop:-4},children:a.jsx(No,{checked:d,onChange:x=>f(x.target.checked),onClick:x=>x.stopPropagation(),children:a.jsx("span",{style:{fontSize:"12px"},children:o("common.dontShowAgain")})})}):void 0})}const{Text:rm,Title:$M}=we;function mD({config:e,sshConfig:t,onConfirm:n,onCancel:s,loading:o=!1}){const{t:l}=Be(),[c]=Ct.useForm(),d=async()=>{const f=await c.validateFields();n(f.remoteRoot,f.localPort)};return a.jsxs(le,{title:a.jsxs(z,{children:[a.jsx(_r,{style:{color:"#52c41a"}}),a.jsx("span",{children:l("remote.config.title")})]}),children:[a.jsx(sn,{message:l("remote.config.connected"),description:`${t.username}@${t.host}:${t.port}`,type:"success",showIcon:!0,style:{marginBottom:16}}),a.jsxs(Se,{column:2,size:"small",bordered:!0,style:{marginBottom:16},children:[a.jsx(Se.Item,{label:l("remote.config.pythonVersion"),children:a.jsx(rm,{code:!0,children:e.pythonVersion})}),a.jsx(Se.Item,{label:l("remote.config.runicornVersion"),children:a.jsx(Te,{color:"blue",children:e.runicornVersion})}),a.jsx(Se.Item,{label:l("remote.config.storageRoot"),span:2,children:a.jsxs(z,{children:[a.jsx(rm,{code:!0,children:e.defaultStorageRoot}),e.storageRootExists?a.jsx(Te,{icon:a.jsx(_r,{}),color:"success",children:l("remote.config.exists")}):a.jsx(Te,{icon:a.jsx(Br,{}),color:"warning",children:l("remote.config.notExists")})]})}),a.jsx(Se.Item,{label:l("remote.config.suggestedPort"),children:e.suggestedRemotePort})]}),!e.storageRootExists&&a.jsx(Ko,{alertId:"remote.config.pathNotExists",message:l("remote.config.pathNotExistsWarning"),description:l("remote.config.pathNotExistsHint"),type:"warning",showIcon:!0,style:{marginBottom:16}}),a.jsxs(Ct,{form:c,layout:"vertical",initialValues:{remoteRoot:e.defaultStorageRoot,localPort:t.localPort,remotePort:e.suggestedRemotePort},children:[a.jsx(Ct.Item,{label:l("remote.config.confirmStorageRoot"),name:"remoteRoot",rules:[{required:!0,message:"Please enter remote storage root"}],children:a.jsx(nn,{placeholder:"/data/runicorn"})}),a.jsx(Ct.Item,{label:l("remote.form.localPort"),name:"localPort",help:l("remote.form.localPortHelp"),children:a.jsx(nn,{type:"number",placeholder:"23301"})})]}),a.jsxs(z,{style:{marginTop:16},children:[a.jsx(pe,{type:"primary",icon:a.jsx(Dt,{}),onClick:d,loading:o,size:"large",children:l("remote.config.startViewer")}),a.jsx(pe,{onClick:s,disabled:o,children:l("remote.form.cancel")})]})]})}const Hr="/api/remote";async function gD(){const e=await fetch("/api/health");if(!e.ok)throw new Error("Failed to get local version");return(await e.json()).version||"unknown"}async function Fo(e){const t=await fetch(`${Hr}/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e.host,port:e.port,username:e.username,password:e.password,private_key_path:e.privateKeyPath,passphrase:e.passphrase,use_agent:!0})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to connect to remote server")}return t.json()}async function ys(e,t=22,n){const s=await fetch(`${Hr}/disconnect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e,port:t,username:n})});if(!s.ok){const o=await s.json();throw new Error(o.detail||"Failed to disconnect")}}async function sm(e){const t=await fetch(`${Hr}/viewer/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e.host,port:e.port,username:e.username,password:e.password,private_key_path:e.privateKeyPath,passphrase:e.passphrase,use_agent:!0,remote_root:e.remoteRoot,local_port:e.localPort,remote_port:e.remotePort||23300,conda_env:e.condaEnv})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to start Remote Viewer")}return t.json()}async function im(e){const t=await fetch(`${Hr}/viewer/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to stop Remote Viewer")}}async function yD(){const e=await fetch(`${Hr}/viewer/sessions`);if(!e.ok)throw new Error("Failed to list Remote Viewer sessions");const t=await e.json();return t.sessions||t}async function xD(e){try{return await Fo(e),await ys(e.host,e.port,e.username),{success:!0,responseTime:0}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Connection test failed"}}}async function om(e){const t=await fetch(`${Hr}/conda-envs?connection_id=${encodeURIComponent(e)}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to list conda environments")}return t.json()}async function qo(e,t="system"){const n=await fetch(`${Hr}/config?connection_id=${encodeURIComponent(e)}&conda_env=${encodeURIComponent(t)}`);if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to get remote configuration")}return n.json()}const{Text:Zn,Title:VM}=we;function vD({envs:e,connectionId:t,onSelect:n,onCancel:s,loading:o=!1}){const{t:l}=Be(),[c,d]=b.useState(()=>{var T;const S=e.find(k=>k.isDefault);return(S==null?void 0:S.name)||((T=e[0])==null?void 0:T.name)||"system"}),[f,h]=b.useState(""),[p,g]=b.useState(()=>{const S={};return e.forEach(T=>{S[T.name]={loading:!0}}),S}),x=(S,T)=>{const k=S.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),P=T.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),A=R=>{const L=R.split(".").map(F=>parseInt(F)||0);return{major:L[0]||0,minor:L[1]||0,patch:L[2]||0}},D=A(k),j=A(P);return D.major===0&&D.minor<5?"too_old":D.major!==j.major||D.minor!==j.minor?"mismatch":"ok"};b.useEffect(()=>{(async()=>{try{const T=await gD();h(T)}catch(T){console.error("Failed to get local version:",T),h("unknown")}})()},[]),b.useEffect(()=>{if(!f)return;(async()=>{for(let k=0;k<e.length;k+=3){const P=e.slice(k,k+3);await Promise.all(P.map(async A=>{try{const D=await qo(t,A.name),j=D.runicornVersion?x(D.runicornVersion,f):void 0;g(R=>({...R,[A.name]:{pythonVersion:D.pythonVersion,runicornVersion:D.runicornVersion,versionStatus:j,loading:!1,error:!1}}))}catch{g(j=>({...j,[A.name]:{loading:!1,error:!0}}))}}))}})()},[e,t,f]);const v=async()=>{let S=p[c];if(!S||S.loading){const T=Pn.info({title:l("remote.env.detecting"),content:a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx(En,{size:"large"}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.detectingEnvironment",{env:c})})]}),okButtonProps:{style:{display:"none"}},closable:!1,maskClosable:!1});try{const k=await qo(t,c),P=k.runicornVersion&&f?x(k.runicornVersion,f):void 0;S={pythonVersion:k.pythonVersion,runicornVersion:k.runicornVersion,versionStatus:P,loading:!1,error:!1},g(A=>({...A,[c]:S}))}catch{S={loading:!1,error:!0},g(P=>({...P,[c]:S}))}finally{T.destroy()}}if(!S||S.error){Pn.error({title:l("remote.env.detectFailed"),content:l("remote.env.detectFailedMessage"),okText:l("remote.form.cancel")});return}if(!S.runicornVersion){const T=c==="system"?"# System Python, no activation needed":`conda activate ${c}`;Pn.warning({title:l("remote.env.runicornNotInstalledTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.runicornNotInstalledMessage")}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.installInstructions")}),a.jsxs("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:[a.jsxs("div",{style:{color:"#999"},children:["# ",l("remote.env.activateCommand")]}),a.jsx("div",{children:T}),a.jsxs("div",{style:{marginTop:8,color:"#999"},children:["# ",l("remote.env.installCommand")]}),a.jsx("div",{children:"pip install runicorn"})]})]}),okText:l("remote.form.cancel")});return}if(S.versionStatus==="too_old"){Pn.error({title:l("remote.env.versionTooOldTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.versionTooOldMessage",{version:S.runicornVersion})}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.upgradeInstructions")}),a.jsx("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:a.jsx("div",{children:"pip install --upgrade runicorn"})})]}),okText:l("remote.form.cancel")});return}if(S.versionStatus==="mismatch"){Pn.warning({title:l("remote.env.versionMismatchTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.versionMismatchMessage")}),a.jsxs("div",{style:{marginTop:16,padding:"12px",background:"#fff7e6",borderRadius:"4px"},children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[l("remote.env.localVersion"),":"]})," ",f]}),a.jsxs("div",{style:{marginTop:4},children:[a.jsxs("strong",{children:[l("remote.env.remoteVersion"),":"]})," ",S.runicornVersion]})]}),a.jsx("p",{style:{marginTop:16,color:"#faad14"},children:l("remote.env.versionMismatchWarning")})]}),okText:l("remote.env.continueAnyway"),cancelText:l("remote.form.cancel"),onOk:()=>{n(c)}});return}n(c)};return e.length===0?a.jsxs(le,{title:l("remote.env.title"),children:[a.jsx(nt,{description:l("remote.env.noEnvs")}),a.jsx(pe,{onClick:s,style:{marginTop:16},children:l("remote.form.cancel")})]}):a.jsxs(le,{title:a.jsxs(z,{children:[a.jsx(_r,{style:{color:"#52c41a"}}),a.jsx("span",{children:l("remote.env.title")})]}),children:[a.jsx(Ko,{alertId:"remote.env.selectHint",message:l("remote.env.selectHint"),description:l("remote.env.selectDescription"),type:"info",showIcon:!0,style:{marginBottom:16}}),a.jsx(Cs.Group,{value:c,onChange:S=>d(S.target.value),style:{width:"100%"},children:a.jsx(wr,{dataSource:e,size:"small",renderItem:S=>{const T=p[S.name]||{loading:!0},k=()=>S.type==="conda"?a.jsx(Te,{color:"green",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"conda"}):S.type==="system"?a.jsx(Te,{style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"system"}):S.type==="venv"?a.jsx(Te,{color:"orange",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"venv"}):null;return a.jsx(wr.Item,{style:{cursor:"pointer",background:c===S.name?"#f0f5ff":"transparent",padding:"6px 12px",borderRadius:"4px",marginBottom:"2px",minHeight:"auto"},onClick:()=>d(S.name),children:a.jsxs(Rt,{style:{width:"100%"},align:"middle",children:[a.jsx(ke,{flex:"none",style:{marginRight:12},children:a.jsx(Cs,{value:S.name})}),a.jsx(ke,{flex:"auto",children:a.jsxs("div",{style:{lineHeight:"1.2"},children:[a.jsx("div",{children:a.jsxs(z,{size:4,children:[a.jsx(Zn,{strong:!0,style:{fontSize:"14px",lineHeight:"1.2"},children:S.name}),k(),S.isDefault&&a.jsx(Te,{color:"blue",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:l("remote.env.default")})]})}),a.jsx("div",{style:{marginTop:"2px"},children:a.jsx(Zn,{type:"secondary",code:!0,style:{fontSize:"11px",lineHeight:"1.2"},children:S.path})})]})}),a.jsx(ke,{flex:"none",style:{textAlign:"right",minWidth:140},children:a.jsxs("div",{style:{lineHeight:"1.2"},children:[a.jsx("div",{children:T.loading?a.jsx(En,{indicator:a.jsx(wh,{style:{fontSize:12}})}):T.error?a.jsxs(Zn,{type:"danger",style:{fontSize:"11px"},children:[a.jsx(Br,{})," ",l("remote.env.detectFailed")]}):a.jsx(Zn,{type:"secondary",style:{fontSize:"11px"},children:T.pythonVersion||"N/A"})}),a.jsx("div",{style:{marginTop:"2px"},children:T.loading?a.jsx(En,{indicator:a.jsx(wh,{style:{fontSize:12}})}):T.error?a.jsx(Zn,{type:"danger",style:{fontSize:"11px"},children:"N/A"}):T.runicornVersion?T.versionStatus==="too_old"?a.jsxs(Zn,{type:"danger",style:{fontSize:"11px"},children:[a.jsx(Br,{})," Runicorn ",T.runicornVersion]}):T.versionStatus==="mismatch"?a.jsxs(Zn,{type:"warning",style:{fontSize:"11px"},children:[a.jsx(Il,{})," Runicorn ",T.runicornVersion]}):a.jsxs(Zn,{type:"success",style:{fontSize:"11px"},children:["Runicorn ",T.runicornVersion]}):a.jsxs(Zn,{type:"warning",style:{fontSize:"11px"},children:[a.jsx(Il,{})," ",l("remote.env.runicornNotInstalled")]})})]})})]})})}})}),a.jsx(Ko,{alertId:"remote.env.checkRunicorn",type:"warning",message:l("remote.env.checkRunicorn"),description:l("remote.env.checkRunicornHint"),icon:a.jsx(Il,{}),style:{marginTop:16,marginBottom:16}}),a.jsxs(z,{style:{marginTop:16},children:[a.jsx(pe,{type:"primary",icon:a.jsx(u1,{}),onClick:v,loading:o,size:"large",children:l("remote.env.continue")}),a.jsx(pe,{onClick:s,disabled:o,children:l("remote.form.cancel")})]})]})}function wD(){const[e,t]=b.useState([]),[n,s]=b.useState(!1),[o,l]=b.useState(null),c=b.useCallback(async()=>{s(!0),l(null);try{const d=await yD();t(d)}catch(d){l(d instanceof Error?d.message:"Failed to fetch sessions")}finally{s(!1)}},[]);return b.useEffect(()=>{c();const d=setInterval(c,5e3);return()=>clearInterval(d)},[c]),{sessions:e,loading:n,error:o,refetch:c}}const ko="/api/remote/connections/saved";function _D(){return`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function am(e){const t={...e};return Object.keys(t).forEach(n=>{t[n]===void 0&&delete t[n]}),t}function bD(){const[e,t]=b.useState([]),[n,s]=b.useState(!1);b.useEffect(()=>{(async()=>{try{s(!0);const h=await fetch(ko);if(h.ok){const p=await h.json();t(p.connections||[])}}catch(h){console.error("Failed to load saved connections:",h)}finally{s(!1)}})()},[]);const o=b.useCallback(async(f,h)=>{const p={id:_D(),name:f.saveName||`${f.username}@${f.host}`,host:f.host,port:f.port,username:f.username,authMethod:f.authMethod,password:f.password||void 0,privateKeyPath:f.privateKeyPath,condaEnv:h,remoteRoot:f.remoteRoot,localPort:f.localPort,remotePort:f.remotePort,createdAt:Date.now()};console.log("Creating new connection:",{name:p.name,hasPassword:!!p.password,hasRemoteRoot:!!p.remoteRoot,condaEnv:p.condaEnv});const g=[...e,am(p)];try{if(!(await fetch(ko,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw new Error("Failed to save connections");t(g)}catch(x){throw console.error("Failed to save connection:",x),x}return p.id},[e]),l=b.useCallback(async(f,h)=>{const p=e.map(g=>g.id===f?am({...g,...h}):g);console.log("Updating connection:",{id:f,updates:h});try{if(!(await fetch(ko,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok)throw new Error("Failed to update connection");t(p)}catch(g){throw console.error("Failed to update connection:",g),g}},[e]),c=b.useCallback(async f=>{const h=e.filter(p=>p.id!==f);try{if(!(await fetch(ko,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)throw new Error("Failed to delete connection");t(h)}catch(p){throw console.error("Failed to delete connection:",p),p}},[e]),d=b.useCallback(f=>e.find(h=>h.id===f),[e]);return{connections:e,loading:n,saveConnection:o,updateConnection:l,deleteConnection:c,getConnection:d}}const{Title:SD,Paragraph:jD,Text:gn}=we;function CD(){const{t:e}=Be(),[t,n]=b.useState(!1),[s,o]=b.useState(!1),[l,c]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(null),[v,S]=b.useState(null),[T,k]=b.useState(!1),[P,A]=b.useState(null),[D,j]=b.useState("connect"),[R,L]=b.useState(""),{sessions:F,refetch:B}=wD(),{connections:N,saveConnection:H,updateConnection:X,deleteConnection:ie}=bD(),J=async $=>{n(!0),o(!1);try{await Fo($),n(!1),o(!0),Q.success(e("remote.message.connectSuccess")),c(!0);const ue=`${$.username}@${$.host}:${$.port}`,Ce=await om(ue);if(x({connectionId:ue,config:$,condaEnvs:Ce.envs||[],selectedEnv:void 0,remoteConfig:void 0}),$.saveName){const Pt=$.savePassword&&$.authMethod==="password",It=Pt?$:{...$,password:void 0};console.log("Saving connection:",{saveName:$.saveName,savePassword:$.savePassword,authMethod:$.authMethod,hasPassword:!!$.password,shouldSavePassword:Pt});const Y=await H(It);S(Y),Q.success(e("remote.message.configSaved"))}}catch(ue){Q.error(ue instanceof Error?ue.message:e("remote.message.connectFailed")),o(!1),await ys($.host,$.port,$.username).catch(()=>{})}finally{n(!1),c(!1)}},se=async $=>{if(g){f(!0);try{const ue=await qo(g.connectionId,$);x({...g,selectedEnv:$,remoteConfig:ue}),v&&X(v,{condaEnv:$})}catch(ue){throw Q.error(ue instanceof Error?ue.message:e("remote.config.fetchFailed")),ue}finally{f(!1)}}},oe=async($,ue)=>{if(!(!g||!g.remoteConfig)){p(!0);try{const Ce={...g.config,remoteRoot:$,localPort:ue,remotePort:g.remoteConfig.suggestedRemotePort,condaEnv:g.selectedEnv};v&&await X(v,{remoteRoot:$,localPort:ue,remotePort:g.remoteConfig.suggestedRemotePort}),await sm(Ce),await B(),Q.success(e("remote.message.viewerStarted")),x(null),S(null),o(!1)}catch(Ce){throw Q.error(Ce instanceof Error?Ce.message:e("remote.message.viewerStartFailed")),Ce}finally{p(!1)}}},he=async()=>{if(!g)return;const{host:$,port:ue,username:Ce}=g.config;await ys($,ue,Ce),x(null),o(!1),c(!1),f(!1),S(null),Q.info(e("remote.message.cancelled"))},re=async $=>{try{const ue=await xD($);if(ue.success)Q.success({content:a.jsxs("div",{children:[a.jsx("div",{children:e("remote.message.testSuccess")}),ue.pythonVersion&&a.jsxs("div",{style:{fontSize:"12px",marginTop:4},children:["Python ",ue.pythonVersion]})]}),duration:3});else throw new Error(ue.error||"Connection test failed")}catch(ue){throw Q.error(ue instanceof Error?ue.message:e("remote.message.testFailed")),ue}},Z=async $=>{if($.authMethod==="password"&&!$.password){A($),j("connect"),k(!0);return}await K($,$.password)},K=async($,ue)=>{n(!0),o(!1);try{const Ce={host:$.host,port:$.port,username:$.username,authMethod:$.authMethod,password:ue||$.password,privateKeyPath:$.privateKeyPath,remoteRoot:$.remoteRoot||"",localPort:$.localPort,remotePort:$.remotePort};await Fo(Ce),n(!1),o(!0),Q.success(e("remote.message.connectSuccess")),c(!0);const Pt=`${Ce.username}@${Ce.host}:${Ce.port}`,It=await om(Pt);x({connectionId:Pt,config:Ce,condaEnvs:It.envs||[],selectedEnv:$.condaEnv,remoteConfig:void 0})}catch(Ce){throw Q.error(Ce instanceof Error?Ce.message:e("remote.message.connectFailed")),o(!1),await ys($.host,$.port,$.username).catch(()=>{}),Ce}finally{n(!1),c(!1)}},ee=async $=>{if(!$.condaEnv||!$.remoteRoot){Q.warning(e("remote.message.incompleteConfig"));return}if($.authMethod==="password"&&!$.password){A($),j("quickstart"),k(!0);return}await ce($,$.password)},ce=async($,ue)=>{n(!0),o(!1),c(!0),f(!0);try{const Ce={host:$.host,port:$.port,username:$.username,authMethod:$.authMethod,password:ue||$.password,privateKeyPath:$.privateKeyPath,remoteRoot:$.remoteRoot,localPort:$.localPort,remotePort:$.remotePort};await Fo(Ce),n(!1),o(!0),Q.success(e("remote.message.connectSuccess"));const Pt=`${Ce.username}@${Ce.host}:${Ce.port}`,It=await qo(Pt,$.condaEnv),Y={...Ce,remoteRoot:$.remoteRoot,remotePort:It.suggestedRemotePort,condaEnv:$.condaEnv};await sm(Y),await B(),Q.success(e("remote.message.viewerStarted"))}catch(Ce){throw Q.error(Ce instanceof Error?Ce.message:e("remote.message.viewerStartFailed")),o(!1),await ys($.host,$.port,$.username).catch(()=>{}),Ce}finally{n(!1),c(!1),f(!1)}},ge=async $=>{try{await im($.sessionId),await B(),g||(o(!1),S(null)),Q.success(e("remote.message.viewerStopped"))}catch(ue){throw Q.error(ue instanceof Error?ue.message:e("remote.message.viewerStopFailed")),ue}},He=async $=>{try{await im($.sessionId),await ys($.host,$.sshPort||22,$.username||"user"),await B(),g||(o(!1),S(null)),Q.success(e("remote.message.disconnected"))}catch(ue){throw Q.error(ue instanceof Error?ue.message:e("remote.message.disconnectFailed")),ue}},Xe=F.filter($=>$.status!=="stopped"),Ne=new Set(F.map($=>$.host)).size,ut=async()=>{if(!P||!R){Q.warning(e("remote.form.password")+" "+e("remote.form.required"));return}try{D==="connect"?await K(P,R):await ce(P,R),k(!1),L(""),A(null)}catch{}},gt=()=>{k(!1),L(""),A(null)};return a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:24},children:[a.jsxs(SD,{level:2,children:[a.jsx(pi,{})," ",e("remote.title")]}),a.jsx(jD,{type:"secondary",children:e("remote.subtitle")})]}),a.jsx(Ko,{alertId:"remote.intro",type:"info",message:e("remote.help.architecture"),description:e("remote.help.advantages"),showIcon:!0,style:{marginBottom:24}}),a.jsxs(Rt,{gutter:16,style:{marginBottom:24},children:[a.jsx(ke,{span:8,children:a.jsx(An,{title:e("remote.stats.activeSessions"),value:Xe.length,icon:a.jsx(Dt,{}),gradientColors:zr.gradients.primary})}),a.jsx(ke,{span:8,children:a.jsx(An,{title:e("remote.stats.savedConfigs"),value:N.length,icon:a.jsx(d1,{}),gradientColors:zr.gradients.info})}),a.jsx(ke,{span:8,children:a.jsx(An,{title:e("remote.stats.connectedServers"),value:Ne,icon:a.jsx(pi,{}),gradientColors:zr.gradients.success})})]}),a.jsxs(Rt,{gutter:24,children:[a.jsx(ke,{xs:24,lg:12,children:g?g.remoteConfig?a.jsx(En,{spinning:d,tip:e("remote.config.fetchingConfig"),children:a.jsx(mD,{config:g.remoteConfig,sshConfig:g.config,onConfirm:oe,onCancel:he,loading:h})}):a.jsx(En,{spinning:l,tip:e("remote.env.fetching"),children:a.jsx(vD,{envs:g.condaEnvs||[],connectionId:g.connectionId,onSelect:se,onCancel:he,loading:d})}):a.jsxs(a.Fragment,{children:[a.jsx(le,{title:e("remote.form.title"),style:{marginBottom:24},children:s&&l?a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(sn,{message:e("remote.message.connectSuccess"),description:e("remote.env.fetching"),type:"success",showIcon:!0,icon:a.jsx(_r,{})}),a.jsx("div",{style:{textAlign:"center",padding:"24px 0"},children:a.jsx(En,{size:"large",tip:e("remote.env.detectingEnvironments")})})]}):a.jsx(iD,{onSubmit:J,onTest:re,loading:t})}),!s&&!l&&a.jsx(dD,{connections:N,onQuickStart:ee,onConnect:Z,onDelete:ie,loading:t})]})}),a.jsx(ke,{xs:24,lg:12,children:a.jsx(le,{title:a.jsxs(z,{children:[e("remote.session.title"),Xe.length>0&&a.jsxs(gn,{type:"secondary",children:["(",Xe.length,")"]})]}),children:Xe.length===0?a.jsx(nt,{description:a.jsxs(z,{direction:"vertical",children:[a.jsx(gn,{type:"secondary",children:e("remote.session.noActiveSessions")}),a.jsx(gn,{type:"secondary",style:{fontSize:"12px"},children:e("remote.session.startNewConnection")})]}),style:{margin:"40px 0"}}):Xe.map($=>a.jsx(uD,{session:$,onStop:ge,onDisconnect:He},$.sessionId))})})]}),a.jsx(le,{title:e("remote.help.title"),style:{marginTop:24},children:a.jsxs(z,{direction:"vertical",children:[a.jsx(gn,{children:e("remote.help.step1")}),a.jsx(gn,{children:e("remote.help.step2")}),a.jsx(gn,{children:e("remote.help.step3")}),a.jsx(gn,{children:e("remote.help.step4")}),a.jsx(gn,{children:e("remote.help.step5")}),a.jsx(gn,{children:e("remote.help.step6")})]})}),a.jsx(Pn,{title:e("remote.form.enterPassword"),open:T,onOk:ut,onCancel:gt,okText:e("remote.form.connectButton"),cancelText:e("remote.form.cancel"),confirmLoading:t,centered:!0,width:400,children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsxs(gn,{children:[e("remote.form.connectionTo"),": ",a.jsx(gn,{strong:!0,children:P==null?void 0:P.name})]}),a.jsxs(gn,{type:"secondary",children:[P==null?void 0:P.username,"@",P==null?void 0:P.host]}),a.jsx(nn.Password,{placeholder:e("remote.form.password"),value:R,onChange:$=>L($.target.value),onPressEnter:ut,autoFocus:!0,size:"large"})]})})]})}const TD=120;function RD(){const{t:e}=Be(),[t,n]=b.useState(null),[s,o]=b.useState(""),[l,c]=b.useState(!1),d=b.useRef([]),[f,h]=b.useState(0),p=b.useRef(null),[g,x]=b.useState([]);b.useEffect(()=>{let N;const H=async()=>{if(!l)try{const X=await Om();if(!(X!=null&&X.available)){n(!1),o((X==null?void 0:X.reason)||e("gpu.not_available"));return}n(!0);const ie={ts:X.ts||Date.now()/1e3,gpus:X.gpus||[]},J=d.current.slice();for(J.push(ie);J.length>TD;)J.shift();d.current=J,h(se=>se+1)}catch(X){n(!1),o((X==null?void 0:X.message)||e("gpu.not_available"))}};return H(),N=setInterval(H,2e3),()=>clearInterval(N)},[l]);const{times:v,gpuNames:S,seriesUtil:T,seriesMem:k,seriesPower:P,seriesTemp:A}=b.useMemo(()=>{const N=d.current,H=N.map(Z=>new Date((Z.ts||0)*1e3).toLocaleTimeString()),X=N.reduce((Z,K)=>{var ee;return Math.max(Z,((ee=K.gpus)==null?void 0:ee.length)||0)},0),ie=[];for(let Z=0;Z<X;Z++){const K=N.find(ee=>ee.gpus&&ee.gpus[Z]);ie.push(K?`GPU${K.gpus[Z].index} ${K.gpus[Z].name}`:`GPU${Z}`)}const J=Z=>new Array(X).fill(0).map((K,ee)=>({name:ie[ee]||`GPU${ee}`,type:"line",smooth:!0,showSymbol:!1,connectNulls:!0,data:N.map(ce=>{const ge=ce.gpus&&ce.gpus[ee]?Z(ce.gpus[ee]):null;return ge==null?null:Number(ge)})})),se=J(Z=>Z.util_gpu),oe=J(Z=>Z.mem_used_pct),he=J(Z=>Z.power_w),re=J(Z=>Z.temp_c);return{times:H,gpuNames:ie,seriesUtil:se,seriesMem:oe,seriesPower:he,seriesTemp:re}},[f]),D=b.useMemo(()=>{const N=d.current[d.current.length-1],H={utilAvg:0,memAvg:0,powerNow:0,powerMax:0,tempMax:0};if(!N||!N.gpus||N.gpus.length===0)return H;const X=N.gpus,ie=X.length,J=oe=>oe.reduce((he,re)=>he+(Number.isFinite(re)?re:0),0),se={util:X.map(oe=>Number(oe.util_gpu??0)),mem:X.map(oe=>Number(oe.mem_used_pct??0)),pwr:X.map(oe=>Number(oe.power_w??0)),pmax:X.map(oe=>Number(oe.power_limit_w??0)),temp:X.map(oe=>Number(oe.temp_c??0))};return H.utilAvg=Math.round(J(se.util)/ie),H.memAvg=Math.round(J(se.mem)/ie),H.powerNow=Math.round(J(se.pwr)),H.powerMax=Math.round(J(se.pmax)),H.tempMax=Math.max(...se.temp),H},[f]),j={left:48,right:16,top:40,bottom:40},R=b.useMemo(()=>({title:{text:e("gpu.chart.util")},tooltip:{trigger:"axis"},legend:{data:T.map(N=>N.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:0,max:100},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:T}),[v,T,e]),L=b.useMemo(()=>({title:{text:e("gpu.chart.mem")},tooltip:{trigger:"axis"},legend:{data:k.map(N=>N.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:0,max:100},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:k}),[v,k,e]),F=b.useMemo(()=>({title:{text:e("gpu.chart.power")},tooltip:{trigger:"axis"},legend:{data:P.map(N=>N.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:"dataMin",scale:!0},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:P}),[v,P,e]),B=b.useMemo(()=>({title:{text:e("gpu.chart.temp")},tooltip:{trigger:"axis"},legend:{data:A.map(N=>N.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:"dataMin",scale:!0},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:A}),[v,A,e]);return t===!1?a.jsx(sn,{type:"warning",showIcon:!0,message:e("gpu.not_available"),description:s||void 0}):a.jsxs("div",{ref:p,style:{position:"relative"},children:[a.jsxs(z,{align:"center",style:{marginBottom:8},children:[a.jsx(we.Text,{type:"secondary",children:e("polling.every2s")}),a.jsxs("span",{style:{marginLeft:12},children:[e("pause")," ",a.jsx(wt,{checked:l,onChange:c})]})]}),a.jsx(qc,{activeKey:g,onChange:N=>{x(N),setTimeout(()=>{try{window.dispatchEvent(new Event("resize"))}catch{}},350)},items:[{key:"util",label:e("gpu.chart.util"),children:a.jsx(xs,{option:R,style:{height:260,width:"100%"}})},{key:"mem",label:e("gpu.chart.mem"),children:a.jsx(xs,{option:L,style:{height:260,width:"100%"}})},{key:"power",label:e("gpu.chart.power"),children:a.jsx(xs,{option:F,style:{height:260,width:"100%"}})},{key:"temp",label:e("gpu.chart.temp"),children:a.jsx(xs,{option:B,style:{height:260,width:"100%"}})}]}),t&&g.indexOf("power")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:12,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Dt,{style:{marginRight:6}}),e("gpu.power")," ",D.powerNow,D.powerMax?`/${D.powerMax}`:""," W"]}),t&&g.indexOf("util")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:44,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Ci,{style:{marginRight:6}}),e("gpu.util")," ",D.utilAvg,"%"]}),t&&g.indexOf("mem")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:76,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(qt,{style:{marginRight:6}}),e("gpu.mem")," ",D.memAvg,"%"]}),t&&g.indexOf("temp")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:108,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Qo,{style:{marginRight:6}}),e("gpu.temp")," ",D.tempMax,"°C"]})]})}const{Text:Zs,Title:PD}=we,AD=({cpu:e,loading:t=!1})=>{const{t:n}=Be(),{token:s}=tr.useToken(),o=l=>l<60?s.colorSuccess:l<80?s.colorWarning:s.colorError;return a.jsx(le,{loading:t,children:a.jsxs(z,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(Rt,{gutter:16,align:"middle",children:[a.jsx(ke,{span:12,children:a.jsx(Gt,{title:a.jsxs(z,{children:[a.jsx(Dt,{style:{color:o(e.percent)}}),a.jsx("span",{children:n("system.cpu_overall","Overall CPU Usage")})]}),value:e.percent,precision:1,suffix:"%",valueStyle:{color:o(e.percent)}})}),a.jsx(ke,{span:12,children:a.jsxs(z,{direction:"vertical",size:4,children:[a.jsxs(Zs,{type:"secondary",children:[n("system.cpu_cores","Cores"),": ",e.count," (",e.logical_count," ",n("system.logical","logical"),")"]}),e.frequency&&a.jsxs(Zs,{type:"secondary",children:[n("system.frequency","Freq"),": ",Math.round(e.frequency.current)," MHz"]}),e.load_avg&&a.jsxs(Zs,{type:"secondary",children:["Load: ",e.load_avg.map(l=>l.toFixed(2)).join(", ")]})]})})]}),a.jsx(er,{percent:Math.round(e.percent),strokeColor:o(e.percent),style:{marginTop:16}})]}),e.per_core&&e.per_core.length>0&&a.jsxs("div",{children:[a.jsx(PD,{level:5,style:{marginBottom:16},children:n("system.cpu_per_core","Per-Core Utilization")}),a.jsx(Rt,{gutter:[16,16],children:e.per_core.map((l,c)=>a.jsx(ke,{xs:24,sm:12,md:8,lg:6,children:a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[a.jsxs(Zs,{strong:!0,children:["Core ",c]}),a.jsxs(Zs,{children:[Math.round(l),"%"]})]}),a.jsx(er,{percent:Math.round(l),strokeColor:o(l),size:"small",showInfo:!1})]})},c))})]}),e.frequency&&a.jsxs(Rt,{gutter:16,children:[a.jsx(ke,{span:8,children:a.jsx(Gt,{title:n("system.freq_current","Current Freq"),value:e.frequency.current,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})}),a.jsx(ke,{span:8,children:a.jsx(Gt,{title:n("system.freq_min","Min Freq"),value:e.frequency.min,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})}),a.jsx(ke,{span:8,children:a.jsx(Gt,{title:n("system.freq_max","Max Freq"),value:e.frequency.max,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})})]})]})})},{Text:hs,Title:BM}=we,ED=({memory:e,disk:t,loading:n=!1})=>{const{t:s}=Be(),{token:o}=tr.useToken(),l=d=>d<60?o.colorSuccess:d<80?o.colorWarning:o.colorError,c=(d,f=1)=>{if(d===0)return"0 B";const h=1024,p=f<0?0:f,g=["B","KB","MB","GB","TB"],x=Math.floor(Math.log(d)/Math.log(h));return parseFloat((d/Math.pow(h,x)).toFixed(p))+" "+g[x]};return a.jsx(le,{loading:n,children:a.jsxs(z,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(Rt,{gutter:16,align:"middle",children:[a.jsx(ke,{span:12,children:a.jsx(Gt,{title:a.jsxs(z,{children:[a.jsx(qt,{style:{color:l(e.percent)}}),a.jsx("span",{children:s("system.memory","Memory")})]}),value:c(e.used),suffix:`/ ${c(e.total)}`,valueStyle:{color:l(e.percent),fontSize:20}})}),a.jsx(ke,{span:12,children:a.jsxs(z,{direction:"vertical",size:4,children:[a.jsxs(hs,{type:"secondary",children:[s("system.available","Available"),": ",c(e.available)]}),a.jsxs(hs,{type:"secondary",children:[s("system.used_percent","Used"),": ",Math.round(e.percent),"%"]})]})})]}),a.jsx(er,{percent:Math.round(e.percent),strokeColor:l(e.percent),style:{marginTop:16}}),e.swap_total>0&&a.jsxs("div",{style:{marginTop:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[a.jsx(hs,{strong:!0,children:s("system.swap","Swap")}),a.jsxs(hs,{children:[c(e.swap_used)," / ",c(e.swap_total)]})]}),a.jsx(er,{percent:Math.round(e.swap_percent),strokeColor:l(e.swap_percent),size:"small"})]})]}),a.jsx(nr,{style:{margin:0}}),a.jsxs("div",{children:[a.jsxs(Rt,{gutter:16,align:"middle",children:[a.jsx(ke,{span:12,children:a.jsx(Gt,{title:a.jsxs(z,{children:[a.jsx(f1,{style:{color:l(t.percent)}}),a.jsxs("span",{children:[s("system.disk","Disk")," (",t.path,")"]})]}),value:c(t.used),suffix:`/ ${c(t.total)}`,valueStyle:{color:l(t.percent),fontSize:20}})}),a.jsx(ke,{span:12,children:a.jsxs(z,{direction:"vertical",size:4,children:[a.jsxs(hs,{type:"secondary",children:[s("system.free","Free"),": ",c(t.free)]}),a.jsxs(hs,{type:"secondary",children:[s("system.used_percent","Used"),": ",Math.round(t.percent),"%"]})]})})]}),a.jsx(er,{percent:Math.round(t.percent),strokeColor:l(t.percent),style:{marginTop:16}})]})]})})},{Title:kD,Text:lm}=we;function DD(){const{t:e}=Be(),{settings:t}=Ti(),[n,s]=b.useState([]),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,h]=b.useState(!0),[p,g]=b.useState(null),[x,v]=b.useState(!0);b.useEffect(()=>{let T;const k=async()=>{try{const P=await Om();if(!(P!=null&&P.available)){l(!1),d((P==null?void 0:P.reason)||e("gpu.not_available")),h(!1);return}l(!0),s(P.gpus||[]),h(!1)}catch(P){l(!1),d((P==null?void 0:P.message)||e("gpu.not_available")),h(!1)}};return k(),T=setInterval(k,2e3),()=>clearInterval(T)},[e]),b.useEffect(()=>{let T;const k=async()=>{try{const P=await E1();P!=null&&P.available&&g(P),v(!1)}catch{v(!1)}};return k(),T=setInterval(k,2e3),()=>clearInterval(T)},[]);const S=[];return t.showCpuTab!==!1&&(p!=null&&p.cpu)&&p.cpu.percent!==void 0&&S.push({key:"cpu",label:a.jsxs("span",{children:[a.jsx(Dt,{}),e("performance.tab_cpu","CPU")]}),children:a.jsx(AD,{cpu:p.cpu,loading:x})}),t.showMemoryDiskTab!==!1&&(p!=null&&p.memory)&&(p!=null&&p.disk)&&S.push({key:"memory-disk",label:a.jsxs("span",{children:[a.jsx(qt,{}),e("performance.tab_memory_disk","Memory & Disk")]}),children:a.jsx(ED,{memory:p.memory,disk:p.disk,loading:x})}),t.showGpuMetricsTab!==!1&&o&&n.length>0&&S.push({key:"gpu-metrics",label:a.jsxs("span",{children:[a.jsx(Qo,{}),e("performance.tab_gpu_metrics","GPU Metrics")]}),children:a.jsx(Wm,{gpus:n,loading:f})}),t.showGpuTelemetryTab!==!1&&o&&S.push({key:"gpu-telemetry",label:a.jsxs("span",{children:[a.jsx(Dt,{}),e("performance.tab_gpu_telemetry","GPU Telemetry")]}),children:a.jsx(le,{children:a.jsx(RD,{})})}),a.jsxs(z,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsx(le,{children:a.jsxs(z,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(z,{children:[a.jsxs(kD,{level:3,style:{margin:0},children:[a.jsx(Ci,{})," ",e("performance.title")]}),a.jsx(qe,{title:e("performance.polling_hint","Auto-polling every 2 seconds"),children:a.jsx(Te,{color:"processing",children:"Real-time"})})]}),(p==null?void 0:p.platform)&&a.jsxs(lm,{type:"secondary",children:[p.platform.system," ",p.platform.release]})]}),a.jsx(lm,{type:"secondary",children:e("performance.desc","Real-time system performance monitoring (CPU, Memory, Disk, GPU)")})]})}),S.length>0?a.jsx(Es,{items:S,defaultActiveKey:"cpu",size:"large",destroyInactiveTabPane:!0}):a.jsx(le,{children:a.jsx(nt,{description:e("performance.no_tabs","No monitoring tabs enabled. Please enable tabs in Settings.")})}),o===!1&&t.showGpuMetricsTab!==!1&&a.jsx(sn,{type:"info",message:e("gpu.not_available"),description:c||e("gpu.no_nvidia_smi"),showIcon:!0})]})}const{Text:ps,Title:MD}=we;function ID(){const{t:e}=Be(),[t,n]=b.useState(!0),[s,o]=b.useState(null),l=async()=>{n(!0);try{const[d,f,h]=await Promise.all([Lm(),Zc(),Fm().catch(()=>({total_artifacts:0}))]);o({health:d,config:f,artifacts:h})}catch(d){console.error("Failed to load system info:",d),Q.error("Failed to load system information")}finally{n(!1)}};b.useEffect(()=>{l()},[]);const c=()=>{var p,g,x,v,S,T,k,P,A,D;if(!s)return;const d=s.config.config_file||"Not available",f=s.config.config_file?s.config.config_file.replace("config.json","rate_limits.json"):"Not available",h=`
Runicorn System Information
===========================

Version Information:
- Runicorn: ${s.health.version}
- Status: ${s.health.status}

Storage Configuration:
- Storage Root: ${s.config.storage||s.config.user_root_dir||"Not configured"}

Configuration Files:
- Main Config: ${d}
- Rate Limit Config: ${f}

Cache Statistics:
- Enabled: ${((p=s.health.cache)==null?void 0:p.enabled)||"N/A"}
- Hit Rate: ${((g=s.health.cache)==null?void 0:g.hit_rate)||"N/A"}
- Hits: ${((x=s.health.cache)==null?void 0:x.hits)||0}
- Misses: ${((v=s.health.cache)==null?void 0:v.misses)||0}
- Size: ${((S=s.health.cache)==null?void 0:S.size)||0}/${((T=s.health.cache)==null?void 0:T.max_size)||0}

Artifacts Statistics:
- Total Artifacts: ${((k=s.artifacts)==null?void 0:k.total_artifacts)||0}
- Total Versions: ${((P=s.artifacts)==null?void 0:P.total_versions)||0}
- Deduplication: ${(A=s.artifacts)!=null&&A.dedup_enabled?"Enabled":"Disabled"}
- Space Saved: ${(D=s.artifacts)!=null&&D.dedup_ratio?(s.artifacts.dedup_ratio*100).toFixed(1)+"%":"N/A"}

Generated: ${new Date().toLocaleString()}
`.trim();navigator.clipboard.writeText(h).then(()=>{Q.success(e("settings.system_info.copied"))}).catch(()=>{Q.error(e("settings.system_info.copy_failed"))})};return t||!s?a.jsxs("div",{style:{padding:24,textAlign:"center"},children:[a.jsx(En,{size:"large"}),a.jsx("div",{style:{marginTop:16},children:a.jsx(ps,{type:"secondary",children:e("settings.system_info.loading")})})]}):a.jsxs(z,{direction:"vertical",size:"middle",style:{width:"100%",padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(MD,{level:4,style:{margin:0},children:[a.jsx(ta,{})," ",e("settings.system_info.title")]}),a.jsxs(z,{children:[a.jsx(pe,{icon:a.jsx(Rs,{}),onClick:l,size:"small",children:e("settings.system_info.refresh")}),a.jsx(pe,{icon:a.jsx(h1,{}),onClick:c,size:"small",children:e("settings.system_info.copy_all")})]})]}),a.jsx(le,{size:"small",title:e("settings.system_info.version_info"),children:a.jsxs(Se,{column:1,size:"small",children:[a.jsx(Se.Item,{label:e("settings.system_info.runicorn_version"),children:a.jsx(Te,{color:"blue",children:s.health.version})}),a.jsx(Se.Item,{label:e("settings.system_info.api_status"),children:a.jsx(Te,{color:s.health.status==="ok"?"green":"red",children:s.health.status.toUpperCase()})})]})}),a.jsx(le,{size:"small",title:e("settings.system_info.storage_config"),children:a.jsx(Se,{column:1,size:"small",children:a.jsx(Se.Item,{label:e("settings.system_info.storage_root"),children:a.jsx(ps,{code:!0,copyable:!0,children:s.config.storage||s.config.user_root_dir||"Not configured"})})})}),a.jsx(le,{size:"small",title:e("settings.system_info.config_files"),children:a.jsxs(Se,{column:1,size:"small",children:[a.jsx(Se.Item,{label:e("settings.system_info.config_file"),children:a.jsx(ps,{code:!0,copyable:!0,style:{fontSize:12},children:s.config.config_file||"Not available"})}),a.jsx(Se.Item,{label:e("settings.system_info.rate_limit_config"),children:a.jsx(ps,{code:!0,copyable:!0,style:{fontSize:12},children:s.config.config_file?s.config.config_file.replace("config.json","rate_limits.json"):"Not available"})})]})}),s.health.cache&&a.jsx(le,{size:"small",title:e("settings.system_info.cache_stats"),children:a.jsxs(Se,{column:2,size:"small",children:[a.jsx(Se.Item,{label:e("settings.system_info.cache_status"),children:a.jsx(Te,{color:s.health.cache.enabled?"green":"default",children:s.health.cache.enabled?"Enabled":"Disabled"})}),a.jsx(Se.Item,{label:e("settings.system_info.hit_rate"),children:a.jsx(ps,{strong:!0,children:s.health.cache.hit_rate})}),a.jsx(Se.Item,{label:e("settings.system_info.hits"),children:s.health.cache.hits}),a.jsx(Se.Item,{label:e("settings.system_info.misses"),children:s.health.cache.misses}),a.jsxs(Se.Item,{label:e("settings.system_info.cache_size"),children:[s.health.cache.size," / ",s.health.cache.max_size]})]})}),s.artifacts&&s.artifacts.total_artifacts>0&&a.jsx(le,{size:"small",title:e("settings.system_info.artifacts_stats"),children:a.jsxs(Se,{column:2,size:"small",children:[a.jsx(Se.Item,{label:e("settings.system_info.total_artifacts"),children:s.artifacts.total_artifacts}),a.jsx(Se.Item,{label:e("settings.system_info.total_versions"),children:s.artifacts.total_versions}),a.jsx(Se.Item,{label:e("settings.system_info.deduplication"),children:a.jsx(Te,{color:s.artifacts.dedup_enabled?"green":"default",children:s.artifacts.dedup_enabled?"Enabled":"Disabled"})}),s.artifacts.dedup_enabled&&s.artifacts.dedup_ratio&&a.jsx(Se.Item,{label:e("settings.system_info.space_saved"),children:a.jsxs(ps,{type:"success",strong:!0,children:[(s.artifacts.dedup_ratio*100).toFixed(1),"%"]})})]})})]})}const LD={"remote.intro":{zh:"Remote Viewer 架构介绍",en:"Remote Viewer Architecture Intro"},"remote.env.selectHint":{zh:"远程环境选择提示",en:"Remote Environment Selection Hint"},"remote.env.checkRunicorn":{zh:"Runicorn版本检查提示",en:"Runicorn Version Check Hint"},"remote.config.pathNotExists":{zh:"存储路径不存在提示",en:"Storage Path Not Exists Hint"}};function OD(){const{t:e,i18n:t}=Be(),[n,s]=b.useState([]),[o,l]=b.useState(!1),c=async()=>{l(!0);try{const p=await Qy();s(p)}catch{Q.error(e("settings.failedToLoadDismissedAlerts"))}finally{l(!1)}};b.useEffect(()=>{c()},[]);const d=async p=>{try{await hD(p),Q.success(e("settings.alertRestored")),c()}catch{Q.error(e("settings.failedToRestoreAlert"))}},f=async()=>{try{await pD(),Q.success(e("settings.allAlertsRestored")),s([])}catch{Q.error(e("settings.failedToClearAlerts"))}},h=p=>{const g=LD[p];return g?t.language==="zh"?g.zh:g.en:p};return a.jsx(le,{title:e("settings.dismissedAlerts"),extra:n.length>0&&a.jsx(pe,{icon:a.jsx(Rs,{}),onClick:f,size:"small",children:e("settings.restoreAll")}),children:n.length===0?a.jsx(nt,{image:nt.PRESENTED_IMAGE_SIMPLE,description:e("settings.noDismissedAlerts")}):a.jsx(wr,{dataSource:n,loading:o,renderItem:p=>a.jsx(wr.Item,{actions:[a.jsx(qe,{title:e("settings.restoreAlert"),children:a.jsx(pe,{type:"text",icon:a.jsx(Xc,{}),onClick:()=>d(p)})})],children:a.jsx(wr.Item.Meta,{title:h(p),description:a.jsx("span",{style:{fontSize:"12px",color:"#999"},children:p})})})})})}const FD=[{label:"Aurora",value:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)"},{label:"Sunset",value:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)"},{label:"Ocean",value:"linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)"},{label:"Forest",value:"linear-gradient(135deg, #a8e063 0%, #56ab2f 100%)"}];function zD({open:e,onClose:t,value:n,onChange:s}){const{t:o}=Be(),{token:l}=tr.useToken(),c=j=>s({...n,...j});o("settings.appearance.density_compact"),o("settings.appearance.density_default"),o("settings.appearance.density_loose");const[d,f]=b.useState(""),[h,p]=b.useState(""),[g,x]=b.useState(!1),[v,S]=b.useState(!1);b.useEffect(()=>{let j=!0;return e&&Zc().then(({user_root_dir:R,storage:L})=>{j&&(f(R||""),p(L||""))}).catch(()=>{}),()=>{j=!1}},[e]);const T=async()=>{if(!d||d.trim().length<2){Q.warning(o("settings.messages.enter_valid_path"));return}try{x(!0);const j=await I1(d.trim());p(j.storage),Q.success(o("settings.messages.updated"))}catch(j){Q.error(typeof(j==null?void 0:j.message)=="string"?j.message:o("settings.messages.update_failed"))}finally{x(!1)}},k=()=>a.jsx(z,{direction:"vertical",style:{width:"100%"},size:"middle",children:a.jsx(le,{size:"small",title:a.jsxs(z,{children:[a.jsx(fi,{}),o("settings.cards.theme")]}),children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.theme.mode")}),a.jsx(Cs.Group,{value:n.themeMode,onChange:j=>c({themeMode:j.target.value}),options:[{label:o("settings.theme.light"),value:"light"},{label:o("settings.theme.dark"),value:"dark"},{label:o("settings.theme.auto"),value:"auto"}],optionType:"button",style:{width:"100%",marginTop:8}})]}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.appearance.primary_color")}),a.jsx("div",{style:{marginTop:8},children:a.jsx(bh,{value:n.accentColor,onChange:j=>c({accentColor:j.toHexString()}),showText:!0,format:"hex"})})]}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.appearance.density")}),a.jsx(Ll,{value:n.density,onChange:j=>c({density:j}),options:[{label:o("settings.appearance.density_compact"),value:"compact"},{label:o("settings.appearance.density_default"),value:"default"},{label:o("settings.appearance.density_loose"),value:"loose"}],style:{width:"100%",marginTop:8}})]})]})})}),P=()=>a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(le,{size:"small",title:a.jsxs(z,{children:[a.jsx(_h,{}),o("settings.cards.background")]}),children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.type.label")}),a.jsx(Ll,{value:n.backgroundType,onChange:j=>c({backgroundType:j}),options:[{label:o("background.type.image"),value:"image"},{label:o("background.type.gradient"),value:"gradient"},{label:o("background.type.color"),value:"color"}],style:{width:"100%",marginTop:8}})]}),n.backgroundType==="image"&&a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.image_url")}),a.jsx(nn,{placeholder:o("background.image_url.placeholder"),value:n.backgroundImageUrl,onChange:j=>c({backgroundImageUrl:j.target.value}),style:{marginTop:8}}),n.backgroundImageUrl&&a.jsx("div",{style:{border:"1px solid #eee",borderRadius:6,overflow:"hidden",marginTop:8},children:a.jsx("img",{src:n.backgroundImageUrl,style:{width:"100%",display:"block",maxHeight:120,objectFit:"cover"},alt:o("background.image_preview")})})]}),n.backgroundType==="gradient"&&a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.gradient_presets")}),a.jsx(Ll,{value:n.backgroundGradient,onChange:j=>c({backgroundGradient:j}),options:FD,style:{width:"100%",marginTop:8}})]}),n.backgroundType==="color"&&a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.color")}),a.jsx("div",{style:{marginTop:8},children:a.jsx(bh,{value:n.backgroundColor,onChange:j=>c({backgroundColor:j.toHexString()}),showText:!0,format:"hex"})})]}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.opacity")}),a.jsx(ri,{min:0,max:1,step:.01,value:n.backgroundOpacity,onChange:j=>c({backgroundOpacity:Array.isArray(j)?j[0]:j}),marks:{0:"0%",.5:"50%",1:"100%"},style:{marginTop:8}})]})]})}),a.jsx(le,{size:"small",title:a.jsxs(z,{children:[a.jsx(Dt,{}),o("settings.cards.visual_effects")]}),children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.glass")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.glass.desc")})]}),a.jsx(wt,{checked:n.glass,onChange:j=>c({glass:j})})]}),n.glass&&a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.blur")}),a.jsx(ri,{min:0,max:30,step:1,value:n.backgroundBlur,onChange:j=>c({backgroundBlur:Array.isArray(j)?j[0]:j}),marks:{0:"0px",15:"15px",30:"30px"},style:{marginTop:8}})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.animations")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.animations.ui_desc")})]}),a.jsx(wt,{checked:n.animationsEnabled,onChange:j=>c({animationsEnabled:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.chart_animations")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.animations.chart_desc")})]}),a.jsx(wt,{checked:n.enableChartAnimations,onChange:j=>c({enableChartAnimations:j})})]})]})})]}),A=()=>a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(le,{size:"small",title:a.jsxs(z,{children:[a.jsx(qt,{}),o("settings.cards.storage")]}),children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},children:[a.jsx(sn,{type:"info",message:o("settings.data.current_storage",{path:h||o("settings.data.not_configured")||"Not configured"}),style:{marginBottom:12}}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.data.user_root.label")}),a.jsx(nn,{placeholder:o("settings.data.user_root.placeholder"),value:d,onChange:j=>f(j.target.value),style:{marginTop:8}}),a.jsx(we.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0 8px 0"},children:o("settings.data.note")}),a.jsx(pe,{loading:g,type:"primary",onClick:T,block:!0,children:o("settings.data.save")})]})]})}),a.jsx(le,{size:"small",title:a.jsxs(z,{children:[a.jsx(Zo,{}),o("settings.cards.import_export")]}),children:a.jsx(z,{direction:"vertical",style:{width:"100%"},children:a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("offline_import.title")}),a.jsx(we.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0"},children:o("offline_import.desc")}),a.jsx(m1.Dragger,{accept:".zip,.tar.gz,.tgz",multiple:!1,showUploadList:!1,disabled:v,beforeUpload:async j=>{try{S(!0);const R=await L1(j),L=((R==null?void 0:R.new_run_ids)||[]).length;Q.success(o("offline_import.success",{count:L}))}catch(R){Q.error(typeof(R==null?void 0:R.message)=="string"?R.message:o("offline_import.failed"))}finally{S(!1)}return!1},style:{padding:"12px"},children:a.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[a.jsx("div",{style:{marginBottom:4,fontSize:"14px"},children:o("offline_import.drag")}),a.jsx("div",{style:{fontSize:"11px",color:l.colorTextSecondary},children:o("offline_import.supports")}),v&&a.jsx("div",{style:{marginTop:4,color:l.colorPrimary,fontSize:"12px"},children:o("offline_import.importing")})]})})]})})}),a.jsx(OD,{})]}),D=()=>a.jsxs(z,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(le,{size:"small",title:a.jsxs(z,{children:[a.jsx(Dt,{}),o("settings.cards.performance")]}),children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.auto_refresh")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.auto_refresh.desc")})]}),a.jsx(wt,{checked:n.autoRefresh,onChange:j=>c({autoRefresh:j})})]}),n.autoRefresh&&a.jsx("div",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.refresh_interval")}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[a.jsx(fc,{min:1,max:60,value:n.refreshInterval,onChange:j=>c({refreshInterval:j||5}),style:{width:80}}),a.jsx("span",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.units.seconds")})]})]})}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.charts.default_height")}),a.jsx(ri,{min:200,max:600,step:20,value:n.defaultChartHeight,onChange:j=>c({defaultChartHeight:Array.isArray(j)?j[0]:j}),marks:{200:"200px",300:"300px",400:"400px",600:"600px"},style:{marginTop:8}})]}),a.jsx("div",{children:a.jsxs("div",{style:{marginTop:8},children:[a.jsx(we.Text,{strong:!0,children:o("settings.charts.max_points")}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[a.jsx(fc,{min:100,max:1e4,step:100,value:n.maxDataPoints,onChange:j=>c({maxDataPoints:j||1e3}),style:{width:120}}),a.jsx("span",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.units.points")})]})]})})]})}),a.jsx(le,{size:"small",title:a.jsxs(z,{children:[a.jsx(g1,{}),o("settings.cards.advanced")]}),children:a.jsxs(z,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.charts.grid_lines")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.grid_lines.desc")})]}),a.jsx(wt,{checked:n.showGridLines,onChange:j=>c({showGridLines:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.sounds")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.sounds.desc")})]}),a.jsx(wt,{checked:n.enableSounds,onChange:j=>c({enableSounds:j})})]}),a.jsx(nr,{style:{margin:"16px 0"}}),a.jsx(we.Text,{strong:!0,style:{display:"block",marginBottom:12},children:o("settings.performance.tabs_title","Performance Monitor Tabs")}),a.jsxs(z,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(we.Text,{children:o("settings.performance.show_cpu_tab","Show CPU Tab")}),a.jsx(wt,{checked:n.showCpuTab,onChange:j=>c({showCpuTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(we.Text,{children:o("settings.performance.show_memory_disk_tab","Show Memory & Disk Tab")}),a.jsx(wt,{checked:n.showMemoryDiskTab,onChange:j=>c({showMemoryDiskTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(we.Text,{children:o("settings.performance.show_gpu_metrics_tab","Show GPU Metrics Tab")}),a.jsx(wt,{checked:n.showGpuMetricsTab,onChange:j=>c({showGpuMetricsTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(we.Text,{children:o("settings.performance.show_gpu_telemetry_tab","Show GPU Telemetry Tab")}),a.jsx(wt,{checked:n.showGpuTelemetryTab,onChange:j=>c({showGpuTelemetryTab:j})})]})]})]})})]});return a.jsx(p1,{title:a.jsxs(z,{children:[a.jsx(Kc,{}),a.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:o("settings.drawer.title")})]}),width:600,open:e,onClose:t,destroyOnClose:!0,styles:{body:{padding:"16px"}},children:a.jsx(Es,{defaultActiveKey:"appearance",items:[{key:"appearance",label:a.jsxs(z,{children:[a.jsx(fi,{}),a.jsx("span",{children:o("settings.tabs.appearance")})]}),children:k()},{key:"layout",label:a.jsxs(z,{children:[a.jsx(_h,{}),a.jsx("span",{children:o("settings.tabs.layout")})]}),children:P()},{key:"data",label:a.jsxs(z,{children:[a.jsx(qt,{}),a.jsx("span",{children:o("settings.tabs.data")})]}),children:A()},{key:"performance",label:a.jsxs(z,{children:[a.jsx(Dt,{}),a.jsx("span",{children:o("settings.tabs.performance")})]}),children:D()},{key:"system_info",label:a.jsxs(z,{children:[a.jsx(ta,{}),a.jsx("span",{children:o("settings.tabs.system_info")})]}),children:a.jsx(ID,{})}],tabPosition:"top",size:"small"})})}const{Header:ND,Content:$D,Footer:VD}=Dm;function BD(){var R;const e=Pm(),n=[e.pathname.startsWith("/performance")?"performance":e.pathname.startsWith("/remote")?"remote":e.pathname.startsWith("/artifacts")?"artifacts":(e.pathname.startsWith("/runs/"),"experiments")],{t:s,i18n:o}=Be(),l={themeMode:"auto",accentColor:"#1677ff",density:"default",glass:!0,backgroundType:"gradient",backgroundImageUrl:"",backgroundGradient:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",backgroundColor:"#0b1220",backgroundOpacity:.9,backgroundBlur:8,autoRefresh:!0,refreshInterval:5,animationsEnabled:!0,enableSounds:!1,defaultChartHeight:320,showGridLines:!0,enableChartAnimations:!0,maxDataPoints:1e3,showCpuTab:!0,showMemoryDiskTab:!0,showGpuMetricsTab:!0,showGpuTelemetryTab:!0},[c,d]=b.useState(()=>{try{const L=localStorage.getItem("ui_settings");return L?{...l,...JSON.parse(L)}:l}catch{return l}});b.useEffect(()=>{try{localStorage.setItem("ui_settings",JSON.stringify(c))}catch{}},[c]);const[f,h]=b.useState(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);b.useEffect(()=>{if(!window.matchMedia)return;const L=window.matchMedia("(prefers-color-scheme: dark)"),F=B=>h(B.matches);try{L.addEventListener("change",F)}catch{L.addListener(F)}return()=>{try{L.removeEventListener("change",F)}catch{L.removeListener(F)}}},[]);const p=c.themeMode==="dark"||c.themeMode==="auto"&&f,g=b.useMemo(()=>{const L=[p?tr.darkAlgorithm:tr.defaultAlgorithm];return c.density==="compact"&&L.push(tr.compactAlgorithm),L},[p,c.density]),x=b.useMemo(()=>{const L={colorPrimary:c.accentColor};return c.density==="loose"&&(L.borderRadius=10,L.padding=16),L},[c.accentColor,c.density]),v=b.useMemo(()=>{const L={position:"fixed",inset:0,zIndex:0,pointerEvents:"none",opacity:c.backgroundOpacity,transition:"background 0.3s ease"};return c.backgroundType==="image"&&c.backgroundImageUrl?(L.backgroundImage=`url(${c.backgroundImageUrl})`,L.backgroundSize="cover",L.backgroundRepeat="no-repeat",L.backgroundPosition="center center"):c.backgroundType==="gradient"?L.backgroundImage=c.backgroundGradient:L.background=c.backgroundColor,L},[c.backgroundType,c.backgroundImageUrl,c.backgroundGradient,c.backgroundColor,c.backgroundOpacity]),S=b.useMemo(()=>{const L={borderRadius:8,transition:c.animationsEnabled?"all 0.3s ease":"none"};return c.glass?{...L,background:p?"rgba(0,0,0,0.25)":"rgba(255,255,255,0.6)",backdropFilter:`blur(${c.backgroundBlur}px)`,WebkitBackdropFilter:`blur(${c.backgroundBlur}px)`,boxShadow:p?"0 4px 30px rgba(0,0,0,0.3)":"0 4px 30px rgba(0,0,0,0.1)"}:{...L,background:p?"#111a2c":"#fff"}},[c.glass,c.backgroundBlur,c.animationsEnabled,p]),[T,k]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const L=await Zc();(!L.user_root_dir||L.user_root_dir.trim()==="")&&k(!0)}catch{}})()},[]);const[P,A]=b.useState("loading"),[D,j]=b.useState(0);return b.useEffect(()=>{let L=!0;const F=async()=>{try{await Lm(),L&&(A("ok"),j(0))}catch{L&&j(H=>{const X=H+1;return X>=2&&A("down"),X})}};F();const B=(c.autoRefresh?c.refreshInterval:5)*1e3,N=setInterval(F,B);return()=>{L=!1,clearInterval(N)}},[c.autoRefresh,c.refreshInterval]),a.jsx(y1,{theme:{algorithm:g,token:{...x,motion:c.animationsEnabled}},children:a.jsxs(dC,{value:{settings:c,setSettings:d},children:[a.jsx("div",{style:v}),a.jsxs(Dm,{style:{minHeight:"100vh",position:"relative",zIndex:1,background:"transparent",transition:c.animationsEnabled?"all 0.3s ease":"none"},children:[a.jsxs(ND,{style:{display:"flex",alignItems:"center"},children:[a.jsx("div",{style:{color:"#fff",fontWeight:700,marginRight:24},children:s("app.title")}),a.jsx(x1,{theme:"dark",mode:"horizontal",selectedKeys:n,items:[{key:"experiments",icon:a.jsx(Gc,{}),label:a.jsx(So,{to:"/",children:s("menu.experiments")})},{key:"artifacts",icon:a.jsx(qt,{}),label:a.jsx(So,{to:"/artifacts",children:s("menu.artifacts")})},{key:"performance",icon:a.jsx(Ci,{}),label:a.jsx(So,{to:"/performance",children:s("menu.performance")})},{key:"remote",icon:a.jsx(pi,{}),label:a.jsx(So,{to:"/remote",children:s("menu.remote")})}],style:{flex:1,minWidth:0}}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[P==="ok"&&a.jsx(Te,{color:"green",children:s("tag.api_ok")}),P==="loading"&&a.jsx(Te,{color:"processing",children:s("tag.api_loading")}),P==="down"&&a.jsx(Te,{children:s("tag.api_down")}),a.jsx(ht,{size:"small",value:(R=o.language)!=null&&R.startsWith("zh")?"zh":"en",onChange:L=>o.changeLanguage(L),style:{width:88},options:[{value:"en",label:"EN"},{value:"zh",label:"中文"}]}),a.jsx(pe,{type:"link",icon:a.jsx(Kc,{style:{color:"#fff"}}),onClick:()=>k(!0)})]})]}),a.jsx($D,{style:{padding:"24px"},children:a.jsx("div",{style:{...S,padding:24,minHeight:360},children:a.jsx(Kk,{children:a.jsxs(Vj,{children:[a.jsx(us,{path:"/",element:a.jsx(Yk,{})}),a.jsx(us,{path:"/runs/:id",element:a.jsx(CC,{})}),a.jsx(us,{path:"/artifacts",element:a.jsx(Jk,{})}),a.jsx(us,{path:"/artifacts/:name",element:a.jsx(sD,{})}),a.jsx(us,{path:"/performance",element:a.jsx(DD,{})}),a.jsx(us,{path:"/remote",element:a.jsx(CD,{})})]})})})}),a.jsxs(VD,{style:{textAlign:"center"},children:[" ",new Date().getFullYear()," ",s("app.title")]})]}),a.jsx(zD,{open:T,onClose:()=>k(!1),value:c,onChange:d})]})})}const _e=e=>typeof e=="string",Qs=()=>{let e,t;const n=new Promise((s,o)=>{e=s,t=o});return n.resolve=e,n.reject=t,n},cm=e=>e==null?"":""+e,UD=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},WD=/###/g,um=e=>e&&e.indexOf("###")>-1?e.replace(WD,"."):e,dm=e=>!e||_e(e),ui=(e,t,n)=>{const s=_e(t)?t.split("."):t;let o=0;for(;o<s.length-1;){if(dm(e))return{};const l=um(s[o]);!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={},++o}return dm(e)?{}:{obj:e,k:um(s[o])}},fm=(e,t,n)=>{const{obj:s,k:o}=ui(e,t,Object);if(s!==void 0||t.length===1){s[o]=n;return}let l=t[t.length-1],c=t.slice(0,t.length-1),d=ui(e,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=ui(e,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=n},HD=(e,t,n,s)=>{const{obj:o,k:l}=ui(e,t,Object);o[l]=o[l]||[],o[l].push(n)},Yo=(e,t)=>{const{obj:n,k:s}=ui(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},GD=(e,t,n)=>{const s=Yo(e,n);return s!==void 0?s:Yo(t,n)},ex=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?_e(e[s])||e[s]instanceof String||_e(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):ex(e[s],t[s],n):e[s]=t[s]);return e},ms=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var KD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qD=e=>_e(e)?e.replace(/[&<>"'\/]/g,t=>KD[t]):e;class YD{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const XD=[" ",",","?","!",";"],JD=new YD(20),ZD=(e,t,n)=>{t=t||"",n=n||"";const s=XD.filter(c=>t.indexOf(c)<0&&n.indexOf(c)<0);if(s.length===0)return!0;const o=JD.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!o.test(e);if(!l){const c=e.indexOf(n);c>0&&!o.test(e.substring(0,c))&&(l=!0)}return l},Uc=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(n);let o=e;for(let l=0;l<s.length;){if(!o||typeof o!="object")return;let c,d="";for(let f=l;f<s.length;++f)if(f!==l&&(d+=n),d+=s[f],c=o[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&f<s.length-1)continue;l+=f-l+1;break}o=c}return o},bi=e=>e==null?void 0:e.replace("_","-"),QD={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,s;(s=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||s.call(n,console,t)}};class Xo{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||QD,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,o){return o&&!this.debug?null:(_e(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Xo(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Xo(this.logger,t)}}var Fn=new Xo;class ga{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(n)||0;this.observers[s].set(n,o+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o.apply(o,[t,...n])})}}class hm extends ga{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s,o={}){var h,p;const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;t.indexOf(".")>-1?d=t.split("."):(d=[t,n],s&&(Array.isArray(s)?d.push(...s):_e(s)&&l?d.push(...s.split(l)):d.push(s)));const f=Yo(this.data,d);return!f&&!n&&!s&&t.indexOf(".")>-1&&(t=d[0],n=d[1],s=d.slice(2).join(".")),f||!c||!_e(s)?f:Uc((p=(h=this.data)==null?void 0:h[t])==null?void 0:p[n],s,l)}addResource(t,n,s,o,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[t,n];s&&(d=d.concat(c?s.split(c):s)),t.indexOf(".")>-1&&(d=t.split("."),o=n,n=d[1]),this.addNamespaces(n),fm(this.data,d,o),l.silent||this.emit("added",t,n,s,o)}addResources(t,n,s,o={silent:!1}){for(const l in s)(_e(s[l])||Array.isArray(s[l]))&&this.addResource(t,n,l,s[l],{silent:!0});o.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,o,l,c={silent:!1,skipCopy:!1}){let d=[t,n];t.indexOf(".")>-1&&(d=t.split("."),o=s,s=n,n=d[1]),this.addNamespaces(n);let f=Yo(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?ex(f,s,l):f={...f,...s},fm(this.data,d,f),c.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var tx={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,o){return e.forEach(l=>{var c;t=((c=this.processors[l])==null?void 0:c.process(t,n,s,o))??t}),t}};const nx=Symbol("i18next/PATH_KEY");function eM(){const e=[],t=Object.create(null);let n;return t.get=(s,o)=>{var l;return(l=n==null?void 0:n.revoke)==null||l.call(n),o===nx?e:(e.push(o),n=Proxy.revocable(s,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function Wc(e,t){const{[nx]:n}=e(eM());return n.join((t==null?void 0:t.keySeparator)??".")}const pm={},mm=e=>!_e(e)&&typeof e!="boolean"&&typeof e!="number";class Jo extends ga{constructor(t,n={}){super(),UD(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Fn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const s={...n};if(t==null)return!1;const o=this.resolve(t,s);return(o==null?void 0:o.res)!==void 0}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const c=s&&t.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!ZD(t,s,o);if(c&&!d){const f=t.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:t,namespaces:_e(l)?[l]:l};const h=t.split(s);(s!==o||s===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),t=h.join(o)}return{key:t,namespaces:_e(l)?[l]:l}}translate(t,n,s){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),t==null)return"";typeof t=="function"&&(t=Wc(t,{...this.options,...o})),Array.isArray(t)||(t=[String(t)]);const l=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(t[t.length-1],o),h=f[f.length-1];let p=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=o.lng||this.language,x=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return x?l?{res:`${h}${p}${d}`,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(o)}:`${h}${p}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(o)}:d;const v=this.resolve(t,o);let S=v==null?void 0:v.res;const T=(v==null?void 0:v.usedKey)||d,k=(v==null?void 0:v.exactUsedKey)||d,P=["[object Number]","[object Function]","[object RegExp]"],A=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,j=o.count!==void 0&&!_e(o.count),R=Jo.hasDefaultValue(o),L=j?this.pluralResolver.getSuffix(g,o.count,o):"",F=o.ordinal&&j?this.pluralResolver.getSuffix(g,o.count,{ordinal:!1}):"",B=j&&!o.ordinal&&o.count===0,N=B&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${L}`]||o[`defaultValue${F}`]||o.defaultValue;let H=S;D&&!S&&R&&(H=N);const X=mm(H),ie=Object.prototype.toString.apply(H);if(D&&H&&X&&P.indexOf(ie)<0&&!(_e(A)&&Array.isArray(H))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const J=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,H,{...o,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(v.res=J,v.usedParams=this.getUsedParamsDetails(o),v):J}if(c){const J=Array.isArray(H),se=J?[]:{},oe=J?k:T;for(const he in H)if(Object.prototype.hasOwnProperty.call(H,he)){const re=`${oe}${c}${he}`;R&&!S?se[he]=this.translate(re,{...o,defaultValue:mm(N)?N[he]:void 0,joinArrays:!1,ns:f}):se[he]=this.translate(re,{...o,joinArrays:!1,ns:f}),se[he]===re&&(se[he]=H[he])}S=se}}else if(D&&_e(A)&&Array.isArray(S))S=S.join(A),S&&(S=this.extendTranslation(S,t,o,s));else{let J=!1,se=!1;!this.isValidLookup(S)&&R&&(J=!0,S=N),this.isValidLookup(S)||(se=!0,S=d);const he=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&se?void 0:S,re=R&&N!==S&&this.options.updateMissing;if(se||J||re){if(this.logger.log(re?"updateKey":"missingKey",g,h,d,re?N:S),c){const ce=this.resolve(d,{...o,keySeparator:!1});ce&&ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let ce=0;ce<K.length;ce++)Z.push(K[ce]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(o.lng||this.language):Z.push(o.lng||this.language);const ee=(ce,ge,He)=>{var Ne;const Xe=R&&He!==S?He:he;this.options.missingKeyHandler?this.options.missingKeyHandler(ce,h,ge,Xe,re,o):(Ne=this.backendConnector)!=null&&Ne.saveMissing&&this.backendConnector.saveMissing(ce,h,ge,Xe,re,o),this.emit("missingKey",ce,h,ge,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?Z.forEach(ce=>{const ge=this.pluralResolver.getSuffixes(ce,o);B&&o[`defaultValue${this.options.pluralSeparator}zero`]&&ge.indexOf(`${this.options.pluralSeparator}zero`)<0&&ge.push(`${this.options.pluralSeparator}zero`),ge.forEach(He=>{ee([ce],d+He,o[`defaultValue${He}`]||N)})}):ee(Z,d,N))}S=this.extendTranslation(S,t,o,v,s),se&&S===d&&this.options.appendNamespaceToMissingKey&&(S=`${h}${p}${d}`),(se||J)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${d}`:d,J?S:void 0,o))}return l?(v.res=S,v.usedParams=this.getUsedParamsDetails(o),v):S}extendTranslation(t,n,s,o,l){var f,h;if((f=this.i18nFormat)!=null&&f.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=_e(t)&&(((h=s==null?void 0:s.interpolation)==null?void 0:h.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const v=t.match(this.interpolator.nestingRegexp);g=v&&v.length}let x=s.replace&&!_e(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),t=this.interpolator.interpolate(t,x,s.lng||this.language||o.usedLng,s),p){const v=t.match(this.interpolator.nestingRegexp),S=v&&v.length;g<S&&(s.nest=!1)}!s.lng&&o&&o.res&&(s.lng=this.language||o.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>(l==null?void 0:l[0])===v[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=_e(c)?[c]:c;return t!=null&&(d!=null&&d.length)&&s.applyPostProcessor!==!1&&(t=tx.handle(d,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,n={}){let s,o,l,c,d;return _e(t)&&(t=[t]),t.forEach(f=>{if(this.isValidLookup(s))return;const h=this.extractFromKey(f,n),p=h.key;o=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const x=n.count!==void 0&&!_e(n.count),v=x&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(_e(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(k=>{var P,A;this.isValidLookup(s)||(d=k,!pm[`${T[0]}-${k}`]&&((P=this.utils)!=null&&P.hasLoadedNamespace)&&!((A=this.utils)!=null&&A.hasLoadedNamespace(d))&&(pm[`${T[0]}-${k}`]=!0,this.logger.warn(`key "${o}" for languages "${T.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(D=>{var L;if(this.isValidLookup(s))return;c=D;const j=[p];if((L=this.i18nFormat)!=null&&L.addLookupKeys)this.i18nFormat.addLookupKeys(j,p,D,k,n);else{let F;x&&(F=this.pluralResolver.getSuffix(D,n.count,n));const B=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&F.indexOf(N)===0&&j.push(p+F.replace(N,this.options.pluralSeparator)),j.push(p+F),v&&j.push(p+B)),S){const H=`${p}${this.options.contextSeparator||"_"}${n.context}`;j.push(H),x&&(n.ordinal&&F.indexOf(N)===0&&j.push(H+F.replace(N,this.options.pluralSeparator)),j.push(H+F),v&&j.push(H+B))}}let R;for(;R=j.pop();)this.isValidLookup(s)||(l=R,s=this.getResource(D,k,R,n))}))})}),{res:s,usedKey:o,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s,o={}){var l;return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(t,n,s,o):this.resourceStore.getResource(t,n,s,o)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!_e(t.replace);let o=s?t.replace:t;if(s&&typeof t.count<"u"&&(o.count=t.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const l of n)delete o[l]}return o}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}class gm{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Fn.create("languageUtils")}getScriptPartFromCode(t){if(t=bi(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=bi(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(_e(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const o=this.getScriptPartFromCode(s);if(this.isSupportedCode(o))return n=o;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),_e(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),o=[],l=c=>{c&&(this.isSupportedCode(c)?o.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return _e(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(t))):_e(t)&&l(this.formatLanguageCode(t)),s.forEach(c=>{o.indexOf(c)<0&&l(this.formatLanguageCode(c))}),o}}const ym={zero:0,one:1,two:2,few:3,many:4,other:5},xm={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tM{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Fn.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const s=bi(t==="dev"?"en":t),o=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(s,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xm;if(!t.match(/-|_/))return xm;const f=this.languageUtils.getLanguagePartFromCode(t);c=this.getRule(f,n)}return this.pluralRulesCache[l]=c,c}needsPlural(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,s={}){return this.getSuffixes(t,s).map(o=>`${n}${o}`)}getSuffixes(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((o,l)=>ym[o]-ym[l]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(t,n,s={}){const o=this.getRule(t,s);return o?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,s))}}const vm=(e,t,n,s=".",o=!0)=>{let l=GD(e,t,n);return!l&&o&&_e(n)&&(l=Uc(e,n,s),l===void 0&&(l=Uc(t,n,s))),l},ac=e=>e.replace(/\$/g,"$$$$");class nM{constructor(t={}){var n;this.logger=Fn.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(s=>s),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:o,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:f,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:x,nestingPrefixEscaped:v,nestingSuffix:S,nestingSuffixEscaped:T,nestingOptionsSeparator:k,maxReplaces:P,alwaysFormat:A}=t.interpolation;this.escape=n!==void 0?n:qD,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?ms(l):c||"{{",this.suffix=d?ms(d):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=x?ms(x):v||ms("$t("),this.nestingSuffix=S?ms(S):T||ms(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=P||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,s,o){var v;let l,c,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=S=>{if(S.indexOf(this.formatSeparator)<0){const A=vm(n,f,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,s,{...o,...n,interpolationkey:S}):A}const T=S.split(this.formatSeparator),k=T.shift().trim(),P=T.join(this.formatSeparator).trim();return this.format(vm(n,f,k,this.options.keySeparator,this.options.ignoreJSONStructure),P,s,{...o,...n,interpolationkey:k})};this.resetRegExp();const p=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((v=o==null?void 0:o.interpolation)==null?void 0:v.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>ac(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?ac(this.escape(S)):ac(S)}].forEach(S=>{for(d=0;l=S.regex.exec(t);){const T=l[1].trim();if(c=h(T),c===void 0)if(typeof p=="function"){const P=p(t,l,o);c=_e(P)?P:""}else if(o&&Object.prototype.hasOwnProperty.call(o,T))c="";else if(g){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${t}`),c="";else!_e(c)&&!this.useRawValueToEscape&&(c=cm(c));const k=S.safeValue(c);if(t=t.replace(l[0],k),g?(S.regex.lastIndex+=c.length,S.regex.lastIndex-=l[0].length):S.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),t}nest(t,n,s={}){let o,l,c;const d=(f,h)=>{const p=this.nestingOptionsSeparator;if(f.indexOf(p)<0)return f;const g=f.split(new RegExp(`${p}[ ]*{`));let x=`{${g[1]}`;f=g[0],x=this.interpolate(x,c);const v=x.match(/'/g),S=x.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!S||S.length%2!==0)&&(x=x.replace(/'/g,'"'));try{c=JSON.parse(x),h&&(c={...h,...c})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,T),`${f}${p}${x}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,f};for(;o=this.nestingRegexp.exec(t);){let f=[];c={...s},c=c.replace&&!_e(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const h=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(h!==-1&&(f=o[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),o[1]=o[1].slice(0,h)),l=n(d.call(this,o[1].trim(),c),c),l&&o[0]===t&&!_e(l))return l;_e(l)||(l=cm(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${t}`),l=""),f.length&&(l=f.reduce((p,g)=>this.format(p,g,s.lng,{...s,interpolationkey:o[1].trim()}),l.trim())),t=t.replace(o[0],l),this.regexp.lastIndex=0}return t}}const rM=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);t==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):t==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(c=>{if(c){const[d,...f]=c.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),p=d.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:t,formatOptions:n}},wm=e=>{const t={};return(n,s,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const c=s+JSON.stringify(l);let d=t[c];return d||(d=e(bi(s),o),t[c]=d),d(n)}},sM=e=>(t,n,s)=>e(bi(n),s)(t);class iM{constructor(t={}){this.logger=Fn.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?wm:sM;this.formats={number:s((o,l)=>{const c=new Intl.NumberFormat(o,{...l});return d=>c.format(d)}),currency:s((o,l)=>{const c=new Intl.NumberFormat(o,{...l,style:"currency"});return d=>c.format(d)}),datetime:s((o,l)=>{const c=new Intl.DateTimeFormat(o,{...l});return d=>c.format(d)}),relativetime:s((o,l)=>{const c=new Intl.RelativeTimeFormat(o,{...l});return d=>c.format(d,l.range||"day")}),list:s((o,l)=>{const c=new Intl.ListFormat(o,{...l});return d=>c.format(d)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=wm(n)}format(t,n,s,o={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(f=>f.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,f)=>{var g;const{formatName:h,formatOptions:p}=rM(f);if(this.formats[h]){let x=d;try{const v=((g=o==null?void 0:o.formatParams)==null?void 0:g[o.interpolationkey])||{},S=v.locale||v.lng||o.locale||o.lng||s;x=this.formats[h](d,S,{...p,...o,...v})}catch(v){this.logger.warn(v)}return x}else this.logger.warn(`there was no format function for ${h}`);return d},t)}}const oM=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class aM extends ga{constructor(t,n,s,o={}){var l,c;super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=Fn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(c=(l=this.backend)==null?void 0:l.init)==null||c.call(l,s,o.backend,o)}queueLoad(t,n,s,o){const l={},c={},d={},f={};return t.forEach(h=>{let p=!0;n.forEach(g=>{const x=`${h}|${g}`;!s.reload&&this.store.hasResourceBundle(h,g)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?c[x]===void 0&&(c[x]=!0):(this.state[x]=1,p=!1,c[x]===void 0&&(c[x]=!0),l[x]===void 0&&(l[x]=!0),f[g]===void 0&&(f[g]=!0)))}),p||(d[h]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(t,n,s){const o=t.split("|"),l=o[0],c=o[1];n&&this.emit("failedLoading",l,c,n),!n&&s&&this.store.addResourceBundle(l,c,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const d={};this.queue.forEach(f=>{HD(f.loaded,[l],c),oM(f,t),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{d[h]||(d[h]={});const p=f.loaded[h];p.length&&p.forEach(g=>{d[h][g]===void 0&&(d[h][g]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(t,n,s,o=0,l=this.retryTimeout,c){if(!t.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:o,wait:l,callback:c});return}this.readingCalls++;const d=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,o+1,l*2,c)},l);return}c(h,p)},f=this.backend[s].bind(this.backend);if(f.length===2){try{const h=f(t,n);h&&typeof h.then=="function"?h.then(p=>d(null,p)).catch(d):d(null,h)}catch(h){d(h)}return}return f(t,n,d)}prepareLoading(t,n,s={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();_e(t)&&(t=this.languageUtils.toResolveHierarchy(t)),_e(n)&&(n=[n]);const l=this.queueLoad(t,n,s,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t,n=""){const s=t.split("|"),o=s[0],l=s[1];this.read(o,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${l} for language ${o} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${l} for language ${o}`,d),this.loaded(t,c,d)})}saveMissing(t,n,s,o,l,c={},d=()=>{}){var f,h,p,g,x;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((x=this.backend)!=null&&x.create){const v={...c,isUpdate:l},S=this.backend.create.bind(this.backend);if(S.length<6)try{let T;S.length===5?T=S(t,n,s,o,v):T=S(t,n,s,o),T&&typeof T.then=="function"?T.then(k=>d(null,k)).catch(d):d(null,T)}catch(T){d(T)}else S(t,n,s,o,d,v)}!t||!t[0]||this.store.addResource(t[0],n,s,o)}}}const _m=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),_e(e[1])&&(t.defaultValue=e[1]),_e(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),bm=e=>{var t,n;return _e(e.ns)&&(e.ns=[e.ns]),_e(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),_e(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Do=()=>{},lM=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Si extends ga{constructor(t={},n){if(super(),this.options=bm(t),this.services={},this.logger=Fn,this.modules={external:[]},lM(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(_e(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=_m();this.options={...s,...this.options,...bm(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Fn.init(o(this.modules.logger),this.options):Fn.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=iM;const p=new gm(this.options);this.store=new hm(this.options.resources,this.options);const g=this.services;g.logger=Fn,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new tM(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=o(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new nM(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new aM(o(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.languageDetector&&(g.languageDetector=o(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=o(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Jo(this.services,this.options),this.translator.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Do),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const d=Qs(),f=()=>{const h=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(g),n(p,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(t,n=Do){var l,c;let s=n;const o=_e(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const d=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&d.indexOf(g)<0&&d.push(g)})};o?f(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),(c=(l=this.options.preload)==null?void 0:l.forEach)==null||c.call(l,h=>f(h)),this.services.backendConnector.load(d,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(h)})}else s(null)}reloadResources(t,n,s){const o=Qs();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=Do),this.services.backendConnector.reload(t,n,l=>{o.resolve(),s(l)}),o}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&tx.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const s=Qs();this.emit("languageChanging",t);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,f)=>{f?this.isLanguageChangingTo===t&&(o(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,s.resolve((...h)=>this.t(...h)),n&&n(d,(...h)=>this.t(...h))},c=d=>{var p,g;!t&&!d&&this.services.languageDetector&&(d=[]);const f=_e(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(_e(d)?[d]:d);h&&(this.language||o(h),this.translator.language||this.translator.changeLanguage(h),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,h)),this.loadResources(h,x=>{l(x,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),s}getFixedT(t,n,s){const o=(l,c,...d)=>{let f;typeof c!="object"?f=this.options.overloadTranslationOptionHandler([l,c].concat(d)):f={...c},f.lng=f.lng||o.lng,f.lngs=f.lngs||o.lngs,f.ns=f.ns||o.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||s||o.keyPrefix);const h=this.options.keySeparator||".";let p;return f.keyPrefix&&Array.isArray(l)?p=l.map(g=>(typeof g=="function"&&(g=Wc(g,{...this.options,...c})),`${f.keyPrefix}${h}${g}`)):(typeof l=="function"&&(l=Wc(l,{...this.options,...c})),p=f.keyPrefix?`${f.keyPrefix}${h}${l}`:l),this.t(p,f)};return _e(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=s,o}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,f)=>{const h=this.services.backendConnector.state[`${d}|${f}`];return h===-1||h===0||h===2};if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,t)&&(!o||c(l,t)))}loadNamespaces(t,n){const s=Qs();return this.options.ns?(_e(t)&&(t=[t]),t.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=Qs();_e(t)&&(t=[t]);const o=this.options.preload||[],l=t.filter(c=>o.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=o.concat(l),this.loadResources(c=>{s.resolve(),n&&n(c)}),s):(n&&n(),Promise.resolve())}dir(t){var o,l;if(t||(t=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const c=new Intl.Locale(t);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((l=this.services)==null?void 0:l.languageUtils)||new gm(_m());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new Si(t,n)}cloneInstance(t={},n=Do){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const o={...this.options,...t,isClone:!0},l=new Si(o);if((t.debug!==void 0||t.prefix!==void 0)&&(l.logger=l.logger.clone(t)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const d=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((p,g)=>(p[g]={...f[h][g]},p),f[h]),f),{});l.store=new hm(d,o),l.services.resourceStore=l.store}return l.translator=new Jo(l.services,o),l.translator.on("*",(d,...f)=>{l.emit(d,...f)}),l.init(o,n),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Mt=Si.createInstance();Mt.createInstance=Si.createInstance;Mt.createInstance;Mt.dir;Mt.init;Mt.loadResources;Mt.reloadResources;Mt.use;Mt.changeLanguage;Mt.getFixedT;Mt.t;Mt.exists;Mt.setDefaultNamespace;Mt.hasLoadedNamespace;Mt.loadNamespaces;Mt.loadLanguages;var rx=[],cM=rx.forEach,uM=rx.slice;function dM(e){return cM.call(uM.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var Sm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,fM=function(t,n,s){var o=s||{};o.path=o.path||"/";var l=encodeURIComponent(n),c="".concat(t,"=").concat(l);if(o.maxAge>0){var d=o.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+="; Max-Age=".concat(Math.floor(d))}if(o.domain){if(!Sm.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain=".concat(o.domain)}if(o.path){if(!Sm.test(o.path))throw new TypeError("option path is invalid");c+="; Path=".concat(o.path)}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+="; Expires=".concat(o.expires.toUTCString())}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite){var f=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(f){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c},jm={create:function(t,n,s,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+s*60*1e3)),o&&(l.domain=o),document.cookie=fM(t,encodeURIComponent(n),l)},read:function(t){for(var n="".concat(t,"="),s=document.cookie.split(";"),o=0;o<s.length;o++){for(var l=s[o];l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(n)===0)return l.substring(n.length,l.length)}return null},remove:function(t){this.create(t,"",-1)}},hM={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var s=jm.read(t.lookupCookie);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&jm.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},pM={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));for(var o=s.substring(1),l=o.split("&"),c=0;c<l.length;c++){var d=l[c].indexOf("=");if(d>0){var f=l[c].substring(0,d);f===t.lookupQuerystring&&(n=l[c].substring(d+1))}}}return n}},ei=null,Cm=function(){if(ei!==null)return ei;try{ei=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{ei=!1}return ei},mM={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&Cm()){var s=window.localStorage.getItem(t.lookupLocalStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&Cm()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},ti=null,Tm=function(){if(ti!==null)return ti;try{ti=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ti=!1}return ti},gM={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&Tm()){var s=window.sessionStorage.getItem(t.lookupSessionStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&Tm()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},yM={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var s=0;s<navigator.languages.length;s++)n.push(navigator.languages[s]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},xM={name:"htmlTag",lookup:function(t){var n,s=t.htmlTag||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},vM={name:"path",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(s instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof s[t.lookupFromPathIndex]!="string")return;n=s[t.lookupFromPathIndex].replace("/","")}else n=s[0].replace("/","")}return n}},wM={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,s=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}},sx=!1;try{document.cookie,sx=!0}catch{}var ix=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];sx||ix.splice(1,1);function _M(){return{order:ix,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var ox=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};w1(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return v1(e,[{key:"init",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=dM(s,this.options||{},_M()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(l){return l.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(hM),this.addDetector(pM),this.addDetector(mM),this.addDetector(gM),this.addDetector(yM),this.addDetector(xM),this.addDetector(vM),this.addDetector(wM)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var s=this;n||(n=this.options.order);var o=[];return n.forEach(function(l){if(s.detectors[l]){var c=s.detectors[l].lookup(s.options);c&&typeof c=="string"&&(c=[c]),c&&(o=o.concat(c))}}),o=o.map(function(l){return s.options.convertDetectedLanguage(l)}),this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}},{key:"cacheUserLanguage",value:function(n,s){var o=this;s||(s=this.options.caches),s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||s.forEach(function(l){o.detectors[l]&&o.detectors[l].cacheUserLanguage(n,o.options)}))}}])}();ox.type="languageDetector";const bM={"app.title":"Runicorn Viewer","menu.runs":"Runs","menu.experiments":"Experiments","menu.comparison":"Comparison","menu.artifacts":"Artifacts","menu.performance":"Performance Monitor","menu.remote":"Remote","tag.api_ok":"API OK","tag.api_loading":"API…","tag.api_down":"API DOWN","table.project":"Project","table.name":"Name","table.run_id":"Run ID","table.status":"Status","table.best_metric":"Best Metric","table.pid":"PID","table.created":"Created","table.actions":"Actions","table.view":"View","table.duration":"Duration",pause:"Pause",Info:"Info",View:"View","Load Lineage Graph":"Load Lineage Graph",actions:"Actions",view:"View",edit:"Edit","common.dontShowAgain":"Don't show again",delete:"Delete",download:"Download",upload:"Upload",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close"},SM={"experiments.title":"Experiments","experiments.subtitle":"Track, compare, and analyze your experiments with metrics and logs","experiments.total_runs":"Total Runs","experiments.running":"Running","experiments.finished":"Finished","experiments.failed":"Failed","experiments.interrupted":"Interrupted","experiments.best_metric":"Best Metric","experiments.artifacts_created":"Artifacts","experiments.artifacts_created_tip":"{{count}} artifacts created","experiments.search_placeholder":"Search by name or ID...","experiments.compare":"Compare","experiments.export":"Export","experiments.delete":"Delete","experiments.cancel":"Cancel","experiments.fetch_failed":"Failed to fetch runs","experiments.delete_confirm_title":"Delete Runs","experiments.delete_confirm_content":"Delete {{count}} selected runs? This cannot be undone.","experiments.delete_success":"Successfully deleted {{count}} runs","experiments.delete_failed":"Failed to delete runs","experiments.export_started":"Exporting runs...","experiments.select_multiple":"Please select at least 2 runs to compare","experiments.compare_hint":"Use the comparison feature in the run detail page","experiments.select_one":"Please select at least one run to export","experiments.export_success":"Successfully exported {{count}} runs","experiments.export_failed":"Failed to export runs","experiments.export_json":"Export as JSON","experiments.export_csv":"Export as CSV","experiments.auto_refresh":"Auto-refresh","experiments.check_status":"Check Status","experiments.check_status_tooltip":"Check if running experiments are still alive and update their status","experiments.move_to_bin_title":"Move to Recycle Bin","experiments.soft_delete_confirm_content":"Move {{count}} selected runs to recycle bin?","experiments.soft_delete_note":"Files will be preserved and can be restored later.","experiments.move_to_bin":"Move to Bin","experiments.soft_delete_success":"Moved {{count}} runs to recycle bin","experiments.new_runs":"New runs detected","experiments.select_one_delete":"Please select at least one run to delete","experiments.delete_warning":"This cannot be undone!","experiments.no_runs":"No experiments found","experiments.table_total":"{{from}}-{{to}} of {{total}} items","runs.refresh":"Refresh","runs.auto_refresh_hint":"Auto refresh every 5s","runs.auto_refresh":"Auto Refresh","runs.filter.project":"Project:","runs.filter.name":"Name:","runs.filter.all":"All","runs.refreshing":"Refreshing...","run.title":"Run {{id}}","run.descriptions.status":"Status","run.descriptions.pid":"PID","run.descriptions.project":"Project","run.descriptions.name":"Name","run.descriptions.dir":"Run Dir","run.descriptions.logs":"Logs","run.descriptions.metrics":"Metrics Events","run.load_failed":"Failed to load run details","run.metrics_failed":"Failed to load metrics","run.stats.duration":"Duration","run.stats.total_steps":"Total Steps","run.stats.artifacts":"Artifacts","run.more_details":"More Details (Paths, Logs)","run.descriptions.run_id":"Run ID","run.descriptions.run_dir":"Run Dir","run.descriptions.log_file":"Log File","run.updated":"Updated: {{time}}","run.refresh":"Refresh","run.refreshed":"Refreshed","metrics.title":"Metrics","metrics.more_columns":"More Columns","metrics.more_columns_tooltip":"Display charts in multiple columns for better comparison","metrics.none":"No step metrics yet.","logs.title":"Live Logs","logs.status.connected":"Connected","logs.status.connecting":"Connecting...","logs.status.disconnected":"Disconnected","logs.status.retry_in":"retry in {{sec}}s","logs.tooltip.autoscroll":"Automatically scroll to the latest line","logs.autoscroll":"Auto Scroll","logs.tooltip.filter_tqdm":"Hide tqdm progress frames to reduce noise","logs.filter_tqdm":"Filter tqdm","logs.clear":"Clear","logs.copy":"Copy","logs.copied":"Copied logs to clipboard","logs.copy_failed":"Copy failed","gpu.util":"Util","gpu.mem":"Memory","gpu.power":"Power","gpu.temp":"Temp","gpu.chart.util":"GPU Utilization %","gpu.chart.mem":"Memory Used %","gpu.chart.power":"Power (W)","gpu.chart.temp":"Temperature (°C)","gpu.not_available":"GPU telemetry not available","gpu.title":"GPU Telemetry","gpu.detail":"GPUs: {{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"Polling every 2s","gpu.monitor_title":"GPU Monitor","gpu.monitor_desc":"Real-time GPU metrics and performance telemetry","gpu.telemetry_charts":"GPU Telemetry","gpu.history_2min":"Last 2 minutes","gpu.no_nvidia_smi":"nvidia-smi not found","gpu.polling_every_2s":"Auto-polling every 2 seconds","system.title":"System Metrics","system.cpu":"CPU","system.memory":"Memory","system.disk":"Disk","system.cpu_cores":"Cores","system.logical":"logical","system.frequency":"Freq","system.available":"Available","system.swap":"Swap","system.free":"Free","system.used_percent":"Used","system.cpu_overall":"Overall CPU Usage","system.cpu_per_core":"Per-Core Utilization","system.freq_current":"Current Freq","system.freq_min":"Min Freq","system.freq_max":"Max Freq","performance.title":"Performance Monitor","performance.desc":"Real-time system performance monitoring (CPU, Memory, Disk, GPU)","performance.polling_hint":"Auto-polling every 2 seconds","performance.tab_cpu":"CPU","performance.tab_memory_disk":"Memory & Disk","performance.tab_gpu_metrics":"GPU Metrics","performance.tab_gpu_telemetry":"GPU Telemetry","performance.no_tabs":"No monitoring tabs enabled. Please enable tabs in Settings.","compare.title":"Compare Runs (Same Experiment)","compare.select.runs":"Runs:","compare.select.runs.placeholder":"Select runs to overlay","compare.select.metrics":"Metrics:","compare.select.metrics.placeholder":"Select metric keys","compare.stepx":"Step X:","compare.refresh":"Refresh","compare.tip":"Select one or more runs and metrics to overlay.","comparison.select_runs":"Select Runs","comparison.select_runs_placeholder":"Choose runs to compare","comparison.select_metrics":"Select Metrics","comparison.select_metrics_placeholder":"Choose metrics to display","comparison.refresh":"Refresh","comparison.x_axis":"X-Axis","comparison.fetch_failed":"Failed to fetch runs","comparison.load_failed":"Failed to load metrics","comparison.loading":"Loading metrics...","comparison.no_runs_selected":"Select runs to start comparison","comparison.no_metrics_selected":"No metrics available or selected","comparison.need_multiple":"Please select at least 2 runs for comparison","comparison.best_results":"Best Results","comparison.info_title":"Cross-Experiment Comparison","comparison.info_desc":"Compare runs across different projects and experiments. For comparing runs within the same experiment, use the comparison feature in the run detail page.","recycle_bin.title":"Recycle Bin","recycle_bin.tooltip":"View and restore deleted experiments","recycle_bin.description":"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.","recycle_bin.original_status":"Original Status","recycle_bin.deleted_at":"Deleted At","recycle_bin.restore_single":"Restore this run","recycle_bin.restore_selected":"Restore Selected","recycle_bin.empty_bin":"Empty Bin","recycle_bin.empty_confirm_title":"Empty Recycle Bin","recycle_bin.empty_confirm_desc":"This will permanently delete all runs in recycle bin. This cannot be undone!","recycle_bin.empty_confirm":"Yes, Delete All","recycle_bin.fetch_failed":"Failed to load recycle bin","recycle_bin.select_to_restore":"Please select runs to restore","recycle_bin.restore_success":"Restored {{count}} runs","recycle_bin.restore_failed":"Failed to restore runs","recycle_bin.empty_success":"Permanently deleted {{count}} runs","recycle_bin.empty_failed":"Failed to empty recycle bin","recycle_bin.empty_state":"Recycle bin is empty","recycle_bin.selection_info":"{{count}} runs selected for restoration","recycle_bin.table_total":"{{from}}-{{to}} of {{total}} items"},jM={"menu.artifacts":"Artifacts","artifacts.title":"Artifacts","artifacts.description":"Version-controlled models, datasets, and files","artifacts.type.all":"All Types","artifacts.type.model":"Models","artifacts.type.dataset":"Datasets","artifacts.type.config":"Configs","artifacts.type.code":"Code","artifacts.type.custom":"Custom","artifacts.search_placeholder":"Search artifacts...","artifacts.no_artifacts":"No artifacts found","artifacts.create_first":"Create your first artifact by logging it from your training code","artifacts.latest_version":"Latest: v{{version}}","artifacts.versions_count":"{{count}} versions","artifacts.size":"Size","artifacts.files":"Files","artifacts.created":"Created","artifacts.updated":"Updated","artifacts.aliases":"Aliases","artifacts.view_versions":"View Versions","artifacts.download":"Download","artifacts.delete":"Delete","artifacts.delete_confirm":"Delete artifact {{name}}:v{{version}}?","artifacts.delete_warning":"This action cannot be undone!","artifacts.stats.total":"Total Artifacts","artifacts.stats.total_versions":"Total Versions","artifacts.stats.total_size":"Total Size","artifacts.stats.dedup_saved":"Space Saved (Dedup)","artifact.detail.title":"Artifact: {{name}}","artifact.detail.version":"Version {{version}}","artifact.detail.type":"Type","artifact.detail.status":"Status","artifact.detail.created_by":"Created By","artifact.detail.created_at":"Created At","artifact.detail.size":"Size","artifact.detail.files_count":"Files","artifact.detail.description":"Description","artifact.detail.metadata":"Metadata","artifact.detail.tags":"Tags","artifact.detail.no_description":"No description provided","artifact.detail.no_metadata":"No metadata","artifact.detail.no_tags":"No tags","artifact.detail.storage_path":"Storage Path","artifact.versions.title":"Version History","artifact.versions.current":"Current Version","artifact.versions.all":"All Versions","artifact.versions.compare":"Compare Versions","artifact.versions.version":"Version","artifact.versions.date":"Date","artifact.versions.run":"Run","artifact.versions.size":"Size","artifact.versions.files":"Files","artifact.versions.actions":"Actions","artifact.files.title":"Files","artifact.files.name":"Name","artifact.files.size":"Size","artifact.files.hash":"Hash","artifact.files.download_file":"Download File","artifact.files.no_files":"No files in this artifact","artifact.references.title":"External References","artifact.references.uri":"URI","artifact.references.checksum":"Checksum","artifact.references.no_references":"No external references","artifact.lineage.title":"Lineage Graph","artifact.lineage.description":"Shows how this artifact was created and how it is used","artifact.lineage.upstream":"Upstream Dependencies","artifact.lineage.downstream":"Downstream Usage","artifact.lineage.no_dependencies":"No dependencies found","artifact.lineage.loading":"Loading lineage graph...","artifact.lineage.error":"Failed to load lineage graph","artifact.lineage.node.artifact":"Artifact","artifact.lineage.node.run":"Run","artifact.lineage.edge.uses":"uses","artifact.lineage.edge.produces":"produces","artifact.training.tab":"Training History","artifact.training.title":"Training Information","artifact.training.no_data":"No training information available","artifact.training.view_run":"View Training Run","artifact.training.run_name":"Run Name","artifact.training.project":"Project","artifact.training.status":"Status","artifact.training.duration":"Duration","artifact.training.created_at":"Created At","artifact.training.key_metrics":"Key Metrics","artifact.performance.tab":"Performance","artifact.performance.title":"Performance History","artifact.performance.no_data":"No performance data available","artifact.performance.select_metrics":"Select metrics to display","artifact.performance.select_metrics_hint":"Please select metrics to display","artifact.performance.metrics":"Metrics","artifacts.stage":"Stage","artifacts.stage.experimental":"Experimental","artifacts.stage.staging":"Staging","artifacts.stage.production":"Production","artifacts.stage.archived":"Archived"},CM={"remote.title":"Remote Viewer","remote.subtitle":"Connect to remote server via SSH and start Viewer","remote.form.title":"Step 1: Connect to Remote Server","remote.form.connectButton":"Connect to Server","remote.form.host":"Remote Host","remote.form.hostPlaceholder":"192.168.1.100 or server.example.com","remote.form.port":"SSH Port","remote.form.username":"Username","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"Authentication Method","remote.form.password":"Password","remote.form.passwordAuth":"Password","remote.form.keyAuth":"Private Key","remote.form.privateKey":"Private Key Path","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"Passphrase (optional)","remote.form.remoteRoot":"Remote Storage Path","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"Local Port","remote.form.localPortHelp":"Leave empty to auto-assign","remote.form.remotePort":"Remote Port","remote.form.saveConfig":"Save this connection","remote.form.savePassword":"Also save password (insecure, use with caution)","remote.form.saveName":"Configuration Name","remote.form.saveNamePlaceholder":"GPU Server - Lab","remote.form.browse":"Browse...","remote.form.connect":"Connect and Start Viewer","remote.form.testConnection":"Test Connection","remote.form.cancel":"Cancel","remote.form.enterPassword":"Enter Password","remote.form.connectionTo":"Connection to","remote.form.required":"is required","remote.session.title":"Active Sessions","remote.session.noActiveSessions":"No active sessions","remote.session.startNewConnection":"Start a new connection to begin","remote.session.localAccess":"Local Access","remote.session.remotePath":"Remote Path","remote.session.sshPort":"SSH Port","remote.session.remotePort":"Remote Viewer Port","remote.session.remotePid":"Remote PID","remote.session.startedAt":"Started At","remote.session.open":"Open Viewer","remote.session.stop":"Stop","remote.session.disconnect":"Disconnect","remote.session.reconnect":"Reconnect","remote.status.connecting":"Connecting...","remote.status.running":"Running","remote.status.stopping":"Stopping...","remote.status.stopped":"Stopped","remote.status.error":"Error","remote.status.disconnected":"Disconnected","remote.saved.title":"Saved Connections","remote.saved.quickStart":"Quick Start","remote.saved.connectOnly":"Connect Only","remote.saved.edit":"Edit","remote.saved.delete":"Delete","remote.saved.empty":"No saved connections","remote.saved.emptyHint":"Save frequently used connection configs for quick access","remote.message.connectSuccess":"SSH connected successfully","remote.message.connectFailed":"Failed to connect via SSH","remote.message.viewerStarted":"Remote Viewer started successfully!","remote.message.viewerStartFailed":"Failed to start Remote Viewer","remote.message.viewerStopped":"Remote Viewer stopped","remote.message.viewerStopFailed":"Failed to stop Remote Viewer","remote.message.disconnected":"Disconnected","remote.message.disconnectFailed":"Failed to disconnect","remote.message.testSuccess":"Connection test successful","remote.message.testFailed":"Connection test failed","remote.message.configSaved":"Configuration saved","remote.message.configDeleted":"Configuration deleted","remote.message.confirmDelete":"Are you sure you want to delete this connection?","remote.message.confirmDisconnect":"Are you sure you want to disconnect? This will stop the remote Viewer.","remote.message.sessionLost":"Session disconnected. Reconnect?","remote.message.passwordNotSaved":"Password not saved, please re-enter password","remote.message.incompleteConfig":"Incomplete connection config, please reconfigure","remote.message.cancelled":"Cancelled","remote.error.sshAuthFailed":"SSH authentication failed. Please check username and password","remote.error.remotePathNotFound":"Remote path does not exist","remote.error.portInUse":"Local port is already in use","remote.error.connectionTimeout":"Connection timeout","remote.error.invalidConfig":"Invalid configuration","remote.error.unknown":"Unknown error","remote.help.title":"Help","remote.help.step1":"1. Fill in SSH connection info for remote server","remote.help.step2":"2. Choose authentication method (password or key)","remote.help.step3":"3. Specify remote storage path","remote.help.step4":'4. Click "Connect and Start Viewer"',"remote.help.step5":"5. Wait for Remote Viewer to start","remote.help.step6":'6. Click "Open Viewer" to access in new window',"remote.help.architecture":"Remote Viewer uses a VSCode Remote-like architecture, running Viewer on remote server and accessing via SSH tunnel.","remote.help.advantages":"Advantages: Real-time access, no sync needed, saves storage","remote.stats.activeSessions":"Active Sessions","remote.stats.savedConfigs":"Saved Configs","remote.stats.connectedServers":"Connected Servers","remote.env.title":"Select Conda Environment","remote.env.selectHint":"Multiple Python environments detected","remote.env.selectDescription":"Please select the conda environment you want to use. The system will check if runicorn is installed in that environment.","remote.env.default":"Default","remote.env.system":"System","remote.env.checkRunicorn":"Will check runicorn installation","remote.env.checkRunicornHint":"If runicorn is not installed in the selected environment, you will be prompted to install it.","remote.env.continue":"Continue","remote.env.detecting":"Detecting Environment","remote.env.detectingEnvironment":"Detecting {{env}} environment, please wait...","remote.env.detectFailed":"Detection failed","remote.env.detectFailedMessage":"Unable to detect Python and Runicorn versions in this environment. Please check network connection or environment configuration.","remote.env.runicornNotInstalled":"Not installed","remote.env.runicornNotInstalledTitle":"Runicorn Not Installed","remote.env.runicornNotInstalledMessage":"The selected environment does not have Runicorn installed, cannot start Remote Viewer.","remote.env.installInstructions":"Please install Runicorn on the remote server:","remote.env.activateCommand":"Activate environment","remote.env.installCommand":"Install Runicorn","remote.env.versionTooOldTitle":"Runicorn Version Too Old","remote.env.versionTooOldMessage":"The remote Runicorn version is {{version}}, which is below 0.5.0 and does not support Remote Viewer.","remote.env.upgradeInstructions":"Please upgrade to the latest version:","remote.env.versionMismatchTitle":"Runicorn Version Mismatch","remote.env.versionMismatchMessage":"Local and remote Runicorn versions do not match, which may cause functionality issues or degraded experience.","remote.env.localVersion":"Local Version","remote.env.remoteVersion":"Remote Version","remote.env.versionMismatchWarning":"It is recommended to keep versions consistent for the best experience, but you can still continue.","remote.env.continueAnyway":"Continue Anyway","remote.env.noEnvs":"No Python environments detected","remote.env.fetching":"Detecting conda environments...","remote.env.detectingEnvironments":"Detecting Python environments, please wait...","remote.config.title":"Step 3: Confirm Server Configuration","remote.config.connected":"SSH Connected Successfully","remote.config.pythonVersion":"Python Version","remote.config.runicornVersion":"Runicorn Version","remote.config.storageRoot":"Storage Root","remote.config.exists":"Exists","remote.config.notExists":"Not Exists","remote.config.suggestedPort":"Suggested Port","remote.config.confirmStorageRoot":"Confirm Remote Storage Root","remote.config.startViewer":"Start Remote Viewer","remote.config.pathNotExistsWarning":"Storage path does not exist","remote.config.pathNotExistsHint":"The directory will be created automatically on first use","remote.config.fetchingConfig":"Fetching server configuration...","remote.config.fetchFailed":"Failed to fetch server configuration"},TM={"settings.system_info.title":"System Information","settings.system_info.refresh":"Refresh","settings.system_info.copy_all":"Copy All","settings.system_info.copied":"System information copied to clipboard","settings.system_info.copy_failed":"Failed to copy to clipboard","settings.system_info.loading":"Loading system information...","settings.system_info.version_info":"Version Information","settings.system_info.runicorn_version":"Runicorn Version","settings.system_info.api_status":"API Status","settings.system_info.storage_config":"Storage Configuration","settings.system_info.storage_root":"Storage Root","settings.system_info.config_files":"Configuration Files","settings.system_info.config_file":"Main Config","settings.system_info.rate_limit_config":"Rate Limit Config","settings.system_info.cache_stats":"Cache Statistics","settings.system_info.cache_status":"Status","settings.system_info.hit_rate":"Hit Rate","settings.system_info.hits":"Hits","settings.system_info.misses":"Misses","settings.system_info.cache_size":"Cache Size","settings.system_info.artifacts_stats":"Artifacts Statistics","settings.system_info.total_artifacts":"Total Artifacts","settings.system_info.total_versions":"Total Versions","settings.system_info.deduplication":"Deduplication","settings.system_info.space_saved":"Space Saved","settings.system_info.help_text":'This information is useful for debugging and support. Click "Copy All" to copy all details to clipboard.',"settings.drawer.title":"Settings","settings.theme.title":"Theme","settings.theme.mode":"Mode","settings.theme.light":"Light","settings.theme.dark":"Dark","settings.theme.auto":"Follow System","settings.appearance.primary_color":"Primary Color","settings.appearance.density":"Density","settings.appearance.density_compact":"Compact (high info density)","settings.appearance.density_default":"Default","settings.appearance.density_loose":"Loose (more whitespace)","settings.glass":"Glass effect","settings.glass.on":"On","settings.glass.off":"Off","settings.performance.auto_refresh":"Auto Refresh","settings.performance.refresh_interval":"Refresh Interval","settings.performance.animations":"UI Animations","settings.performance.chart_animations":"Chart Animations","settings.performance.sounds":"Sound Notifications","settings.charts.default_height":"Default Chart Height","settings.charts.grid_lines":"Show Grid Lines","settings.charts.max_points":"Max Data Points","settings.animations.ui_desc":"Page transitions, hover effects, modal animations","settings.animations.chart_desc":"Chart data loading animations, smooth transitions","settings.units.seconds":"seconds","settings.units.points":"points","settings.units.pixels":"px","settings.data.not_configured":"Not configured","settings.auto_refresh.desc":"Automatically refresh experiment data","settings.grid_lines.desc":"Display grid lines in charts for better readability","settings.sounds.desc":"Play notification sounds for alerts and status changes","settings.glass.desc":"Glass morphism effect with background blur","settings.tabs.appearance":"Appearance","settings.tabs.layout":"Layout","settings.tabs.data":"Data","settings.tabs.performance":"Performance","settings.tabs.system_info":"System Info","settings.cards.theme":"Theme","settings.cards.background":"Background","settings.cards.visual_effects":"Visual Effects","settings.cards.storage":"Storage Settings","settings.cards.import_export":"Import & Export","settings.cards.performance":"Performance","settings.cards.advanced":"Advanced","settings.data.title":"Data Directory","settings.data.current_storage":"Current storage: {{path}}","settings.data.user_root.label":"User root directory (lower priority than env RUNICORN_DIR)","settings.data.user_root.placeholder":"e.g. D:\\RunicornData","settings.data.note":"Saved to user config and takes effect immediately. If RUNICORN_DIR is set, it has higher priority.","settings.data.save":"Save Data Directory","settings.messages.enter_valid_path":"Please enter a valid absolute path (e.g. D:\\RunicornData)","settings.messages.updated":"User root updated","settings.messages.update_failed":"Update failed","background.title":"Background","background.type.label":"Background Type","background.type.image":"Image","background.type.gradient":"Gradient","background.type.color":"Color","background.image_url":"Image URL","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"Background preview","background.gradient_presets":"Gradient presets","background.color":"Background color","background.opacity":"Opacity","background.blur":"Blur","offline_import.title":"Offline Import (zip / tar.gz)","offline_import.desc":"Import runs exported from offline Linux servers into the local storage for viewing.","offline_import.drag":"Drag file here or click to select","offline_import.supports":"Supports .zip / .tar.gz (internal layout: project/name/runs/<run_id>)","offline_import.importing":"Importing…","offline_import.success":"Imported {{count}} new runs.","offline_import.failed":"Import failed","remote_moved.title":"Remote Sync","remote_moved.tip":'Remote live sync has moved to a dedicated page. Use the top "Remote" menu or click to open.',"chart.controls.title":"Chart Controls","chart.log_y":"Log Scale Y","chart.log_y_tooltip":"Use logarithmic y-axis (hides non-positive values)","chart.auto_scale":"Auto Scale Y","chart.auto_scale_tooltip":"Dynamic y-axis (do not force start at 0)","chart.smooth":"Smoothing","chart.smooth_tooltip":"Exponential moving average smoothing","chart.x_axis":"X Axis","chart.x_axis_tooltip":"X-axis source column","chart.export_csv":"Export CSV","chart.y_axis_controls":"Y-Axis","chart.linear":"Linear","chart.log":"Log","chart.auto":"Auto","chart.fixed":"Fixed","chart.off":"Off","remote.title":"Remote Sync (SSH)","remote.desc":"Establish SSH connection to a Linux server, browse and choose a remote directory as data source, mirror to local storage and visualize on the Runs page.","remote.connect.title":"Connect to server","remote.placeholder.host":"Host, e.g. 10.0.0.2","remote.placeholder.port":"Port","remote.placeholder.user":"Username","remote.placeholder.password":"Password (optional)","remote.placeholder.pkey":"Private key content (optional)","remote.placeholder.pkey_path":"Or private key path (optional, e.g. ~/.ssh/id_rsa)","remote.connect.button":"Connect","remote.connected":"Connected: {{user}}@{{host}}:{{port}}","remote.disconnect":"Disconnect","remote.choose.title":"Choose remote directory","remote.current_dir":"Current:","remote.up":"Up","remote.refresh":"Refresh","remote.empty":"Empty or no permission","remote.interval.suffix":"sec","remote.sync_dir":"Sync this directory","remote.tip":"Select project/name/runs (new) or runs (legacy) instead of a specific <run_id>.","remote.tasks.title":"Sync Tasks","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"Stop","remote.tasks.none":"No tasks","remote.to_runs":"After syncing, go to the Runs page for visualization.","remote.msg.fill_host_user":"Please fill host and username","remote.msg.ssh_connected":"SSH connected","remote.msg.connect_failed":"Connection failed","remote.msg.dir_failed":"Failed to list directory","remote.msg.need_connect":"Please connect SSH first","remote.msg.need_path":"Please choose a remote directory","remote.msg.started":"Live sync started","remote.msg.start_failed":"Failed to start","remote.msg.mirror_configured":"Mirror mode configured successfully","settings.performance.tabs_title":"Performance Monitor Tabs","settings.performance.show_cpu_tab":"Show CPU Tab","settings.performance.show_memory_disk_tab":"Show Memory & Disk Tab","settings.performance.show_gpu_metrics_tab":"Show GPU Metrics Tab","settings.performance.show_gpu_telemetry_tab":"Show GPU Telemetry Tab","settings.dismissedAlerts":"Dismissed Alerts","settings.noDismissedAlerts":"No dismissed alerts","settings.restoreAlert":"Restore","settings.restoreAll":"Restore All","settings.alertRestored":"Alert restored","settings.allAlertsRestored":"All alerts restored","settings.failedToLoadDismissedAlerts":"Failed to load dismissed alerts","settings.failedToRestoreAlert":"Failed to restore alert","settings.failedToClearAlerts":"Failed to clear alerts"},RM={...bM,...SM,...jM,...CM,...TM},PM={"app.title":"Runicorn 查看器","menu.runs":"运行","menu.experiments":"实验管理","menu.comparison":"对比分析","menu.artifacts":"模型仓库","menu.performance":"性能监控","menu.remote":"远程","tag.api_ok":"API 正常","tag.api_loading":"API…","tag.api_down":"API 不可用","table.project":"项目","table.name":"实验","table.run_id":"运行 ID","table.status":"状态","table.best_metric":"最佳指标","table.pid":"PID","table.created":"创建时间","table.actions":"操作","table.view":"查看","table.duration":"耗时",pause:"暂停",Info:"信息",View:"查看","Load Lineage Graph":"加载血缘关系图",actions:"操作",view:"查看",edit:"编辑","common.dontShowAgain":"不再提示",delete:"删除",download:"下载",upload:"上传",save:"保存",cancel:"取消",confirm:"确认",close:"关闭"},AM={"experiments.title":"实验管理","experiments.subtitle":"追踪、对比和分析您的实验指标与日志","experiments.total_runs":"总运行数","experiments.running":"运行中","experiments.finished":"已完成","experiments.failed":"失败","experiments.interrupted":"已中断","experiments.best_metric":"最佳指标","experiments.artifacts_created":"产出模型","experiments.artifacts_created_tip":"创建了 {{count}} 个模型","experiments.artifacts_used":"使用模型","experiments.search_placeholder":"搜索实验名称或ID...","experiments.compare":"对比","experiments.export":"导出","experiments.delete":"删除","experiments.cancel":"取消","experiments.fetch_failed":"获取运行列表失败","experiments.delete_confirm_title":"删除运行","experiments.delete_confirm_content":"确定要删除选中的 {{count}} 个运行吗？此操作无法撤销。","experiments.delete_success":"成功删除 {{count}} 个运行","experiments.delete_failed":"删除失败","experiments.export_started":"正在导出运行数据...","experiments.select_multiple":"请至少选择2个运行进行对比","experiments.compare_hint":"请使用运行详情页面的对比功能","experiments.select_one":"请至少选择一个运行进行导出","experiments.export_success":"成功导出 {{count}} 个运行","experiments.export_failed":"导出失败","experiments.export_json":"导出为 JSON","experiments.export_csv":"导出为 CSV","experiments.auto_refresh":"自动刷新","experiments.check_status":"检查状态","experiments.check_status_tooltip":"检查运行中的实验是否仍然存活并更新其状态","experiments.move_to_bin_title":"移至回收站","experiments.soft_delete_confirm_content":"将{{count}}个选中的运行移至回收站？","experiments.soft_delete_note":"文件将被保留，稍后可以恢复。","experiments.move_to_bin":"移至回收站","experiments.soft_delete_success":"已将{{count}}个运行移至回收站","experiments.new_runs":"检测到新运行","experiments.select_one_delete":"请至少选择一个运行进行删除","experiments.delete_warning":"此操作不可撤销！","experiments.no_runs":"未找到实验","experiments.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项","runs.refresh":"刷新","runs.auto_refresh_hint":"每 5 秒自动刷新","runs.auto_refresh":"自动刷新","runs.filter.project":"项目：","runs.filter.name":"实验：","runs.filter.all":"全部","runs.refreshing":"刷新中...","run.title":"运行 {{id}}","run.descriptions.status":"状态","run.descriptions.pid":"PID","run.descriptions.project":"项目","run.descriptions.name":"实验","run.descriptions.dir":"运行目录","run.descriptions.logs":"日志","run.descriptions.metrics":"指标事件","run.load_failed":"加载运行详情失败","run.metrics_failed":"加载指标失败","run.stats.duration":"运行时长","run.stats.total_steps":"总步数","run.stats.artifacts":"产出物","run.more_details":"更多详情（路径、日志）","run.descriptions.run_id":"运行 ID","run.descriptions.run_dir":"运行目录","run.descriptions.log_file":"日志文件","run.updated":"更新于：{{time}}","run.refresh":"刷新","run.refreshed":"已刷新","metrics.title":"指标","metrics.more_columns":"多列布局","metrics.more_columns_tooltip":"多列显示图表以便更好地对比","metrics.none":"暂无步进指标。","logs.title":"实时日志","logs.status.connected":"已连接","logs.status.connecting":"连接中...","logs.status.disconnected":"已断开","logs.status.retry_in":"{{sec}} 秒后重试","logs.tooltip.autoscroll":"自动滚动到最新行","logs.autoscroll":"自动滚动","logs.tooltip.filter_tqdm":"隐藏 tqdm 进度帧以降低噪声","logs.filter_tqdm":"过滤 tqdm","logs.clear":"清空","logs.copy":"复制","logs.copied":"已复制日志到剪贴板","logs.copy_failed":"复制失败","gpu.util":"利用率","gpu.mem":"显存","gpu.power":"功耗","gpu.temp":"温度","gpu.chart.util":"GPU 利用率 %","gpu.chart.mem":"显存使用 %","gpu.chart.power":"功耗 (W)","gpu.chart.temp":"温度 (°C)","gpu.not_available":"GPU 面板不可用","gpu.title":"GPU 面板","gpu.detail":"GPU 数：{{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"每 2 秒轮询","gpu.monitor_title":"GPU 监控","gpu.monitor_desc":"实时 GPU 性能指标与曲线数据","gpu.telemetry_charts":"GPU 曲线图表","gpu.history_2min":"最近 2 分钟","gpu.no_nvidia_smi":"未找到 nvidia-smi","gpu.polling_every_2s":"每 2 秒自动轮询","system.title":"系统指标","system.cpu":"CPU","system.memory":"内存","system.disk":"磁盘","system.cpu_cores":"核心","system.logical":"逻辑","system.frequency":"频率","system.available":"可用","system.swap":"交换空间","system.free":"空闲","system.used_percent":"已用","system.cpu_overall":"CPU 总体使用率","system.cpu_per_core":"各核心使用率","system.freq_current":"当前频率","system.freq_min":"最低频率","system.freq_max":"最高频率","performance.title":"性能监控","performance.desc":"实时系统性能监控（CPU、内存、磁盘、GPU）","performance.polling_hint":"每 2 秒自动轮询","performance.tab_cpu":"CPU","performance.tab_memory_disk":"内存与磁盘","performance.tab_gpu_metrics":"GPU 指标","performance.tab_gpu_telemetry":"GPU 曲线","performance.no_tabs":"没有启用监控模块。请在设置中启用。","compare.title":"对比运行（同一实验）","compare.select.runs":"运行：","compare.select.runs.placeholder":"选择需要叠加的运行","compare.select.metrics":"指标：","compare.select.metrics.placeholder":"选择指标键","compare.stepx":"横轴：","compare.refresh":"刷新","compare.tip":"选择一个或多个运行与指标以叠加展示。","comparison.select_runs":"选择运行","comparison.select_runs_placeholder":"选择要对比的运行","comparison.select_metrics":"选择指标","comparison.select_metrics_placeholder":"选择要显示的指标","comparison.refresh":"刷新","comparison.x_axis":"X轴","comparison.fetch_failed":"获取运行列表失败","comparison.load_failed":"加载指标数据失败","comparison.loading":"正在加载指标...","comparison.no_runs_selected":"请选择运行开始对比","comparison.no_metrics_selected":"没有可用或已选择的指标","comparison.need_multiple":"请至少选择2个运行进行对比","comparison.best_results":"最佳结果","comparison.info_title":"跨实验对比","comparison.info_desc":"在不同项目和实验之间对比运行。如需对比同一实验内的运行，请使用运行详情页面的对比功能。","recycle_bin.title":"回收站","recycle_bin.tooltip":"查看和恢复已删除的实验","recycle_bin.description":"回收站包含已软删除的实验。文件被保留，可以恢复。","recycle_bin.original_status":"原始状态","recycle_bin.deleted_at":"删除时间","recycle_bin.restore_single":"恢复此运行","recycle_bin.restore_selected":"恢复选中项","recycle_bin.empty_bin":"清空回收站","recycle_bin.empty_confirm_title":"清空回收站","recycle_bin.empty_confirm_desc":"这将永久删除回收站中的所有运行。此操作不可撤销！","recycle_bin.empty_confirm":"是的，全部删除","recycle_bin.fetch_failed":"加载回收站失败","recycle_bin.select_to_restore":"请选择要恢复的运行","recycle_bin.restore_success":"已恢复{{count}}个运行","recycle_bin.restore_failed":"恢复运行失败","recycle_bin.empty_success":"已永久删除{{count}}个运行","recycle_bin.empty_failed":"清空回收站失败","recycle_bin.empty_state":"回收站为空","recycle_bin.selection_info":"已选择{{count}}个运行用于恢复","recycle_bin.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项"},EM={"run.artifacts.title":"关联的模型与数据集","run.artifacts.created":"创建的模型","run.artifacts.used":"使用的模型","run.artifacts.no_created":"此实验未创建任何模型或数据集","run.artifacts.no_used":"此实验未使用任何模型或数据集","menu.artifacts":"模型仓库","artifacts.title":"模型仓库","artifacts.description":"版本控制的模型、数据集和文件","artifacts.type.all":"全部类型","artifacts.type.model":"模型","artifacts.type.dataset":"数据集","artifacts.type.config":"配置","artifacts.type.code":"代码","artifacts.type.custom":"自定义","artifacts.search_placeholder":"搜索模型和数据集...","artifacts.no_artifacts":"未找到模型","artifacts.create_first":"在训练代码中通过 run.log_artifact() 创建您的第一个模型","artifacts.latest_version":"最新：v{{version}}","artifacts.versions_count":"{{count}} 个版本","artifacts.size":"大小","artifacts.files":"文件数","artifacts.created":"创建时间","artifacts.updated":"更新时间","artifacts.aliases":"别名","artifacts.view_versions":"查看版本","artifacts.download":"下载","artifacts.delete":"删除","artifacts.delete_confirm":"删除模型 {{name}}:v{{version}}？","artifacts.delete_warning":"此操作不可撤销！","artifacts.stats.total":"总模型数","artifacts.stats.total_versions":"总版本数","artifacts.stats.total_size":"总大小","artifacts.stats.dedup_saved":"去重节省空间","artifact.detail.title":"模型：{{name}}","artifact.detail.version":"版本 {{version}}","artifact.detail.type":"类型","artifact.detail.status":"状态","artifact.detail.created_by":"创建者","artifact.detail.created_at":"创建时间","artifact.detail.size":"大小","artifact.detail.files_count":"文件数","artifact.detail.description":"描述","artifact.detail.metadata":"元数据","artifact.detail.tags":"标签","artifact.detail.no_description":"无描述","artifact.detail.no_metadata":"无元数据","artifact.detail.no_tags":"无标签","artifact.detail.storage_path":"存储路径","artifact.versions.title":"版本历史","artifact.versions.current":"当前版本","artifact.versions.all":"所有版本","artifact.versions.compare":"对比版本","artifact.versions.version":"版本","artifact.versions.date":"日期","artifact.versions.run":"运行","artifact.versions.size":"大小","artifact.versions.files":"文件数","artifact.versions.actions":"操作","artifact.files.title":"文件","artifact.files.name":"文件名","artifact.files.size":"大小","artifact.files.hash":"哈希值","artifact.files.download_file":"下载文件","artifact.files.no_files":"此模型无文件","artifact.references.title":"外部引用","artifact.references.uri":"URI","artifact.references.checksum":"校验和","artifact.references.no_references":"无外部引用","artifact.lineage.title":"血缘关系图","artifact.lineage.description":"显示此模型的创建过程和使用情况","artifact.lineage.upstream":"上游依赖","artifact.lineage.downstream":"下游使用","artifact.lineage.no_dependencies":"未找到依赖关系","artifact.lineage.loading":"正在加载血缘关系图...","artifact.lineage.error":"加载血缘关系图失败","artifact.lineage.node.artifact":"模型","artifact.lineage.node.run":"运行","artifact.lineage.edge.uses":"使用","artifact.lineage.edge.produces":"产出","artifact.training.tab":"训练历史","artifact.training.title":"训练信息","artifact.training.no_data":"暂无训练信息","artifact.training.view_run":"查看训练实验","artifact.training.run_name":"实验名称","artifact.training.project":"项目","artifact.training.status":"状态","artifact.training.duration":"持续时间","artifact.training.created_at":"创建时间","artifact.training.key_metrics":"关键指标","artifact.performance.tab":"性能趋势","artifact.performance.title":"性能历史","artifact.performance.no_data":"暂无性能数据","artifact.performance.select_metrics":"选择要显示的指标","artifact.performance.select_metrics_hint":"请选择要显示的指标","artifact.performance.metrics":"指标值","artifacts.stage":"阶段","artifacts.stage.experimental":"实验阶段","artifacts.stage.staging":"预发布","artifacts.stage.production":"生产环境","artifacts.stage.archived":"已归档"},kM={"remote.title":"Remote Viewer","remote.subtitle":"通过 SSH 连接到远程服务器并启动 Viewer","remote.form.title":"第一步：连接到远程服务器","remote.form.connectButton":"连接到服务器","remote.form.host":"远程主机","remote.form.hostPlaceholder":"192.168.1.100 或 server.example.com","remote.form.port":"SSH 端口","remote.form.username":"用户名","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"认证方式","remote.form.password":"密码","remote.form.passwordAuth":"密码认证","remote.form.keyAuth":"私钥认证","remote.form.privateKey":"私钥路径","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"密码短语（可选）","remote.form.remoteRoot":"远程存储路径","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"本地端口","remote.form.localPortHelp":"留空自动分配","remote.form.remotePort":"远程端口","remote.form.saveConfig":"保存此连接配置","remote.form.savePassword":"同时保存密码（不安全，请谨慎使用）","remote.form.saveName":"配置名称","remote.form.saveNamePlaceholder":"GPU 服务器 - 实验室","remote.form.browse":"浏览...","remote.form.connect":"连接并启动 Viewer","remote.form.testConnection":"测试连接","remote.form.cancel":"取消","remote.form.enterPassword":"请输入密码","remote.form.connectionTo":"连接到","remote.form.required":"是必填项","remote.session.title":"活动会话","remote.session.noActiveSessions":"暂无活动会话","remote.session.startNewConnection":"创建新连接以开始","remote.session.localAccess":"本地访问","remote.session.remotePath":"远程路径","remote.session.sshPort":"SSH 端口","remote.session.remotePort":"远程 Viewer 端口","remote.session.remotePid":"远程进程 ID","remote.session.startedAt":"启动时间","remote.session.open":"打开 Viewer","remote.session.stop":"停止","remote.session.disconnect":"断开连接","remote.session.reconnect":"重新连接","remote.status.connecting":"正在连接...","remote.status.running":"运行中","remote.status.stopping":"正在停止...","remote.status.stopped":"已停止","remote.status.error":"错误","remote.status.disconnected":"已断开","remote.saved.title":"已保存的连接","remote.saved.empty":"暂无保存的连接配置","remote.saved.emptyHint":'连接成功后勾选"保存配置"即可保存',"remote.saved.quickStart":"快速启动","remote.saved.connectOnly":"仅连接","remote.saved.edit":"编辑","remote.saved.delete":"删除","remote.message.connectSuccess":"SSH 连接成功","remote.message.connectFailed":"SSH 连接失败","remote.message.viewerStarted":"Remote Viewer 启动成功！","remote.message.viewerStartFailed":"Remote Viewer 启动失败","remote.message.viewerStopped":"Remote Viewer 已停止","remote.message.viewerStopFailed":"停止 Remote Viewer 失败","remote.message.disconnected":"已断开连接","remote.message.disconnectFailed":"断开连接失败","remote.message.testSuccess":"连接测试成功","remote.message.testFailed":"连接测试失败","remote.message.configSaved":"配置已保存","remote.message.configDeleted":"配置已删除","remote.message.confirmDelete":"确定要删除此连接配置吗？","remote.message.confirmDisconnect":"确定要断开连接吗？这将停止远程 Viewer。","remote.message.sessionLost":"会话已断开，是否重新连接？","remote.message.passwordNotSaved":"密码未保存，请重新输入密码","remote.message.incompleteConfig":"连接配置不完整，请重新配置","remote.message.cancelled":"已取消","remote.error.sshAuthFailed":"SSH 认证失败，请检查用户名和密码","remote.error.remotePathNotFound":"远程路径不存在","remote.error.portInUse":"本地端口已被占用","remote.error.connectionTimeout":"连接超时","remote.error.invalidConfig":"配置无效","remote.error.unknown":"未知错误","remote.help.title":"使用帮助","remote.help.step1":"1. 填写远程服务器的 SSH 连接信息","remote.help.step2":"2. 选择认证方式（密码或私钥）","remote.help.step3":"3. 指定远程存储路径","remote.help.step4":'4. 点击"连接并启动"按钮',"remote.help.step5":"5. 等待 Remote Viewer 启动","remote.help.step6":'6. 点击"打开 Viewer"在新窗口中访问',"remote.help.architecture":"Remote Viewer 采用类似 VSCode Remote 的架构，在远程服务器上运行 Viewer，通过 SSH 隧道访问。","remote.help.advantages":"优势：实时访问、无需同步、节省存储空间","remote.stats.activeSessions":"活动会话","remote.stats.savedConfigs":"保存的配置","remote.stats.connectedServers":"已连接服务器","remote.env.title":"选择 Conda 环境","remote.env.selectHint":"检测到多个 Python 环境","remote.env.selectDescription":"请选择一个环境来运行 Runicorn Viewer","remote.env.default":"默认","remote.env.system":"系统","remote.env.checkRunicorn":"确保目标环境已安装 Runicorn","remote.env.checkRunicornHint":"如果环境中没有安装 Runicorn，请先运行: pip install runicorn","remote.env.fetching":"正在检测环境...","remote.env.detectingEnvironments":"正在列出 Conda 环境...","remote.env.detectFailed":"检测失败","remote.env.runicornNotInstalled":"未安装","remote.env.noEnvs":"未检测到 Conda 环境","remote.env.confirmButton":"确认并启动 Viewer","remote.env.cancelButton":"取消","remote.env.continue":"继续","remote.env.detecting":"正在检测环境","remote.env.detectingEnvironment":"正在检测 {{env}} 环境，请稍候...","remote.env.detectFailedMessage":"无法检测该环境的 Python 和 Runicorn 版本，请检查网络连接或环境配置。","remote.env.runicornNotInstalledTitle":"Runicorn 未安装","remote.env.runicornNotInstalledMessage":"选中的环境中未安装 Runicorn，无法启动 Remote Viewer。","remote.env.installInstructions":"请在远程服务器上安装 Runicorn：","remote.env.activateCommand":"激活环境","remote.env.installCommand":"安装 Runicorn","remote.env.versionTooOldTitle":"Runicorn 版本过低","remote.env.versionTooOldMessage":"远程环境的 Runicorn 版本为 {{version}}，低于 0.5.0，不支持 Remote Viewer 功能。","remote.env.upgradeInstructions":"请升级到最新版本：","remote.env.versionMismatchTitle":"Runicorn 版本不一致","remote.env.versionMismatchMessage":"本地和远程的 Runicorn 版本不一致，可能导致功能异常或体验下降。","remote.env.localVersion":"本地版本","remote.env.remoteVersion":"远程版本","remote.env.versionMismatchWarning":"建议保持版本一致以获得最佳体验，但您仍可以继续连接。","remote.env.continueAnyway":"仍然继续","remote.config.title":"第三步：确认服务器配置","remote.config.connected":"SSH 连接成功","remote.config.pythonVersion":"Python 版本","remote.config.runicornVersion":"Runicorn 版本","remote.config.storageRoot":"存储路径","remote.config.exists":"存在","remote.config.notExists":"不存在","remote.config.suggestedPort":"建议端口","remote.config.confirmStorageRoot":"确认远程存储路径","remote.config.startViewer":"启动 Remote Viewer","remote.config.pathNotExistsWarning":"存储路径不存在","remote.config.pathNotExistsHint":"将在首次使用时自动创建该目录","remote.config.fetchingConfig":"正在获取服务器配置...","remote.config.fetchFailed":"获取服务器配置失败"},DM={"settings.system_info.title":"系统信息","settings.system_info.refresh":"刷新","settings.system_info.copy_all":"复制全部","settings.system_info.copied":"系统信息已复制到剪贴板","settings.system_info.copy_failed":"复制到剪贴板失败","settings.system_info.loading":"加载系统信息中...","settings.system_info.version_info":"版本信息","settings.system_info.runicorn_version":"Runicorn 版本","settings.system_info.api_status":"API 状态","settings.system_info.storage_config":"存储配置","settings.system_info.storage_root":"存储根目录","settings.system_info.config_files":"配置文件","settings.system_info.config_file":"主配置","settings.system_info.rate_limit_config":"速率限制配置","settings.system_info.cache_stats":"缓存统计","settings.system_info.cache_status":"状态","settings.system_info.hit_rate":"命中率","settings.system_info.hits":"命中次数","settings.system_info.misses":"未命中次数","settings.system_info.cache_size":"缓存大小","settings.system_info.artifacts_stats":"Artifacts 统计","settings.system_info.total_artifacts":"总 Artifacts","settings.system_info.total_versions":"总版本数","settings.system_info.deduplication":"去重","settings.system_info.space_saved":"节省空间","settings.system_info.help_text":'此信息对调试和技术支持很有用。点击"复制全部"将所有详情复制到剪贴板。',"settings.drawer.title":"设置","settings.theme.title":"主题","settings.theme.mode":"模式","settings.theme.light":"浅色","settings.theme.dark":"深色","settings.theme.auto":"跟随系统","settings.appearance.primary_color":"主色","settings.appearance.density":"密度","settings.appearance.density_compact":"紧凑型（信息密度高）","settings.appearance.density_default":"默认","settings.appearance.density_loose":"宽松型（留白更舒适）","settings.glass":"玻璃效果","settings.glass.on":"开启","settings.glass.off":"关闭","settings.performance.auto_refresh":"自动刷新","settings.performance.refresh_interval":"刷新间隔","settings.performance.animations":"UI动画","settings.performance.chart_animations":"图表动画","settings.performance.sounds":"声音通知","settings.charts.default_height":"默认图表高度","settings.charts.grid_lines":"显示网格线","settings.charts.max_points":"最大数据点数","settings.animations.ui_desc":"页面切换、悬停效果、弹窗动画","settings.animations.chart_desc":"图表数据加载动画、平滑过渡","settings.units.seconds":"秒","settings.units.points":"数据点","settings.units.pixels":"像素","settings.data.not_configured":"未配置","settings.auto_refresh.desc":"自动刷新实验数据","settings.grid_lines.desc":"在图表中显示网格线以提高可读性","settings.sounds.desc":"为警告和状态变化播放通知声音","settings.glass.desc":"玻璃拟态效果，带背景模糊","settings.tabs.appearance":"外观","settings.tabs.layout":"布局","settings.tabs.data":"数据","settings.tabs.performance":"性能","settings.tabs.system_info":"系统信息","settings.cards.theme":"主题","settings.cards.background":"背景","settings.cards.visual_effects":"视觉效果","settings.cards.storage":"存储设置","settings.cards.import_export":"导入导出","settings.cards.performance":"性能","settings.cards.advanced":"高级选项","settings.data.title":"数据目录","settings.data.current_storage":"当前存储根（storage）：{{path}}","settings.data.user_root.label":"用户根目录（优先级低于环境变量 RUNICORN_DIR）","settings.data.user_root.placeholder":"例如：D:\\RunicornData","settings.data.note":"设置将写入用户配置并立即生效；若设置了环境变量 RUNICORN_DIR，则优先使用环境变量。","settings.data.save":"保存数据目录","settings.messages.enter_valid_path":"请输入有效的目录绝对路径（例如 D:\\RunicornData）","settings.messages.updated":"用户根目录已更新","settings.messages.update_failed":"更新失败","background.title":"背景","background.type.label":"背景类型","background.type.image":"图片","background.type.gradient":"渐变","background.type.color":"纯色","background.image_url":"图片地址（URL）","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"背景预览","background.gradient_presets":"渐变预设","background.color":"背景颜色","background.opacity":"不透明度","background.blur":"模糊强度","offline_import.title":"离线导入（zip / tar.gz）","offline_import.desc":"将离线 Linux 服务器导出的运行记录导入到本机存储以便查看。","offline_import.drag":"将文件拖拽到此处，或点击选择本地归档","offline_import.supports":"支持 .zip / .tar.gz（内部目录为 project/name/runs/<run_id>）","offline_import.importing":"正在导入…","offline_import.success":"导入成功：{{count}} 个新运行。","offline_import.failed":"导入失败","remote_moved.title":"远程同步","remote_moved.tip":"远程实时同步已移动到独立页面，请通过顶部「Remote」进入或点击打开。","chart.controls.title":"图表控件","chart.log_y":"对数Y轴","chart.log_y_tooltip":"使用对数Y轴（隐藏非正值）","chart.auto_scale":"自动缩放Y轴","chart.auto_scale_tooltip":"动态Y轴范围（不强制从0开始）","chart.smooth":"平滑度","chart.smooth_tooltip":"指数移动平均平滑","chart.x_axis":"X轴","chart.x_axis_tooltip":"X轴数据来源列","chart.export_csv":"导出CSV","chart.y_axis_controls":"Y轴控制","chart.linear":"线性","chart.log":"对数","chart.auto":"自动","chart.fixed":"固定","chart.off":"关闭","remote.title":"远程同步（SSH）","remote.desc":'建立到 Linux 服务器的 SSH 连接，浏览并选择远程目录作为数据源，实时镜像到本地 storage 并在"运行"页可视化。',"remote.connect.title":"连接到服务器","remote.placeholder.host":"主机，例如 10.0.0.2","remote.placeholder.port":"端口","remote.placeholder.user":"用户名","remote.placeholder.password":"密码（可选）","remote.placeholder.pkey":"私钥内容（可选）","remote.placeholder.pkey_path":"或 私钥路径（可选，如 ~/.ssh/id_rsa）","remote.connect.button":"连接","remote.connected":"已连接：{{user}}@{{host}}:{{port}}","remote.disconnect":"断开","remote.choose.title":"选择远程目录","remote.current_dir":"当前目录：","remote.up":"上一级","remote.refresh":"刷新","remote.empty":"空目录或无权限","remote.interval.suffix":"秒","remote.sync_dir":"同步此目录","remote.tip":"建议选择到 project/name/runs（新结构）或 runs（旧结构）而不是具体 <run_id>。","remote.tasks.title":"同步任务","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"停止","remote.tasks.none":"暂无任务","remote.to_runs":'同步成功后，前往 "运行" 页面查看可视化。',"remote.msg.fill_host_user":"请填写主机与用户名","remote.msg.ssh_connected":"SSH 已连接","remote.msg.connect_failed":"连接失败","remote.msg.dir_failed":"读取目录失败","remote.msg.need_connect":"请先建立 SSH 连接","remote.msg.need_path":"请选择远程目录","remote.msg.started":"已启动实时同步","remote.msg.start_failed":"启动失败","remote.msg.mirror_configured":"镜像模式配置成功","settings.performance.tabs_title":"性能监控模块","settings.performance.show_cpu_tab":"显示 CPU 模块","settings.performance.show_memory_disk_tab":"显示内存与磁盘模块","settings.performance.show_gpu_metrics_tab":"显示 GPU 指标模块","settings.performance.show_gpu_telemetry_tab":"显示 GPU 曲线模块","settings.dismissedAlerts":"已关闭的提示","settings.noDismissedAlerts":"暂无已关闭的提示","settings.restoreAlert":"恢复显示","settings.restoreAll":"全部恢复","settings.alertRestored":"提示已恢复显示","settings.allAlertsRestored":"所有提示已恢复显示","settings.failedToLoadDismissedAlerts":"加载失败","settings.failedToRestoreAlert":"恢复失败","settings.failedToClearAlerts":"清除失败"},MM={...PM,...AM,...EM,...kM,...DM},IM={en:{translation:RM},zh:{translation:MM}};Mt.use(ox).use(sC).init({resources:IM,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]}});hc.createRoot(document.getElementById("root")).render(a.jsx(Bj.StrictMode,{children:a.jsx(Uj,{children:a.jsx(BD,{})})}));
