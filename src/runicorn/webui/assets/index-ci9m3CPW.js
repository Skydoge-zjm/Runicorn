import{r as b,c as Kc,u as ji,f as Pm,e as gs,h as Am,g as Vj,L as So,i as Bj,j as us,R as Uj,B as Wj}from"./react-vendor-Bblx37ko.js";import{T as Te,S as N,a as Je,b as bt,B as he,s as ee,c as _e,t as er,C as le,D as tr,d as ri,e as ft,R as Qo,f as Es,g as An,F as xr,E as rt,h as di,i as qc,j as fi,k as cc,l as Yc,m as Gt,n as Zn,o as Pt,p as De,q as Ci,P as Qn,r as Dt,u as ea,v as Xc,w as Hj,x as Gj,y as Rs,z as Wt,A as ta,G as nn,H as $o,I as Kj,J as Vr,K as wr,L as Jc,M as uc,N as Rn,O as na,Q as qj,U as Yj,V as hi,W as Xj,X as Jj,Y as Zj,Z as Zc,_ as en,$ as Em,a0 as Qj,a1 as No,a2 as Qc,a3 as e1,a4 as t1,a5 as dc,a6 as n1,a7 as fc,a8 as r1,a9 as _h,aa as je,ab as s1,ac as i1,ad as o1,ae as a1,af as Tt,ag as hc,ah as Cs,ai as km,aj as Dm,ak as l1,al as c1,am as pi,an as vr,ao as u1,ap as bh,aq as Ll,ar as d1,as as f1,at as h1,au as p1,av as m1,aw as Sh,ax as jh,ay as Ol,az as g1,aA as y1,aB as Mm,aC as x1,aD as v1,aE as w1,aF as _1}from"./antd-vendor-B1ygAwDR.js";import{c as b1,E as xs}from"./echarts-vendor-BaMD3wbR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Im={exports:{}},ra={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=b,j1=Symbol.for("react.element"),C1=Symbol.for("react.fragment"),T1=Object.prototype.hasOwnProperty,R1=S1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P1={key:!0,ref:!0,__self:!0,__source:!0};function Lm(e,t,n){var s,o={},l=null,c=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(s in t)T1.call(t,s)&&!P1.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:j1,type:e,key:l,ref:c,props:o,_owner:R1.current}}ra.Fragment=C1;ra.jsx=Lm;ra.jsxs=Lm;Im.exports=ra;var a=Im.exports,pc={},Ch=Kc;pc.createRoot=Ch.createRoot,pc.hydrateRoot=Ch.hydrateRoot;const Fl={},A1=(Fl==null?void 0:Fl.VITE_API_BASE)||"/api",st=e=>`${A1}${e}`;async function E1(e){const t=await fetch(st(`/runs/${e}`));if(!t.ok)throw new Error(await t.text());return t.json()}async function jo(e,t){const n=t?`?downsample=${t}`:"",s=await fetch(st(`/runs/${e}/metrics_step${n}`));if(!s.ok)throw new Error(await s.text());return s.json()}async function Om(){const e=new AbortController,t=setTimeout(()=>e.abort(),3e3);try{const n=await fetch(st("/health"),{signal:e.signal,cache:"no-store"});if(clearTimeout(t),!n.ok)throw new Error(await n.text());return n.json()}catch(n){throw clearTimeout(t),n}}async function Fm(){const e=await fetch(st("/gpu/telemetry"));if(!e.ok)throw new Error(await e.text());return e.json()}async function k1(){const e=await fetch(st("/system/monitor"));if(!e.ok)throw new Error(await e.text());return e.json()}async function D1(){const e=await fetch(st("/projects"));if(!e.ok)throw new Error(await e.text());return e.json()}async function M1(e){const t=await fetch(st(`/projects/${encodeURIComponent(e)}/names`));if(!t.ok)throw new Error(await t.text());return t.json()}async function I1(e,t){const n=await fetch(st(`/projects/${encodeURIComponent(e)}/names/${encodeURIComponent(t)}/runs`));if(!n.ok)throw new Error(await n.text());return n.json()}async function eu(){const e=await fetch(st("/config"));if(!e.ok)throw new Error(await e.text());return e.json()}async function L1(e){const t=await fetch(st("/config/user_root_dir"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function O1(e){const t=new FormData;t.append("file",e);const n=await fetch(st("/import/archive"),{method:"POST",body:t});if(!n.ok)throw new Error(await n.text());return n.json()}async function F1(){const e=await fetch(st("/status/check"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(await e.text());return e.json()}async function z1(e){const t=await fetch(st("/runs/soft-delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function $1(){const e=await fetch(st("/recycle-bin"));if(!e.ok)throw new Error(await e.text());return e.json()}async function N1(e){const t=await fetch(st("/recycle-bin/restore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function V1(){const e=await fetch(st("/recycle-bin/empty"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})});if(!e.ok)throw new Error(await e.text());return e.json()}async function B1(e){const t=e?`?type=${e}`:"",n=await fetch(st(`/artifacts${t}`));if(!n.ok)throw new Error(await n.text());return n.json()}async function U1(e,t){const s=await fetch(st(`/artifacts/${e}/versions`));if(!s.ok)throw new Error(await s.text());return s.json()}async function W1(e,t,n){const o=await fetch(st(`/artifacts/${e}/v${t}`));if(!o.ok)throw new Error(await o.text());return o.json()}async function H1(e,t,n){const o=await fetch(st(`/artifacts/${e}/v${t}/files`));if(!o.ok)throw new Error(await o.text());return o.json()}async function G1(e,t,n,s=3){const o=new URLSearchParams({max_depth:s.toString()}),l=await fetch(st(`/artifacts/${e}/v${t}/lineage?${o.toString()}`));if(!l.ok)throw new Error(await l.text());return l.json()}async function zm(){const e=await fetch(st("/artifacts/stats"));if(!e.ok)throw new Error(await e.text());return e.json()}async function K1(e,t,n,s=!1){const o=new URLSearchParams({permanent:s.toString()}),l=await fetch(st(`/artifacts/${e}/v${t}?${o.toString()}`),{method:"DELETE"});if(!l.ok)throw new Error(await l.text());return l.json()}const q1=(e,t,n,s)=>{var l,c,d,f;const o=[n,{code:t,...s||{}}];if((c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);zr(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(f=(d=e==null?void 0:e.services)==null?void 0:d.logger)!=null&&f.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Th={},mc=(e,t,n,s)=>{zr(n)&&Th[n]||(zr(n)&&(Th[n]=new Date),q1(e,t,n,s))},$m=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},gc=(e,t,n)=>{e.loadNamespaces(t,$m(e,n))},Rh=(e,t,n,s)=>{if(zr(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return gc(e,n,s);n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,$m(e,s))},Y1=(e,t,n={})=>!t.languages||!t.languages.length?(mc(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,e))return!1}}),zr=e=>typeof e=="string",X1=e=>typeof e=="object"&&e!==null,J1=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Z1={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Q1=e=>Z1[e],eC=e=>e.replace(J1,Q1);let yc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:eC};const tC=(e={})=>{yc={...yc,...e}},nC=()=>yc;let Nm;const rC=e=>{Nm=e},sC=()=>Nm,iC={type:"3rdParty",init(e){tC(e.options.react),rC(e)}},oC=b.createContext();class aC{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const lC=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current},Vm=(e,t,n,s)=>e.getFixedT(t,n,s),cC=(e,t,n,s)=>b.useCallback(Vm(e,t,n,s),[e,t,n,s]),He=(e,t={})=>{var j,R,O,B;const{i18n:n}=t,{i18n:s,defaultNS:o}=b.useContext(oC)||{},l=n||s||sC();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new aC),!l){mc(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const z=(G,Y)=>zr(Y)?Y:X1(Y)&&zr(Y.defaultValue)?Y.defaultValue:Array.isArray(G)?G[G.length-1]:G,$=[z,{},!1];return $.t=z,$.i18n={},$.ready=!1,$}(j=l.options.react)!=null&&j.wait&&mc(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...nC(),...l.options.react,...t},{useSuspense:d,keyPrefix:f}=c;let h=o||((R=l.options)==null?void 0:R.defaultNS);h=zr(h)?[h]:h||["translation"],(B=(O=l.reportNamespaces).addUsedNamespaces)==null||B.call(O,h);const p=(l.isInitialized||l.initializedStoreOnce)&&h.every(z=>Y1(z,l,c)),g=cC(l,t.lng||null,c.nsMode==="fallback"?h:h[0],f),x=()=>g,v=()=>Vm(l,t.lng||null,c.nsMode==="fallback"?h:h[0],f),[S,T]=b.useState(x);let E=h.join();t.lng&&(E=`${t.lng}${E}`);const P=lC(E),A=b.useRef(!0);b.useEffect(()=>{const{bindI18n:z,bindI18nStore:$}=c;A.current=!0,!p&&!d&&(t.lng?Rh(l,t.lng,h,()=>{A.current&&T(v)}):gc(l,h,()=>{A.current&&T(v)})),p&&P&&P!==E&&A.current&&T(v);const G=()=>{A.current&&T(v)};return z&&(l==null||l.on(z,G)),$&&(l==null||l.store.on($,G)),()=>{A.current=!1,l&&z&&(z==null||z.split(" ").forEach(Y=>l.off(Y,G))),$&&l&&$.split(" ").forEach(Y=>l.store.off(Y,G))}},[l,E]),b.useEffect(()=>{A.current&&p&&T(x)},[l,f,p]);const D=[S,l,p];if(D.t=S,D.i18n=l,D.ready=p,p||!p&&!d)return D;throw new Promise(z=>{t.lng?Rh(l,t.lng,h,()=>z()):gc(l,h,()=>z())})};function uC(e){return!!(/\d{1,3}%\|/.test(e)||/it\/(s|sec)/i.test(e)||/ETA|elapsed/i.test(e))}function dC({url:e,persistKey:t}){const{t:n}=He(),[s,o]=b.useState(()=>{if(!t)return[];try{const D=localStorage.getItem(t);if(!D)return[];const j=JSON.parse(D);return Array.isArray(j)?j.slice(-2e3):[]}catch{return[]}}),[l,c]=b.useState(!0),[d,f]=b.useState(!0),[h,p]=b.useState("connecting"),[g,x]=b.useState(0),v=b.useRef(null),S=b.useRef(null),T=b.useRef(null),E=b.useRef(500);b.useEffect(()=>{let D=!1;const j=()=>{try{S.current&&S.current.close()}catch{}p("connecting");const R=new WebSocket(e);S.current=R,R.onopen=()=>{p("connected"),E.current=500,x(0)},R.onmessage=B=>{const z=String(B.data);d&&uC(z)||o($=>{const Y=[...$,z].slice(-2e3);try{t&&localStorage.setItem(t,JSON.stringify(Y))}catch{}return Y})};const O=()=>{if(D)return;p("disconnected");const B=Math.min(1e4,E.current);E.current=Math.min(1e4,Math.floor(E.current*1.8)),x(B),T.current&&window.clearTimeout(T.current),T.current=window.setTimeout(()=>{x(0),j()},B)};R.onerror=O,R.onclose=O};return j(),()=>{var R;D=!0;try{(R=S.current)==null||R.close()}catch{}T.current&&window.clearTimeout(T.current)}},[e,d,t]),b.useEffect(()=>{l&&v.current&&(v.current.scrollTop=v.current.scrollHeight)},[s,l]);const P=async()=>{try{await navigator.clipboard.writeText(s.join(`
`)),ee.success(n("logs.copied"))}catch{ee.error(n("logs.copy_failed"))}},A=b.useMemo(()=>h==="connected"?a.jsx(Te,{color:"green",children:n("logs.status.connected")}):h==="connecting"?a.jsx(Te,{color:"processing",children:n("logs.status.connecting")}):a.jsxs(Te,{color:"default",children:[n("logs.status.disconnected"),g?`, ${n("logs.status.retry_in",{sec:Math.ceil(g/1e3)})}`:""]}),[h,g,n]);return a.jsxs("div",{children:[a.jsxs(N,{style:{marginBottom:8},children:[A,a.jsx(Je,{title:n("logs.tooltip.autoscroll"),children:a.jsxs("span",{children:[n("logs.autoscroll")," ",a.jsx(bt,{checked:l,onChange:c,style:{marginLeft:6}})]})}),a.jsx(Je,{title:n("logs.tooltip.filter_tqdm"),children:a.jsxs("span",{children:[n("logs.filter_tqdm")," ",a.jsx(bt,{checked:d,onChange:f,style:{marginLeft:6}})]})}),a.jsx(he,{size:"small",onClick:()=>{o([]);try{t&&localStorage.removeItem(t)}catch{}},children:n("logs.clear")}),a.jsx(he,{size:"small",onClick:P,children:n("logs.copy")})]}),a.jsx("div",{ref:v,style:{height:320,overflow:"auto",background:"#0b1020",color:"#e6e9ef",padding:12,borderRadius:8,fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:12},children:s.map((D,j)=>a.jsx("div",{children:D},j))})]})}function tu(e){const t=b.useRef(null),n=b.useRef(null);b.useEffect(()=>{if(!t.current)return;const d=t.current;let f=null;const h=()=>{f!=null&&cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x,v,S;try{(S=(v=(x=n.current)==null?void 0:x.getEchartsInstance())==null?void 0:v.resize)==null||S.call(v)}catch{}})};let p=null;const g=window.ResizeObserver;return g&&(p=new g(()=>h()),p.observe(d)),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),p&&p.disconnect(),f!=null&&cancelAnimationFrame(f)}},[]),b.useEffect(()=>{var f,h;const d=(h=(f=n.current)==null?void 0:f.getEchartsInstance)==null?void 0:h.call(f);if(d&&e.group)try{d.group=e.group,b1(e.group)}catch{}},[e.group]);const s=b.useMemo(()=>({width:"100%",height:"100%",...e.style||{}}),[e.style]),{group:o,style:l,...c}=e;return a.jsx("div",{ref:t,style:{width:"100%",height:"100%"},children:a.jsx(xs,{ref:n,...c,style:s})})}const Bm=b.createContext(void 0),fC=({children:e,value:t})=>a.jsx(Bm.Provider,{value:t,children:e}),Ti=()=>{const e=b.useContext(Bm);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e},ne={spacing:{xs:8,sm:12,md:16,lg:24,xl:32},borderRadius:{md:8},colors:{primary:"#1677ff",success:"#52c41a",warning:"#faad14",info:"#13c2c2"},typography:{fontSize:{xs:12,sm:14,md:16,lg:18},fontWeight:{semibold:600}}},{Text:hC}=_e,pC=b.memo(function({metrics:t,xKey:n,yKeys:s,title:o,height:l,persistKey:c,group:d}){const{t:f}=He(),{settings:h}=Ti(),{token:p}=er.useToken(),g=l??h.defaultChartHeight,[x,v]=b.useState(!1),[S,T]=b.useState(!0),[E,P]=b.useState(0),A=["iter","step","batch","global_step","time"],D=(t==null?void 0:t.columns)||[],j=b.useMemo(()=>A.filter(se=>D.includes(se)),[D]),[R,O]=b.useState(n),B=b.useRef(!1);b.useEffect(()=>{if(n&&D.includes(n))O(n);else if(!D.includes(R)){const se=j.find(Boolean);se&&O(se)}},[n,D,j,R]),b.useEffect(()=>{if(!(!c||B.current)){try{const se=localStorage.getItem(`MetricChart:${c}`);if(se){const X=JSON.parse(se);typeof X.useLog=="boolean"&&v(X.useLog),typeof X.dynamicScale=="boolean"&&T(X.dynamicScale),typeof X.smoothing=="number"&&P(X.smoothing),X.xAxisKey&&D.includes(X.xAxisKey)&&O(X.xAxisKey)}}catch{}B.current=!0}},[c,D]),b.useEffect(()=>{if(c)try{localStorage.setItem(`MetricChart:${c}`,JSON.stringify({useLog:x,dynamicScale:S,smoothing:E,xAxisKey:R}))}catch{}},[c,x,S,E,R]);const z=se=>{const X=String(se).toLowerCase();if(X.includes("loss")||X.includes("error"))return"min";if(X.includes("acc")||X.includes("f1")||X.includes("auc")||X.includes("map")||X.includes("precision")||X.includes("recall"))return"max"},$=(se,X)=>{if(X<=0)return se;let ie=null;return se.map(ue=>{if(ue==null)return null;const oe=1-X;return ie=ie==null?ue:oe*ue+(1-oe)*ie,ie})},G=b.useMemo(()=>{var Z,q;const se=D.includes(R)?R:n,X=t.rows.map(Q=>{const ce=Q[se],xe=ce===""||ce==null?null:Number(ce);return xe==null||Number.isNaN(xe)?null:xe});let ie=X;if(se==="time"){const Q=X.find(ce=>ce!=null)??0;ie=X.map(ce=>ce==null?null:ce-Q)}const ue=D.includes("stage")&&(se==="global_step"||se==="time"),oe=[];if(ue){const Q=t.rows;let ce=Q.length?((Z=Q[0])==null?void 0:Z.stage)??null:null;for(let xe=1;xe<Q.length;xe++){const Ge=(q=Q[xe])==null?void 0:q.stage,Ke=Ge==null||Ge===""?ce:Ge;if(Ke!==ce){const Ve=ie[xe];Ve!=null&&oe.push({xAxis:Ve}),ce=Ke}}}const re=s.map(Q=>{var gt;const ce=t.rows.map(U=>{const de=U[Q]===""||U[Q]==null?null:Number(U[Q]),Ae=de==null||Number.isNaN(de)?null:de;return x&&(Ae==null||Ae<=0)?null:Ae}),xe=$(ce,Math.min(.999,Math.max(0,E))),Ge=xe.filter(U=>U!=null).length,Ke=Ge<=12||Ge<=Math.ceil((((gt=t==null?void 0:t.rows)==null?void 0:gt.length)||0)*.2),Ve=z(Q),ht={name:Q,type:"line",smooth:.2,showSymbol:Ke,symbolSize:Ke?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:xe,markPoint:Ve?{data:[{type:Ve,name:Ve==="max"?"Best (max)":"Best (min)"}],symbolSize:60}:void 0};if(Q===s[0]){const U=oe;U.length&&(ht.markLine={silent:!0,symbol:"none",lineStyle:{type:"dashed",color:p.colorBorder,width:1},label:{show:!1},data:U})}return ht});return{title:{text:o,left:"center",top:ne.spacing.xs,textStyle:{fontSize:ne.typography.fontSize.md,fontWeight:ne.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:s,top:ne.spacing.xl,padding:[5,10]},xAxis:{type:"category",data:ie},yAxis:{type:x?"log":"value",scale:S,min:S?"dataMin":0},grid:{left:50,right:30,top:s.length>3?70:s.length>1?60:50,bottom:80,show:h.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:re,animation:h.enableChartAnimations,animationDuration:h.enableChartAnimations?1e3:0}},[t,n,R,s,o,x,S,E,D,h.enableChartAnimations,h.maxDataPoints,h.showGridLines]),Y=()=>{try{const se=D.includes(R)?R:n,X=[se,...s],ie=[];ie.push(X.join(","));for(const Z of t.rows){const q=[],Q=Z[se];q.push(Q==null?"":String(Q));for(const ce of s){const xe=Z[ce];q.push(xe==null?"":String(xe))}ie.push(q.join(","))}const ue=new Blob([ie.join(`
`)],{type:"text/csv;charset=utf-8;"}),oe=URL.createObjectURL(ue),re=document.createElement("a");re.href=oe,re.download=`${o.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(oe)}catch{}};return a.jsxs("div",{children:[a.jsx(le,{size:"small",style:{marginBottom:ne.spacing.md,borderRadius:ne.borderRadius.md},bodyStyle:{padding:`${ne.spacing.sm}px ${ne.spacing.md}px`},children:a.jsxs(N,{wrap:!0,size:"small",style:{width:"100%"},children:[a.jsx(Je,{title:f("chart.log_y_tooltip"),children:a.jsx(bt,{checkedChildren:f("chart.log"),unCheckedChildren:f("chart.linear"),checked:x,onChange:v,size:"small"})}),a.jsx(Je,{title:f("chart.auto_scale_tooltip"),children:a.jsx(bt,{checkedChildren:f("chart.auto"),unCheckedChildren:f("chart.fixed"),checked:S,onChange:T,size:"small"})}),a.jsx(tr,{type:"vertical",style:{margin:"0 4px"}}),a.jsxs(N,{size:"small",style:{minWidth:140,maxWidth:200},children:[a.jsxs(hC,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs,whiteSpace:"nowrap"},children:[f("chart.smooth"),":"]}),a.jsx(ri,{min:0,max:.95,step:.05,value:E,onChange:se=>P(Array.isArray(se)?se[0]:se),style:{width:90},tooltip:{formatter:se=>se?`${(se*100).toFixed(0)}%`:f("chart.off")}})]}),a.jsx(tr,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(ft,{size:"small",value:D.includes(R)?R:n,style:{minWidth:100},onChange:O,options:(j.length?j:[n]).map(se=>({value:se,label:`${f("chart.x_axis")}: ${se}`}))}),a.jsx(tr,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(he,{size:"small",icon:a.jsx(Qo,{}),onClick:Y,children:f("chart.export_csv")})]})}),a.jsx("div",{style:{height:g,width:"100%"},children:a.jsx(tu,{option:G,group:d})})]})},(e,t)=>{var g,x,v,S,T,E,P,A;const n=(g=e.metrics)==null?void 0:g.rows,s=(x=t.metrics)==null?void 0:x.rows,o=((n==null?void 0:n.length)??0)===((s==null?void 0:s.length)??0),l=n!=null&&n.length?(v=n[n.length-1])==null?void 0:v.global_step:void 0,c=s!=null&&s.length?(S=s[s.length-1])==null?void 0:S.global_step:void 0,d=l===c,f=(((E=(T=e.metrics)==null?void 0:T.columns)==null?void 0:E.length)??0)===(((A=(P=t.metrics)==null?void 0:P.columns)==null?void 0:A.length)??0),h=o&&d&&f,p=e.yKeys.length===t.yKeys.length&&e.yKeys.every((D,j)=>D===t.yKeys[j]);return h&&e.xKey===t.xKey&&p&&e.title===t.title&&e.height===t.height&&e.persistKey===t.persistKey&&e.group===t.group}),{Text:mC}=_e;function gC(e,t){if(!t)return e;let n=null;return e.map(s=>s==null?(n=null,null):(n=n==null?s:t*s+(1-t)*n,n))}const yC=b.memo(function({runs:t,xKey:n,yKey:s,title:o,height:l,persistKey:c,group:d}){const{t:f}=He(),{settings:h}=Ti(),p=l??h.defaultChartHeight,[g,x]=b.useState(!1),[v,S]=b.useState(!0),[T,E]=b.useState(0),P=b.useRef(!1);b.useEffect(()=>{if(!(!c||P.current)){try{const j=localStorage.getItem(`MultiRunMetric:${c}`);if(j){const R=JSON.parse(j);typeof R.useLog=="boolean"&&x(R.useLog),typeof R.dynamicScale=="boolean"&&S(R.dynamicScale),typeof R.smoothing=="number"&&E(R.smoothing)}}catch{}P.current=!0}},[c]),b.useEffect(()=>{if(c)try{localStorage.setItem(`MultiRunMetric:${c}`,JSON.stringify({useLog:g,dynamicScale:v,smoothing:T}))}catch{}},[c,g,v,T]);const A=b.useMemo(()=>{const j=t.map(R=>{var se,X;(se=R.metrics)!=null&&se.columns;const O=((X=R.metrics)==null?void 0:X.rows)||[],B=O.map(ie=>{const ue=ie[n],oe=ue===""||ue==null?null:Number(ue);return oe==null||Number.isNaN(oe)?null:oe});let z=B;if(n==="time"){const ie=B.find(ue=>ue!=null)??0;z=B.map(ue=>ue==null?null:ue-ie)}const $=O.map(ie=>{const ue=ie[s],oe=ue===""||ue==null?null:Number(ue);return g&&(oe==null||oe<=0)||oe==null||Number.isNaN(oe)?null:oe}),G=gC($,Math.min(.95,Math.max(0,T))),Y=[];for(let ie=0;ie<G.length;ie++){const ue=z[ie],oe=G[ie];ue!=null&&oe!=null&&Y.push([ue,oe])}return{name:R.label||R.id,type:"line",smooth:!0,showSymbol:Y.length<=12,symbolSize:Y.length<=12?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:Y}});return{title:{text:o,left:"center",top:ne.spacing.xs,textStyle:{fontSize:ne.typography.fontSize.md,fontWeight:ne.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:t.map(R=>R.label||R.id),top:ne.spacing.xl,type:"scroll",padding:[5,10]},xAxis:{type:"value",name:n},yAxis:{type:g?"log":"value",scale:v,min:v?"dataMin":0},grid:{left:50,right:30,top:t.length>3?70:t.length>1?60:50,bottom:80,show:h.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:j,animation:h.enableChartAnimations,animationDuration:h.enableChartAnimations?1e3:0}},[t,n,s,o,g,v,T,h.enableChartAnimations,h.maxDataPoints,h.showGridLines]),D=()=>{var j;try{const O=[["run_id",n,s].join(",")];for(const G of t){const Y=((j=G.metrics)==null?void 0:j.rows)||[];for(const se of Y){const X=se[n],ie=se[s],ue=[G.id,X==null?"":String(X),ie==null?"":String(ie)];O.push(ue.join(","))}}const B=new Blob([O.join(`
`)],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(B),$=document.createElement("a");$.href=z,$.download=`${o.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(z)}catch{}};return a.jsxs("div",{children:[a.jsx(le,{size:"small",style:{marginBottom:ne.spacing.md,borderRadius:ne.borderRadius.md},bodyStyle:{padding:`${ne.spacing.sm}px ${ne.spacing.md}px`},children:a.jsxs(N,{wrap:!0,size:"small",style:{width:"100%"},children:[a.jsx(Je,{title:f("chart.log_y_tooltip"),children:a.jsx(bt,{checkedChildren:f("chart.log"),unCheckedChildren:f("chart.linear"),checked:g,onChange:x,size:"small"})}),a.jsx(Je,{title:f("chart.auto_scale_tooltip"),children:a.jsx(bt,{checkedChildren:f("chart.auto"),unCheckedChildren:f("chart.fixed"),checked:v,onChange:S,size:"small"})}),a.jsx(tr,{type:"vertical",style:{margin:"0 4px"}}),a.jsxs(N,{size:"small",style:{minWidth:140,maxWidth:200},children:[a.jsxs(mC,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs,whiteSpace:"nowrap"},children:[f("chart.smooth"),":"]}),a.jsx(ri,{min:0,max:.95,step:.05,value:T,onChange:j=>E(Array.isArray(j)?j[0]:j),style:{width:90},tooltip:{formatter:j=>j?`${(j*100).toFixed(0)}%`:f("chart.off")}})]}),a.jsx(tr,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(he,{size:"small",icon:a.jsx(Qo,{}),onClick:D,children:f("chart.export_csv")})]})}),a.jsx("div",{style:{height:p,width:"100%"},children:a.jsx(tu,{option:A,group:d})})]})},(e,t)=>{var n,s,o,l;if(e.runs.length!==t.runs.length)return!1;for(let c=0;c<e.runs.length;c++){const d=e.runs[c],f=t.runs[c];if(d.id!==f.id||d.label!==f.label)return!1;const h=(n=d.metrics)==null?void 0:n.rows,p=(s=f.metrics)==null?void 0:s.rows,g=(h==null?void 0:h.length)??0,x=(p==null?void 0:p.length)??0;if(g!==x)return!1;if(g>0){const v=(o=h[g-1])==null?void 0:o.global_step,S=(l=p[x-1])==null?void 0:l.global_step;if(v!==S)return!1}}return e.xKey===t.xKey&&e.yKey===t.yKey&&e.title===t.title&&e.height===t.height&&e.persistKey===t.persistKey&&e.group===t.group});function xC(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(2))+" "+n[s]}function Vo(e){if(!e||e===0)return"-";const t=e<1e10?e*1e3:e,n=new Date(t);return isNaN(n.getTime())?"-":n.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function Um(e){if(!e||e<=0)return"0s";const t=Math.floor(e/1e3),n=Math.floor(t/60),s=Math.floor(n/60),o=Math.floor(s/24);if(o>0){const l=s%24;return`${o}d ${l}h`}if(s>0){const l=n%60;return`${s}h ${l}m`}if(n>0){const l=t%60;return`${n}m ${l}s`}return`${t}s`}const xc={log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{},info:(...e)=>{},debug:(...e)=>{},table:e=>{}},{TabPane:Ph}=Es,vC=e=>{switch(e){case"model":return a.jsx(di,{});case"dataset":return a.jsx(Gt,{});case"config":return a.jsx(Yc,{});case"code":return a.jsx(cc,{});default:return a.jsx(fi,{})}},wC=e=>{switch(e){case"production":return"green";case"staging":return"blue";case"experimental":return"orange";case"archived":return"default";default:return"default"}};function _C({runId:e}){const{t}=He(),n=ji(),[s,o]=b.useState(!1),[l,c]=b.useState([]),[d,f]=b.useState([]);b.useEffect(()=>{h()},[e]);const h=async()=>{o(!0);try{const g=await fetch(`/api/runs/${e}/artifacts`);if(!g.ok){const v=await g.text();throw xc.error(`API error: ${g.status} ${g.statusText}`,v),new Error(`Failed to load artifacts: ${g.statusText}`)}const x=await g.json();xc.info("Loaded artifacts:",x),c(x.created||[]),f(x.used||[])}catch(g){ee.error(`Failed to load artifacts: ${g}`)}finally{o(!1)}},p=[{title:t("artifacts.name"),dataIndex:"name",key:"name",render:(g,x)=>a.jsxs(N,{children:[vC(x.type),a.jsx("a",{onClick:()=>n(`/artifacts/${g}`),children:g})]})},{title:t("artifacts.version"),dataIndex:"version",key:"version",width:100,render:g=>a.jsxs(Te,{children:["v",g]})},{title:t("artifacts.aliases"),dataIndex:"aliases",key:"aliases",render:g=>a.jsx(N,{size:4,children:g.map(x=>a.jsx(Te,{color:"blue",children:x},x))})},{title:t("artifacts.stage"),dataIndex:"lifecycle_stage",key:"lifecycle_stage",render:g=>g&&a.jsx(Te,{color:wC(g),children:t(`artifacts.stage.${g}`)})},{title:t("artifacts.size"),dataIndex:"size_bytes",key:"size_bytes",width:100,render:g=>xC(g)},{title:t("artifacts.created"),dataIndex:"created_at",key:"created_at",width:180,render:g=>Vo(g)},{title:t("actions"),key:"actions",width:100,render:(g,x)=>a.jsx(he,{type:"link",size:"small",onClick:()=>n(`/artifacts/${x.name}?version=${x.version}`),children:t("view")})}];return s?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(An,{size:"large"})}):a.jsxs(Es,{defaultActiveKey:"created",children:[a.jsx(Ph,{tab:a.jsxs("span",{children:[a.jsx(di,{})," ",t("run.artifacts.created")," (",l.length,")"]}),children:l.length>0?a.jsx(xr,{dataSource:l,columns:p,rowKey:g=>`${g.name}-v${g.version}`,size:"small",pagination:{pageSize:10}}):a.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:t("run.artifacts.no_created")})},"created"),a.jsx(Ph,{tab:a.jsxs("span",{children:[a.jsx(qc,{})," ",t("run.artifacts.used")," (",d.length,")"]}),children:d.length>0?a.jsx(xr,{dataSource:d,columns:p,rowKey:g=>`${g.name}-v${g.version}`,size:"small",pagination:{pageSize:10}}):a.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:t("run.artifacts.no_used")})},"used")]})}function bC(){return a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(Pt,{gutter:[ne.spacing.md,ne.spacing.md],children:[1,2,3,4].map(e=>a.jsx(De,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Zn,{active:!0,paragraph:{rows:1}})})},e))}),a.jsx(le,{children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(Zn.Button,{active:!0,style:{width:"100%",height:40}}),[1,2,3,4,5,6,7,8].map(e=>a.jsx(Zn,{active:!0,paragraph:{rows:0}},e))]})})]})}function Wm(){return a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(le,{children:a.jsx(Zn,{active:!0,paragraph:{rows:4}})}),a.jsx(le,{children:a.jsx(Zn,{active:!0,paragraph:{rows:2}})}),a.jsx(Pt,{gutter:[ne.spacing.md,ne.spacing.md],children:[1,2,3,4].map(e=>a.jsx(De,{xs:24,md:12,children:a.jsx(le,{children:a.jsx(Zn.Image,{active:!0,style:{width:"100%",height:300}})})},e))}),a.jsx(le,{children:a.jsx(Zn,{active:!0,paragraph:{rows:6}})})]})}function SC({rows:e=4}){return a.jsx(le,{children:a.jsx(Zn,{active:!0,paragraph:{rows:e}})})}const{Text:In}=_e,Hm=({gpus:e,loading:t=!1})=>{const{t:n}=He(),{token:s}=er.useToken();if(!e||e.length===0)return null;const o=Math.max(6,Math.floor(24/e.length)),l=d=>d<60?s.colorSuccess:d<80?s.colorWarning:s.colorError,c=(d,f)=>{const h=Math.round(d.util_gpu??0),p=Math.round(d.mem_used_pct??(d.mem_used_mib&&d.mem_total_mib?d.mem_used_mib/d.mem_total_mib*100:0)),g=d.power_limit_w??350,x=d.power_w?Math.round(d.power_w/g*100):0,v=d.temp_max_c??85,S=d.temp_c?Math.round(d.temp_c/v*100):0;return a.jsx(De,{xs:24,sm:24,md:o,style:{textAlign:"center"},children:a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(In,{strong:!0,style:{fontSize:14,color:s.colorTextSecondary},children:["GPU ",d.index??f]}),d.name&&a.jsx("div",{children:a.jsx(In,{type:"secondary",style:{fontSize:12},children:d.name})})]}),a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(N,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{size:4,children:[a.jsx(Ci,{style:{color:l(h),fontSize:14}}),a.jsx(In,{style:{fontSize:12},children:n("gpu.util")})]}),a.jsxs(In,{strong:!0,style:{fontSize:12},children:[h,"%"]})]}),a.jsx(Qn,{percent:h,strokeColor:l(h),size:"small",showInfo:!1})]})}),a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(N,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{size:4,children:[a.jsx(Gt,{style:{color:l(p),fontSize:14}}),a.jsx(In,{style:{fontSize:12},children:n("gpu.mem")})]}),a.jsx(In,{strong:!0,style:{fontSize:12},children:d.mem_used_mib&&d.mem_total_mib?`${(d.mem_used_mib/1024).toFixed(1)}GB / ${(d.mem_total_mib/1024).toFixed(1)}GB`:`${p}%`})]}),a.jsx(Qn,{percent:p,strokeColor:l(p),size:"small",showInfo:!1})]})}),d.power_w!==void 0&&a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(N,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{size:4,children:[a.jsx(Dt,{style:{color:l(x),fontSize:14}}),a.jsx(In,{style:{fontSize:12},children:n("gpu.power")})]}),a.jsx(In,{strong:!0,style:{fontSize:12},children:`${Math.round(d.power_w)}W / ${Math.round(g)}W`})]}),a.jsx(Qn,{percent:x,strokeColor:l(x),size:"small",showInfo:!1})]})}),d.temp_c!==void 0&&a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(N,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{size:4,children:[a.jsx(ea,{style:{color:l(S),fontSize:14}}),a.jsx(In,{style:{fontSize:12},children:n("gpu.temp")})]}),a.jsx(In,{strong:!0,style:{fontSize:12},children:`${Math.round(d.temp_c)}°C / ${Math.round(v)}°C`})]}),a.jsx(Qn,{percent:S,strokeColor:l(S),size:"small",showInfo:!1})]})})]})},f)};return a.jsx(le,{title:n("gpu.monitor_title"),loading:t,style:{marginTop:16},children:a.jsx(Pt,{gutter:[16,24],justify:"center",children:e.map((d,f)=>c(d,f))})})};function Ah({children:e,height:t=320,threshold:n=.1,placeholder:s}){const o=b.useRef(null),[l,c]=b.useState(!1);return b.useEffect(()=>{if(l)return;const d=new IntersectionObserver(([f])=>{f.isIntersecting&&(c(!0),d.disconnect())},{rootMargin:"200px",threshold:n});return o.current&&d.observe(o.current),()=>d.disconnect()},[l,n]),a.jsx("div",{ref:o,style:{minHeight:t,width:"100%"},children:l?e:s||a.jsx("div",{style:{height:t,width:"100%",padding:16,background:"rgba(0,0,0,0.02)",borderRadius:8,display:"flex",flexDirection:"column",justifyContent:"center"},children:a.jsx(Zn,{active:!0,paragraph:{rows:4},title:!1})})})}const zl={},{Text:hn,Title:jC}=_e,{Panel:CC}=Xc,$l={running:3e3,finished:6e4,failed:3e4,default:1e4};function TC(){var Hr;const{id:e=""}=Pm(),{t}=He(),{settings:n}=Ti(),[s,o]=b.useState(null),[l,c]=b.useState({columns:[],rows:[]}),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(null),v=b.useRef({rowCount:0,lastStep:0}),[S,T]=b.useState(()=>{try{return localStorage.getItem(`run:${e}:step:xAxis`)||"global_step"}catch{return"global_step"}}),[E,P]=b.useState(()=>{try{return localStorage.getItem(`run:${e}:layout:twoCol`)==="1"}catch{return!0}}),[A,D]=b.useState(window.innerWidth);b.useEffect(()=>{const I=()=>D(window.innerWidth);return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const[j,R]=b.useState(null);b.useRef([]);const[O,B]=b.useState([]),[z,$]=b.useState(""),[G,Y]=b.useState([]),[se,X]=b.useState(""),[ie,ue]=b.useState([]),[oe,re]=b.useState([]),[Z,q]=b.useState([]),[Q,ce]=b.useState({}),xe=async(I=!0)=>{I&&f(!0);try{const J=await E1(e);o(J),x(new Date)}catch{ee.error(t("run.load_failed")||"Failed to load run details")}finally{I&&f(!1)}},Ge=async(I=!0)=>{var J;I&&p(!0);try{const we=n.maxDataPoints>0?n.maxDataPoints:void 0,ze=await jo(e,we),pe=ze.rows||[],Be=pe.length,$e=pe.length>0?((J=pe[pe.length-1])==null?void 0:J.global_step)??0:0,Me=v.current;(Be!==Me.rowCount||$e!==Me.lastStep)&&(c(ze),v.current={rowCount:Be,lastStep:$e},xc.debug(`Metrics updated: ${Me.rowCount} -> ${Be} rows, step ${Me.lastStep} -> ${$e}`))}catch{I&&ee.error(t("run.metrics_failed")||"Failed to load metrics")}finally{I&&p(!1)}},Ke=b.useMemo(()=>{if(!s)return $l.default;const I=s.status;return $l[I]??$l.default},[s==null?void 0:s.status]);b.useEffect(()=>{v.current={rowCount:0,lastStep:0},xe(),Ge();const I=setInterval(()=>{xe(!1),Ge(!1)},Ke);return()=>clearInterval(I)},[e,Ke,n.maxDataPoints]),b.useEffect(()=>{!(s!=null&&s.project)||!(s!=null&&s.name)||(D1().then(I=>B(I.projects||[])).catch(()=>{}),z||($(s.project),X(s.name)),re(I=>I.includes(e)?I:[e]))},[s==null?void 0:s.project,s==null?void 0:s.name,e]),b.useEffect(()=>{if(!z){Y([]);return}M1(z).then(I=>{Y(I.names||[]),z!==(s==null?void 0:s.project)?X(""):X((s==null?void 0:s.name)||"")}).catch(()=>Y([]))},[z,s==null?void 0:s.project,s==null?void 0:s.name]),b.useEffect(()=>{if(!z||!se){ue([]);return}I1(z,se).then(I=>{const J=(I||[]).sort((we,ze)=>(ze.start_time||0)-(we.start_time||0));ue(J)}).catch(()=>ue([]))},[z,se]);const Ve=b.useRef({}),ht=async()=>{var ze;if(oe.length<=1)return;const I=n.maxDataPoints>0?n.maxDataPoints:void 0,J={...Q};let we=!1;for(const pe of oe)if(pe!==e)try{const Be=await jo(pe,I),$e=Be.rows||[],Me=$e.length,rn=$e.length>0?((ze=$e[$e.length-1])==null?void 0:ze.global_step)??0:0,wt=Ve.current[pe]||{rowCount:0,lastStep:0};(Me!==wt.rowCount||rn!==wt.lastStep)&&(J[pe]=Be,Ve.current[pe]={rowCount:Me,lastStep:rn},we=!0)}catch{}we&&ce(J)};b.useEffect(()=>{let I=!1;const J=n.maxDataPoints>0?n.maxDataPoints:void 0;return(async()=>{var ze;const we={...Q};for(const pe of oe)if(!we[pe])try{const Be=await jo(pe,J);if(!I){we[pe]=Be;const $e=Be.rows||[];Ve.current[pe]={rowCount:$e.length,lastStep:$e.length>0?((ze=$e[$e.length-1])==null?void 0:ze.global_step)??0:0}}}catch{}I||ce(we)})(),()=>{I=!0}},[oe,n.maxDataPoints]),b.useEffect(()=>{if((s==null?void 0:s.status)!=="running"||oe.length<=1)return;const I=setInterval(()=>{ht()},Ke);return()=>clearInterval(I)},[s==null?void 0:s.status,oe,Ke]),b.useEffect(()=>{try{localStorage.setItem(`run:${e}:step:xAxis`,S)}catch{}},[e,S]),b.useEffect(()=>{try{localStorage.setItem(`run:${e}:layout:twoCol`,E?"1":"0")}catch{}},[e,E]);const gt=location.protocol==="https:"?"wss":"ws",U=b.useMemo(()=>{const I=(zl==null?void 0:zl.VITE_API_BASE)||"/api";return/^https?:/i.test(I)?`${I.replace(/^http/i,gt).replace(/\/$/,"")}/runs/${e}/logs/ws`:`${gt}://${location.host}${I.replace(/\/$/,"")}/runs/${e}/logs/ws`},[e,gt]),de=(I,J)=>{var we;if(!((we=I==null?void 0:I.rows)!=null&&we.length))return!1;for(const ze of I.rows){const pe=ze[J];if(pe==null||pe==="")continue;const Be=Number(pe);if(!Number.isNaN(Be))return!0}return!1},Ae=new Set(["epoch","global_step","iter","step","batch","time","stage"]),yt=b.useMemo(()=>(l.columns||[]).filter(I=>!Ae.has(I)&&de(l,I)),[l]),xt=b.useMemo(()=>{const I=new Set;for(const J of oe){const we=Q[J];if(!we)continue;const ze=we.columns||[];for(const pe of ze)!Ae.has(pe)&&de(we,pe)&&I.add(pe)}return Array.from(I).sort()},[oe,Q]),vn=b.useMemo(()=>({display:"grid",gridTemplateColumns:E&&A>=900?"repeat(auto-fit, minmax(400px, 1fr))":"1fr",gap:16,width:"100%",maxWidth:"100%"}),[E,A]),vt=b.useMemo(()=>{const I=n.defaultChartHeight;return A>=1200?I+30:A>=900?I:Math.max(250,I-40)},[A,n.defaultChartHeight]),Nn=I=>{switch(I){case"running":return a.jsx(Jc,{spin:!0,style:{color:"#1890ff"}});case"finished":return a.jsx(wr,{style:{color:"#52c41a"}});case"failed":return a.jsx(Vr,{style:{color:"#ff4d4f"}});default:return a.jsx(Kj,{})}};return d&&!s?a.jsx(Wm,{}):a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:[a.jsxs(le,{bodyStyle:{padding:"20px 24px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:16},children:[a.jsxs("div",{children:[a.jsxs(N,{align:"center",style:{marginBottom:8},children:[a.jsx(jC,{level:3,style:{margin:0},children:(s==null?void 0:s.name)||e}),(s==null?void 0:s.status)&&a.jsx(Te,{icon:Nn(s.status),color:s.status==="running"?"processing":s.status==="finished"?"success":s.status==="failed"?"error":"default",style:{fontSize:"14px",padding:"4px 10px",borderRadius:4},children:s.status.toUpperCase()})]}),a.jsxs(N,{split:a.jsx(tr,{type:"vertical"}),children:[a.jsxs(hn,{type:"secondary",children:[a.jsx(Hj,{})," ",(s==null?void 0:s.project)||"Default Project"]}),(s==null?void 0:s.start_time)&&a.jsxs(hn,{type:"secondary",children:[a.jsx(Gj,{})," ",Vo(s.start_time)]}),(s==null?void 0:s.pid)&&a.jsxs(hn,{type:"secondary",children:["PID: ",s.pid]})]})]}),a.jsxs(N,{children:[g&&a.jsx(hn,{type:"secondary",style:{fontSize:"12px"},children:t("run.updated",{time:g.toLocaleTimeString()})}),a.jsx(he,{icon:a.jsx(Rs,{}),onClick:()=>{xe(),Ge(),ee.success(t("run.refreshed"))},loading:d,children:t("run.refresh")})]})]}),a.jsx(tr,{style:{margin:"16px 0"}}),a.jsxs(Pt,{gutter:[24,16],children:[a.jsx(De,{xs:24,sm:12,md:8,children:a.jsx(Wt,{title:t("run.stats.duration")||"Duration",value:s!=null&&s.duration?Um(s.duration*1e3):"-",prefix:a.jsx(ta,{})})}),a.jsx(De,{xs:24,sm:12,md:8,children:a.jsx(Wt,{title:t("run.stats.total_steps")||"Total Steps",value:l.total??((Hr=l.rows)==null?void 0:Hr.length)??0,prefix:a.jsx(Dt,{})})}),a.jsx(De,{xs:24,sm:12,md:8,children:a.jsx(Wt,{title:t("run.stats.artifacts")||"Artifacts",value:((s==null?void 0:s.artifacts_created_count)||0)+((s==null?void 0:s.artifacts_used_count)||0),prefix:a.jsx(di,{})})})]}),a.jsx(Xc,{ghost:!0,style:{marginTop:16},children:a.jsx(CC,{header:t("run.more_details")||"More Details (Paths, Logs)",children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[a.jsxs("div",{children:[a.jsxs(hn,{type:"secondary",style:{display:"inline-block",width:100},children:[t("run.descriptions.run_id"),":"]}),a.jsx(hn,{copyable:!0,children:e})]}),a.jsxs("div",{children:[a.jsxs(hn,{type:"secondary",style:{display:"inline-block",width:100},children:[t("run.descriptions.run_dir"),":"]}),a.jsx(hn,{copyable:!0,ellipsis:!0,style:{maxWidth:"calc(100% - 120px)"},children:s==null?void 0:s.run_dir})]}),a.jsxs("div",{children:[a.jsxs(hn,{type:"secondary",style:{display:"inline-block",width:100},children:[t("run.descriptions.log_file"),":"]}),a.jsx(hn,{copyable:!0,ellipsis:!0,style:{maxWidth:"calc(100% - 120px)"},children:s==null?void 0:s.logs})]})]})},"1")})]}),(s==null?void 0:s.status)==="running"&&(j==null?void 0:j.gpus)&&j.gpus.length>0&&a.jsx(Hm,{gpus:j.gpus,loading:d}),a.jsx(le,{title:a.jsxs(N,{children:[a.jsx(ea,{}),a.jsx("span",{children:t("compare.title")}),oe.length>1&&Z.length>0&&a.jsx($o,{count:`${oe.length} runs × ${Z.length} metrics`,style:{backgroundColor:"#52c41a"}})]}),extra:a.jsxs(N,{children:[a.jsx(Je,{title:"Select all available metrics",children:a.jsx(he,{size:"small",type:"dashed",onClick:()=>q(xt),disabled:xt.length===0,children:"Select All"})}),a.jsx(Je,{title:"Clear all selections",children:a.jsx(he,{size:"small",type:"text",onClick:()=>{q([]),re([e])},children:"Clear"})})]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsxs(N,{wrap:!0,style:{width:"100%"},align:"start",children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,flex:1,minWidth:300},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[a.jsxs("div",{style:{flex:1,minWidth:160},children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:t("run.descriptions.project")||"Project"}),a.jsx(ft,{showSearch:!0,style:{width:"100%"},value:z,onChange:$,options:O.map(I=>({value:I,label:I})),placeholder:"Select Project"})]}),a.jsxs("div",{style:{flex:1,minWidth:160},children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:t("run.descriptions.name")||"Experiment"}),a.jsx(ft,{showSearch:!0,style:{width:"100%"},value:se,onChange:X,options:G.map(I=>({value:I,label:I})),placeholder:"Select Experiment",disabled:!z})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:t("compare.select.runs")}),a.jsx(ft,{mode:"multiple",allowClear:!0,style:{width:"100%"},value:oe,onChange:re,placeholder:t("compare.select.runs.placeholder"),optionLabelProp:"label",maxTagCount:3,children:(ie||[]).map(I=>a.jsx(ft.Option,{value:I.id,label:I.id.substring(0,8),children:a.jsxs(N,{direction:"vertical",size:0,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx(hn,{strong:!0,children:I.id}),a.jsx(Te,{color:I.status==="running"?"blue":I.status==="finished"?"green":"red",style:{marginRight:0},children:I.status})]}),a.jsx(hn,{type:"secondary",style:{fontSize:12},children:I.start_time?Vo(I.start_time):"-"})]})},I.id))})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:a.jsxs(N,{children:[a.jsx("span",{children:t("compare.select.metrics")}),a.jsxs(N.Compact,{size:"small",children:[a.jsx(he,{type:"text",size:"small",onClick:()=>q(xt.filter(I=>I.match(/loss|error/i))),children:"Loss"}),a.jsx(he,{type:"text",size:"small",onClick:()=>q(xt.filter(I=>I.match(/acc|accuracy/i))),children:"Acc"})]})]})}),a.jsx(ft,{mode:"multiple",allowClear:!0,style:{width:"100%"},value:Z,onChange:q,placeholder:t("compare.select.metrics.placeholder"),options:xt.map(I=>({value:I,label:I})),maxTagCount:"responsive"})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:8,paddingBottom:4},children:[a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:4,fontSize:"12px",color:"#8c8c8c"},children:t("compare.stepx")}),a.jsx(ft,{value:S,onChange:I=>T(I),style:{width:120},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),a.jsx(he,{onClick:async()=>{const I=n.maxDataPoints>0?n.maxDataPoints:void 0,J={};for(const we of oe)try{J[we]=await jo(we,I)}catch{}ce(J)},children:t("compare.refresh")})]})]}),Z.length===0||oe.length===0?a.jsx(nn,{type:"info",showIcon:!0,message:t("compare.tip")}):a.jsx("div",{style:vn,children:Z.map(I=>a.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px",backgroundColor:"#fff"},children:a.jsx(Ah,{height:vt,children:a.jsx(yC,{title:I,xKey:S,yKey:I,runs:oe.map(J=>({id:J,metrics:Q[J]||{columns:[],rows:[]}})),height:vt,group:`overlay-group-${e}`,persistKey:`run:${e}:overlay:${I}`})})},I))})]})}),a.jsx(le,{title:a.jsxs(N,{children:[a.jsx(Ci,{}),a.jsx("span",{children:t("metrics.title")}),a.jsx($o,{count:yt.length,showZero:!0,style:{backgroundColor:"#1677ff"}}),h&&a.jsx(An,{size:"small"})]}),extra:a.jsxs(N,{wrap:!0,children:[a.jsx(Je,{title:t("metrics.more_columns_tooltip")||"Display charts in multiple columns",children:a.jsxs("span",{children:[t("metrics.more_columns")," ",a.jsx(bt,{checked:E,onChange:P})]})}),a.jsxs("span",{children:[t("compare.stepx")," ",a.jsx(ft,{size:"small",value:S,onChange:I=>T(I),style:{width:140},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),a.jsx(Je,{title:"Refresh metrics",children:a.jsx(he,{type:"text",size:"small",icon:a.jsx(Rs,{}),loading:h,onClick:()=>Ge()})})]}),children:yt.length===0?a.jsx(nn,{type:"info",showIcon:!0,message:t("metrics.none")}):a.jsx("div",{style:vn,children:yt.map(I=>a.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px",backgroundColor:"#fff"},children:a.jsx(Ah,{height:vt,children:a.jsx(pC,{metrics:l,xKey:S,yKeys:[I],title:I,height:vt,group:`step-group-${e}`,persistKey:`run:${e}:step:${I}`})})},I))})}),((s==null?void 0:s.artifacts_created_count)>0||(s==null?void 0:s.artifacts_used_count)>0)&&a.jsx(le,{title:a.jsxs(N,{children:[a.jsx(di,{}),t("run.artifacts.title")]}),children:a.jsx(_C,{runId:e})}),a.jsx(le,{title:a.jsxs(N,{children:[a.jsx(Gt,{}),a.jsx("span",{children:t("logs.title")}),a.jsx(Te,{color:"cyan",children:"Real-time"})]}),styles:{body:{padding:0}},children:a.jsx(dC,{url:U,persistKey:`run_${e}_logs`})})]})}const nu=b.createContext({});function Ri(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const ru=typeof window<"u",su=ru?b.useLayoutEffect:b.useEffect,sa=b.createContext(null);function iu(e,t){e.indexOf(t)===-1&&e.push(t)}function ia(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const nr=(e,t,n)=>n>t?t:n<e?e:n;let ou=()=>{};const rr={},Gm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Km(e){return typeof e=="object"&&e!==null}const qm=e=>/^0[^.\s]+$/u.test(e);function au(e){let t;return()=>(t===void 0&&(t=e()),t)}const xn=e=>e,RC=(e,t)=>n=>t(e(n)),Pi=(...e)=>e.reduce(RC),Ps=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class lu{constructor(){this.subscriptions=[]}add(t){return iu(this.subscriptions,t),()=>ia(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const En=e=>e*1e3,yn=e=>e/1e3;function Ym(e,t){return t?e*(1e3/t):0}const PC=(e,t,n)=>{const s=t-e;return((n-e)%s+s)%s+e},Xm=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,AC=1e-7,EC=12;function kC(e,t,n,s,o){let l,c,d=0;do c=t+(n-t)/2,l=Xm(c,s,o)-e,l>0?n=c:t=c;while(Math.abs(l)>AC&&++d<EC);return c}function Ai(e,t,n,s){if(e===t&&n===s)return xn;const o=l=>kC(l,0,1,e,n);return l=>l===0||l===1?l:Xm(o(l),t,s)}const Jm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Zm=e=>t=>1-e(1-t),Qm=Ai(.33,1.53,.69,.99),cu=Zm(Qm),eg=Jm(cu),tg=e=>(e*=2)<1?.5*cu(e):.5*(2-Math.pow(2,-10*(e-1))),uu=e=>1-Math.sin(Math.acos(e)),ng=Zm(uu),rg=Jm(uu),DC=Ai(.42,0,1,1),MC=Ai(0,0,.58,1),sg=Ai(.42,0,.58,1),ig=e=>Array.isArray(e)&&typeof e[0]!="number";function og(e,t){return ig(e)?e[PC(0,e.length,t)]:e}const ag=e=>Array.isArray(e)&&typeof e[0]=="number",IC={linear:xn,easeIn:DC,easeInOut:sg,easeOut:MC,circIn:uu,circInOut:rg,circOut:ng,backIn:cu,backInOut:eg,backOut:Qm,anticipate:tg},LC=e=>typeof e=="string",Eh=e=>{if(ag(e)){ou(e.length===4);const[t,n,s,o]=e;return Ai(t,n,s,o)}else if(LC(e))return IC[e];return e},Co=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function OC(e,t){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(h.schedule(p),e()),p(d)}const h={schedule:(p,g=!1,x=!1)=>{const S=x&&o?n:s;return g&&c.add(p),S.has(p)||S.add(p),p},cancel:p=>{s.delete(p),c.delete(p)},process:p=>{if(d=p,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(f),n.clear(),o=!1,l&&(l=!1,h.process(p))}};return h}const FC=40;function lg(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Co.reduce((D,j)=>(D[j]=OC(l),D),{}),{setup:d,read:f,resolveKeyframes:h,preUpdate:p,update:g,preRender:x,render:v,postRender:S}=c,T=()=>{const D=rr.useManualTiming?o.timestamp:performance.now();n=!1,rr.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(D-o.timestamp,FC),1)),o.timestamp=D,o.isProcessing=!0,d.process(o),f.process(o),h.process(o),p.process(o),g.process(o),x.process(o),v.process(o),S.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(T))},E=()=>{n=!0,s=!0,o.isProcessing||e(T)};return{schedule:Co.reduce((D,j)=>{const R=c[j];return D[j]=(O,B=!1,z=!1)=>(n||E(),R.schedule(O,B,z)),D},{}),cancel:D=>{for(let j=0;j<Co.length;j++)c[Co[j]].cancel(D)},state:o,steps:c}}const{schedule:Ze,cancel:sr,state:Rt,steps:Nl}=lg(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0);let Io;function zC(){Io=void 0}const Ht={now:()=>(Io===void 0&&Ht.set(Rt.isProcessing||rr.useManualTiming?Rt.timestamp:performance.now()),Io),set:e=>{Io=e,queueMicrotask(zC)}},cg=e=>t=>typeof t=="string"&&t.startsWith(e),du=cg("--"),$C=cg("var(--"),fu=e=>$C(e)?NC.test(e.split("/*")[0].trim()):!1,NC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ks={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},mi={...ks,transform:e=>nr(0,1,e)},To={...ks,default:1},si=e=>Math.round(e*1e5)/1e5,hu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VC(e){return e==null}const BC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pu=(e,t)=>n=>!!(typeof n=="string"&&BC.test(n)&&n.startsWith(e)||t&&!VC(n)&&Object.prototype.hasOwnProperty.call(n,t)),ug=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(hu);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},UC=e=>nr(0,255,e),Vl={...ks,transform:e=>Math.round(UC(e))},Lr={test:pu("rgb","red"),parse:ug("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Vl.transform(e)+", "+Vl.transform(t)+", "+Vl.transform(n)+", "+si(mi.transform(s))+")"};function WC(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const vc={test:pu("#"),parse:WC,transform:Lr.transform},Ei=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yr=Ei("deg"),Fn=Ei("%"),ve=Ei("px"),HC=Ei("vh"),GC=Ei("vw"),kh={...Fn,parse:e=>Fn.parse(e)/100,transform:e=>Fn.transform(e*100)},vs={test:pu("hsl","hue"),parse:ug("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Fn.transform(si(t))+", "+Fn.transform(si(n))+", "+si(mi.transform(s))+")"},dt={test:e=>Lr.test(e)||vc.test(e)||vs.test(e),parse:e=>Lr.test(e)?Lr.parse(e):vs.test(e)?vs.parse(e):vc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Lr.transform(e):vs.transform(e),getAnimatableNone:e=>{const t=dt.parse(e);return t.alpha=0,dt.transform(t)}},KC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hu))==null?void 0:t.length)||0)+(((n=e.match(KC))==null?void 0:n.length)||0)>0}const dg="number",fg="color",YC="var",XC="var(",Dh="${}",JC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gi(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=t.replace(JC,f=>(dt.test(f)?(s.color.push(l),o.push(fg),n.push(dt.parse(f))):f.startsWith(XC)?(s.var.push(l),o.push(YC),n.push(f)):(s.number.push(l),o.push(dg),n.push(parseFloat(f))),++l,Dh)).split(Dh);return{values:n,split:d,indexes:s,types:o}}function hg(e){return gi(e).values}function pg(e){const{split:t,types:n}=gi(e),s=t.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],o[c]!==void 0){const d=n[c];d===dg?l+=si(o[c]):d===fg?l+=dt.transform(o[c]):l+=o[c]}return l}}const ZC=e=>typeof e=="number"?0:dt.test(e)?dt.getAnimatableNone(e):e;function QC(e){const t=hg(e);return pg(e)(t.map(ZC))}const _r={test:qC,parse:hg,createTransformer:pg,getAnimatableNone:QC};function Bl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function eT({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,c=0;if(!t)o=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;o=Bl(f,d,e+1/3),l=Bl(f,d,e),c=Bl(f,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Bo(e,t){return n=>n>0?t:e}const et=(e,t,n)=>e+(t-e)*n,Ul=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},tT=[vc,Lr,vs],nT=e=>tT.find(t=>t.test(e));function Mh(e){const t=nT(e);if(!t)return!1;let n=t.parse(e);return t===vs&&(n=eT(n)),n}const Ih=(e,t)=>{const n=Mh(e),s=Mh(t);if(!n||!s)return Bo(e,t);const o={...n};return l=>(o.red=Ul(n.red,s.red,l),o.green=Ul(n.green,s.green,l),o.blue=Ul(n.blue,s.blue,l),o.alpha=et(n.alpha,s.alpha,l),Lr.transform(o))},wc=new Set(["none","hidden"]);function rT(e,t){return wc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sT(e,t){return n=>et(e,t,n)}function mu(e){return typeof e=="number"?sT:typeof e=="string"?fu(e)?Bo:dt.test(e)?Ih:aT:Array.isArray(e)?mg:typeof e=="object"?dt.test(e)?Ih:iT:Bo}function mg(e,t){const n=[...e],s=n.length,o=e.map((l,c)=>mu(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function iT(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=mu(e[o])(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function oT(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][s[l]],d=e.values[c]??0;n[o]=d,s[l]++}return n}const aT=(e,t)=>{const n=_r.createTransformer(t),s=gi(e),o=gi(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?wc.has(e)&&!o.values.length||wc.has(t)&&!s.values.length?rT(e,t):Pi(mg(oT(s,o),o.values),n):Bo(e,t)};function gg(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?et(e,t,n):mu(e)(e,t)}const lT=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ze.update(t,n),stop:()=>sr(t),now:()=>Rt.isProcessing?Rt.timestamp:Ht.now()}},yg=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)s+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Uo=2e4;function gu(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Uo;)t+=n,s=e.next(t);return t>=Uo?1/0:t}function xg(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(gu(s),Uo);return{type:"keyframes",ease:l=>s.next(o*l).value/t,duration:yn(o)}}const cT=5;function vg(e,t,n){const s=Math.max(t-cT,0);return Ym(n-e(s),t-s)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wl=.001;function uT({duration:e=at.duration,bounce:t=at.bounce,velocity:n=at.velocity,mass:s=at.mass}){let o,l,c=1-t;c=nr(at.minDamping,at.maxDamping,c),e=nr(at.minDuration,at.maxDuration,yn(e)),c<1?(o=h=>{const p=h*c,g=p*e,x=p-n,v=_c(h,c),S=Math.exp(-g);return Wl-x/v*S},l=h=>{const g=h*c*e,x=g*n+n,v=Math.pow(c,2)*Math.pow(h,2)*e,S=Math.exp(-g),T=_c(Math.pow(h,2),c);return(-o(h)+Wl>0?-1:1)*((x-v)*S)/T}):(o=h=>{const p=Math.exp(-h*e),g=(h-n)*e+1;return-Wl+p*g},l=h=>{const p=Math.exp(-h*e),g=(n-h)*(e*e);return p*g});const d=5/e,f=fT(o,l,d);if(e=En(e),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:e};{const h=Math.pow(f,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:e}}}const dT=12;function fT(e,t,n){let s=n;for(let o=1;o<dT;o++)s=s-e(s)/t(s);return s}function _c(e,t){return e*Math.sqrt(1-t*t)}const hT=["duration","bounce"],pT=["stiffness","damping","mass"];function Lh(e,t){return t.some(n=>e[n]!==void 0)}function mT(e){let t={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...e};if(!Lh(e,pT)&&Lh(e,hT))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*nr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:at.mass,stiffness:o,damping:l}}else{const n=uT(e);t={...t,...n,mass:at.mass},t.isResolvedFromDuration=!0}return t}function yi(e=at.visualDuration,t=at.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:h,mass:p,duration:g,velocity:x,isResolvedFromDuration:v}=mT({...n,velocity:-yn(n.velocity||0)}),S=x||0,T=h/(2*Math.sqrt(f*p)),E=c-l,P=yn(Math.sqrt(f/p)),A=Math.abs(E)<5;s||(s=A?at.restSpeed.granular:at.restSpeed.default),o||(o=A?at.restDelta.granular:at.restDelta.default);let D;if(T<1){const R=_c(P,T);D=O=>{const B=Math.exp(-T*P*O);return c-B*((S+T*P*E)/R*Math.sin(R*O)+E*Math.cos(R*O))}}else if(T===1)D=R=>c-Math.exp(-P*R)*(E+(S+P*E)*R);else{const R=P*Math.sqrt(T*T-1);D=O=>{const B=Math.exp(-T*P*O),z=Math.min(R*O,300);return c-B*((S+T*P*E)*Math.sinh(z)+R*E*Math.cosh(z))/R}}const j={calculatedDuration:v&&g||null,next:R=>{const O=D(R);if(v)d.done=R>=g;else{let B=R===0?S:0;T<1&&(B=R===0?En(S):vg(D,R,O));const z=Math.abs(B)<=s,$=Math.abs(c-O)<=o;d.done=z&&$}return d.value=d.done?c:O,d},toString:()=>{const R=Math.min(gu(j),Uo),O=yg(B=>j.next(R*B).value,R,30);return R+"ms "+O},toTransition:()=>{}};return j}yi.applyToOptions=e=>{const t=xg(e,100,yi);return e.ease=t.ease,e.duration=En(t.duration),e.type="keyframes",e};function bc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:h=.5,restSpeed:p}){const g=e[0],x={done:!1,value:g},v=z=>d!==void 0&&z<d||f!==void 0&&z>f,S=z=>d===void 0?f:f===void 0||Math.abs(d-z)<Math.abs(f-z)?d:f;let T=n*t;const E=g+T,P=c===void 0?E:c(E);P!==E&&(T=P-g);const A=z=>-T*Math.exp(-z/s),D=z=>P+A(z),j=z=>{const $=A(z),G=D(z);x.done=Math.abs($)<=h,x.value=x.done?P:G};let R,O;const B=z=>{v(x.value)&&(R=z,O=yi({keyframes:[x.value,S(x.value)],velocity:vg(D,z,x.value),damping:o,stiffness:l,restDelta:h,restSpeed:p}))};return B(0),{calculatedDuration:null,next:z=>{let $=!1;return!O&&R===void 0&&($=!0,j(z),B(z)),R!==void 0&&z>=R?O.next(z-R):(!$&&j(z),x)}}}function gT(e,t,n){const s=[],o=n||rr.mix||gg,l=e.length-1;for(let c=0;c<l;c++){let d=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||xn:t;d=Pi(f,d)}s.push(d)}return s}function wg(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(ou(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=gT(t,s,o),f=d.length,h=p=>{if(c&&p<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const x=Ps(e[g],e[g+1],p);return d[g](x)};return n?p=>h(nr(e[0],e[l-1],p)):h}function _g(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Ps(0,t,s);e.push(et(n,1,o))}}function bg(e){const t=[0];return _g(t,e.length-1),t}function yT(e,t){return e.map(n=>n*t)}function xT(e,t){return e.map(()=>t||sg).splice(0,e.length-1)}function ii({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=ig(s)?s.map(Eh):Eh(s),l={done:!1,value:t[0]},c=yT(n&&n.length===t.length?n:bg(t),e),d=wg(c,t,{ease:Array.isArray(o)?o:xT(t,o)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const vT=e=>e!==null;function yu(e,{repeat:t,repeatType:n="loop"},s,o=1){const l=e.filter(vT),d=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const wT={decay:bc,inertia:bc,tween:ii,keyframes:ii,spring:yi};function Sg(e){typeof e.type=="string"&&(e.type=wT[e.type])}class xu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const _T=e=>e/100;class vu extends xu{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Ht.now()&&this.tick(Ht.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Sg(t);const{type:n=ii,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||ii;f!==ii&&typeof d[0]!="number"&&(this.mixKeyframes=Pi(_T,gg(d[0],d[1])),d=[0,100]);const h=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=gu(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:x,repeatDelay:v,type:S,onUpdate:T,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const P=this.currentTime-h*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?P<0:P>o;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let D=this.currentTime,j=s;if(g){const z=Math.min(this.currentTime,o)/d;let $=Math.floor(z),G=z%1;!G&&z>=1&&(G=1),G===1&&$--,$=Math.min($,g+1),!!($%2)&&(x==="reverse"?(G=1-G,v&&(G-=v/d)):x==="mirror"&&(j=c)),D=nr(0,1,G)*d}const R=A?{done:!1,value:p[0]}:j.next(D);l&&(R.value=l(R.value));let{done:O}=R;!A&&f!==null&&(O=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return B&&S!==bc&&(R.value=yu(p,this.options,E,this.speed)),T&&T(R.value),B&&this.finish(),R}then(t,n){return this.finished.then(t,n)}get duration(){return yn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+yn(t)}get time(){return yn(this.currentTime)}set time(t){var n;t=En(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ht.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=yn(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=lT,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ht.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function bT(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Or=e=>e*180/Math.PI,Sc=e=>{const t=Or(Math.atan2(e[1],e[0]));return jc(t)},ST={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Sc,rotateZ:Sc,skewX:e=>Or(Math.atan(e[1])),skewY:e=>Or(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jc=e=>(e=e%360,e<0&&(e+=360),e),Oh=Sc,Fh=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),zh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),jT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fh,scaleY:zh,scale:e=>(Fh(e)+zh(e))/2,rotateX:e=>jc(Or(Math.atan2(e[6],e[5]))),rotateY:e=>jc(Or(Math.atan2(-e[2],e[0]))),rotateZ:Oh,rotate:Oh,skewX:e=>Or(Math.atan(e[4])),skewY:e=>Or(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Cc(e){return e.includes("scale")?1:0}function Tc(e,t){if(!e||e==="none")return Cc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=jT,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ST,o=d}if(!o)return Cc(t);const l=s[t],c=o[1].split(",").map(TT);return typeof l=="function"?l(c):c[l]}const CT=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Tc(n,t)};function TT(e){return parseFloat(e.trim())}const Ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ms=new Set(Ds),$h=e=>e===ks||e===ve,RT=new Set(["x","y","z"]),PT=Ds.filter(e=>!RT.has(e));function AT(e){const t=[];return PT.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const $r={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Tc(t,"x"),y:(e,{transform:t})=>Tc(t,"y")};$r.translateX=$r.x;$r.translateY=$r.y;const Nr=new Set;let Rc=!1,Pc=!1,Ac=!1;function jg(){if(Pc){const e=Array.from(Nr).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=AT(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Pc=!1,Rc=!1,Nr.forEach(e=>e.complete(Ac)),Nr.clear()}function Cg(){Nr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pc=!0)})}function ET(){Ac=!0,Cg(),jg(),Ac=!1}class wu{constructor(t,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Nr.add(this),Rc||(Rc=!0,Ze.read(Cg),Ze.resolveKeyframes(jg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}bT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nr.delete(this)}cancel(){this.state==="scheduled"&&(Nr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kT=e=>e.startsWith("--");function DT(e,t,n){kT(t)?e.style.setProperty(t,n):e.style[t]=n}const MT=au(()=>window.ScrollTimeline!==void 0),IT={};function LT(e,t){const n=au(e);return()=>IT[t]??n()}const Tg=LT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ni=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Nh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ni([0,.65,.55,1]),circOut:ni([.55,0,1,.45]),backIn:ni([.31,.01,.66,-.59]),backOut:ni([.33,1.53,.69,.99])};function Rg(e,t){if(e)return typeof e=="function"?Tg()?yg(e,t):"ease-out":ag(e)?ni(e):Array.isArray(e)?e.map(n=>Rg(n,t)||Nh.easeOut):Nh[e]}function OT(e,t,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},h=void 0){const p={[t]:n};f&&(p.offset=f);const g=Rg(d,o);Array.isArray(g)&&(p.easing=g);const x={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),e.animate(p,x)}function _u(e){return typeof e=="function"&&"applyToOptions"in e}function FT({type:e,...t}){return _u(e)&&Tg()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class zT extends xu{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,ou(typeof t.type!="string");const h=FT(t);this.animation=OT(n,s,o,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=yu(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):DT(n,s,p),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return yn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+yn(t)}get time(){return yn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=En(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&MT()?(this.animation.timeline=t,xn):n(this)}}const Pg={anticipate:tg,backInOut:eg,circInOut:rg};function $T(e){return e in Pg}function NT(e){typeof e.ease=="string"&&$T(e.ease)&&(e.ease=Pg[e.ease])}const Vh=10;class VT extends zT{constructor(t){NT(t),Sg(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new vu({...c,autoplay:!1}),f=En(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-Vh).value,d.sample(f).value,Vh),d.stop()}}const Bh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_r.test(e)||e==="0")&&!e.startsWith("url("));function BT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function UT(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Bh(o,t),d=Bh(l,t);return!c||!d?!1:BT(e)||(n==="spring"||_u(n))&&s}function Ec(e){e.duration=0,e.type="keyframes"}const WT=new Set(["opacity","clipPath","filter","transform"]),HT=au(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GT(e){var p;const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return HT()&&n&&WT.has(n)&&(n!=="transform"||!h)&&!f&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const KT=40;class qT extends xu{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:h,element:p,...g}){var S;super(),this.stop=()=>{var T,E;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Ht.now();const x={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:f,motionValue:h,element:p,...g},v=(p==null?void 0:p.KeyframeResolver)||wu;this.keyframeResolver=new v(d,(T,E,P)=>this.onKeyframesResolved(T,E,x,!P),f,h,p),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:h,onUpdate:p}=s;this.resolvedAt=Ht.now(),UT(t,l,c,d)||((rr.instantAnimations||!f)&&(p==null||p(yu(t,s,n))),t[0]=t[t.length-1],Ec(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>KT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},v=!h&&GT(x)?new VT({...x,element:x.motionValue.owner.current}):new vu(x);v.finished.then(()=>this.notifyFinished()).catch(xn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),ET()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class YT{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t){const n=this.animations.map(s=>s.attachTimeline(t));return()=>{n.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return Uh(this.animations,"duration")}get iterationDuration(){return Uh(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Uh(e,t){let n=0;for(let s=0;s<e.length;s++){const o=e[s][t];o!==null&&o>n&&(n=o)}return n}class XT extends YT{then(t,n){return this.finished.finally(t).then(()=>{})}}const JT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZT(e){const t=JT.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function Ag(e,t,n=1){const[s,o]=ZT(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Gm(c)?parseFloat(c):c}return fu(o)?Ag(o,t,n+1):o}function bu(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Eg=new Set(["width","height","top","left","right","bottom",...Ds]),QT={test:e=>e==="auto",parse:e=>e},kg=e=>t=>t.test(e),Dg=[ks,ve,Fn,yr,GC,HC,QT],Wh=e=>Dg.find(kg(e));function eR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||qm(e):!0}const tR=new Set(["brightness","contrast","saturate","opacity"]);function nR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(hu)||[];if(!s)return e;const o=n.replace(s,"");let l=tR.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const rR=/\b([a-z-]*)\(.*?\)/gu,kc={..._r,getAnimatableNone:e=>{const t=e.match(rR);return t?t.map(nR).join(" "):e}},Hh={...ks,transform:Math.round},sR={rotate:yr,rotateX:yr,rotateY:yr,rotateZ:yr,scale:To,scaleX:To,scaleY:To,scaleZ:To,skew:yr,skewX:yr,skewY:yr,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:mi,originX:kh,originY:kh,originZ:ve},Su={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve,...sR,zIndex:Hh,fillOpacity:mi,strokeOpacity:mi,numOctaves:Hh},iR={...Su,color:dt,backgroundColor:dt,outlineColor:dt,fill:dt,stroke:dt,borderColor:dt,borderTopColor:dt,borderRightColor:dt,borderBottomColor:dt,borderLeftColor:dt,filter:kc,WebkitFilter:kc},Mg=e=>iR[e];function Ig(e,t){let n=Mg(e);return n!==kc&&(n=_r),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const oR=new Set(["auto","none","0"]);function aR(e,t,n){let s=0,o;for(;s<e.length&&!o;){const l=e[s];typeof l=="string"&&!oR.has(l)&&gi(l).values.length&&(o=e[s]),s++}if(o&&n)for(const l of t)e[l]=Ig(n,o)}class lR extends wu{constructor(t,n,s,o,l){super(t,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),fu(h))){const p=Ag(h,n.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Eg.has(s)||t.length!==2)return;const[o,l]=t,c=Wh(o),d=Wh(l);if(c!==d)if($h(c)&&$h(d))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else $r[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||eR(t[o]))&&s.push(o);s.length&&aR(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$r[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=$r[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function Lg(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(n==null?void 0:n[e])??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const Og=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Fg(e){return Km(e)&&"offsetHeight"in e}const Gh=30,cR=e=>!isNaN(parseFloat(e)),oi={current:void 0};class uR{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const o=Ht.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ht.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=cR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lu);const s=this.events[t].add(n);return t==="change"?()=>{s(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return oi.current&&oi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ht.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gh);return Ym(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Br(e,t){return new uR(e,t)}const{schedule:ju}=lg(queueMicrotask,!1),Tn={x:!1,y:!1};function zg(){return Tn.x||Tn.y}function dR(e){return e==="x"||e==="y"?Tn[e]?null:(Tn[e]=!0,()=>{Tn[e]=!1}):Tn.x||Tn.y?null:(Tn.x=Tn.y=!0,()=>{Tn.x=Tn.y=!1})}function $g(e,t){const n=Lg(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function Kh(e){return!(e.pointerType==="touch"||zg())}function fR(e,t,n={}){const[s,o,l]=$g(e,n),c=d=>{if(!Kh(d))return;const{target:f}=d,h=t(f,d);if(typeof h!="function"||!f)return;const p=g=>{Kh(g)&&(h(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const Ng=(e,t)=>t?e===t?!0:Ng(e,t.parentElement):!1,Cu=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pR(e){return hR.has(e.tagName)||e.tabIndex!==-1}const Lo=new WeakSet;function qh(e){return t=>{t.key==="Enter"&&e(t)}}function Hl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mR=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=qh(()=>{if(Lo.has(n))return;Hl(n,"down");const o=qh(()=>{Hl(n,"up")}),l=()=>Hl(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Yh(e){return Cu(e)&&!zg()}function gR(e,t,n={}){const[s,o,l]=$g(e,n),c=d=>{const f=d.currentTarget;if(!Yh(d))return;Lo.add(f);const h=t(f,d),p=(v,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),Lo.has(f)&&Lo.delete(f),Yh(v)&&typeof h=="function"&&h(v,{success:S})},g=v=>{p(v,f===window||f===document||n.useGlobalTarget||Ng(f,v.target))},x=v=>{p(v,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",x,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),Fg(d)&&(d.addEventListener("focus",h=>mR(h,o)),!pR(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Tu(e){return Km(e)&&"ownerSVGElement"in e}function Vg(e){return Tu(e)&&e.tagName==="svg"}function yR(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],l=e[2+n],c=e[3+n],d=wg(o,l,c);return t?d(s):d}const St=e=>!!(e&&e.getVelocity),xR=[...Dg,dt,_r],vR=e=>xR.find(kg(e)),oa=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Xh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wR(...e){return t=>{let n=!1;const s=e.map(o=>{const l=Xh(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Xh(e[o],null)}}}}function _R(...e){return b.useCallback(wR(...e),e)}class bR extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=Fg(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SR({children:e,isPresent:t,anchorX:n,root:s}){const o=b.useId(),l=b.useRef(null),c=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=b.useContext(oa),f=_R(l,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:h,height:p,top:g,left:x,right:v}=c.current;if(t||!l.current||!h||!p)return;const S=n==="left"?`left: ${x}`:`right: ${v}`;l.current.dataset.motionPopId=o;const T=document.createElement("style");d&&(T.nonce=d);const E=s??document.head;return E.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{E.contains(T)&&E.removeChild(T)}},[t]),a.jsx(bR,{isPresent:t,childRef:l,sizeRef:c,children:b.cloneElement(e,{ref:f})})}const jR=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const h=Ri(CR),p=b.useId();let g=!0,x=b.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:n,custom:o,onExitComplete:v=>{h.set(v,!0);for(const S of h.values())if(!S)return;s&&s()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,s]);return l&&g&&(x={...x}),b.useMemo(()=>{h.forEach((v,S)=>h.set(S,!1))},[n]),b.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(e=a.jsx(SR,{isPresent:n,anchorX:d,root:f,children:e})),a.jsx(sa.Provider,{value:x,children:e})};function CR(){return new Map}function Bg(e=!0){const t=b.useContext(sa);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,l=b.useId();b.useEffect(()=>{if(e)return o(l)},[e]);const c=b.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const Ro=e=>e.key||"";function Jh(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const TR=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[h,p]=Bg(c),g=b.useMemo(()=>Jh(e),[e]),x=c&&!h?[]:g.map(Ro),v=b.useRef(!0),S=b.useRef(g),T=Ri(()=>new Map),[E,P]=b.useState(g),[A,D]=b.useState(g);su(()=>{v.current=!1,S.current=g;for(let O=0;O<A.length;O++){const B=Ro(A[O]);x.includes(B)?T.delete(B):T.get(B)!==!0&&T.set(B,!1)}},[A,x.length,x.join("-")]);const j=[];if(g!==E){let O=[...g];for(let B=0;B<A.length;B++){const z=A[B],$=Ro(z);x.includes($)||(O.splice(B,0,z),j.push(z))}return l==="wait"&&j.length&&(O=j),D(Jh(O)),P(g),null}const{forceRender:R}=b.useContext(nu);return a.jsx(a.Fragment,{children:A.map(O=>{const B=Ro(O),z=c&&!h?!1:g===A||x.includes(B),$=()=>{if(T.has(B))T.set(B,!0);else return;let G=!0;T.forEach(Y=>{Y||(G=!1)}),G&&(R==null||R(),D(S.current),c&&(p==null||p()),s&&s())};return a.jsx(jR,{isPresent:z,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:z?void 0:$,anchorX:d,children:O},B)})})},Ug=b.createContext({strict:!1}),Zh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},As={};for(const e in Zh)As[e]={isEnabled:t=>Zh[e].some(n=>!!t[n])};function RR(e){for(const t in e)As[t]={...As[t],...e[t]}}const PR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||PR.has(e)}let Wg=e=>!Wo(e);function AR(e){typeof e=="function"&&(Wg=t=>t.startsWith("on")?!Wo(t):e(t))}try{AR(require("@emotion/is-prop-valid").default)}catch{}function ER(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(Wg(o)||n===!0&&Wo(o)||!t&&!Wo(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const aa=b.createContext({});function la(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xi(e){return typeof e=="string"||Array.isArray(e)}const Ru=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pu=["initial",...Ru];function ca(e){return la(e.animate)||Pu.some(t=>xi(e[t]))}function Hg(e){return!!(ca(e)||e.variants)}function kR(e,t){if(ca(e)){const{initial:n,animate:s}=e;return{initial:n===!1||xi(n)?n:void 0,animate:xi(s)?s:void 0}}return e.inherit!==!1?t:{}}function DR(e){const{initial:t,animate:n}=kR(e,b.useContext(aa));return b.useMemo(()=>({initial:t,animate:n}),[Qh(t),Qh(n)])}function Qh(e){return Array.isArray(e)?e.join(" "):e}const vi={};function MR(e){for(const t in e)vi[t]=e[t],du(t)&&(vi[t].isCSSVariable=!0)}function Gg(e,{layout:t,layoutId:n}){return Ms.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!vi[e]||e==="opacity")}const IR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LR=Ds.length;function OR(e,t,n){let s="",o=!0;for(let l=0;l<LR;l++){const c=Ds[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const h=Og(d,Su[c]);if(!f){o=!1;const p=IR[c]||c;s+=`${p}(${h}) `}n&&(t[c]=h)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function Au(e,t,n){const{style:s,vars:o,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const h=t[f];if(Ms.has(f)){c=!0;continue}else if(du(f)){o[f]=h;continue}else{const p=Og(h,Su[f]);f.startsWith("origin")?(d=!0,l[f]=p):s[f]=p}}if(t.transform||(c||n?s.transform=OR(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const Eu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kg(e,t,n){for(const s in t)!St(t[s])&&!Gg(s,n)&&(e[s]=t[s])}function FR({transformTemplate:e},t){return b.useMemo(()=>{const n=Eu();return Au(n,t,e),Object.assign({},n.vars,n.style)},[t])}function zR(e,t){const n=e.style||{},s={};return Kg(s,n,e),Object.assign(s,FR(e,t)),s}function $R(e,t){const n={},s=zR(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const NR={offset:"stroke-dashoffset",array:"stroke-dasharray"},VR={offset:"strokeDashoffset",array:"strokeDasharray"};function BR(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?NR:VR;e[l.offset]=ve.transform(-s);const c=ve.transform(t),d=ve.transform(n);e[l.array]=`${c} ${d}`}function qg(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},f,h,p){if(Au(e,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x}=e;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&BR(g,o,l,c,!1)}const Yg=()=>({...Eu(),attrs:{}}),Xg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UR(e,t,n,s){const o=b.useMemo(()=>{const l=Yg();return qg(l,t,Xg(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Kg(l,e.style,e),o.style={...l,...o.style}}return o}const WR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ku(e){return typeof e!="string"||e.includes("-")?!1:!!(WR.indexOf(e)>-1||/[A-Z]/u.test(e))}function HR(e,t,n,{latestValues:s},o,l=!1){const d=(ku(e)?UR:$R)(t,s,o,e),f=ER(t,typeof e=="string",l),h=e!==b.Fragment?{...f,...d,ref:n}:{},{children:p}=t,g=b.useMemo(()=>St(p)?p.get():p,[p]);return b.createElement(e,{...h,children:g})}function ep(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Du(e,t,n,s){if(typeof t=="function"){const[o,l]=ep(s);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=ep(s);t=t(n!==void 0?n:e.custom,o,l)}return t}function Oo(e){return St(e)?e.get():e}function GR({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:KR(n,s,o,e),renderState:t()}}function KR(e,t,n,s){const o={},l=s(e,{});for(const x in l)o[x]=Oo(l[x]);let{initial:c,animate:d}=e;const f=ca(e),h=Hg(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?d:c;if(g&&typeof g!="boolean"&&!la(g)){const x=Array.isArray(g)?g:[g];for(let v=0;v<x.length;v++){const S=Du(e,x[v]);if(S){const{transitionEnd:T,transition:E,...P}=S;for(const A in P){let D=P[A];if(Array.isArray(D)){const j=p?D.length-1:0;D=D[j]}D!==null&&(o[A]=D)}for(const A in T)o[A]=T[A]}}}return o}const Jg=e=>(t,n)=>{const s=b.useContext(aa),o=b.useContext(sa),l=()=>GR(e,t,s,o);return n?l():Ri(l)};function Mu(e,t,n){var l;const{style:s}=e,o={};for(const c in s)(St(s[c])||t.style&&St(t.style[c])||Gg(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=s[c]);return o}const qR=Jg({scrapeMotionValuesFromProps:Mu,createRenderState:Eu});function Zg(e,t,n){const s=Mu(e,t,n);for(const o in e)if(St(e[o])||St(t[o])){const l=Ds.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=e[o]}return s}const YR=Jg({scrapeMotionValuesFromProps:Zg,createRenderState:Yg}),XR=Symbol.for("motionComponentSymbol");function ws(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function JR(e,t,n){return b.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):ws(n)&&(n.current=s))},[t])}const Iu=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZR="framerAppearId",Qg="data-"+Iu(ZR),ey=b.createContext({});function QR(e,t,n,s,o){var T,E;const{visualElement:l}=b.useContext(aa),c=b.useContext(Ug),d=b.useContext(sa),f=b.useContext(oa).reducedMotion,h=b.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,g=b.useContext(ey);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&eP(h.current,n,o,g);const x=b.useRef(!1);b.useInsertionEffect(()=>{p&&x.current&&p.update(n,d)});const v=n[Qg],S=b.useRef(!!v&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,v))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,v)));return su(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,v)}),S.current=!1),p.enteringChildren=void 0)}),p}function eP(e,t,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:h,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ty(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&ws(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:f,layoutRoot:h})}function ty(e){if(e)return e.options.allowProjection!==!1?e.projection:ty(e.parent)}function Gl(e,{forwardMotionProps:t=!1}={},n,s){n&&RR(n);const o=ku(e)?YR:qR;function l(d,f){let h;const p={...b.useContext(oa),...d,layoutId:tP(d)},{isStatic:g}=p,x=DR(d),v=o(d,g);if(!g&&ru){nP();const S=rP(p);h=S.MeasureLayout,x.visualElement=QR(e,v,p,s,S.ProjectionNode)}return a.jsxs(aa.Provider,{value:x,children:[h&&x.visualElement?a.jsx(h,{visualElement:x.visualElement,...p}):null,HR(e,d,JR(v,x.visualElement,f),v,g,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=b.forwardRef(l);return c[XR]=e,c}function tP({layoutId:e}){const t=b.useContext(nu).id;return t&&e!==void 0?t+"-"+e:e}function nP(e,t){b.useContext(Ug).strict}function rP(e){const{drag:t,layout:n}=As;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function sP(e,t){if(typeof Proxy>"u")return Gl;const n=new Map,s=(l,c)=>Gl(l,c,e,t),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Gl(c,void 0,e,t)),n.get(c))})}function ny({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function iP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Kl(e){return e===void 0||e===1}function Dc({scale:e,scaleX:t,scaleY:n}){return!Kl(e)||!Kl(t)||!Kl(n)}function Ir(e){return Dc(e)||ry(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ry(e){return tp(e.x)||tp(e.y)}function tp(e){return e&&e!=="0%"}function Ho(e,t,n){const s=e-n,o=t*s;return n+o}function np(e,t,n,s,o){return o!==void 0&&(e=Ho(e,o,s)),Ho(e,n,s)+t}function Mc(e,t=0,n=1,s,o){e.min=np(e.min,t,n,s,o),e.max=np(e.max,t,n,s,o)}function sy(e,{x:t,y:n}){Mc(e.x,t.translate,t.scale,t.originPoint),Mc(e.y,n.translate,n.scale,n.originPoint)}const rp=.999999999999,sp=1.0000000000001;function aP(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&bs(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,sy(e,c)),s&&Ir(l.latestValues)&&bs(e,l.latestValues))}t.x<sp&&t.x>rp&&(t.x=1),t.y<sp&&t.y>rp&&(t.y=1)}function _s(e,t){e.min=e.min+t,e.max=e.max+t}function ip(e,t,n,s,o=.5){const l=et(e.min,e.max,o);Mc(e,t,n,l,s)}function bs(e,t){ip(e.x,t.x,t.scaleX,t.scale,t.originX),ip(e.y,t.y,t.scaleY,t.scale,t.originY)}function iy(e,t){return ny(oP(e.getBoundingClientRect(),t))}function lP(e,t,n){const s=iy(e,n),{scroll:o}=t;return o&&(_s(s.x,o.offset.x),_s(s.y,o.offset.y)),s}const op=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ss=()=>({x:op(),y:op()}),ap=()=>({min:0,max:0}),ot=()=>({x:ap(),y:ap()}),Ic={current:null},oy={current:!1};function cP(){if(oy.current=!0,!!ru)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ic.current=e.matches;e.addEventListener("change",t),t()}else Ic.current=!1}const wi=new WeakMap;function uP(e,t,n){for(const s in t){const o=t[s],l=n[s];if(St(o))e.addValue(s,o);else if(St(l))e.addValue(s,Br(o,{owner:e}));else if(l!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,Br(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const lp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ay{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ht.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ze.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=ca(n),this.isVariantNode=Hg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const v=g[x];f[x]!==void 0&&St(v)&&v.set(f[x])}}mount(t){var n;this.current=t,wi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),oy.current||cP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ic.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),sr(this.notifyUpdate),sr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ms.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in As){const n=As[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ot()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<lp.length;s++){const o=lp[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=uP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Br(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Gm(s)||qm(s))?s=parseFloat(s):!vR(s)&&_r.test(n)&&(s=Ig(t,n)),this.setBaseTarget(t,St(s)?s.get():s)),St(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Du(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!St(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ju.render(this.render)}}class ly extends ay{constructor(){super(...arguments),this.KeyframeResolver=lR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;St(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cy(e,{style:t,vars:n},s,o){const l=e.style;let c;for(c in t)l[c]=t[c];o==null||o.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function dP(e){return window.getComputedStyle(e)}class uy extends ly{constructor(){super(...arguments),this.type="html",this.renderInstance=cy}readValueFromInstance(t,n){var s;if(Ms.has(n))return(s=this.projection)!=null&&s.isProjecting?Cc(n):CT(t,n);{const o=dP(t),l=(du(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return iy(t,n)}build(t,n,s){Au(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Mu(t,n,s)}}const dy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fP(e,t,n,s){cy(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(dy.has(o)?o:Iu(o),t.attrs[o])}class fy extends ly{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ot}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ms.has(n)){const s=Mg(n);return s&&s.default||0}return n=dy.has(n)?n:Iu(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Zg(t,n,s)}build(t,n,s){qg(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){fP(t,n,s,o)}mount(t){this.isSVGTag=Xg(t.tagName),super.mount(t)}}const hP=(e,t)=>ku(e)?new fy(t):new uy(t,{allowProjection:e!==b.Fragment});function Ts(e,t,n){const s=e.getProps();return Du(s,t,n!==void 0?n:s.custom,e)}const Lc=e=>Array.isArray(e);function pP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Br(n))}function mP(e){return Lc(e)?e[e.length-1]||0:e}function gP(e,t){const n=Ts(e,t);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const d=mP(l[c]);pP(e,c,d)}}function yP(e){return!!(St(e)&&e.add)}function Oc(e,t){const n=e.getValue("willChange");if(yP(n))return n.add(t);if(!n&&rr.WillChange){const s=new rr.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function hy(e){return e.props[Qg]}const xP=e=>e!==null;function vP(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(xP),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const wP={type:"spring",stiffness:500,damping:25,restSpeed:10},_P=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bP={type:"keyframes",duration:.8},SP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jP=(e,{keyframes:t})=>t.length>2?bP:Ms.has(e)?e.startsWith("scale")?_P(t[1]):wP:SP;function CP({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const Lu=(e,t,n,s={},o,l)=>c=>{const d=bu(s,e)||{},f=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-En(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-h,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:o};CP(d)||Object.assign(p,jP(e,p)),p.duration&&(p.duration=En(p.duration)),p.repeatDelay&&(p.repeatDelay=En(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Ec(p),p.delay===0&&(g=!0)),(rr.instantAnimations||rr.skipAnimations)&&(g=!0,Ec(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,g&&!l&&t.get()!==void 0){const x=vP(p.keyframes,d);if(x!==void 0){Ze.update(()=>{p.onUpdate(x),p.onComplete()});return}}return d.isSync?new vu(p):new qT(p)};function TP({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Ou(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const f=[],h=o&&e.animationState&&e.animationState.getState()[o];for(const p in d){const g=e.getValue(p,e.latestValues[p]??null),x=d[p];if(x===void 0||h&&TP(h,p))continue;const v={delay:n,...bu(l||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===S&&!v.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const P=hy(e);if(P){const A=window.MotionHandoffAnimation(P,p,Ze);A!==null&&(v.startTime=A,T=!0)}}Oc(e,p),g.start(Lu(p,g,x,e.shouldReduceMotion&&Eg.has(p)?{type:!1}:v,e,T));const E=g.animation;E&&f.push(E)}return c&&Promise.all(f).then(()=>{Ze.update(()=>{c&&gP(e,c)})}),f}function py(e,t,n,s=0,o=1){const l=Array.from(e).sort((h,p)=>h.sortNodePosition(p)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):o===1?l*s:d-l*s}function Fc(e,t,n={}){var f;const s=Ts(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(Ou(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=o;return RP(e,t,h,p,g,x,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,p]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function RP(e,t,n=0,s=0,o=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(Fc(f,t,{...c,delay:n+(typeof s=="function"?0:s)+py(e.variantChildren,f,s,o,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function PP(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>Fc(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=Fc(e,t,n);else{const o=typeof t=="function"?Ts(e,t,n.custom):t;s=Promise.all(Ou(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function my(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const AP=Pu.length;function gy(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?gy(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<AP;n++){const s=Pu[n],o=e.props[s];(xi(o)||o===!1)&&(t[s]=o)}return t}const EP=[...Ru].reverse(),kP=Ru.length;function DP(e){return t=>Promise.all(t.map(({animation:n,options:s})=>PP(e,n,s)))}function MP(e){let t=DP(e),n=cp(),s=!0;const o=f=>(h,p)=>{var x;const g=Ts(e,p,f==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(g){const{transition:v,transitionEnd:S,...T}=g;h={...h,...T,...S}}return h};function l(f){t=f(e)}function c(f){const{props:h}=e,p=gy(e.parent)||{},g=[],x=new Set;let v={},S=1/0;for(let E=0;E<kP;E++){const P=EP[E],A=n[P],D=h[P]!==void 0?h[P]:p[P],j=xi(D),R=P===f?A.isActive:null;R===!1&&(S=E);let O=D===p[P]&&D!==h[P]&&j;if(O&&s&&e.manuallyAnimateOnMount&&(O=!1),A.protectedKeys={...v},!A.isActive&&R===null||!D&&!A.prevProp||la(D)||typeof D=="boolean")continue;const B=IP(A.prevProp,D);let z=B||P===f&&A.isActive&&!O&&j||E>S&&j,$=!1;const G=Array.isArray(D)?D:[D];let Y=G.reduce(o(P),{});R===!1&&(Y={});const{prevResolvedValues:se={}}=A,X={...se,...Y},ie=re=>{z=!0,x.has(re)&&($=!0,x.delete(re)),A.needsAnimating[re]=!0;const Z=e.getValue(re);Z&&(Z.liveStyle=!1)};for(const re in X){const Z=Y[re],q=se[re];if(v.hasOwnProperty(re))continue;let Q=!1;Lc(Z)&&Lc(q)?Q=!my(Z,q):Q=Z!==q,Q?Z!=null?ie(re):x.add(re):Z!==void 0&&x.has(re)?ie(re):A.protectedKeys[re]=!0}A.prevProp=D,A.prevResolvedValues=Y,A.isActive&&(v={...v,...Y}),s&&e.blockInitialAnimation&&(z=!1);const ue=O&&B;z&&(!ue||$)&&g.push(...G.map(re=>{const Z={type:P};if(typeof re=="string"&&s&&!ue&&e.manuallyAnimateOnMount&&e.parent){const{parent:q}=e,Q=Ts(q,re);if(q.enteringChildren&&Q){const{delayChildren:ce}=Q.transition||{};Z.delay=py(q.enteringChildren,e,ce)}}return{animation:re,options:Z}}))}if(x.size){const E={};if(typeof h.initial!="boolean"){const P=Ts(e,Array.isArray(h.initial)?h.initial[0]:h.initial);P&&P.transition&&(E.transition=P.transition)}x.forEach(P=>{const A=e.getBaseTarget(P),D=e.getValue(P);D&&(D.liveStyle=!0),E[P]=A??null}),g.push({animation:E})}let T=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(T=!1),s=!1,T?t(g):Promise.resolve()}function d(f,h){var g;if(n[f].isActive===h)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(f,h)}),n[f].isActive=h;const p=c(f);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cp()}}}function IP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!my(t,e):!1}function Dr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cp(){return{animate:Dr(!0),whileInView:Dr(),whileHover:Dr(),whileTap:Dr(),whileDrag:Dr(),whileFocus:Dr(),exit:Dr()}}class br{constructor(t){this.isMounted=!1,this.node=t}update(){}}class LP extends br{constructor(t){super(t),t.animationState||(t.animationState=MP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();la(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let OP=0;class FP extends br{constructor(){super(...arguments),this.id=OP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const zP={animation:{Feature:LP},exit:{Feature:FP}};function _i(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function ki(e){return{point:{x:e.pageX,y:e.pageY}}}const $P=e=>t=>Cu(t)&&e(t,ki(t));function ai(e,t,n,s){return _i(e,t,$P(n),s)}const yy=1e-4,NP=1-yy,VP=1+yy,xy=.01,BP=0-xy,UP=0+xy;function $t(e){return e.max-e.min}function WP(e,t,n){return Math.abs(e-t)<=n}function up(e,t,n,s=.5){e.origin=s,e.originPoint=et(t.min,t.max,e.origin),e.scale=$t(n)/$t(t),e.translate=et(n.min,n.max,e.origin)-e.originPoint,(e.scale>=NP&&e.scale<=VP||isNaN(e.scale))&&(e.scale=1),(e.translate>=BP&&e.translate<=UP||isNaN(e.translate))&&(e.translate=0)}function li(e,t,n,s){up(e.x,t.x,n.x,s?s.originX:void 0),up(e.y,t.y,n.y,s?s.originY:void 0)}function dp(e,t,n){e.min=n.min+t.min,e.max=e.min+$t(t)}function HP(e,t,n){dp(e.x,t.x,n.x),dp(e.y,t.y,n.y)}function fp(e,t,n){e.min=t.min-n.min,e.max=e.min+$t(t)}function ci(e,t,n){fp(e.x,t.x,n.x),fp(e.y,t.y,n.y)}function gn(e){return[e("x"),e("y")]}const vy=({current:e})=>e?e.ownerDocument.defaultView:null,hp=(e,t)=>Math.abs(e-t);function GP(e,t){const n=hp(e.x,t.x),s=hp(e.y,t.y);return Math.sqrt(n**2+s**2)}class wy{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Yl(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=GP(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!S)return;const{point:T}=x,{timestamp:E}=Rt;this.history.push({...T,timestamp:E});const{onStart:P,onMove:A}=this.handlers;v||(P&&P(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=ql(v,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Yl(x.type==="pointercancel"?this.lastMoveEventInfo:ql(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,P),T&&T(x,P)},!Cu(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=ki(t),f=ql(d,this.transformPagePoint),{point:h}=f,{timestamp:p}=Rt;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(t,Yl(f,this.history)),this.removeListeners=Pi(ai(this.contextWindow,"pointermove",this.handlePointerMove),ai(this.contextWindow,"pointerup",this.handlePointerUp),ai(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sr(this.updatePoint)}}function ql(e,t){return t?{point:t(e.point)}:e}function pp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yl({point:e},t){return{point:e,delta:pp(e,_y(t)),offset:pp(e,KP(t)),velocity:qP(t,.1)}}function KP(e){return e[0]}function _y(e){return e[e.length-1]}function qP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=_y(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>En(t)));)n--;if(!s)return{x:0,y:0};const l=yn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function YP(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?et(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?et(n,e,s.max):Math.min(e,n)),e}function mp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function XP(e,{top:t,left:n,bottom:s,right:o}){return{x:mp(e.x,n,o),y:mp(e.y,t,s)}}function gp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function JP(e,t){return{x:gp(e.x,t.x),y:gp(e.y,t.y)}}function ZP(e,t){let n=.5;const s=$t(e),o=$t(t);return o>s?n=Ps(t.min,t.max-s,e.min):s>o&&(n=Ps(e.min,e.max-o,t.min)),nr(0,1,n)}function QP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const zc=.35;function eA(e=zc){return e===!1?e=0:e===!0&&(e=zc),{x:yp(e,"left","right"),y:yp(e,"top","bottom")}}function yp(e,t,n){return{min:xp(e,t),max:xp(e,n)}}function xp(e,t){return typeof e=="number"?e:e[t]||0}const tA=new WeakMap;class nA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ot(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ki(g).point)},c=(g,x)=>{const{drag:v,dragPropagation:S,onDragStart:T}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dR(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gn(P=>{let A=this.getAxisMotionValue(P).get()||0;if(Fn.test(A)){const{projection:D}=this.visualElement;if(D&&D.layout){const j=D.layout.layoutBox[P];j&&(A=$t(j)*(parseFloat(A)/100))}}this.originPoint[P]=A}),T&&Ze.postRender(()=>T(g,x)),Oc(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:T,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:P}=x;if(S&&this.currentDirection===null){this.currentDirection=rA(P),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,P),this.updateAxis("y",x.point,P),this.visualElement.render(),E&&E(g,x)},f=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>gn(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new wy(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:vy(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ze.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Po(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=YP(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&ws(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=XP(s.layoutBox,t):this.constraints=!1,this.elastic=eA(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&gn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=QP(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ws(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=lP(s,o.root,this.visualElement.getTransformPagePoint());let c=JP(o.layout.layoutBox,l);if(n){const d=n(iP(c));this.hasMutatedConstraints=!!d,d&&(c=ny(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},h=gn(p=>{if(!Po(p,n,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const x=o?200:1e6,v=o?40:1e7,S={type:"inertia",velocity:s?t[p]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Oc(this.visualElement,t),s.start(Lu(t,s,0,n,this.visualElement,!1))}stopAnimation(){gn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){gn(n=>{const{drag:s}=this.getProps();if(!Po(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(t[n]-et(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ws(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};gn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();o[c]=ZP({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),gn(c=>{if(!Po(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];d.set(et(f,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;tA.set(this.visualElement,this);const t=this.visualElement.current,n=ai(t,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();ws(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ze.read(s);const c=_i(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(gn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=zc,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Po(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function rA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class sA extends br{constructor(t){super(t),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new nA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vp=e=>(t,n)=>{e&&Ze.postRender(()=>e(t,n))};class iA extends br{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(t){this.session=new wy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:vp(t),onStart:vp(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&Ze.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=ai(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ys={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ve.test(e))e=parseFloat(e);else return e;const n=wp(e,t.target.x),s=wp(e,t.target.y);return`${n}% ${s}%`}},oA={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=_r.parse(e);if(o.length>5)return s;const l=_r.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=f;const h=et(d,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),l(o)}};let Xl=!1;class aA extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;MR(lA),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Xl&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Fo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Xl=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Ze.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ju.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Xl=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function by(e){const[t,n]=Bg(),s=b.useContext(nu);return a.jsx(aA,{...e,layoutGroup:s,switchLayoutGroup:b.useContext(ey),isPresent:t,safeToRemove:n})}const lA={borderRadius:{...Ys,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ys,borderTopRightRadius:Ys,borderBottomLeftRadius:Ys,borderBottomRightRadius:Ys,boxShadow:oA};function Sy(e,t,n){const s=St(e)?e:Br(e);return s.start(Lu("",s,t,n)),s.animation}const cA=(e,t)=>e.depth-t.depth;class uA{constructor(){this.children=[],this.isDirty=!1}add(t){iu(this.children,t),this.isDirty=!0}remove(t){ia(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cA),this.isDirty=!1,this.children.forEach(t)}}function dA(e,t){const n=Ht.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(sr(s),e(l-t))};return Ze.setup(s,!0),()=>sr(s)}const jy=["TopLeft","TopRight","BottomLeft","BottomRight"],fA=jy.length,_p=e=>typeof e=="string"?parseFloat(e):e,bp=e=>typeof e=="number"||ve.test(e);function hA(e,t,n,s,o,l){o?(e.opacity=et(0,n.opacity??1,pA(s)),e.opacityExit=et(t.opacity??1,0,mA(s))):l&&(e.opacity=et(t.opacity??1,n.opacity??1,s));for(let c=0;c<fA;c++){const d=`border${jy[c]}Radius`;let f=Sp(t,d),h=Sp(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||bp(f)===bp(h)?(e[d]=Math.max(et(_p(f),_p(h),s),0),(Fn.test(h)||Fn.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||n.rotate)&&(e.rotate=et(t.rotate||0,n.rotate||0,s))}function Sp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const pA=Cy(0,.5,ng),mA=Cy(.5,.95,xn);function Cy(e,t,n){return s=>s<e?0:s>t?1:n(Ps(e,t,s))}function jp(e,t){e.min=t.min,e.max=t.max}function pn(e,t){jp(e.x,t.x),jp(e.y,t.y)}function Cp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tp(e,t,n,s,o){return e-=t,e=Ho(e,1/n,s),o!==void 0&&(e=Ho(e,1/o,s)),e}function gA(e,t=0,n=1,s=.5,o,l=e,c=e){if(Fn.test(t)&&(t=parseFloat(t),t=et(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=et(l.min,l.max,s);e===l&&(d-=t),e.min=Tp(e.min,t,n,d,o),e.max=Tp(e.max,t,n,d,o)}function Rp(e,t,[n,s,o],l,c){gA(e,t[n],t[s],t[o],t.scale,l,c)}const yA=["x","scaleX","originX"],xA=["y","scaleY","originY"];function Pp(e,t,n,s){Rp(e.x,t,yA,n?n.x:void 0,s?s.x:void 0),Rp(e.y,t,xA,n?n.y:void 0,s?s.y:void 0)}function Ap(e){return e.translate===0&&e.scale===1}function Ty(e){return Ap(e.x)&&Ap(e.y)}function Ep(e,t){return e.min===t.min&&e.max===t.max}function vA(e,t){return Ep(e.x,t.x)&&Ep(e.y,t.y)}function kp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ry(e,t){return kp(e.x,t.x)&&kp(e.y,t.y)}function Dp(e){return $t(e.x)/$t(e.y)}function Mp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class wA{constructor(){this.members=[]}add(t){iu(this.members,t),t.scheduleRender()}remove(t){if(ia(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _A(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:x,skewX:v,skewY:S}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),v&&(s+=`skewX(${v}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Jl=["","X","Y","Z"],bA=1e3;let SA=0;function Zl(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Py(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=hy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(o||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Py(s)}function Ay({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t==null?void 0:t()){this.id=SA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TA),this.nodes.forEach(EA),this.nodes.forEach(kA),this.nodes.forEach(RA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new uA)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new lu),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Tu(c)&&!Vg(c),this.instance=c;const{layoutId:d,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let p,g=0;const x=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{g=window.innerWidth}),e(c,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,p&&p(),p=dA(x,250),Fo.hasAnimatedSinceResize&&(Fo.hasAnimatedSinceResize=!1,this.nodes.forEach(Op)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||OA,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=h.getProps(),P=!this.targetLayout||!Ry(this.targetLayout,v),A=!g&&x;if(this.options.layoutRoot||this.resumeFrom||A||g&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...bu(S,"layout"),onPlay:T,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(p,A)}else g||Op(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DA),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Py(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ip);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AA),this.nodes.forEach(jA),this.nodes.forEach(CA)):this.nodes.forEach(Lp),this.clearAllSnapshots();const d=Ht.now();Rt.delta=nr(0,1e3/60,d-Rt.timestamp),Rt.timestamp=d,Rt.isProcessing=!0,Nl.update.process(Rt),Nl.preRender.process(Rt),Nl.render.process(Rt),Rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ju.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PA),this.sharedNodes.forEach(MA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$t(this.snapshot.measuredBox.x)&&!$t(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Ty(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ir(this.latestValues)||p)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),FA(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return ot();const d=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(zA))){const{scroll:p}=this.root;p&&(_s(d.x,p.offset.x),_s(d.y,p.offset.y))}return d}removeElementScroll(c){var f;const d=ot();if(pn(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&pn(d,c),_s(d.x,g.offset.x),_s(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const f=ot();pn(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&bs(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ir(p.latestValues)&&bs(f,p.latestValues)}return Ir(this.latestValues)&&bs(f,this.latestValues),f}removeTransform(c){const d=ot();pn(d,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Ir(h.latestValues))continue;Dc(h.latestValues)&&h.updateSnapshot();const p=ot(),g=h.measurePageBox();pn(p,g),Pp(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Ir(this.latestValues)&&Pp(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Rt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),ci(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ot(),this.targetWithTransforms=ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pn(this.target,this.layout.layoutBox),sy(this.target,this.targetDelta)):pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),ci(this.relativeTargetOrigin,this.target,v.target),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Dc(this.parent.latestValues)||ry(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Rt.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;pn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;aP(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ot());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cp(this.prevProjectionDelta.x,this.projectionDelta.x),Cp(this.prevProjectionDelta.y,this.projectionDelta.y)),li(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!Mp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ss(),this.projectionDelta=Ss(),this.projectionDeltaWithTransform=Ss()}setAnimationOrigin(c,d=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},g=Ss();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=ot(),v=f?f.source:void 0,S=this.layout?this.layout.source:void 0,T=v!==S,E=this.getStack(),P=!E||E.members.length<=1,A=!!(T&&!P&&this.options.crossfade===!0&&!this.path.some(LA));this.animationProgress=0;let D;this.mixTargetDelta=j=>{const R=j/1e3;Fp(g.x,c.x,R),Fp(g.y,c.y,R),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ci(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IA(this.relativeTarget,this.relativeTargetOrigin,x,R),D&&vA(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=ot()),pn(D,this.relativeTarget)),T&&(this.animationValues=p,hA(p,h,this.latestValues,R,A,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,h;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(h=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||h.stop(),this.pendingAnimation&&(sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Fo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Br(0)),this.currentAnimation=Sy(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:h,latestValues:p}=c;if(!(!d||!f||!h)){if(this!==c&&this.layout&&h&&Ey(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||ot();const g=$t(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const x=$t(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}pn(d,f),bs(d,p),li(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new wA),this.sharedNodes.get(c).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const h={};f.z&&Zl("z",c,h,this.animationValues);for(let p=0;p<Jl.length;p++)Zl(`rotate${Jl[p]}`,c,h,this.animationValues),Zl(`skew${Jl[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Oo(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Oo(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ir(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=_A(this.projectionDeltaWithTransform,this.treeScale,p);f&&(g=f(p,g)),c.transform=g;const{x,y:v}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in vi){if(p[S]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:P}=vi[S],A=g==="none"?p[S]:T(p[S],h);if(E){const D=E.length;for(let j=0;j<D;j++)c[E[j]]=A}else P?this.options.visualElement.renderState.vars[S]=A:c[S]=A}this.options.layoutId&&(c.pointerEvents=h===this?Oo(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Ip),this.root.sharedNodes.clear()}}}function jA(e){e.updateLayout()}function CA(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?gn(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],v=$t(x);x.min=s[g].min,x.max=x.min+v}):Ey(l,t.layoutBox,s)&&gn(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],v=$t(s[g]);x.max=x.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+v)});const d=Ss();li(d,s,t.layoutBox);const f=Ss();c?li(f,e.applyTransform(o,!0),t.measuredBox):li(f,s,t.layoutBox);const h=!Ty(d);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:v}=g;if(x&&v){const S=ot();ci(S,t.layoutBox,x.layoutBox);const T=ot();ci(T,s,v.layoutBox),Ry(S,T)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function TA(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function PA(e){e.clearSnapshot()}function Ip(e){e.clearMeasurements()}function Lp(e){e.isLayoutDirty=!1}function AA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Op(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function EA(e){e.resolveTargetDelta()}function kA(e){e.calcProjection()}function DA(e){e.resetSkewAndRotation()}function MA(e){e.removeLeadSnapshot()}function Fp(e,t,n){e.translate=et(t.translate,0,n),e.scale=et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zp(e,t,n,s){e.min=et(t.min,n.min,s),e.max=et(t.max,n.max,s)}function IA(e,t,n,s){zp(e.x,t.x,n.x,s),zp(e.y,t.y,n.y,s)}function LA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OA={duration:.45,ease:[.4,0,.1,1]},$p=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Np=$p("applewebkit/")&&!$p("chrome/")?Math.round:xn;function Vp(e){e.min=Np(e.min),e.max=Np(e.max)}function FA(e){Vp(e.x),Vp(e.y)}function Ey(e,t,n){return e==="position"||e==="preserve-aspect"&&!WP(Dp(t),Dp(n),.2)}function zA(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const $A=Ay({attachResizeListener:(e,t)=>_i(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ql={current:void 0},ky=Ay({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ql.current){const e=new $A({});e.mount(window),e.setOptions({layoutScroll:!0}),Ql.current=e}return Ql.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NA={pan:{Feature:iA},drag:{Feature:sA,ProjectionNode:ky,MeasureLayout:by}};function Bp(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Ze.postRender(()=>l(t,ki(t)))}class VA extends br{mount(){const{current:t}=this.node;t&&(this.unmount=fR(t,(n,s)=>(Bp(this.node,s,"Start"),o=>Bp(this.node,o,"End"))))}unmount(){}}class BA extends br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pi(_i(this.node.current,"focus",()=>this.onFocus()),_i(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Up(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Ze.postRender(()=>l(t,ki(t)))}class UA extends br{mount(){const{current:t}=this.node;t&&(this.unmount=gR(t,(n,s)=>(Up(this.node,s,"Start"),(o,{success:l})=>Up(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $c=new WeakMap,ec=new WeakMap,WA=e=>{const t=$c.get(e.target);t&&t(e)},HA=e=>{e.forEach(WA)};function GA({root:e,...t}){const n=e||document;ec.has(n)||ec.set(n,{});const s=ec.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(HA,{root:e,...t})),s[o]}function KA(e,t,n){const s=GA(t);return $c.set(e,n),s.observe(e),()=>{$c.delete(e),s.unobserve(e)}}const qA={some:0,all:1};class YA extends br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:qA[o]},d=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=h?p:g;x&&x(f)};return KA(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(XA(t,n))&&this.startObserver()}unmount(){}}function XA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const JA={inView:{Feature:YA},tap:{Feature:UA},focus:{Feature:BA},hover:{Feature:VA}},ZA={layout:{ProjectionNode:ky,MeasureLayout:by}},QA={...zP,...JA,...NA,...ZA},nt=sP(QA,hP);function Dy(e){const t=Ri(()=>Br(e)),{isStatic:n}=b.useContext(oa);if(n){const[,s]=b.useState(e);b.useEffect(()=>t.on("change",s),[])}return t}function My(e,t){const n=Dy(t()),s=()=>n.set(t());return s(),su(()=>{const o=()=>Ze.preRender(s,!1,!0),l=e.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),sr(s)}}),n}function eE(e){oi.current=[],e();const t=My(oi.current,e);return oi.current=void 0,t}function tE(e,t,n,s){if(typeof e=="function")return eE(e);const o=typeof t=="function"?t:yR(t,n,s);return Array.isArray(e)?Wp(e,o):Wp([e],([l])=>o(l))}function Wp(e,t){const n=Ri(()=>[]);return My(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function Fu(e){return typeof e=="object"&&!Array.isArray(e)}function Iy(e,t,n,s){return typeof e=="string"&&Fu(t)?Lg(e,n,s):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function nE(e,t,n){return e*(t+1)}function Hp(e,t,n,s){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):s.get(t)??e}function rE(e,t,n){for(let s=0;s<e.length;s++){const o=e[s];o.at>t&&o.at<n&&(ia(e,o),s--)}}function sE(e,t,n,s,o,l){rE(e,o,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:et(o,l,s[c]),easing:og(n,c)})}function iE(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function oE(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const aE="easeInOut";function lE(e,{defaultTransition:t={},...n}={},s,o){const l=t.duration||.3,c=new Map,d=new Map,f={},h=new Map;let p=0,g=0,x=0;for(let v=0;v<e.length;v++){const S=e[v];if(typeof S=="string"){h.set(S,g);continue}else if(!Array.isArray(S)){h.set(S.name,Hp(g,S.at,p,h));continue}let[T,E,P={}]=S;P.at!==void 0&&(g=Hp(g,P.at,p,h));let A=0;const D=(j,R,O,B=0,z=0)=>{const $=cE(j),{delay:G=0,times:Y=bg($),type:se="keyframes",repeat:X,repeatType:ie,repeatDelay:ue=0,...oe}=R;let{ease:re=t.ease||"easeOut",duration:Z}=R;const q=typeof G=="function"?G(B,z):G,Q=$.length,ce=_u(se)?se:o==null?void 0:o[se||"keyframes"];if(Q<=2&&ce){let Ve=100;if(Q===2&&fE($)){const U=$[1]-$[0];Ve=Math.abs(U)}const ht={...oe};Z!==void 0&&(ht.duration=En(Z));const gt=xg(ht,Ve,ce);re=gt.ease,Z=gt.duration}Z??(Z=l);const xe=g+q;Y.length===1&&Y[0]===0&&(Y[1]=1);const Ge=Y.length-$.length;if(Ge>0&&_g(Y,Ge),$.length===1&&$.unshift(null),X){Z=nE(Z,X);const Ve=[...$],ht=[...Y];re=Array.isArray(re)?[...re]:[re];const gt=[...re];for(let U=0;U<X;U++){$.push(...Ve);for(let de=0;de<Ve.length;de++)Y.push(ht[de]+(U+1)),re.push(de===0?"linear":og(gt,de-1))}iE(Y,X)}const Ke=xe+Z;sE(O,$,re,Y,xe,Ke),A=Math.max(q+Z,A),x=Math.max(Ke,x)};if(St(T)){const j=Gp(T,d);D(E,P,Kp("default",j))}else{const j=Iy(T,E,s,f),R=j.length;for(let O=0;O<R;O++){E=E,P=P;const B=j[O],z=Gp(B,d);for(const $ in E)D(E[$],uE(P,$),Kp($,z),O,R)}}p=g,g+=A}return d.forEach((v,S)=>{for(const T in v){const E=v[T];E.sort(oE);const P=[],A=[],D=[];for(let R=0;R<E.length;R++){const{at:O,value:B,easing:z}=E[R];P.push(B),A.push(Ps(0,x,O)),D.push(z||"easeOut")}A[0]!==0&&(A.unshift(0),P.unshift(P[0]),D.unshift(aE)),A[A.length-1]!==1&&(A.push(1),P.push(null)),c.has(S)||c.set(S,{keyframes:{},transition:{}});const j=c.get(S);j.keyframes[T]=P,j.transition[T]={...t,duration:x,ease:D,times:A,...n}}}),c}function Gp(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Kp(e,t){return t[e]||(t[e]=[]),t[e]}function cE(e){return Array.isArray(e)?e:[e]}function uE(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const dE=e=>typeof e=="number",fE=e=>e.every(dE);function hE(e,t){return e in t}class pE extends ay{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(hE(n,t)){const s=t[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return ot()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function mE(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Tu(e)&&!Vg(e)?new fy(t):new uy(t);n.mount(e),wi.set(e,n)}function gE(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new pE(t);n.mount(e),wi.set(e,n)}function yE(e,t){return St(e)||typeof e=="number"||typeof e=="string"&&!Fu(t)}function Ly(e,t,n,s){const o=[];if(yE(e,t))o.push(Sy(e,Fu(t)&&t.default||t,n&&(n.default||n)));else{const l=Iy(e,t,s),c=l.length;for(let d=0;d<c;d++){const f=l[d],h=f instanceof Element?mE:gE;wi.has(f)||h(f);const p=wi.get(f),g={...n};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(d,c)),o.push(...Ou(p,{...t,transition:g},{}))}}return o}function xE(e,t,n){const s=[];return lE(e,t,n,{spring:yi}).forEach(({keyframes:l,transition:c},d)=>{s.push(...Ly(d,l,c))}),s}function vE(e){return Array.isArray(e)&&e.some(Array.isArray)}function wE(e){function t(n,s,o){let l=[],c;if(vE(n))l=xE(n,s,e);else{const{onComplete:f,...h}=o||{};typeof f=="function"&&(c=f),l=Ly(n,s,h,e)}const d=new XT(l);return c&&d.finished.then(c),d}return t}const _E=wE();function bE({open:e,onClose:t,onRestore:n}){const{t:s}=He(),[o,l]=b.useState([]),[c,d]=b.useState(!1),[f,h]=b.useState([]),[p,g]=b.useState(!1),[x,v]=b.useState(!1),S=b.useCallback(async()=>{if(e){d(!0);try{const A=await $1();l(A.deleted_runs||[])}catch{ee.error(s("recycle_bin.fetch_failed")||"Failed to load recycle bin")}finally{d(!1)}}},[e,s]);b.useEffect(()=>{e&&(S(),h([]))},[e,S]);const T=async()=>{if(f.length===0){ee.warning(s("recycle_bin.select_to_restore")||"Please select runs to restore");return}g(!0);try{const A=await N1(f);A.restored_count>0?(ee.success(s("recycle_bin.restore_success",{count:A.restored_count})||`Restored ${A.restored_count} runs`),h([]),S(),n==null||n()):ee.warning("No runs were restored")}catch{ee.error(s("recycle_bin.restore_failed")||"Failed to restore runs")}finally{g(!1)}},E=async()=>{v(!0);try{const A=await V1();ee.success(s("recycle_bin.empty_success",{count:A.permanently_deleted})||`Permanently deleted ${A.permanently_deleted} runs`),S()}catch{ee.error(s("recycle_bin.empty_failed")||"Failed to empty recycle bin")}finally{v(!1)}},P=[{title:s("table.run_id"),dataIndex:"id",key:"id",render:A=>a.jsx(_e.Text,{code:!0,style:{fontSize:"12px"},children:A})},{title:s("table.project"),dataIndex:"project",key:"project",render:A=>a.jsx(Te,{color:"blue",children:A})},{title:s("table.name"),dataIndex:"name",key:"name",render:A=>a.jsx(Te,{color:"purple",children:A})},{title:s("recycle_bin.original_status"),dataIndex:"original_status",key:"original_status",render:A=>a.jsx(Te,{color:A==="running"?"processing":A==="finished"?"success":A==="failed"?"error":"default",children:A})},{title:s("recycle_bin.deleted_at"),dataIndex:"deleted_at",key:"deleted_at",render:A=>a.jsx(Je,{title:new Date(A*1e3).toLocaleString(),children:new Date(A*1e3).toLocaleDateString()})},{title:s("table.actions"),key:"actions",render:(A,D)=>a.jsx(N,{size:"small",children:a.jsx(Je,{title:s("recycle_bin.restore_single"),children:a.jsx(he,{type:"text",size:"small",icon:a.jsx(uc,{}),onClick:async()=>{h([D.id]),await T()}})})})}];return a.jsx(Rn,{title:a.jsxs(N,{children:[a.jsx(hi,{}),a.jsx("span",{children:s("recycle_bin.title")||"Recycle Bin"}),a.jsx(Te,{color:"orange",children:o.length})]}),open:e,onCancel:t,width:800,footer:[a.jsx(he,{onClick:t,children:s("experiments.cancel")||"Close"},"close"),a.jsxs(he,{type:"primary",icon:a.jsx(uc,{}),loading:p,disabled:f.length===0,onClick:T,children:[s("recycle_bin.restore_selected")||"Restore Selected",f.length>0&&` (${f.length})`]},"restore"),a.jsx(qj,{title:s("recycle_bin.empty_confirm_title")||"Empty Recycle Bin",description:s("recycle_bin.empty_confirm_desc")||"This will permanently delete all runs in recycle bin. This cannot be undone!",okText:s("recycle_bin.empty_confirm")||"Yes, Delete All",okType:"danger",cancelText:s("experiments.cancel")||"Cancel",onConfirm:E,children:a.jsx(he,{danger:!0,icon:a.jsx(Yj,{}),loading:x,disabled:o.length===0,children:s("recycle_bin.empty_bin")||"Empty Bin"})},"empty")],children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(nn,{message:s("recycle_bin.description")||"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.",type:"info",icon:a.jsx(na,{}),showIcon:!0}),a.jsx(xr,{rowSelection:{selectedRowKeys:f,onChange:A=>h(A),getCheckboxProps:A=>({disabled:!1})},dataSource:o,columns:P,loading:c,rowKey:"id",size:"small",pagination:{pageSize:10,showSizeChanger:!1,showQuickJumper:!1,showTotal:(A,D)=>s("recycle_bin.table_total",{from:D[0],to:D[1],total:A})||`${D[0]}-${D[1]} of ${A} items`},locale:{emptyText:a.jsx("div",{style:{padding:20,textAlign:"center"},children:a.jsx(_e.Text,{type:"secondary",children:s("recycle_bin.empty_state")||"Recycle bin is empty"})})}}),f.length>0&&a.jsx(nn,{message:s("recycle_bin.selection_info",{count:f.length})||`${f.length} runs selected for restoration`,type:"info",style:{marginTop:8}})]})})}var zu={exports:{}},Di={},ua={exports:{}},Oy={},Fy={exports:{}},SE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jE=SE,CE=jE;function zy(){}function $y(){}$y.resetWarningCache=zy;var TE=function(){function e(s,o,l,c,d,f){if(f!==CE){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$y,resetWarningCache:zy};return n.PropTypes=n,n};Fy.exports=TE();var da=Fy.exports,Nc={exports:{}};function Ny(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ny(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function qp(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ny(e))&&(s&&(s+=" "),s+=t);return s}Nc.exports=qp,Nc.exports.clsx=qp;var RE=Nc.exports,lt={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.dontSetMe=DE;zn.findInArray=PE;zn.int=kE;zn.isFunction=AE;zn.isNum=EE;function PE(e,t){for(let n=0,s=e.length;n<s;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function AE(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function EE(e){return typeof e=="number"&&!isNaN(e)}function kE(e){return parseInt(e,10)}function DE(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.browserPrefixToKey=By;Ur.browserPrefixToStyle=ME;Ur.default=void 0;Ur.getPrefix=Vy;const tc=["Moz","Webkit","O","ms"];function Vy(){var n,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(s=(n=window.document)==null?void 0:n.documentElement)==null?void 0:s.style;if(!t||e in t)return"";for(let o=0;o<tc.length;o++)if(By(e,tc[o])in t)return tc[o];return""}function By(e,t){return t?`${t}${IE(e)}`:e}function ME(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function IE(e){let t="",n=!0;for(let s=0;s<e.length;s++)n?(t+=e[s].toUpperCase(),n=!1):e[s]==="-"?n=!0:t+=e[s];return t}Ur.default=Vy();Object.defineProperty(lt,"__esModule",{value:!0});lt.addClassName=Hy;lt.addEvent=OE;lt.addUserSelectStyles=KE;lt.createCSSTransform=UE;lt.createSVGTransform=WE;lt.getTouch=HE;lt.getTouchIdentifier=GE;lt.getTranslation=$u;lt.innerHeight=NE;lt.innerWidth=VE;lt.matchesSelector=Wy;lt.matchesSelectorAndParentsTo=LE;lt.offsetXYFromParent=BE;lt.outerHeight=zE;lt.outerWidth=$E;lt.removeClassName=Gy;lt.removeEvent=FE;lt.scheduleRemoveUserSelectStyles=qE;var tn=zn,Yp=Uy(Ur);function Uy(e,t){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(Uy=function(o,l){if(!l&&o&&o.__esModule)return o;var c,d,f={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return f;if(c=l?s:n){if(c.has(o))return c.get(o);c.set(o,f)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?c(f,h,d):f[h]=o[h]);return f})(e,t)}let Ao="";function Wy(e,t){return Ao||(Ao=(0,tn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,tn.isFunction)(e[n])})),(0,tn.isFunction)(e[Ao])?e[Ao](t):!1}function LE(e,t,n){let s=e;do{if(Wy(s,t))return!0;if(s===n)return!1;s=s.parentNode}while(s);return!1}function OE(e,t,n,s){if(!e)return;const o={capture:!0,...s};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function FE(e,t,n,s){if(!e)return;const o={capture:!0,...s};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function zE(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,tn.int)(n.borderTopWidth),t+=(0,tn.int)(n.borderBottomWidth),t}function $E(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,tn.int)(n.borderLeftWidth),t+=(0,tn.int)(n.borderRightWidth),t}function NE(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,tn.int)(n.paddingTop),t-=(0,tn.int)(n.paddingBottom),t}function VE(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,tn.int)(n.paddingLeft),t-=(0,tn.int)(n.paddingRight),t}function BE(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),l=(e.clientX+t.scrollLeft-o.left)/n,c=(e.clientY+t.scrollTop-o.top)/n;return{x:l,y:c}}function UE(e,t){const n=$u(e,t,"px");return{[(0,Yp.browserPrefixToKey)("transform",Yp.default)]:n}}function WE(e,t){return $u(e,t,"")}function $u(e,t,n){let{x:s,y:o}=e,l=`translate(${s}${n},${o}${n})`;if(t){const c=`${typeof t.x=="string"?t.x:t.x+n}`,d=`${typeof t.y=="string"?t.y:t.y+n}`;l=`translate(${c}, ${d})`+l}return l}function HE(e,t){return e.targetTouches&&(0,tn.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,tn.findInArray)(e.changedTouches,n=>t===n.identifier)}function GE(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function KE(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Hy(e.body,"react-draggable-transparent-selection")}function qE(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Xp(e)}):Xp(e)}function Xp(e){if(e)try{if(e.body&&Gy(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Hy(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Gy(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var $n={};Object.defineProperty($n,"__esModule",{value:!0});$n.canDragX=JE;$n.canDragY=ZE;$n.createCoreData=ek;$n.createDraggableData=tk;$n.getBoundPosition=YE;$n.getControlPosition=QE;$n.snapToGrid=XE;var Qt=zn,js=lt;function YE(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:s}=e.props;s=typeof s=="string"?s:nk(s);const o=Nu(e);if(typeof s=="string"){const{ownerDocument:l}=o,c=l.defaultView;let d;if(s==="parent"?d=o.parentNode:d=o.getRootNode().querySelector(s),!(d instanceof c.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const f=d,h=c.getComputedStyle(o),p=c.getComputedStyle(f);s={left:-o.offsetLeft+(0,Qt.int)(p.paddingLeft)+(0,Qt.int)(h.marginLeft),top:-o.offsetTop+(0,Qt.int)(p.paddingTop)+(0,Qt.int)(h.marginTop),right:(0,js.innerWidth)(f)-(0,js.outerWidth)(o)-o.offsetLeft+(0,Qt.int)(p.paddingRight)-(0,Qt.int)(h.marginRight),bottom:(0,js.innerHeight)(f)-(0,js.outerHeight)(o)-o.offsetTop+(0,Qt.int)(p.paddingBottom)-(0,Qt.int)(h.marginBottom)}}return(0,Qt.isNum)(s.right)&&(t=Math.min(t,s.right)),(0,Qt.isNum)(s.bottom)&&(n=Math.min(n,s.bottom)),(0,Qt.isNum)(s.left)&&(t=Math.max(t,s.left)),(0,Qt.isNum)(s.top)&&(n=Math.max(n,s.top)),[t,n]}function XE(e,t,n){const s=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[s,o]}function JE(e){return e.props.axis==="both"||e.props.axis==="x"}function ZE(e){return e.props.axis==="both"||e.props.axis==="y"}function QE(e,t,n){const s=typeof t=="number"?(0,js.getTouch)(e,t):null;if(typeof t=="number"&&!s)return null;const o=Nu(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,js.offsetXYFromParent)(s||e,l,n.props.scale)}function ek(e,t,n){const s=!(0,Qt.isNum)(e.lastX),o=Nu(e);return s?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function tk(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function nk(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Nu(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var fa={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.default=rk;function rk(){}Object.defineProperty(fa,"__esModule",{value:!0});fa.default=void 0;var nc=Ky(b),Ft=Vu(da),sk=Vu(Kc),kt=lt,mr=$n,rc=zn,Xs=Vu(ha);function Vu(e){return e&&e.__esModule?e:{default:e}}function Ky(e,t){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(Ky=function(o,l){if(!l&&o&&o.__esModule)return o;var c,d,f={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return f;if(c=l?s:n){if(c.has(o))return c.get(o);c.set(o,f)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?c(f,h,d):f[h]=o[h]);return f})(e,t)}function zt(e,t,n){return(t=ik(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ik(e){var t=ok(e,"string");return typeof t=="symbol"?t:t+""}function ok(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Cn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let gr=Cn.mouse,pa=class extends nc.Component{constructor(){super(...arguments),zt(this,"dragging",!1),zt(this,"lastX",NaN),zt(this,"lastY",NaN),zt(this,"touchIdentifier",null),zt(this,"mounted",!1),zt(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:s}=n;if(this.props.disabled||!(t.target instanceof s.defaultView.Node)||this.props.handle&&!(0,kt.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,kt.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,kt.getTouchIdentifier)(t);this.touchIdentifier=o;const l=(0,mr.getControlPosition)(t,o,this);if(l==null)return;const{x:c,y:d}=l,f=(0,mr.createCoreData)(this,c,d);(0,Xs.default)("DraggableCore: handleDragStart: %j",f),(0,Xs.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,kt.addUserSelectStyles)(s),this.dragging=!0,this.lastX=c,this.lastY=d,(0,kt.addEvent)(s,gr.move,this.handleDrag),(0,kt.addEvent)(s,gr.stop,this.handleDragStop))}),zt(this,"handleDrag",t=>{const n=(0,mr.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:s,y:o}=n;if(Array.isArray(this.props.grid)){let d=s-this.lastX,f=o-this.lastY;if([d,f]=(0,mr.snapToGrid)(this.props.grid,d,f),!d&&!f)return;s=this.lastX+d,o=this.lastY+f}const l=(0,mr.createCoreData)(this,s,o);if((0,Xs.default)("DraggableCore: handleDrag: %j",l),this.props.onDrag(t,l)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=s,this.lastY=o}),zt(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,mr.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:s,y:o}=n;if(Array.isArray(this.props.grid)){let f=s-this.lastX||0,h=o-this.lastY||0;[f,h]=(0,mr.snapToGrid)(this.props.grid,f,h),s=this.lastX+f,o=this.lastY+h}const l=(0,mr.createCoreData)(this,s,o);if(this.props.onStop(t,l)===!1||this.mounted===!1)return!1;const d=this.findDOMNode();d&&this.props.enableUserSelectHack&&(0,kt.scheduleRemoveUserSelectStyles)(d.ownerDocument),(0,Xs.default)("DraggableCore: handleDragStop: %j",l),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,d&&((0,Xs.default)("DraggableCore: Removing handlers"),(0,kt.removeEvent)(d.ownerDocument,gr.move,this.handleDrag),(0,kt.removeEvent)(d.ownerDocument,gr.stop,this.handleDragStop))}),zt(this,"onMouseDown",t=>(gr=Cn.mouse,this.handleDragStart(t))),zt(this,"onMouseUp",t=>(gr=Cn.mouse,this.handleDragStop(t))),zt(this,"onTouchStart",t=>(gr=Cn.touch,this.handleDragStart(t))),zt(this,"onTouchEnd",t=>(gr=Cn.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,kt.addEvent)(t,Cn.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,kt.removeEvent)(n,Cn.mouse.move,this.handleDrag),(0,kt.removeEvent)(n,Cn.touch.move,this.handleDrag),(0,kt.removeEvent)(n,Cn.mouse.stop,this.handleDragStop),(0,kt.removeEvent)(n,Cn.touch.stop,this.handleDragStop),(0,kt.removeEvent)(t,Cn.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,kt.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,s;return(t=this.props)!=null&&t.nodeRef?(s=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:s.current:sk.default.findDOMNode(this)}render(){return nc.cloneElement(nc.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};fa.default=pa;zt(pa,"displayName","DraggableCore");zt(pa,"propTypes",{allowAnyClick:Ft.default.bool,allowMobileScroll:Ft.default.bool,children:Ft.default.node.isRequired,disabled:Ft.default.bool,enableUserSelectHack:Ft.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ft.default.arrayOf(Ft.default.number),handle:Ft.default.string,cancel:Ft.default.string,nodeRef:Ft.default.object,onStart:Ft.default.func,onDrag:Ft.default.func,onStop:Ft.default.func,onMouseDown:Ft.default.func,scale:Ft.default.number,className:rc.dontSetMe,style:rc.dontSetMe,transform:rc.dontSetMe});zt(pa,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=g(b),n=p(da),s=p(Kc),o=RE,l=lt,c=$n,d=zn,f=p(fa),h=p(ha);function p(P){return P&&P.__esModule?P:{default:P}}function g(P,A){if(typeof WeakMap=="function")var D=new WeakMap,j=new WeakMap;return(g=function(R,O){if(!O&&R&&R.__esModule)return R;var B,z,$={__proto__:null,default:R};if(R===null||typeof R!="object"&&typeof R!="function")return $;if(B=O?j:D){if(B.has(R))return B.get(R);B.set(R,$)}for(const G in R)G!=="default"&&{}.hasOwnProperty.call(R,G)&&((z=(B=Object.defineProperty)&&Object.getOwnPropertyDescriptor(R,G))&&(z.get||z.set)?B($,G,z):$[G]=R[G]);return $})(P,A)}function x(){return x=Object.assign?Object.assign.bind():function(P){for(var A=1;A<arguments.length;A++){var D=arguments[A];for(var j in D)({}).hasOwnProperty.call(D,j)&&(P[j]=D[j])}return P},x.apply(null,arguments)}function v(P,A,D){return(A=S(A))in P?Object.defineProperty(P,A,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[A]=D,P}function S(P){var A=T(P,"string");return typeof A=="symbol"?A:A+""}function T(P,A){if(typeof P!="object"||!P)return P;var D=P[Symbol.toPrimitive];if(D!==void 0){var j=D.call(P,A);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(P)}class E extends t.Component{static getDerivedStateFromProps(A,D){let{position:j}=A,{prevPropsPosition:R}=D;return j&&(!R||j.x!==R.x||j.y!==R.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:j,prevPropsPosition:R}),{x:j.x,y:j.y,prevPropsPosition:{...j}}):null}constructor(A){super(A),v(this,"onDragStart",(D,j)=>{if((0,h.default)("Draggable: onDragStart: %j",j),this.props.onStart(D,(0,c.createDraggableData)(this,j))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(D,j)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",j);const R=(0,c.createDraggableData)(this,j),O={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:z,y:$}=O;O.x+=this.state.slackX,O.y+=this.state.slackY;const[G,Y]=(0,c.getBoundPosition)(this,O.x,O.y);O.x=G,O.y=Y,O.slackX=this.state.slackX+(z-O.x),O.slackY=this.state.slackY+($-O.y),R.x=O.x,R.y=O.y,R.deltaX=O.x-this.state.x,R.deltaY=O.y-this.state.y}if(this.props.onDrag(D,R)===!1)return!1;this.setState(O)}),v(this,"onDragStop",(D,j)=>{if(!this.state.dragging||this.props.onStop(D,(0,c.createDraggableData)(this,j))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",j);const O={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:z,y:$}=this.props.position;O.x=z,O.y=$}this.setState(O)}),this.state={dragging:!1,dragged:!1,x:A.position?A.position.x:A.defaultPosition.x,y:A.position?A.position.y:A.defaultPosition.y,prevPropsPosition:{...A.position},slackX:0,slackY:0,isElementSVG:!1},A.position&&!(A.onDrag||A.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var A,D;return((D=(A=this.props)==null?void 0:A.nodeRef)==null?void 0:D.current)??s.default.findDOMNode(this)}render(){const{axis:A,bounds:D,children:j,defaultPosition:R,defaultClassName:O,defaultClassNameDragging:B,defaultClassNameDragged:z,position:$,positionOffset:G,scale:Y,...se}=this.props;let X={},ie=null;const oe=!!!$||this.state.dragging,re=$||R,Z={x:(0,c.canDragX)(this)&&oe?this.state.x:re.x,y:(0,c.canDragY)(this)&&oe?this.state.y:re.y};this.state.isElementSVG?ie=(0,l.createSVGTransform)(Z,G):X=(0,l.createCSSTransform)(Z,G);const q=(0,o.clsx)(j.props.className||"",O,{[B]:this.state.dragging,[z]:this.state.dragged});return t.createElement(f.default,x({},se,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(j),{className:q,style:{...j.props.style,...X},transform:ie}))}}e.default=E,v(E,"displayName","Draggable"),v(E,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),v(E,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Oy);const{default:qy,DraggableCore:ak}=Oy;ua.exports=qy;ua.exports.default=qy;ua.exports.DraggableCore=ak;var lk=ua.exports,Bu={};Bu.__esModule=!0;Bu.cloneElement=pk;var ck=uk(b);function uk(e){return e&&e.__esModule?e:{default:e}}function Jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jp(Object(n),!0).forEach(function(s){dk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function dk(e,t,n){return t=fk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fk(e){var t=hk(e,"string");return typeof t=="symbol"?t:String(t)}function hk(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pk(e,t){return t.style&&e.props.style&&(t.style=Zp(Zp({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),ck.default.cloneElement(e,t)}var Mi={};Mi.__esModule=!0;Mi.resizableProps=void 0;var Pe=mk(da);function mk(e){return e&&e.__esModule?e:{default:e}}var gk={axis:Pe.default.oneOf(["both","x","y","none"]),className:Pe.default.string,children:Pe.default.element.isRequired,draggableOpts:Pe.default.shape({allowAnyClick:Pe.default.bool,cancel:Pe.default.string,children:Pe.default.node,disabled:Pe.default.bool,enableUserSelectHack:Pe.default.bool,offsetParent:Pe.default.node,grid:Pe.default.arrayOf(Pe.default.number),handle:Pe.default.string,nodeRef:Pe.default.object,onStart:Pe.default.func,onDrag:Pe.default.func,onStop:Pe.default.func,onMouseDown:Pe.default.func,scale:Pe.default.number}),height:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var o=n[0];if(o.axis==="both"||o.axis==="y"){var l;return(l=Pe.default.number).isRequired.apply(l,n)}return Pe.default.number.apply(Pe.default,n)},handle:Pe.default.oneOfType([Pe.default.node,Pe.default.func]),handleSize:Pe.default.arrayOf(Pe.default.number),lockAspectRatio:Pe.default.bool,maxConstraints:Pe.default.arrayOf(Pe.default.number),minConstraints:Pe.default.arrayOf(Pe.default.number),onResizeStop:Pe.default.func,onResizeStart:Pe.default.func,onResize:Pe.default.func,resizeHandles:Pe.default.arrayOf(Pe.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Pe.default.number,width:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var o=n[0];if(o.axis==="both"||o.axis==="x"){var l;return(l=Pe.default.number).isRequired.apply(l,n)}return Pe.default.number.apply(Pe.default,n)}};Mi.resizableProps=gk;Di.__esModule=!0;Di.default=void 0;var Js=_k(b),yk=lk,xk=Bu,vk=Mi,wk=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Yy(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Yy=function(o){return o?n:t})(e)}function _k(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Yy(t);if(n&&n.has(e))return n.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var c=o?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(s,l,c):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vc.apply(this,arguments)}function bk(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qp(Object(n),!0).forEach(function(s){Sk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Sk(e,t,n){return t=jk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jk(e){var t=Ck(e,"string");return typeof t=="symbol"?t:String(t)}function Ck(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Bc(e,t)}function Bc(e,t){return Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Bc(e,t)}var Uu=function(e){Tk(t,e);function t(){for(var s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return s=e.call.apply(e,[this].concat(l))||this,s.handleRefs={},s.lastHandleRect=null,s.slack=null,s}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(o,l){var c=this.props,d=c.minConstraints,f=c.maxConstraints,h=c.lockAspectRatio;if(!d&&!f&&!h)return[o,l];if(h){var p=this.props.width/this.props.height,g=o-this.props.width,x=l-this.props.height;Math.abs(g)>Math.abs(x*p)?l=o/p:o=l*p}var v=o,S=l,T=this.slack||[0,0],E=T[0],P=T[1];return o+=E,l+=P,d&&(o=Math.max(d[0],o),l=Math.max(d[1],l)),f&&(o=Math.min(f[0],o),l=Math.min(f[1],l)),this.slack=[E+(v-o),P+(S-l)],[o,l]},n.resizeHandler=function(o,l){var c=this;return function(d,f){var h=f.node,p=f.deltaX,g=f.deltaY;o==="onResizeStart"&&c.resetData();var x=(c.props.axis==="both"||c.props.axis==="x")&&l!=="n"&&l!=="s",v=(c.props.axis==="both"||c.props.axis==="y")&&l!=="e"&&l!=="w";if(!(!x&&!v)){var S=l[0],T=l[l.length-1],E=h.getBoundingClientRect();if(c.lastHandleRect!=null){if(T==="w"){var P=E.left-c.lastHandleRect.left;p+=P}if(S==="n"){var A=E.top-c.lastHandleRect.top;g+=A}}c.lastHandleRect=E,T==="w"&&(p=-p),S==="n"&&(g=-g);var D=c.props.width+(x?p/c.props.transformScale:0),j=c.props.height+(v?g/c.props.transformScale:0),R=c.runConstraints(D,j);D=R[0],j=R[1];var O=D!==c.props.width||j!==c.props.height,B=typeof c.props[o]=="function"?c.props[o]:null,z=o==="onResize"&&!O;B&&!z&&(d.persist==null||d.persist(),B(d,{node:h,size:{width:D,height:j},handle:l})),o==="onResizeStop"&&c.resetData()}}},n.renderResizeHandle=function(o,l){var c=this.props.handle;if(!c)return Js.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:l});if(typeof c=="function")return c(o,l);var d=typeof c.type=="string",f=sc({ref:l},d?{}:{handleAxis:o});return Js.cloneElement(c,f)},n.render=function(){var o=this,l=this.props,c=l.children,d=l.className,f=l.draggableOpts;l.width,l.height,l.handle,l.handleSize,l.lockAspectRatio,l.axis,l.minConstraints,l.maxConstraints,l.onResize,l.onResizeStop,l.onResizeStart;var h=l.resizeHandles;l.transformScale;var p=bk(l,wk);return(0,xk.cloneElement)(c,sc(sc({},p),{},{className:(d?d+" ":"")+"react-resizable",children:[].concat(c.props.children,h.map(function(g){var x,v=(x=o.handleRefs[g])!=null?x:o.handleRefs[g]=Js.createRef();return Js.createElement(yk.DraggableCore,Vc({},f,{nodeRef:v,key:"resizableHandle-"+g,onStop:o.resizeHandler("onResizeStop",g),onStart:o.resizeHandler("onResizeStart",g),onDrag:o.resizeHandler("onResize",g)}),o.renderResizeHandle(g,v))}))}))},t}(Js.Component);Di.default=Uu;Uu.propTypes=vk.resizableProps;Uu.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var ma={};ma.__esModule=!0;ma.default=void 0;var ic=kk(b),Rk=Xy(da),Pk=Xy(Di),Ak=Mi,Ek=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function Xy(e){return e&&e.__esModule?e:{default:e}}function Jy(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Jy=function(o){return o?n:t})(e)}function kk(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Jy(t);if(n&&n.has(e))return n.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var c=o?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(s,l,c):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uc.apply(this,arguments)}function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(s){Dk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Dk(e,t,n){return t=Mk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mk(e){var t=Ik(e,"string");return typeof t=="symbol"?t:String(t)}function Ik(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lk(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ok(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wc(e,t)}function Wc(e,t){return Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Wc(e,t)}var Zy=function(e){Ok(t,e);function t(){for(var s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return s=e.call.apply(e,[this].concat(l))||this,s.state={width:s.props.width,height:s.props.height,propsWidth:s.props.width,propsHeight:s.props.height},s.onResize=function(d,f){var h=f.size;s.props.onResize?(d.persist==null||d.persist(),s.setState(h,function(){return s.props.onResize&&s.props.onResize(d,f)})):s.setState(h)},s}t.getDerivedStateFromProps=function(o,l){return l.propsWidth!==o.width||l.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var n=t.prototype;return n.render=function(){var o=this.props,l=o.handle,c=o.handleSize;o.onResize;var d=o.onResizeStart,f=o.onResizeStop,h=o.draggableOpts,p=o.minConstraints,g=o.maxConstraints,x=o.lockAspectRatio,v=o.axis;o.width,o.height;var S=o.resizeHandles,T=o.style,E=o.transformScale,P=Lk(o,Ek);return ic.createElement(Pk.default,{axis:v,draggableOpts:h,handle:l,handleSize:c,height:this.state.height,lockAspectRatio:x,maxConstraints:g,minConstraints:p,onResizeStart:d,onResize:this.onResize,onResizeStop:f,resizeHandles:S,transformScale:E,width:this.state.width},ic.createElement("div",Uc({},P,{style:Go(Go({},T),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(ic.Component);ma.default=Zy;Zy.propTypes=Go(Go({},Ak.resizableProps),{},{children:Rk.default.element});zu.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Fk=zu.exports.Resizable=Di.default;zu.exports.ResizableBox=ma.default;const zk=e=>{const{onResize:t,width:n,...s}=e;return n?a.jsx(Fk,{width:n,height:0,handle:a.jsx("span",{className:"react-resizable-handle",onClick:o=>{o.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:a.jsx("th",{...s})}):a.jsx("th",{...s})};var Ko={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ko.exports;(function(e,t){(function(){var n,s="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",g=1,x=2,v=4,S=1,T=2,E=1,P=2,A=4,D=8,j=16,R=32,O=64,B=128,z=256,$=512,G=30,Y="...",se=800,X=16,ie=1,ue=2,oe=3,re=1/0,Z=9007199254740991,q=17976931348623157e292,Q=NaN,ce=4294967295,xe=ce-1,Ge=ce>>>1,Ke=[["ary",B],["bind",E],["bindKey",P],["curry",D],["curryRight",j],["flip",$],["partial",R],["partialRight",O],["rearg",z]],Ve="[object Arguments]",ht="[object Array]",gt="[object AsyncFunction]",U="[object Boolean]",de="[object Date]",Ae="[object DOMException]",yt="[object Error]",xt="[object Function]",vn="[object GeneratorFunction]",vt="[object Map]",Nn="[object Number]",Hr="[object Null]",I="[object Object]",J="[object Promise]",we="[object Proxy]",ze="[object RegExp]",pe="[object Set]",Be="[object String]",$e="[object Symbol]",Me="[object Undefined]",rn="[object WeakMap]",wt="[object WeakSet]",ir="[object ArrayBuffer]",Vn="[object DataView]",Gr="[object Float32Array]",Kr="[object Float64Array]",qr="[object Int8Array]",Yr="[object Int16Array]",xa="[object Int32Array]",va="[object Uint8Array]",wa="[object Uint8ClampedArray]",_a="[object Uint16Array]",ba="[object Uint32Array]",lx=/\b__p \+= '';/g,cx=/\b(__p \+=) '' \+/g,ux=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hu=/&(?:amp|lt|gt|quot|#39);/g,Gu=/[&<>"']/g,dx=RegExp(Hu.source),fx=RegExp(Gu.source),hx=/<%-([\s\S]+?)%>/g,px=/<%([\s\S]+?)%>/g,Ku=/<%=([\s\S]+?)%>/g,mx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gx=/^\w*$/,yx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sa=/[\\^$.*+?()[\]{}|]/g,xx=RegExp(Sa.source),ja=/^\s+/,vx=/\s/,wx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_x=/\{\n\/\* \[wrapped with (.+)\] \*/,bx=/,? & /,Sx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jx=/[()=,{}\[\]\/\s]/,Cx=/\\(\\)?/g,Tx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qu=/\w*$/,Rx=/^[-+]0x[0-9a-f]+$/i,Px=/^0b[01]+$/i,Ax=/^\[object .+?Constructor\]$/,Ex=/^0o[0-7]+$/i,kx=/^(?:0|[1-9]\d*)$/,Dx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ii=/($^)/,Mx=/['\n\r\u2028\u2029\\]/g,Li="\\ud800-\\udfff",Ix="\\u0300-\\u036f",Lx="\\ufe20-\\ufe2f",Ox="\\u20d0-\\u20ff",Yu=Ix+Lx+Ox,Xu="\\u2700-\\u27bf",Ju="a-z\\xdf-\\xf6\\xf8-\\xff",Fx="\\xac\\xb1\\xd7\\xf7",zx="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$x="\\u2000-\\u206f",Nx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zu="A-Z\\xc0-\\xd6\\xd8-\\xde",Qu="\\ufe0e\\ufe0f",ed=Fx+zx+$x+Nx,Ca="['’]",Vx="["+Li+"]",td="["+ed+"]",Oi="["+Yu+"]",nd="\\d+",Bx="["+Xu+"]",rd="["+Ju+"]",sd="[^"+Li+ed+nd+Xu+Ju+Zu+"]",Ta="\\ud83c[\\udffb-\\udfff]",Ux="(?:"+Oi+"|"+Ta+")",id="[^"+Li+"]",Ra="(?:\\ud83c[\\udde6-\\uddff]){2}",Pa="[\\ud800-\\udbff][\\udc00-\\udfff]",Xr="["+Zu+"]",od="\\u200d",ad="(?:"+rd+"|"+sd+")",Wx="(?:"+Xr+"|"+sd+")",ld="(?:"+Ca+"(?:d|ll|m|re|s|t|ve))?",cd="(?:"+Ca+"(?:D|LL|M|RE|S|T|VE))?",ud=Ux+"?",dd="["+Qu+"]?",Hx="(?:"+od+"(?:"+[id,Ra,Pa].join("|")+")"+dd+ud+")*",Gx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fd=dd+ud+Hx,qx="(?:"+[Bx,Ra,Pa].join("|")+")"+fd,Yx="(?:"+[id+Oi+"?",Oi,Ra,Pa,Vx].join("|")+")",Xx=RegExp(Ca,"g"),Jx=RegExp(Oi,"g"),Aa=RegExp(Ta+"(?="+Ta+")|"+Yx+fd,"g"),Zx=RegExp([Xr+"?"+rd+"+"+ld+"(?="+[td,Xr,"$"].join("|")+")",Wx+"+"+cd+"(?="+[td,Xr+ad,"$"].join("|")+")",Xr+"?"+ad+"+"+ld,Xr+"+"+cd,Kx,Gx,nd,qx].join("|"),"g"),Qx=RegExp("["+od+Li+Yu+Qu+"]"),ev=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nv=-1,Xe={};Xe[Gr]=Xe[Kr]=Xe[qr]=Xe[Yr]=Xe[xa]=Xe[va]=Xe[wa]=Xe[_a]=Xe[ba]=!0,Xe[Ve]=Xe[ht]=Xe[ir]=Xe[U]=Xe[Vn]=Xe[de]=Xe[yt]=Xe[xt]=Xe[vt]=Xe[Nn]=Xe[I]=Xe[ze]=Xe[pe]=Xe[Be]=Xe[rn]=!1;var Ye={};Ye[Ve]=Ye[ht]=Ye[ir]=Ye[Vn]=Ye[U]=Ye[de]=Ye[Gr]=Ye[Kr]=Ye[qr]=Ye[Yr]=Ye[xa]=Ye[vt]=Ye[Nn]=Ye[I]=Ye[ze]=Ye[pe]=Ye[Be]=Ye[$e]=Ye[va]=Ye[wa]=Ye[_a]=Ye[ba]=!0,Ye[yt]=Ye[xt]=Ye[rn]=!1;var rv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},sv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},iv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ov={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},av=parseFloat,lv=parseInt,hd=typeof gs=="object"&&gs&&gs.Object===Object&&gs,cv=typeof self=="object"&&self&&self.Object===Object&&self,jt=hd||cv||Function("return this")(),Ea=t&&!t.nodeType&&t,Sr=Ea&&!0&&e&&!e.nodeType&&e,pd=Sr&&Sr.exports===Ea,ka=pd&&hd.process,sn=function(){try{var M=Sr&&Sr.require&&Sr.require("util").types;return M||ka&&ka.binding&&ka.binding("util")}catch{}}(),md=sn&&sn.isArrayBuffer,gd=sn&&sn.isDate,yd=sn&&sn.isMap,xd=sn&&sn.isRegExp,vd=sn&&sn.isSet,wd=sn&&sn.isTypedArray;function Kt(M,V,F){switch(F.length){case 0:return M.call(V);case 1:return M.call(V,F[0]);case 2:return M.call(V,F[0],F[1]);case 3:return M.call(V,F[0],F[1],F[2])}return M.apply(V,F)}function uv(M,V,F,ae){for(var Se=-1,Ne=M==null?0:M.length;++Se<Ne;){var pt=M[Se];V(ae,pt,F(pt),M)}return ae}function on(M,V){for(var F=-1,ae=M==null?0:M.length;++F<ae&&V(M[F],F,M)!==!1;);return M}function dv(M,V){for(var F=M==null?0:M.length;F--&&V(M[F],F,M)!==!1;);return M}function _d(M,V){for(var F=-1,ae=M==null?0:M.length;++F<ae;)if(!V(M[F],F,M))return!1;return!0}function or(M,V){for(var F=-1,ae=M==null?0:M.length,Se=0,Ne=[];++F<ae;){var pt=M[F];V(pt,F,M)&&(Ne[Se++]=pt)}return Ne}function Fi(M,V){var F=M==null?0:M.length;return!!F&&Jr(M,V,0)>-1}function Da(M,V,F){for(var ae=-1,Se=M==null?0:M.length;++ae<Se;)if(F(V,M[ae]))return!0;return!1}function Qe(M,V){for(var F=-1,ae=M==null?0:M.length,Se=Array(ae);++F<ae;)Se[F]=V(M[F],F,M);return Se}function ar(M,V){for(var F=-1,ae=V.length,Se=M.length;++F<ae;)M[Se+F]=V[F];return M}function Ma(M,V,F,ae){var Se=-1,Ne=M==null?0:M.length;for(ae&&Ne&&(F=M[++Se]);++Se<Ne;)F=V(F,M[Se],Se,M);return F}function fv(M,V,F,ae){var Se=M==null?0:M.length;for(ae&&Se&&(F=M[--Se]);Se--;)F=V(F,M[Se],Se,M);return F}function Ia(M,V){for(var F=-1,ae=M==null?0:M.length;++F<ae;)if(V(M[F],F,M))return!0;return!1}var hv=La("length");function pv(M){return M.split("")}function mv(M){return M.match(Sx)||[]}function bd(M,V,F){var ae;return F(M,function(Se,Ne,pt){if(V(Se,Ne,pt))return ae=Ne,!1}),ae}function zi(M,V,F,ae){for(var Se=M.length,Ne=F+(ae?1:-1);ae?Ne--:++Ne<Se;)if(V(M[Ne],Ne,M))return Ne;return-1}function Jr(M,V,F){return V===V?Rv(M,V,F):zi(M,Sd,F)}function gv(M,V,F,ae){for(var Se=F-1,Ne=M.length;++Se<Ne;)if(ae(M[Se],V))return Se;return-1}function Sd(M){return M!==M}function jd(M,V){var F=M==null?0:M.length;return F?Fa(M,V)/F:Q}function La(M){return function(V){return V==null?n:V[M]}}function Oa(M){return function(V){return M==null?n:M[V]}}function Cd(M,V,F,ae,Se){return Se(M,function(Ne,pt,qe){F=ae?(ae=!1,Ne):V(F,Ne,pt,qe)}),F}function yv(M,V){var F=M.length;for(M.sort(V);F--;)M[F]=M[F].value;return M}function Fa(M,V){for(var F,ae=-1,Se=M.length;++ae<Se;){var Ne=V(M[ae]);Ne!==n&&(F=F===n?Ne:F+Ne)}return F}function za(M,V){for(var F=-1,ae=Array(M);++F<M;)ae[F]=V(F);return ae}function xv(M,V){return Qe(V,function(F){return[F,M[F]]})}function Td(M){return M&&M.slice(0,Ed(M)+1).replace(ja,"")}function qt(M){return function(V){return M(V)}}function $a(M,V){return Qe(V,function(F){return M[F]})}function Is(M,V){return M.has(V)}function Rd(M,V){for(var F=-1,ae=M.length;++F<ae&&Jr(V,M[F],0)>-1;);return F}function Pd(M,V){for(var F=M.length;F--&&Jr(V,M[F],0)>-1;);return F}function vv(M,V){for(var F=M.length,ae=0;F--;)M[F]===V&&++ae;return ae}var wv=Oa(rv),_v=Oa(sv);function bv(M){return"\\"+ov[M]}function Sv(M,V){return M==null?n:M[V]}function Zr(M){return Qx.test(M)}function jv(M){return ev.test(M)}function Cv(M){for(var V,F=[];!(V=M.next()).done;)F.push(V.value);return F}function Na(M){var V=-1,F=Array(M.size);return M.forEach(function(ae,Se){F[++V]=[Se,ae]}),F}function Ad(M,V){return function(F){return M(V(F))}}function lr(M,V){for(var F=-1,ae=M.length,Se=0,Ne=[];++F<ae;){var pt=M[F];(pt===V||pt===p)&&(M[F]=p,Ne[Se++]=F)}return Ne}function $i(M){var V=-1,F=Array(M.size);return M.forEach(function(ae){F[++V]=ae}),F}function Tv(M){var V=-1,F=Array(M.size);return M.forEach(function(ae){F[++V]=[ae,ae]}),F}function Rv(M,V,F){for(var ae=F-1,Se=M.length;++ae<Se;)if(M[ae]===V)return ae;return-1}function Pv(M,V,F){for(var ae=F+1;ae--;)if(M[ae]===V)return ae;return ae}function Qr(M){return Zr(M)?Ev(M):hv(M)}function wn(M){return Zr(M)?kv(M):pv(M)}function Ed(M){for(var V=M.length;V--&&vx.test(M.charAt(V)););return V}var Av=Oa(iv);function Ev(M){for(var V=Aa.lastIndex=0;Aa.test(M);)++V;return V}function kv(M){return M.match(Aa)||[]}function Dv(M){return M.match(Zx)||[]}var Mv=function M(V){V=V==null?jt:es.defaults(jt.Object(),V,es.pick(jt,tv));var F=V.Array,ae=V.Date,Se=V.Error,Ne=V.Function,pt=V.Math,qe=V.Object,Va=V.RegExp,Iv=V.String,an=V.TypeError,Ni=F.prototype,Lv=Ne.prototype,ts=qe.prototype,Vi=V["__core-js_shared__"],Bi=Lv.toString,We=ts.hasOwnProperty,Ov=0,kd=function(){var r=/[^.]+$/.exec(Vi&&Vi.keys&&Vi.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Ui=ts.toString,Fv=Bi.call(qe),zv=jt._,$v=Va("^"+Bi.call(We).replace(Sa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wi=pd?V.Buffer:n,cr=V.Symbol,Hi=V.Uint8Array,Dd=Wi?Wi.allocUnsafe:n,Gi=Ad(qe.getPrototypeOf,qe),Md=qe.create,Id=ts.propertyIsEnumerable,Ki=Ni.splice,Ld=cr?cr.isConcatSpreadable:n,Ls=cr?cr.iterator:n,jr=cr?cr.toStringTag:n,qi=function(){try{var r=Ar(qe,"defineProperty");return r({},"",{}),r}catch{}}(),Nv=V.clearTimeout!==jt.clearTimeout&&V.clearTimeout,Vv=ae&&ae.now!==jt.Date.now&&ae.now,Bv=V.setTimeout!==jt.setTimeout&&V.setTimeout,Yi=pt.ceil,Xi=pt.floor,Ba=qe.getOwnPropertySymbols,Uv=Wi?Wi.isBuffer:n,Od=V.isFinite,Wv=Ni.join,Hv=Ad(qe.keys,qe),mt=pt.max,At=pt.min,Gv=ae.now,Kv=V.parseInt,Fd=pt.random,qv=Ni.reverse,Ua=Ar(V,"DataView"),Os=Ar(V,"Map"),Wa=Ar(V,"Promise"),ns=Ar(V,"Set"),Fs=Ar(V,"WeakMap"),zs=Ar(qe,"create"),Ji=Fs&&new Fs,rs={},Yv=Er(Ua),Xv=Er(Os),Jv=Er(Wa),Zv=Er(ns),Qv=Er(Fs),Zi=cr?cr.prototype:n,$s=Zi?Zi.valueOf:n,zd=Zi?Zi.toString:n;function w(r){if(it(r)&&!Ce(r)&&!(r instanceof Le)){if(r instanceof ln)return r;if(We.call(r,"__wrapped__"))return Nf(r)}return new ln(r)}var ss=function(){function r(){}return function(i){if(!tt(i))return{};if(Md)return Md(i);r.prototype=i;var u=new r;return r.prototype=n,u}}();function Qi(){}function ln(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=n}w.templateSettings={escape:hx,evaluate:px,interpolate:Ku,variable:"",imports:{_:w}},w.prototype=Qi.prototype,w.prototype.constructor=w,ln.prototype=ss(Qi.prototype),ln.prototype.constructor=ln;function Le(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function e0(){var r=new Le(this.__wrapped__);return r.__actions__=Nt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Nt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Nt(this.__views__),r}function t0(){if(this.__filtered__){var r=new Le(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function n0(){var r=this.__wrapped__.value(),i=this.__dir__,u=Ce(r),m=i<0,y=u?r.length:0,_=pw(0,y,this.__views__),C=_.start,k=_.end,L=k-C,W=m?k:C-1,H=this.__iteratees__,K=H.length,te=0,fe=At(L,this.__takeCount__);if(!u||!m&&y==L&&fe==L)return cf(r,this.__actions__);var ge=[];e:for(;L--&&te<fe;){W+=i;for(var Ee=-1,ye=r[W];++Ee<K;){var Ie=H[Ee],Oe=Ie.iteratee,Jt=Ie.type,Ot=Oe(ye);if(Jt==ue)ye=Ot;else if(!Ot){if(Jt==ie)continue e;break e}}ge[te++]=ye}return ge}Le.prototype=ss(Qi.prototype),Le.prototype.constructor=Le;function Cr(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function r0(){this.__data__=zs?zs(null):{},this.size=0}function s0(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function i0(r){var i=this.__data__;if(zs){var u=i[r];return u===f?n:u}return We.call(i,r)?i[r]:n}function o0(r){var i=this.__data__;return zs?i[r]!==n:We.call(i,r)}function a0(r,i){var u=this.__data__;return this.size+=this.has(r)?0:1,u[r]=zs&&i===n?f:i,this}Cr.prototype.clear=r0,Cr.prototype.delete=s0,Cr.prototype.get=i0,Cr.prototype.has=o0,Cr.prototype.set=a0;function Bn(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function l0(){this.__data__=[],this.size=0}function c0(r){var i=this.__data__,u=eo(i,r);if(u<0)return!1;var m=i.length-1;return u==m?i.pop():Ki.call(i,u,1),--this.size,!0}function u0(r){var i=this.__data__,u=eo(i,r);return u<0?n:i[u][1]}function d0(r){return eo(this.__data__,r)>-1}function f0(r,i){var u=this.__data__,m=eo(u,r);return m<0?(++this.size,u.push([r,i])):u[m][1]=i,this}Bn.prototype.clear=l0,Bn.prototype.delete=c0,Bn.prototype.get=u0,Bn.prototype.has=d0,Bn.prototype.set=f0;function Un(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function h0(){this.size=0,this.__data__={hash:new Cr,map:new(Os||Bn),string:new Cr}}function p0(r){var i=ho(this,r).delete(r);return this.size-=i?1:0,i}function m0(r){return ho(this,r).get(r)}function g0(r){return ho(this,r).has(r)}function y0(r,i){var u=ho(this,r),m=u.size;return u.set(r,i),this.size+=u.size==m?0:1,this}Un.prototype.clear=h0,Un.prototype.delete=p0,Un.prototype.get=m0,Un.prototype.has=g0,Un.prototype.set=y0;function Tr(r){var i=-1,u=r==null?0:r.length;for(this.__data__=new Un;++i<u;)this.add(r[i])}function x0(r){return this.__data__.set(r,f),this}function v0(r){return this.__data__.has(r)}Tr.prototype.add=Tr.prototype.push=x0,Tr.prototype.has=v0;function _n(r){var i=this.__data__=new Bn(r);this.size=i.size}function w0(){this.__data__=new Bn,this.size=0}function _0(r){var i=this.__data__,u=i.delete(r);return this.size=i.size,u}function b0(r){return this.__data__.get(r)}function S0(r){return this.__data__.has(r)}function j0(r,i){var u=this.__data__;if(u instanceof Bn){var m=u.__data__;if(!Os||m.length<o-1)return m.push([r,i]),this.size=++u.size,this;u=this.__data__=new Un(m)}return u.set(r,i),this.size=u.size,this}_n.prototype.clear=w0,_n.prototype.delete=_0,_n.prototype.get=b0,_n.prototype.has=S0,_n.prototype.set=j0;function $d(r,i){var u=Ce(r),m=!u&&kr(r),y=!u&&!m&&pr(r),_=!u&&!m&&!y&&ls(r),C=u||m||y||_,k=C?za(r.length,Iv):[],L=k.length;for(var W in r)(i||We.call(r,W))&&!(C&&(W=="length"||y&&(W=="offset"||W=="parent")||_&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||Kn(W,L)))&&k.push(W);return k}function Nd(r){var i=r.length;return i?r[tl(0,i-1)]:n}function C0(r,i){return po(Nt(r),Rr(i,0,r.length))}function T0(r){return po(Nt(r))}function Ha(r,i,u){(u!==n&&!bn(r[i],u)||u===n&&!(i in r))&&Wn(r,i,u)}function Ns(r,i,u){var m=r[i];(!(We.call(r,i)&&bn(m,u))||u===n&&!(i in r))&&Wn(r,i,u)}function eo(r,i){for(var u=r.length;u--;)if(bn(r[u][0],i))return u;return-1}function R0(r,i,u,m){return ur(r,function(y,_,C){i(m,y,u(y),C)}),m}function Vd(r,i){return r&&Dn(i,_t(i),r)}function P0(r,i){return r&&Dn(i,Bt(i),r)}function Wn(r,i,u){i=="__proto__"&&qi?qi(r,i,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[i]=u}function Ga(r,i){for(var u=-1,m=i.length,y=F(m),_=r==null;++u<m;)y[u]=_?n:Tl(r,i[u]);return y}function Rr(r,i,u){return r===r&&(u!==n&&(r=r<=u?r:u),i!==n&&(r=r>=i?r:i)),r}function cn(r,i,u,m,y,_){var C,k=i&g,L=i&x,W=i&v;if(u&&(C=y?u(r,m,y,_):u(r)),C!==n)return C;if(!tt(r))return r;var H=Ce(r);if(H){if(C=gw(r),!k)return Nt(r,C)}else{var K=Et(r),te=K==xt||K==vn;if(pr(r))return ff(r,k);if(K==I||K==Ve||te&&!y){if(C=L||te?{}:kf(r),!k)return L?iw(r,P0(C,r)):sw(r,Vd(C,r))}else{if(!Ye[K])return y?r:{};C=yw(r,K,k)}}_||(_=new _n);var fe=_.get(r);if(fe)return fe;_.set(r,C),oh(r)?r.forEach(function(ye){C.add(cn(ye,i,u,ye,r,_))}):sh(r)&&r.forEach(function(ye,Ie){C.set(Ie,cn(ye,i,u,Ie,r,_))});var ge=W?L?fl:dl:L?Bt:_t,Ee=H?n:ge(r);return on(Ee||r,function(ye,Ie){Ee&&(Ie=ye,ye=r[Ie]),Ns(C,Ie,cn(ye,i,u,Ie,r,_))}),C}function A0(r){var i=_t(r);return function(u){return Bd(u,r,i)}}function Bd(r,i,u){var m=u.length;if(r==null)return!m;for(r=qe(r);m--;){var y=u[m],_=i[y],C=r[y];if(C===n&&!(y in r)||!_(C))return!1}return!0}function Ud(r,i,u){if(typeof r!="function")throw new an(c);return Ks(function(){r.apply(n,u)},i)}function Vs(r,i,u,m){var y=-1,_=Fi,C=!0,k=r.length,L=[],W=i.length;if(!k)return L;u&&(i=Qe(i,qt(u))),m?(_=Da,C=!1):i.length>=o&&(_=Is,C=!1,i=new Tr(i));e:for(;++y<k;){var H=r[y],K=u==null?H:u(H);if(H=m||H!==0?H:0,C&&K===K){for(var te=W;te--;)if(i[te]===K)continue e;L.push(H)}else _(i,K,m)||L.push(H)}return L}var ur=yf(kn),Wd=yf(qa,!0);function E0(r,i){var u=!0;return ur(r,function(m,y,_){return u=!!i(m,y,_),u}),u}function to(r,i,u){for(var m=-1,y=r.length;++m<y;){var _=r[m],C=i(_);if(C!=null&&(k===n?C===C&&!Xt(C):u(C,k)))var k=C,L=_}return L}function k0(r,i,u,m){var y=r.length;for(u=Re(u),u<0&&(u=-u>y?0:y+u),m=m===n||m>y?y:Re(m),m<0&&(m+=y),m=u>m?0:lh(m);u<m;)r[u++]=i;return r}function Hd(r,i){var u=[];return ur(r,function(m,y,_){i(m,y,_)&&u.push(m)}),u}function Ct(r,i,u,m,y){var _=-1,C=r.length;for(u||(u=vw),y||(y=[]);++_<C;){var k=r[_];i>0&&u(k)?i>1?Ct(k,i-1,u,m,y):ar(y,k):m||(y[y.length]=k)}return y}var Ka=xf(),Gd=xf(!0);function kn(r,i){return r&&Ka(r,i,_t)}function qa(r,i){return r&&Gd(r,i,_t)}function no(r,i){return or(i,function(u){return qn(r[u])})}function Pr(r,i){i=fr(i,r);for(var u=0,m=i.length;r!=null&&u<m;)r=r[Mn(i[u++])];return u&&u==m?r:n}function Kd(r,i,u){var m=i(r);return Ce(r)?m:ar(m,u(r))}function It(r){return r==null?r===n?Me:Hr:jr&&jr in qe(r)?hw(r):Tw(r)}function Ya(r,i){return r>i}function D0(r,i){return r!=null&&We.call(r,i)}function M0(r,i){return r!=null&&i in qe(r)}function I0(r,i,u){return r>=At(i,u)&&r<mt(i,u)}function Xa(r,i,u){for(var m=u?Da:Fi,y=r[0].length,_=r.length,C=_,k=F(_),L=1/0,W=[];C--;){var H=r[C];C&&i&&(H=Qe(H,qt(i))),L=At(H.length,L),k[C]=!u&&(i||y>=120&&H.length>=120)?new Tr(C&&H):n}H=r[0];var K=-1,te=k[0];e:for(;++K<y&&W.length<L;){var fe=H[K],ge=i?i(fe):fe;if(fe=u||fe!==0?fe:0,!(te?Is(te,ge):m(W,ge,u))){for(C=_;--C;){var Ee=k[C];if(!(Ee?Is(Ee,ge):m(r[C],ge,u)))continue e}te&&te.push(ge),W.push(fe)}}return W}function L0(r,i,u,m){return kn(r,function(y,_,C){i(m,u(y),_,C)}),m}function Bs(r,i,u){i=fr(i,r),r=Lf(r,i);var m=r==null?r:r[Mn(dn(i))];return m==null?n:Kt(m,r,u)}function qd(r){return it(r)&&It(r)==Ve}function O0(r){return it(r)&&It(r)==ir}function F0(r){return it(r)&&It(r)==de}function Us(r,i,u,m,y){return r===i?!0:r==null||i==null||!it(r)&&!it(i)?r!==r&&i!==i:z0(r,i,u,m,Us,y)}function z0(r,i,u,m,y,_){var C=Ce(r),k=Ce(i),L=C?ht:Et(r),W=k?ht:Et(i);L=L==Ve?I:L,W=W==Ve?I:W;var H=L==I,K=W==I,te=L==W;if(te&&pr(r)){if(!pr(i))return!1;C=!0,H=!1}if(te&&!H)return _||(_=new _n),C||ls(r)?Pf(r,i,u,m,y,_):dw(r,i,L,u,m,y,_);if(!(u&S)){var fe=H&&We.call(r,"__wrapped__"),ge=K&&We.call(i,"__wrapped__");if(fe||ge){var Ee=fe?r.value():r,ye=ge?i.value():i;return _||(_=new _n),y(Ee,ye,u,m,_)}}return te?(_||(_=new _n),fw(r,i,u,m,y,_)):!1}function $0(r){return it(r)&&Et(r)==vt}function Ja(r,i,u,m){var y=u.length,_=y,C=!m;if(r==null)return!_;for(r=qe(r);y--;){var k=u[y];if(C&&k[2]?k[1]!==r[k[0]]:!(k[0]in r))return!1}for(;++y<_;){k=u[y];var L=k[0],W=r[L],H=k[1];if(C&&k[2]){if(W===n&&!(L in r))return!1}else{var K=new _n;if(m)var te=m(W,H,L,r,i,K);if(!(te===n?Us(H,W,S|T,m,K):te))return!1}}return!0}function Yd(r){if(!tt(r)||_w(r))return!1;var i=qn(r)?$v:Ax;return i.test(Er(r))}function N0(r){return it(r)&&It(r)==ze}function V0(r){return it(r)&&Et(r)==pe}function B0(r){return it(r)&&wo(r.length)&&!!Xe[It(r)]}function Xd(r){return typeof r=="function"?r:r==null?Ut:typeof r=="object"?Ce(r)?Qd(r[0],r[1]):Zd(r):vh(r)}function Za(r){if(!Gs(r))return Hv(r);var i=[];for(var u in qe(r))We.call(r,u)&&u!="constructor"&&i.push(u);return i}function U0(r){if(!tt(r))return Cw(r);var i=Gs(r),u=[];for(var m in r)m=="constructor"&&(i||!We.call(r,m))||u.push(m);return u}function Qa(r,i){return r<i}function Jd(r,i){var u=-1,m=Vt(r)?F(r.length):[];return ur(r,function(y,_,C){m[++u]=i(y,_,C)}),m}function Zd(r){var i=pl(r);return i.length==1&&i[0][2]?Mf(i[0][0],i[0][1]):function(u){return u===r||Ja(u,r,i)}}function Qd(r,i){return gl(r)&&Df(i)?Mf(Mn(r),i):function(u){var m=Tl(u,r);return m===n&&m===i?Rl(u,r):Us(i,m,S|T)}}function ro(r,i,u,m,y){r!==i&&Ka(i,function(_,C){if(y||(y=new _n),tt(_))W0(r,i,C,u,ro,m,y);else{var k=m?m(xl(r,C),_,C+"",r,i,y):n;k===n&&(k=_),Ha(r,C,k)}},Bt)}function W0(r,i,u,m,y,_,C){var k=xl(r,u),L=xl(i,u),W=C.get(L);if(W){Ha(r,u,W);return}var H=_?_(k,L,u+"",r,i,C):n,K=H===n;if(K){var te=Ce(L),fe=!te&&pr(L),ge=!te&&!fe&&ls(L);H=L,te||fe||ge?Ce(k)?H=k:ct(k)?H=Nt(k):fe?(K=!1,H=ff(L,!0)):ge?(K=!1,H=hf(L,!0)):H=[]:qs(L)||kr(L)?(H=k,kr(k)?H=ch(k):(!tt(k)||qn(k))&&(H=kf(L))):K=!1}K&&(C.set(L,H),y(H,L,m,_,C),C.delete(L)),Ha(r,u,H)}function ef(r,i){var u=r.length;if(u)return i+=i<0?u:0,Kn(i,u)?r[i]:n}function tf(r,i,u){i.length?i=Qe(i,function(_){return Ce(_)?function(C){return Pr(C,_.length===1?_[0]:_)}:_}):i=[Ut];var m=-1;i=Qe(i,qt(me()));var y=Jd(r,function(_,C,k){var L=Qe(i,function(W){return W(_)});return{criteria:L,index:++m,value:_}});return yv(y,function(_,C){return rw(_,C,u)})}function H0(r,i){return nf(r,i,function(u,m){return Rl(r,m)})}function nf(r,i,u){for(var m=-1,y=i.length,_={};++m<y;){var C=i[m],k=Pr(r,C);u(k,C)&&Ws(_,fr(C,r),k)}return _}function G0(r){return function(i){return Pr(i,r)}}function el(r,i,u,m){var y=m?gv:Jr,_=-1,C=i.length,k=r;for(r===i&&(i=Nt(i)),u&&(k=Qe(r,qt(u)));++_<C;)for(var L=0,W=i[_],H=u?u(W):W;(L=y(k,H,L,m))>-1;)k!==r&&Ki.call(k,L,1),Ki.call(r,L,1);return r}function rf(r,i){for(var u=r?i.length:0,m=u-1;u--;){var y=i[u];if(u==m||y!==_){var _=y;Kn(y)?Ki.call(r,y,1):sl(r,y)}}return r}function tl(r,i){return r+Xi(Fd()*(i-r+1))}function K0(r,i,u,m){for(var y=-1,_=mt(Yi((i-r)/(u||1)),0),C=F(_);_--;)C[m?_:++y]=r,r+=u;return C}function nl(r,i){var u="";if(!r||i<1||i>Z)return u;do i%2&&(u+=r),i=Xi(i/2),i&&(r+=r);while(i);return u}function ke(r,i){return vl(If(r,i,Ut),r+"")}function q0(r){return Nd(cs(r))}function Y0(r,i){var u=cs(r);return po(u,Rr(i,0,u.length))}function Ws(r,i,u,m){if(!tt(r))return r;i=fr(i,r);for(var y=-1,_=i.length,C=_-1,k=r;k!=null&&++y<_;){var L=Mn(i[y]),W=u;if(L==="__proto__"||L==="constructor"||L==="prototype")return r;if(y!=C){var H=k[L];W=m?m(H,L,k):n,W===n&&(W=tt(H)?H:Kn(i[y+1])?[]:{})}Ns(k,L,W),k=k[L]}return r}var sf=Ji?function(r,i){return Ji.set(r,i),r}:Ut,X0=qi?function(r,i){return qi(r,"toString",{configurable:!0,enumerable:!1,value:Al(i),writable:!0})}:Ut;function J0(r){return po(cs(r))}function un(r,i,u){var m=-1,y=r.length;i<0&&(i=-i>y?0:y+i),u=u>y?y:u,u<0&&(u+=y),y=i>u?0:u-i>>>0,i>>>=0;for(var _=F(y);++m<y;)_[m]=r[m+i];return _}function Z0(r,i){var u;return ur(r,function(m,y,_){return u=i(m,y,_),!u}),!!u}function so(r,i,u){var m=0,y=r==null?m:r.length;if(typeof i=="number"&&i===i&&y<=Ge){for(;m<y;){var _=m+y>>>1,C=r[_];C!==null&&!Xt(C)&&(u?C<=i:C<i)?m=_+1:y=_}return y}return rl(r,i,Ut,u)}function rl(r,i,u,m){var y=0,_=r==null?0:r.length;if(_===0)return 0;i=u(i);for(var C=i!==i,k=i===null,L=Xt(i),W=i===n;y<_;){var H=Xi((y+_)/2),K=u(r[H]),te=K!==n,fe=K===null,ge=K===K,Ee=Xt(K);if(C)var ye=m||ge;else W?ye=ge&&(m||te):k?ye=ge&&te&&(m||!fe):L?ye=ge&&te&&!fe&&(m||!Ee):fe||Ee?ye=!1:ye=m?K<=i:K<i;ye?y=H+1:_=H}return At(_,xe)}function of(r,i){for(var u=-1,m=r.length,y=0,_=[];++u<m;){var C=r[u],k=i?i(C):C;if(!u||!bn(k,L)){var L=k;_[y++]=C===0?0:C}}return _}function af(r){return typeof r=="number"?r:Xt(r)?Q:+r}function Yt(r){if(typeof r=="string")return r;if(Ce(r))return Qe(r,Yt)+"";if(Xt(r))return zd?zd.call(r):"";var i=r+"";return i=="0"&&1/r==-re?"-0":i}function dr(r,i,u){var m=-1,y=Fi,_=r.length,C=!0,k=[],L=k;if(u)C=!1,y=Da;else if(_>=o){var W=i?null:cw(r);if(W)return $i(W);C=!1,y=Is,L=new Tr}else L=i?[]:k;e:for(;++m<_;){var H=r[m],K=i?i(H):H;if(H=u||H!==0?H:0,C&&K===K){for(var te=L.length;te--;)if(L[te]===K)continue e;i&&L.push(K),k.push(H)}else y(L,K,u)||(L!==k&&L.push(K),k.push(H))}return k}function sl(r,i){return i=fr(i,r),r=Lf(r,i),r==null||delete r[Mn(dn(i))]}function lf(r,i,u,m){return Ws(r,i,u(Pr(r,i)),m)}function io(r,i,u,m){for(var y=r.length,_=m?y:-1;(m?_--:++_<y)&&i(r[_],_,r););return u?un(r,m?0:_,m?_+1:y):un(r,m?_+1:0,m?y:_)}function cf(r,i){var u=r;return u instanceof Le&&(u=u.value()),Ma(i,function(m,y){return y.func.apply(y.thisArg,ar([m],y.args))},u)}function il(r,i,u){var m=r.length;if(m<2)return m?dr(r[0]):[];for(var y=-1,_=F(m);++y<m;)for(var C=r[y],k=-1;++k<m;)k!=y&&(_[y]=Vs(_[y]||C,r[k],i,u));return dr(Ct(_,1),i,u)}function uf(r,i,u){for(var m=-1,y=r.length,_=i.length,C={};++m<y;){var k=m<_?i[m]:n;u(C,r[m],k)}return C}function ol(r){return ct(r)?r:[]}function al(r){return typeof r=="function"?r:Ut}function fr(r,i){return Ce(r)?r:gl(r,i)?[r]:$f(Ue(r))}var Q0=ke;function hr(r,i,u){var m=r.length;return u=u===n?m:u,!i&&u>=m?r:un(r,i,u)}var df=Nv||function(r){return jt.clearTimeout(r)};function ff(r,i){if(i)return r.slice();var u=r.length,m=Dd?Dd(u):new r.constructor(u);return r.copy(m),m}function ll(r){var i=new r.constructor(r.byteLength);return new Hi(i).set(new Hi(r)),i}function ew(r,i){var u=i?ll(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}function tw(r){var i=new r.constructor(r.source,qu.exec(r));return i.lastIndex=r.lastIndex,i}function nw(r){return $s?qe($s.call(r)):{}}function hf(r,i){var u=i?ll(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}function pf(r,i){if(r!==i){var u=r!==n,m=r===null,y=r===r,_=Xt(r),C=i!==n,k=i===null,L=i===i,W=Xt(i);if(!k&&!W&&!_&&r>i||_&&C&&L&&!k&&!W||m&&C&&L||!u&&L||!y)return 1;if(!m&&!_&&!W&&r<i||W&&u&&y&&!m&&!_||k&&u&&y||!C&&y||!L)return-1}return 0}function rw(r,i,u){for(var m=-1,y=r.criteria,_=i.criteria,C=y.length,k=u.length;++m<C;){var L=pf(y[m],_[m]);if(L){if(m>=k)return L;var W=u[m];return L*(W=="desc"?-1:1)}}return r.index-i.index}function mf(r,i,u,m){for(var y=-1,_=r.length,C=u.length,k=-1,L=i.length,W=mt(_-C,0),H=F(L+W),K=!m;++k<L;)H[k]=i[k];for(;++y<C;)(K||y<_)&&(H[u[y]]=r[y]);for(;W--;)H[k++]=r[y++];return H}function gf(r,i,u,m){for(var y=-1,_=r.length,C=-1,k=u.length,L=-1,W=i.length,H=mt(_-k,0),K=F(H+W),te=!m;++y<H;)K[y]=r[y];for(var fe=y;++L<W;)K[fe+L]=i[L];for(;++C<k;)(te||y<_)&&(K[fe+u[C]]=r[y++]);return K}function Nt(r,i){var u=-1,m=r.length;for(i||(i=F(m));++u<m;)i[u]=r[u];return i}function Dn(r,i,u,m){var y=!u;u||(u={});for(var _=-1,C=i.length;++_<C;){var k=i[_],L=m?m(u[k],r[k],k,u,r):n;L===n&&(L=r[k]),y?Wn(u,k,L):Ns(u,k,L)}return u}function sw(r,i){return Dn(r,ml(r),i)}function iw(r,i){return Dn(r,Af(r),i)}function oo(r,i){return function(u,m){var y=Ce(u)?uv:R0,_=i?i():{};return y(u,r,me(m,2),_)}}function is(r){return ke(function(i,u){var m=-1,y=u.length,_=y>1?u[y-1]:n,C=y>2?u[2]:n;for(_=r.length>3&&typeof _=="function"?(y--,_):n,C&&Lt(u[0],u[1],C)&&(_=y<3?n:_,y=1),i=qe(i);++m<y;){var k=u[m];k&&r(i,k,m,_)}return i})}function yf(r,i){return function(u,m){if(u==null)return u;if(!Vt(u))return r(u,m);for(var y=u.length,_=i?y:-1,C=qe(u);(i?_--:++_<y)&&m(C[_],_,C)!==!1;);return u}}function xf(r){return function(i,u,m){for(var y=-1,_=qe(i),C=m(i),k=C.length;k--;){var L=C[r?k:++y];if(u(_[L],L,_)===!1)break}return i}}function ow(r,i,u){var m=i&E,y=Hs(r);function _(){var C=this&&this!==jt&&this instanceof _?y:r;return C.apply(m?u:this,arguments)}return _}function vf(r){return function(i){i=Ue(i);var u=Zr(i)?wn(i):n,m=u?u[0]:i.charAt(0),y=u?hr(u,1).join(""):i.slice(1);return m[r]()+y}}function os(r){return function(i){return Ma(yh(gh(i).replace(Xx,"")),r,"")}}function Hs(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var u=ss(r.prototype),m=r.apply(u,i);return tt(m)?m:u}}function aw(r,i,u){var m=Hs(r);function y(){for(var _=arguments.length,C=F(_),k=_,L=as(y);k--;)C[k]=arguments[k];var W=_<3&&C[0]!==L&&C[_-1]!==L?[]:lr(C,L);if(_-=W.length,_<u)return jf(r,i,ao,y.placeholder,n,C,W,n,n,u-_);var H=this&&this!==jt&&this instanceof y?m:r;return Kt(H,this,C)}return y}function wf(r){return function(i,u,m){var y=qe(i);if(!Vt(i)){var _=me(u,3);i=_t(i),u=function(k){return _(y[k],k,y)}}var C=r(i,u,m);return C>-1?y[_?i[C]:C]:n}}function _f(r){return Gn(function(i){var u=i.length,m=u,y=ln.prototype.thru;for(r&&i.reverse();m--;){var _=i[m];if(typeof _!="function")throw new an(c);if(y&&!C&&fo(_)=="wrapper")var C=new ln([],!0)}for(m=C?m:u;++m<u;){_=i[m];var k=fo(_),L=k=="wrapper"?hl(_):n;L&&yl(L[0])&&L[1]==(B|D|R|z)&&!L[4].length&&L[9]==1?C=C[fo(L[0])].apply(C,L[3]):C=_.length==1&&yl(_)?C[k]():C.thru(_)}return function(){var W=arguments,H=W[0];if(C&&W.length==1&&Ce(H))return C.plant(H).value();for(var K=0,te=u?i[K].apply(this,W):H;++K<u;)te=i[K].call(this,te);return te}})}function ao(r,i,u,m,y,_,C,k,L,W){var H=i&B,K=i&E,te=i&P,fe=i&(D|j),ge=i&$,Ee=te?n:Hs(r);function ye(){for(var Ie=arguments.length,Oe=F(Ie),Jt=Ie;Jt--;)Oe[Jt]=arguments[Jt];if(fe)var Ot=as(ye),Zt=vv(Oe,Ot);if(m&&(Oe=mf(Oe,m,y,fe)),_&&(Oe=gf(Oe,_,C,fe)),Ie-=Zt,fe&&Ie<W){var ut=lr(Oe,Ot);return jf(r,i,ao,ye.placeholder,u,Oe,ut,k,L,W-Ie)}var Sn=K?u:this,Xn=te?Sn[r]:r;return Ie=Oe.length,k?Oe=Rw(Oe,k):ge&&Ie>1&&Oe.reverse(),H&&L<Ie&&(Oe.length=L),this&&this!==jt&&this instanceof ye&&(Xn=Ee||Hs(Xn)),Xn.apply(Sn,Oe)}return ye}function bf(r,i){return function(u,m){return L0(u,r,i(m),{})}}function lo(r,i){return function(u,m){var y;if(u===n&&m===n)return i;if(u!==n&&(y=u),m!==n){if(y===n)return m;typeof u=="string"||typeof m=="string"?(u=Yt(u),m=Yt(m)):(u=af(u),m=af(m)),y=r(u,m)}return y}}function cl(r){return Gn(function(i){return i=Qe(i,qt(me())),ke(function(u){var m=this;return r(i,function(y){return Kt(y,m,u)})})})}function co(r,i){i=i===n?" ":Yt(i);var u=i.length;if(u<2)return u?nl(i,r):i;var m=nl(i,Yi(r/Qr(i)));return Zr(i)?hr(wn(m),0,r).join(""):m.slice(0,r)}function lw(r,i,u,m){var y=i&E,_=Hs(r);function C(){for(var k=-1,L=arguments.length,W=-1,H=m.length,K=F(H+L),te=this&&this!==jt&&this instanceof C?_:r;++W<H;)K[W]=m[W];for(;L--;)K[W++]=arguments[++k];return Kt(te,y?u:this,K)}return C}function Sf(r){return function(i,u,m){return m&&typeof m!="number"&&Lt(i,u,m)&&(u=m=n),i=Yn(i),u===n?(u=i,i=0):u=Yn(u),m=m===n?i<u?1:-1:Yn(m),K0(i,u,m,r)}}function uo(r){return function(i,u){return typeof i=="string"&&typeof u=="string"||(i=fn(i),u=fn(u)),r(i,u)}}function jf(r,i,u,m,y,_,C,k,L,W){var H=i&D,K=H?C:n,te=H?n:C,fe=H?_:n,ge=H?n:_;i|=H?R:O,i&=~(H?O:R),i&A||(i&=-4);var Ee=[r,i,y,fe,K,ge,te,k,L,W],ye=u.apply(n,Ee);return yl(r)&&Of(ye,Ee),ye.placeholder=m,Ff(ye,r,i)}function ul(r){var i=pt[r];return function(u,m){if(u=fn(u),m=m==null?0:At(Re(m),292),m&&Od(u)){var y=(Ue(u)+"e").split("e"),_=i(y[0]+"e"+(+y[1]+m));return y=(Ue(_)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return i(u)}}var cw=ns&&1/$i(new ns([,-0]))[1]==re?function(r){return new ns(r)}:Dl;function Cf(r){return function(i){var u=Et(i);return u==vt?Na(i):u==pe?Tv(i):xv(i,r(i))}}function Hn(r,i,u,m,y,_,C,k){var L=i&P;if(!L&&typeof r!="function")throw new an(c);var W=m?m.length:0;if(W||(i&=-97,m=y=n),C=C===n?C:mt(Re(C),0),k=k===n?k:Re(k),W-=y?y.length:0,i&O){var H=m,K=y;m=y=n}var te=L?n:hl(r),fe=[r,i,u,m,y,H,K,_,C,k];if(te&&jw(fe,te),r=fe[0],i=fe[1],u=fe[2],m=fe[3],y=fe[4],k=fe[9]=fe[9]===n?L?0:r.length:mt(fe[9]-W,0),!k&&i&(D|j)&&(i&=-25),!i||i==E)var ge=ow(r,i,u);else i==D||i==j?ge=aw(r,i,k):(i==R||i==(E|R))&&!y.length?ge=lw(r,i,u,m):ge=ao.apply(n,fe);var Ee=te?sf:Of;return Ff(Ee(ge,fe),r,i)}function Tf(r,i,u,m){return r===n||bn(r,ts[u])&&!We.call(m,u)?i:r}function Rf(r,i,u,m,y,_){return tt(r)&&tt(i)&&(_.set(i,r),ro(r,i,n,Rf,_),_.delete(i)),r}function uw(r){return qs(r)?n:r}function Pf(r,i,u,m,y,_){var C=u&S,k=r.length,L=i.length;if(k!=L&&!(C&&L>k))return!1;var W=_.get(r),H=_.get(i);if(W&&H)return W==i&&H==r;var K=-1,te=!0,fe=u&T?new Tr:n;for(_.set(r,i),_.set(i,r);++K<k;){var ge=r[K],Ee=i[K];if(m)var ye=C?m(Ee,ge,K,i,r,_):m(ge,Ee,K,r,i,_);if(ye!==n){if(ye)continue;te=!1;break}if(fe){if(!Ia(i,function(Ie,Oe){if(!Is(fe,Oe)&&(ge===Ie||y(ge,Ie,u,m,_)))return fe.push(Oe)})){te=!1;break}}else if(!(ge===Ee||y(ge,Ee,u,m,_))){te=!1;break}}return _.delete(r),_.delete(i),te}function dw(r,i,u,m,y,_,C){switch(u){case Vn:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case ir:return!(r.byteLength!=i.byteLength||!_(new Hi(r),new Hi(i)));case U:case de:case Nn:return bn(+r,+i);case yt:return r.name==i.name&&r.message==i.message;case ze:case Be:return r==i+"";case vt:var k=Na;case pe:var L=m&S;if(k||(k=$i),r.size!=i.size&&!L)return!1;var W=C.get(r);if(W)return W==i;m|=T,C.set(r,i);var H=Pf(k(r),k(i),m,y,_,C);return C.delete(r),H;case $e:if($s)return $s.call(r)==$s.call(i)}return!1}function fw(r,i,u,m,y,_){var C=u&S,k=dl(r),L=k.length,W=dl(i),H=W.length;if(L!=H&&!C)return!1;for(var K=L;K--;){var te=k[K];if(!(C?te in i:We.call(i,te)))return!1}var fe=_.get(r),ge=_.get(i);if(fe&&ge)return fe==i&&ge==r;var Ee=!0;_.set(r,i),_.set(i,r);for(var ye=C;++K<L;){te=k[K];var Ie=r[te],Oe=i[te];if(m)var Jt=C?m(Oe,Ie,te,i,r,_):m(Ie,Oe,te,r,i,_);if(!(Jt===n?Ie===Oe||y(Ie,Oe,u,m,_):Jt)){Ee=!1;break}ye||(ye=te=="constructor")}if(Ee&&!ye){var Ot=r.constructor,Zt=i.constructor;Ot!=Zt&&"constructor"in r&&"constructor"in i&&!(typeof Ot=="function"&&Ot instanceof Ot&&typeof Zt=="function"&&Zt instanceof Zt)&&(Ee=!1)}return _.delete(r),_.delete(i),Ee}function Gn(r){return vl(If(r,n,Uf),r+"")}function dl(r){return Kd(r,_t,ml)}function fl(r){return Kd(r,Bt,Af)}var hl=Ji?function(r){return Ji.get(r)}:Dl;function fo(r){for(var i=r.name+"",u=rs[i],m=We.call(rs,i)?u.length:0;m--;){var y=u[m],_=y.func;if(_==null||_==r)return y.name}return i}function as(r){var i=We.call(w,"placeholder")?w:r;return i.placeholder}function me(){var r=w.iteratee||El;return r=r===El?Xd:r,arguments.length?r(arguments[0],arguments[1]):r}function ho(r,i){var u=r.__data__;return ww(i)?u[typeof i=="string"?"string":"hash"]:u.map}function pl(r){for(var i=_t(r),u=i.length;u--;){var m=i[u],y=r[m];i[u]=[m,y,Df(y)]}return i}function Ar(r,i){var u=Sv(r,i);return Yd(u)?u:n}function hw(r){var i=We.call(r,jr),u=r[jr];try{r[jr]=n;var m=!0}catch{}var y=Ui.call(r);return m&&(i?r[jr]=u:delete r[jr]),y}var ml=Ba?function(r){return r==null?[]:(r=qe(r),or(Ba(r),function(i){return Id.call(r,i)}))}:Ml,Af=Ba?function(r){for(var i=[];r;)ar(i,ml(r)),r=Gi(r);return i}:Ml,Et=It;(Ua&&Et(new Ua(new ArrayBuffer(1)))!=Vn||Os&&Et(new Os)!=vt||Wa&&Et(Wa.resolve())!=J||ns&&Et(new ns)!=pe||Fs&&Et(new Fs)!=rn)&&(Et=function(r){var i=It(r),u=i==I?r.constructor:n,m=u?Er(u):"";if(m)switch(m){case Yv:return Vn;case Xv:return vt;case Jv:return J;case Zv:return pe;case Qv:return rn}return i});function pw(r,i,u){for(var m=-1,y=u.length;++m<y;){var _=u[m],C=_.size;switch(_.type){case"drop":r+=C;break;case"dropRight":i-=C;break;case"take":i=At(i,r+C);break;case"takeRight":r=mt(r,i-C);break}}return{start:r,end:i}}function mw(r){var i=r.match(_x);return i?i[1].split(bx):[]}function Ef(r,i,u){i=fr(i,r);for(var m=-1,y=i.length,_=!1;++m<y;){var C=Mn(i[m]);if(!(_=r!=null&&u(r,C)))break;r=r[C]}return _||++m!=y?_:(y=r==null?0:r.length,!!y&&wo(y)&&Kn(C,y)&&(Ce(r)||kr(r)))}function gw(r){var i=r.length,u=new r.constructor(i);return i&&typeof r[0]=="string"&&We.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function kf(r){return typeof r.constructor=="function"&&!Gs(r)?ss(Gi(r)):{}}function yw(r,i,u){var m=r.constructor;switch(i){case ir:return ll(r);case U:case de:return new m(+r);case Vn:return ew(r,u);case Gr:case Kr:case qr:case Yr:case xa:case va:case wa:case _a:case ba:return hf(r,u);case vt:return new m;case Nn:case Be:return new m(r);case ze:return tw(r);case pe:return new m;case $e:return nw(r)}}function xw(r,i){var u=i.length;if(!u)return r;var m=u-1;return i[m]=(u>1?"& ":"")+i[m],i=i.join(u>2?", ":" "),r.replace(wx,`{
/* [wrapped with `+i+`] */
`)}function vw(r){return Ce(r)||kr(r)||!!(Ld&&r&&r[Ld])}function Kn(r,i){var u=typeof r;return i=i??Z,!!i&&(u=="number"||u!="symbol"&&kx.test(r))&&r>-1&&r%1==0&&r<i}function Lt(r,i,u){if(!tt(u))return!1;var m=typeof i;return(m=="number"?Vt(u)&&Kn(i,u.length):m=="string"&&i in u)?bn(u[i],r):!1}function gl(r,i){if(Ce(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||Xt(r)?!0:gx.test(r)||!mx.test(r)||i!=null&&r in qe(i)}function ww(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function yl(r){var i=fo(r),u=w[i];if(typeof u!="function"||!(i in Le.prototype))return!1;if(r===u)return!0;var m=hl(u);return!!m&&r===m[0]}function _w(r){return!!kd&&kd in r}var bw=Vi?qn:Il;function Gs(r){var i=r&&r.constructor,u=typeof i=="function"&&i.prototype||ts;return r===u}function Df(r){return r===r&&!tt(r)}function Mf(r,i){return function(u){return u==null?!1:u[r]===i&&(i!==n||r in qe(u))}}function Sw(r){var i=xo(r,function(m){return u.size===h&&u.clear(),m}),u=i.cache;return i}function jw(r,i){var u=r[1],m=i[1],y=u|m,_=y<(E|P|B),C=m==B&&u==D||m==B&&u==z&&r[7].length<=i[8]||m==(B|z)&&i[7].length<=i[8]&&u==D;if(!(_||C))return r;m&E&&(r[2]=i[2],y|=u&E?0:A);var k=i[3];if(k){var L=r[3];r[3]=L?mf(L,k,i[4]):k,r[4]=L?lr(r[3],p):i[4]}return k=i[5],k&&(L=r[5],r[5]=L?gf(L,k,i[6]):k,r[6]=L?lr(r[5],p):i[6]),k=i[7],k&&(r[7]=k),m&B&&(r[8]=r[8]==null?i[8]:At(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=y,r}function Cw(r){var i=[];if(r!=null)for(var u in qe(r))i.push(u);return i}function Tw(r){return Ui.call(r)}function If(r,i,u){return i=mt(i===n?r.length-1:i,0),function(){for(var m=arguments,y=-1,_=mt(m.length-i,0),C=F(_);++y<_;)C[y]=m[i+y];y=-1;for(var k=F(i+1);++y<i;)k[y]=m[y];return k[i]=u(C),Kt(r,this,k)}}function Lf(r,i){return i.length<2?r:Pr(r,un(i,0,-1))}function Rw(r,i){for(var u=r.length,m=At(i.length,u),y=Nt(r);m--;){var _=i[m];r[m]=Kn(_,u)?y[_]:n}return r}function xl(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var Of=zf(sf),Ks=Bv||function(r,i){return jt.setTimeout(r,i)},vl=zf(X0);function Ff(r,i,u){var m=i+"";return vl(r,xw(m,Pw(mw(m),u)))}function zf(r){var i=0,u=0;return function(){var m=Gv(),y=X-(m-u);if(u=m,y>0){if(++i>=se)return arguments[0]}else i=0;return r.apply(n,arguments)}}function po(r,i){var u=-1,m=r.length,y=m-1;for(i=i===n?m:i;++u<i;){var _=tl(u,y),C=r[_];r[_]=r[u],r[u]=C}return r.length=i,r}var $f=Sw(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(yx,function(u,m,y,_){i.push(y?_.replace(Cx,"$1"):m||u)}),i});function Mn(r){if(typeof r=="string"||Xt(r))return r;var i=r+"";return i=="0"&&1/r==-re?"-0":i}function Er(r){if(r!=null){try{return Bi.call(r)}catch{}try{return r+""}catch{}}return""}function Pw(r,i){return on(Ke,function(u){var m="_."+u[0];i&u[1]&&!Fi(r,m)&&r.push(m)}),r.sort()}function Nf(r){if(r instanceof Le)return r.clone();var i=new ln(r.__wrapped__,r.__chain__);return i.__actions__=Nt(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function Aw(r,i,u){(u?Lt(r,i,u):i===n)?i=1:i=mt(Re(i),0);var m=r==null?0:r.length;if(!m||i<1)return[];for(var y=0,_=0,C=F(Yi(m/i));y<m;)C[_++]=un(r,y,y+=i);return C}function Ew(r){for(var i=-1,u=r==null?0:r.length,m=0,y=[];++i<u;){var _=r[i];_&&(y[m++]=_)}return y}function kw(){var r=arguments.length;if(!r)return[];for(var i=F(r-1),u=arguments[0],m=r;m--;)i[m-1]=arguments[m];return ar(Ce(u)?Nt(u):[u],Ct(i,1))}var Dw=ke(function(r,i){return ct(r)?Vs(r,Ct(i,1,ct,!0)):[]}),Mw=ke(function(r,i){var u=dn(i);return ct(u)&&(u=n),ct(r)?Vs(r,Ct(i,1,ct,!0),me(u,2)):[]}),Iw=ke(function(r,i){var u=dn(i);return ct(u)&&(u=n),ct(r)?Vs(r,Ct(i,1,ct,!0),n,u):[]});function Lw(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Re(i),un(r,i<0?0:i,m)):[]}function Ow(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Re(i),i=m-i,un(r,0,i<0?0:i)):[]}function Fw(r,i){return r&&r.length?io(r,me(i,3),!0,!0):[]}function zw(r,i){return r&&r.length?io(r,me(i,3),!0):[]}function $w(r,i,u,m){var y=r==null?0:r.length;return y?(u&&typeof u!="number"&&Lt(r,i,u)&&(u=0,m=y),k0(r,i,u,m)):[]}function Vf(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=u==null?0:Re(u);return y<0&&(y=mt(m+y,0)),zi(r,me(i,3),y)}function Bf(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=m-1;return u!==n&&(y=Re(u),y=u<0?mt(m+y,0):At(y,m-1)),zi(r,me(i,3),y,!0)}function Uf(r){var i=r==null?0:r.length;return i?Ct(r,1):[]}function Nw(r){var i=r==null?0:r.length;return i?Ct(r,re):[]}function Vw(r,i){var u=r==null?0:r.length;return u?(i=i===n?1:Re(i),Ct(r,i)):[]}function Bw(r){for(var i=-1,u=r==null?0:r.length,m={};++i<u;){var y=r[i];m[y[0]]=y[1]}return m}function Wf(r){return r&&r.length?r[0]:n}function Uw(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=u==null?0:Re(u);return y<0&&(y=mt(m+y,0)),Jr(r,i,y)}function Ww(r){var i=r==null?0:r.length;return i?un(r,0,-1):[]}var Hw=ke(function(r){var i=Qe(r,ol);return i.length&&i[0]===r[0]?Xa(i):[]}),Gw=ke(function(r){var i=dn(r),u=Qe(r,ol);return i===dn(u)?i=n:u.pop(),u.length&&u[0]===r[0]?Xa(u,me(i,2)):[]}),Kw=ke(function(r){var i=dn(r),u=Qe(r,ol);return i=typeof i=="function"?i:n,i&&u.pop(),u.length&&u[0]===r[0]?Xa(u,n,i):[]});function qw(r,i){return r==null?"":Wv.call(r,i)}function dn(r){var i=r==null?0:r.length;return i?r[i-1]:n}function Yw(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=m;return u!==n&&(y=Re(u),y=y<0?mt(m+y,0):At(y,m-1)),i===i?Pv(r,i,y):zi(r,Sd,y,!0)}function Xw(r,i){return r&&r.length?ef(r,Re(i)):n}var Jw=ke(Hf);function Hf(r,i){return r&&r.length&&i&&i.length?el(r,i):r}function Zw(r,i,u){return r&&r.length&&i&&i.length?el(r,i,me(u,2)):r}function Qw(r,i,u){return r&&r.length&&i&&i.length?el(r,i,n,u):r}var e_=Gn(function(r,i){var u=r==null?0:r.length,m=Ga(r,i);return rf(r,Qe(i,function(y){return Kn(y,u)?+y:y}).sort(pf)),m});function t_(r,i){var u=[];if(!(r&&r.length))return u;var m=-1,y=[],_=r.length;for(i=me(i,3);++m<_;){var C=r[m];i(C,m,r)&&(u.push(C),y.push(m))}return rf(r,y),u}function wl(r){return r==null?r:qv.call(r)}function n_(r,i,u){var m=r==null?0:r.length;return m?(u&&typeof u!="number"&&Lt(r,i,u)?(i=0,u=m):(i=i==null?0:Re(i),u=u===n?m:Re(u)),un(r,i,u)):[]}function r_(r,i){return so(r,i)}function s_(r,i,u){return rl(r,i,me(u,2))}function i_(r,i){var u=r==null?0:r.length;if(u){var m=so(r,i);if(m<u&&bn(r[m],i))return m}return-1}function o_(r,i){return so(r,i,!0)}function a_(r,i,u){return rl(r,i,me(u,2),!0)}function l_(r,i){var u=r==null?0:r.length;if(u){var m=so(r,i,!0)-1;if(bn(r[m],i))return m}return-1}function c_(r){return r&&r.length?of(r):[]}function u_(r,i){return r&&r.length?of(r,me(i,2)):[]}function d_(r){var i=r==null?0:r.length;return i?un(r,1,i):[]}function f_(r,i,u){return r&&r.length?(i=u||i===n?1:Re(i),un(r,0,i<0?0:i)):[]}function h_(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Re(i),i=m-i,un(r,i<0?0:i,m)):[]}function p_(r,i){return r&&r.length?io(r,me(i,3),!1,!0):[]}function m_(r,i){return r&&r.length?io(r,me(i,3)):[]}var g_=ke(function(r){return dr(Ct(r,1,ct,!0))}),y_=ke(function(r){var i=dn(r);return ct(i)&&(i=n),dr(Ct(r,1,ct,!0),me(i,2))}),x_=ke(function(r){var i=dn(r);return i=typeof i=="function"?i:n,dr(Ct(r,1,ct,!0),n,i)});function v_(r){return r&&r.length?dr(r):[]}function w_(r,i){return r&&r.length?dr(r,me(i,2)):[]}function __(r,i){return i=typeof i=="function"?i:n,r&&r.length?dr(r,n,i):[]}function _l(r){if(!(r&&r.length))return[];var i=0;return r=or(r,function(u){if(ct(u))return i=mt(u.length,i),!0}),za(i,function(u){return Qe(r,La(u))})}function Gf(r,i){if(!(r&&r.length))return[];var u=_l(r);return i==null?u:Qe(u,function(m){return Kt(i,n,m)})}var b_=ke(function(r,i){return ct(r)?Vs(r,i):[]}),S_=ke(function(r){return il(or(r,ct))}),j_=ke(function(r){var i=dn(r);return ct(i)&&(i=n),il(or(r,ct),me(i,2))}),C_=ke(function(r){var i=dn(r);return i=typeof i=="function"?i:n,il(or(r,ct),n,i)}),T_=ke(_l);function R_(r,i){return uf(r||[],i||[],Ns)}function P_(r,i){return uf(r||[],i||[],Ws)}var A_=ke(function(r){var i=r.length,u=i>1?r[i-1]:n;return u=typeof u=="function"?(r.pop(),u):n,Gf(r,u)});function Kf(r){var i=w(r);return i.__chain__=!0,i}function E_(r,i){return i(r),r}function mo(r,i){return i(r)}var k_=Gn(function(r){var i=r.length,u=i?r[0]:0,m=this.__wrapped__,y=function(_){return Ga(_,r)};return i>1||this.__actions__.length||!(m instanceof Le)||!Kn(u)?this.thru(y):(m=m.slice(u,+u+(i?1:0)),m.__actions__.push({func:mo,args:[y],thisArg:n}),new ln(m,this.__chain__).thru(function(_){return i&&!_.length&&_.push(n),_}))});function D_(){return Kf(this)}function M_(){return new ln(this.value(),this.__chain__)}function I_(){this.__values__===n&&(this.__values__=ah(this.value()));var r=this.__index__>=this.__values__.length,i=r?n:this.__values__[this.__index__++];return{done:r,value:i}}function L_(){return this}function O_(r){for(var i,u=this;u instanceof Qi;){var m=Nf(u);m.__index__=0,m.__values__=n,i?y.__wrapped__=m:i=m;var y=m;u=u.__wrapped__}return y.__wrapped__=r,i}function F_(){var r=this.__wrapped__;if(r instanceof Le){var i=r;return this.__actions__.length&&(i=new Le(this)),i=i.reverse(),i.__actions__.push({func:mo,args:[wl],thisArg:n}),new ln(i,this.__chain__)}return this.thru(wl)}function z_(){return cf(this.__wrapped__,this.__actions__)}var $_=oo(function(r,i,u){We.call(r,u)?++r[u]:Wn(r,u,1)});function N_(r,i,u){var m=Ce(r)?_d:E0;return u&&Lt(r,i,u)&&(i=n),m(r,me(i,3))}function V_(r,i){var u=Ce(r)?or:Hd;return u(r,me(i,3))}var B_=wf(Vf),U_=wf(Bf);function W_(r,i){return Ct(go(r,i),1)}function H_(r,i){return Ct(go(r,i),re)}function G_(r,i,u){return u=u===n?1:Re(u),Ct(go(r,i),u)}function qf(r,i){var u=Ce(r)?on:ur;return u(r,me(i,3))}function Yf(r,i){var u=Ce(r)?dv:Wd;return u(r,me(i,3))}var K_=oo(function(r,i,u){We.call(r,u)?r[u].push(i):Wn(r,u,[i])});function q_(r,i,u,m){r=Vt(r)?r:cs(r),u=u&&!m?Re(u):0;var y=r.length;return u<0&&(u=mt(y+u,0)),_o(r)?u<=y&&r.indexOf(i,u)>-1:!!y&&Jr(r,i,u)>-1}var Y_=ke(function(r,i,u){var m=-1,y=typeof i=="function",_=Vt(r)?F(r.length):[];return ur(r,function(C){_[++m]=y?Kt(i,C,u):Bs(C,i,u)}),_}),X_=oo(function(r,i,u){Wn(r,u,i)});function go(r,i){var u=Ce(r)?Qe:Jd;return u(r,me(i,3))}function J_(r,i,u,m){return r==null?[]:(Ce(i)||(i=i==null?[]:[i]),u=m?n:u,Ce(u)||(u=u==null?[]:[u]),tf(r,i,u))}var Z_=oo(function(r,i,u){r[u?0:1].push(i)},function(){return[[],[]]});function Q_(r,i,u){var m=Ce(r)?Ma:Cd,y=arguments.length<3;return m(r,me(i,4),u,y,ur)}function eb(r,i,u){var m=Ce(r)?fv:Cd,y=arguments.length<3;return m(r,me(i,4),u,y,Wd)}function tb(r,i){var u=Ce(r)?or:Hd;return u(r,vo(me(i,3)))}function nb(r){var i=Ce(r)?Nd:q0;return i(r)}function rb(r,i,u){(u?Lt(r,i,u):i===n)?i=1:i=Re(i);var m=Ce(r)?C0:Y0;return m(r,i)}function sb(r){var i=Ce(r)?T0:J0;return i(r)}function ib(r){if(r==null)return 0;if(Vt(r))return _o(r)?Qr(r):r.length;var i=Et(r);return i==vt||i==pe?r.size:Za(r).length}function ob(r,i,u){var m=Ce(r)?Ia:Z0;return u&&Lt(r,i,u)&&(i=n),m(r,me(i,3))}var ab=ke(function(r,i){if(r==null)return[];var u=i.length;return u>1&&Lt(r,i[0],i[1])?i=[]:u>2&&Lt(i[0],i[1],i[2])&&(i=[i[0]]),tf(r,Ct(i,1),[])}),yo=Vv||function(){return jt.Date.now()};function lb(r,i){if(typeof i!="function")throw new an(c);return r=Re(r),function(){if(--r<1)return i.apply(this,arguments)}}function Xf(r,i,u){return i=u?n:i,i=r&&i==null?r.length:i,Hn(r,B,n,n,n,n,i)}function Jf(r,i){var u;if(typeof i!="function")throw new an(c);return r=Re(r),function(){return--r>0&&(u=i.apply(this,arguments)),r<=1&&(i=n),u}}var bl=ke(function(r,i,u){var m=E;if(u.length){var y=lr(u,as(bl));m|=R}return Hn(r,m,i,u,y)}),Zf=ke(function(r,i,u){var m=E|P;if(u.length){var y=lr(u,as(Zf));m|=R}return Hn(i,m,r,u,y)});function Qf(r,i,u){i=u?n:i;var m=Hn(r,D,n,n,n,n,n,i);return m.placeholder=Qf.placeholder,m}function eh(r,i,u){i=u?n:i;var m=Hn(r,j,n,n,n,n,n,i);return m.placeholder=eh.placeholder,m}function th(r,i,u){var m,y,_,C,k,L,W=0,H=!1,K=!1,te=!0;if(typeof r!="function")throw new an(c);i=fn(i)||0,tt(u)&&(H=!!u.leading,K="maxWait"in u,_=K?mt(fn(u.maxWait)||0,i):_,te="trailing"in u?!!u.trailing:te);function fe(ut){var Sn=m,Xn=y;return m=y=n,W=ut,C=r.apply(Xn,Sn),C}function ge(ut){return W=ut,k=Ks(Ie,i),H?fe(ut):C}function Ee(ut){var Sn=ut-L,Xn=ut-W,wh=i-Sn;return K?At(wh,_-Xn):wh}function ye(ut){var Sn=ut-L,Xn=ut-W;return L===n||Sn>=i||Sn<0||K&&Xn>=_}function Ie(){var ut=yo();if(ye(ut))return Oe(ut);k=Ks(Ie,Ee(ut))}function Oe(ut){return k=n,te&&m?fe(ut):(m=y=n,C)}function Jt(){k!==n&&df(k),W=0,m=L=y=k=n}function Ot(){return k===n?C:Oe(yo())}function Zt(){var ut=yo(),Sn=ye(ut);if(m=arguments,y=this,L=ut,Sn){if(k===n)return ge(L);if(K)return df(k),k=Ks(Ie,i),fe(L)}return k===n&&(k=Ks(Ie,i)),C}return Zt.cancel=Jt,Zt.flush=Ot,Zt}var cb=ke(function(r,i){return Ud(r,1,i)}),ub=ke(function(r,i,u){return Ud(r,fn(i)||0,u)});function db(r){return Hn(r,$)}function xo(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new an(c);var u=function(){var m=arguments,y=i?i.apply(this,m):m[0],_=u.cache;if(_.has(y))return _.get(y);var C=r.apply(this,m);return u.cache=_.set(y,C)||_,C};return u.cache=new(xo.Cache||Un),u}xo.Cache=Un;function vo(r){if(typeof r!="function")throw new an(c);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function fb(r){return Jf(2,r)}var hb=Q0(function(r,i){i=i.length==1&&Ce(i[0])?Qe(i[0],qt(me())):Qe(Ct(i,1),qt(me()));var u=i.length;return ke(function(m){for(var y=-1,_=At(m.length,u);++y<_;)m[y]=i[y].call(this,m[y]);return Kt(r,this,m)})}),Sl=ke(function(r,i){var u=lr(i,as(Sl));return Hn(r,R,n,i,u)}),nh=ke(function(r,i){var u=lr(i,as(nh));return Hn(r,O,n,i,u)}),pb=Gn(function(r,i){return Hn(r,z,n,n,n,i)});function mb(r,i){if(typeof r!="function")throw new an(c);return i=i===n?i:Re(i),ke(r,i)}function gb(r,i){if(typeof r!="function")throw new an(c);return i=i==null?0:mt(Re(i),0),ke(function(u){var m=u[i],y=hr(u,0,i);return m&&ar(y,m),Kt(r,this,y)})}function yb(r,i,u){var m=!0,y=!0;if(typeof r!="function")throw new an(c);return tt(u)&&(m="leading"in u?!!u.leading:m,y="trailing"in u?!!u.trailing:y),th(r,i,{leading:m,maxWait:i,trailing:y})}function xb(r){return Xf(r,1)}function vb(r,i){return Sl(al(i),r)}function wb(){if(!arguments.length)return[];var r=arguments[0];return Ce(r)?r:[r]}function _b(r){return cn(r,v)}function bb(r,i){return i=typeof i=="function"?i:n,cn(r,v,i)}function Sb(r){return cn(r,g|v)}function jb(r,i){return i=typeof i=="function"?i:n,cn(r,g|v,i)}function Cb(r,i){return i==null||Bd(r,i,_t(i))}function bn(r,i){return r===i||r!==r&&i!==i}var Tb=uo(Ya),Rb=uo(function(r,i){return r>=i}),kr=qd(function(){return arguments}())?qd:function(r){return it(r)&&We.call(r,"callee")&&!Id.call(r,"callee")},Ce=F.isArray,Pb=md?qt(md):O0;function Vt(r){return r!=null&&wo(r.length)&&!qn(r)}function ct(r){return it(r)&&Vt(r)}function Ab(r){return r===!0||r===!1||it(r)&&It(r)==U}var pr=Uv||Il,Eb=gd?qt(gd):F0;function kb(r){return it(r)&&r.nodeType===1&&!qs(r)}function Db(r){if(r==null)return!0;if(Vt(r)&&(Ce(r)||typeof r=="string"||typeof r.splice=="function"||pr(r)||ls(r)||kr(r)))return!r.length;var i=Et(r);if(i==vt||i==pe)return!r.size;if(Gs(r))return!Za(r).length;for(var u in r)if(We.call(r,u))return!1;return!0}function Mb(r,i){return Us(r,i)}function Ib(r,i,u){u=typeof u=="function"?u:n;var m=u?u(r,i):n;return m===n?Us(r,i,n,u):!!m}function jl(r){if(!it(r))return!1;var i=It(r);return i==yt||i==Ae||typeof r.message=="string"&&typeof r.name=="string"&&!qs(r)}function Lb(r){return typeof r=="number"&&Od(r)}function qn(r){if(!tt(r))return!1;var i=It(r);return i==xt||i==vn||i==gt||i==we}function rh(r){return typeof r=="number"&&r==Re(r)}function wo(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Z}function tt(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function it(r){return r!=null&&typeof r=="object"}var sh=yd?qt(yd):$0;function Ob(r,i){return r===i||Ja(r,i,pl(i))}function Fb(r,i,u){return u=typeof u=="function"?u:n,Ja(r,i,pl(i),u)}function zb(r){return ih(r)&&r!=+r}function $b(r){if(bw(r))throw new Se(l);return Yd(r)}function Nb(r){return r===null}function Vb(r){return r==null}function ih(r){return typeof r=="number"||it(r)&&It(r)==Nn}function qs(r){if(!it(r)||It(r)!=I)return!1;var i=Gi(r);if(i===null)return!0;var u=We.call(i,"constructor")&&i.constructor;return typeof u=="function"&&u instanceof u&&Bi.call(u)==Fv}var Cl=xd?qt(xd):N0;function Bb(r){return rh(r)&&r>=-Z&&r<=Z}var oh=vd?qt(vd):V0;function _o(r){return typeof r=="string"||!Ce(r)&&it(r)&&It(r)==Be}function Xt(r){return typeof r=="symbol"||it(r)&&It(r)==$e}var ls=wd?qt(wd):B0;function Ub(r){return r===n}function Wb(r){return it(r)&&Et(r)==rn}function Hb(r){return it(r)&&It(r)==wt}var Gb=uo(Qa),Kb=uo(function(r,i){return r<=i});function ah(r){if(!r)return[];if(Vt(r))return _o(r)?wn(r):Nt(r);if(Ls&&r[Ls])return Cv(r[Ls]());var i=Et(r),u=i==vt?Na:i==pe?$i:cs;return u(r)}function Yn(r){if(!r)return r===0?r:0;if(r=fn(r),r===re||r===-re){var i=r<0?-1:1;return i*q}return r===r?r:0}function Re(r){var i=Yn(r),u=i%1;return i===i?u?i-u:i:0}function lh(r){return r?Rr(Re(r),0,ce):0}function fn(r){if(typeof r=="number")return r;if(Xt(r))return Q;if(tt(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=tt(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=Td(r);var u=Px.test(r);return u||Ex.test(r)?lv(r.slice(2),u?2:8):Rx.test(r)?Q:+r}function ch(r){return Dn(r,Bt(r))}function qb(r){return r?Rr(Re(r),-Z,Z):r===0?r:0}function Ue(r){return r==null?"":Yt(r)}var Yb=is(function(r,i){if(Gs(i)||Vt(i)){Dn(i,_t(i),r);return}for(var u in i)We.call(i,u)&&Ns(r,u,i[u])}),uh=is(function(r,i){Dn(i,Bt(i),r)}),bo=is(function(r,i,u,m){Dn(i,Bt(i),r,m)}),Xb=is(function(r,i,u,m){Dn(i,_t(i),r,m)}),Jb=Gn(Ga);function Zb(r,i){var u=ss(r);return i==null?u:Vd(u,i)}var Qb=ke(function(r,i){r=qe(r);var u=-1,m=i.length,y=m>2?i[2]:n;for(y&&Lt(i[0],i[1],y)&&(m=1);++u<m;)for(var _=i[u],C=Bt(_),k=-1,L=C.length;++k<L;){var W=C[k],H=r[W];(H===n||bn(H,ts[W])&&!We.call(r,W))&&(r[W]=_[W])}return r}),eS=ke(function(r){return r.push(n,Rf),Kt(dh,n,r)});function tS(r,i){return bd(r,me(i,3),kn)}function nS(r,i){return bd(r,me(i,3),qa)}function rS(r,i){return r==null?r:Ka(r,me(i,3),Bt)}function sS(r,i){return r==null?r:Gd(r,me(i,3),Bt)}function iS(r,i){return r&&kn(r,me(i,3))}function oS(r,i){return r&&qa(r,me(i,3))}function aS(r){return r==null?[]:no(r,_t(r))}function lS(r){return r==null?[]:no(r,Bt(r))}function Tl(r,i,u){var m=r==null?n:Pr(r,i);return m===n?u:m}function cS(r,i){return r!=null&&Ef(r,i,D0)}function Rl(r,i){return r!=null&&Ef(r,i,M0)}var uS=bf(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=Ui.call(i)),r[i]=u},Al(Ut)),dS=bf(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=Ui.call(i)),We.call(r,i)?r[i].push(u):r[i]=[u]},me),fS=ke(Bs);function _t(r){return Vt(r)?$d(r):Za(r)}function Bt(r){return Vt(r)?$d(r,!0):U0(r)}function hS(r,i){var u={};return i=me(i,3),kn(r,function(m,y,_){Wn(u,i(m,y,_),m)}),u}function pS(r,i){var u={};return i=me(i,3),kn(r,function(m,y,_){Wn(u,y,i(m,y,_))}),u}var mS=is(function(r,i,u){ro(r,i,u)}),dh=is(function(r,i,u,m){ro(r,i,u,m)}),gS=Gn(function(r,i){var u={};if(r==null)return u;var m=!1;i=Qe(i,function(_){return _=fr(_,r),m||(m=_.length>1),_}),Dn(r,fl(r),u),m&&(u=cn(u,g|x|v,uw));for(var y=i.length;y--;)sl(u,i[y]);return u});function yS(r,i){return fh(r,vo(me(i)))}var xS=Gn(function(r,i){return r==null?{}:H0(r,i)});function fh(r,i){if(r==null)return{};var u=Qe(fl(r),function(m){return[m]});return i=me(i),nf(r,u,function(m,y){return i(m,y[0])})}function vS(r,i,u){i=fr(i,r);var m=-1,y=i.length;for(y||(y=1,r=n);++m<y;){var _=r==null?n:r[Mn(i[m])];_===n&&(m=y,_=u),r=qn(_)?_.call(r):_}return r}function wS(r,i,u){return r==null?r:Ws(r,i,u)}function _S(r,i,u,m){return m=typeof m=="function"?m:n,r==null?r:Ws(r,i,u,m)}var hh=Cf(_t),ph=Cf(Bt);function bS(r,i,u){var m=Ce(r),y=m||pr(r)||ls(r);if(i=me(i,4),u==null){var _=r&&r.constructor;y?u=m?new _:[]:tt(r)?u=qn(_)?ss(Gi(r)):{}:u={}}return(y?on:kn)(r,function(C,k,L){return i(u,C,k,L)}),u}function SS(r,i){return r==null?!0:sl(r,i)}function jS(r,i,u){return r==null?r:lf(r,i,al(u))}function CS(r,i,u,m){return m=typeof m=="function"?m:n,r==null?r:lf(r,i,al(u),m)}function cs(r){return r==null?[]:$a(r,_t(r))}function TS(r){return r==null?[]:$a(r,Bt(r))}function RS(r,i,u){return u===n&&(u=i,i=n),u!==n&&(u=fn(u),u=u===u?u:0),i!==n&&(i=fn(i),i=i===i?i:0),Rr(fn(r),i,u)}function PS(r,i,u){return i=Yn(i),u===n?(u=i,i=0):u=Yn(u),r=fn(r),I0(r,i,u)}function AS(r,i,u){if(u&&typeof u!="boolean"&&Lt(r,i,u)&&(i=u=n),u===n&&(typeof i=="boolean"?(u=i,i=n):typeof r=="boolean"&&(u=r,r=n)),r===n&&i===n?(r=0,i=1):(r=Yn(r),i===n?(i=r,r=0):i=Yn(i)),r>i){var m=r;r=i,i=m}if(u||r%1||i%1){var y=Fd();return At(r+y*(i-r+av("1e-"+((y+"").length-1))),i)}return tl(r,i)}var ES=os(function(r,i,u){return i=i.toLowerCase(),r+(u?mh(i):i)});function mh(r){return Pl(Ue(r).toLowerCase())}function gh(r){return r=Ue(r),r&&r.replace(Dx,wv).replace(Jx,"")}function kS(r,i,u){r=Ue(r),i=Yt(i);var m=r.length;u=u===n?m:Rr(Re(u),0,m);var y=u;return u-=i.length,u>=0&&r.slice(u,y)==i}function DS(r){return r=Ue(r),r&&fx.test(r)?r.replace(Gu,_v):r}function MS(r){return r=Ue(r),r&&xx.test(r)?r.replace(Sa,"\\$&"):r}var IS=os(function(r,i,u){return r+(u?"-":"")+i.toLowerCase()}),LS=os(function(r,i,u){return r+(u?" ":"")+i.toLowerCase()}),OS=vf("toLowerCase");function FS(r,i,u){r=Ue(r),i=Re(i);var m=i?Qr(r):0;if(!i||m>=i)return r;var y=(i-m)/2;return co(Xi(y),u)+r+co(Yi(y),u)}function zS(r,i,u){r=Ue(r),i=Re(i);var m=i?Qr(r):0;return i&&m<i?r+co(i-m,u):r}function $S(r,i,u){r=Ue(r),i=Re(i);var m=i?Qr(r):0;return i&&m<i?co(i-m,u)+r:r}function NS(r,i,u){return u||i==null?i=0:i&&(i=+i),Kv(Ue(r).replace(ja,""),i||0)}function VS(r,i,u){return(u?Lt(r,i,u):i===n)?i=1:i=Re(i),nl(Ue(r),i)}function BS(){var r=arguments,i=Ue(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var US=os(function(r,i,u){return r+(u?"_":"")+i.toLowerCase()});function WS(r,i,u){return u&&typeof u!="number"&&Lt(r,i,u)&&(i=u=n),u=u===n?ce:u>>>0,u?(r=Ue(r),r&&(typeof i=="string"||i!=null&&!Cl(i))&&(i=Yt(i),!i&&Zr(r))?hr(wn(r),0,u):r.split(i,u)):[]}var HS=os(function(r,i,u){return r+(u?" ":"")+Pl(i)});function GS(r,i,u){return r=Ue(r),u=u==null?0:Rr(Re(u),0,r.length),i=Yt(i),r.slice(u,u+i.length)==i}function KS(r,i,u){var m=w.templateSettings;u&&Lt(r,i,u)&&(i=n),r=Ue(r),i=bo({},i,m,Tf);var y=bo({},i.imports,m.imports,Tf),_=_t(y),C=$a(y,_),k,L,W=0,H=i.interpolate||Ii,K="__p += '",te=Va((i.escape||Ii).source+"|"+H.source+"|"+(H===Ku?Tx:Ii).source+"|"+(i.evaluate||Ii).source+"|$","g"),fe="//# sourceURL="+(We.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nv+"]")+`
`;r.replace(te,function(ye,Ie,Oe,Jt,Ot,Zt){return Oe||(Oe=Jt),K+=r.slice(W,Zt).replace(Mx,bv),Ie&&(k=!0,K+=`' +
__e(`+Ie+`) +
'`),Ot&&(L=!0,K+=`';
`+Ot+`;
__p += '`),Oe&&(K+=`' +
((__t = (`+Oe+`)) == null ? '' : __t) +
'`),W=Zt+ye.length,ye}),K+=`';
`;var ge=We.call(i,"variable")&&i.variable;if(!ge)K=`with (obj) {
`+K+`
}
`;else if(jx.test(ge))throw new Se(d);K=(L?K.replace(lx,""):K).replace(cx,"$1").replace(ux,"$1;"),K="function("+(ge||"obj")+`) {
`+(ge?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+K+`return __p
}`;var Ee=xh(function(){return Ne(_,fe+"return "+K).apply(n,C)});if(Ee.source=K,jl(Ee))throw Ee;return Ee}function qS(r){return Ue(r).toLowerCase()}function YS(r){return Ue(r).toUpperCase()}function XS(r,i,u){if(r=Ue(r),r&&(u||i===n))return Td(r);if(!r||!(i=Yt(i)))return r;var m=wn(r),y=wn(i),_=Rd(m,y),C=Pd(m,y)+1;return hr(m,_,C).join("")}function JS(r,i,u){if(r=Ue(r),r&&(u||i===n))return r.slice(0,Ed(r)+1);if(!r||!(i=Yt(i)))return r;var m=wn(r),y=Pd(m,wn(i))+1;return hr(m,0,y).join("")}function ZS(r,i,u){if(r=Ue(r),r&&(u||i===n))return r.replace(ja,"");if(!r||!(i=Yt(i)))return r;var m=wn(r),y=Rd(m,wn(i));return hr(m,y).join("")}function QS(r,i){var u=G,m=Y;if(tt(i)){var y="separator"in i?i.separator:y;u="length"in i?Re(i.length):u,m="omission"in i?Yt(i.omission):m}r=Ue(r);var _=r.length;if(Zr(r)){var C=wn(r);_=C.length}if(u>=_)return r;var k=u-Qr(m);if(k<1)return m;var L=C?hr(C,0,k).join(""):r.slice(0,k);if(y===n)return L+m;if(C&&(k+=L.length-k),Cl(y)){if(r.slice(k).search(y)){var W,H=L;for(y.global||(y=Va(y.source,Ue(qu.exec(y))+"g")),y.lastIndex=0;W=y.exec(H);)var K=W.index;L=L.slice(0,K===n?k:K)}}else if(r.indexOf(Yt(y),k)!=k){var te=L.lastIndexOf(y);te>-1&&(L=L.slice(0,te))}return L+m}function ej(r){return r=Ue(r),r&&dx.test(r)?r.replace(Hu,Av):r}var tj=os(function(r,i,u){return r+(u?" ":"")+i.toUpperCase()}),Pl=vf("toUpperCase");function yh(r,i,u){return r=Ue(r),i=u?n:i,i===n?jv(r)?Dv(r):mv(r):r.match(i)||[]}var xh=ke(function(r,i){try{return Kt(r,n,i)}catch(u){return jl(u)?u:new Se(u)}}),nj=Gn(function(r,i){return on(i,function(u){u=Mn(u),Wn(r,u,bl(r[u],r))}),r});function rj(r){var i=r==null?0:r.length,u=me();return r=i?Qe(r,function(m){if(typeof m[1]!="function")throw new an(c);return[u(m[0]),m[1]]}):[],ke(function(m){for(var y=-1;++y<i;){var _=r[y];if(Kt(_[0],this,m))return Kt(_[1],this,m)}})}function sj(r){return A0(cn(r,g))}function Al(r){return function(){return r}}function ij(r,i){return r==null||r!==r?i:r}var oj=_f(),aj=_f(!0);function Ut(r){return r}function El(r){return Xd(typeof r=="function"?r:cn(r,g))}function lj(r){return Zd(cn(r,g))}function cj(r,i){return Qd(r,cn(i,g))}var uj=ke(function(r,i){return function(u){return Bs(u,r,i)}}),dj=ke(function(r,i){return function(u){return Bs(r,u,i)}});function kl(r,i,u){var m=_t(i),y=no(i,m);u==null&&!(tt(i)&&(y.length||!m.length))&&(u=i,i=r,r=this,y=no(i,_t(i)));var _=!(tt(u)&&"chain"in u)||!!u.chain,C=qn(r);return on(y,function(k){var L=i[k];r[k]=L,C&&(r.prototype[k]=function(){var W=this.__chain__;if(_||W){var H=r(this.__wrapped__),K=H.__actions__=Nt(this.__actions__);return K.push({func:L,args:arguments,thisArg:r}),H.__chain__=W,H}return L.apply(r,ar([this.value()],arguments))})}),r}function fj(){return jt._===this&&(jt._=zv),this}function Dl(){}function hj(r){return r=Re(r),ke(function(i){return ef(i,r)})}var pj=cl(Qe),mj=cl(_d),gj=cl(Ia);function vh(r){return gl(r)?La(Mn(r)):G0(r)}function yj(r){return function(i){return r==null?n:Pr(r,i)}}var xj=Sf(),vj=Sf(!0);function Ml(){return[]}function Il(){return!1}function wj(){return{}}function _j(){return""}function bj(){return!0}function Sj(r,i){if(r=Re(r),r<1||r>Z)return[];var u=ce,m=At(r,ce);i=me(i),r-=ce;for(var y=za(m,i);++u<r;)i(u);return y}function jj(r){return Ce(r)?Qe(r,Mn):Xt(r)?[r]:Nt($f(Ue(r)))}function Cj(r){var i=++Ov;return Ue(r)+i}var Tj=lo(function(r,i){return r+i},0),Rj=ul("ceil"),Pj=lo(function(r,i){return r/i},1),Aj=ul("floor");function Ej(r){return r&&r.length?to(r,Ut,Ya):n}function kj(r,i){return r&&r.length?to(r,me(i,2),Ya):n}function Dj(r){return jd(r,Ut)}function Mj(r,i){return jd(r,me(i,2))}function Ij(r){return r&&r.length?to(r,Ut,Qa):n}function Lj(r,i){return r&&r.length?to(r,me(i,2),Qa):n}var Oj=lo(function(r,i){return r*i},1),Fj=ul("round"),zj=lo(function(r,i){return r-i},0);function $j(r){return r&&r.length?Fa(r,Ut):0}function Nj(r,i){return r&&r.length?Fa(r,me(i,2)):0}return w.after=lb,w.ary=Xf,w.assign=Yb,w.assignIn=uh,w.assignInWith=bo,w.assignWith=Xb,w.at=Jb,w.before=Jf,w.bind=bl,w.bindAll=nj,w.bindKey=Zf,w.castArray=wb,w.chain=Kf,w.chunk=Aw,w.compact=Ew,w.concat=kw,w.cond=rj,w.conforms=sj,w.constant=Al,w.countBy=$_,w.create=Zb,w.curry=Qf,w.curryRight=eh,w.debounce=th,w.defaults=Qb,w.defaultsDeep=eS,w.defer=cb,w.delay=ub,w.difference=Dw,w.differenceBy=Mw,w.differenceWith=Iw,w.drop=Lw,w.dropRight=Ow,w.dropRightWhile=Fw,w.dropWhile=zw,w.fill=$w,w.filter=V_,w.flatMap=W_,w.flatMapDeep=H_,w.flatMapDepth=G_,w.flatten=Uf,w.flattenDeep=Nw,w.flattenDepth=Vw,w.flip=db,w.flow=oj,w.flowRight=aj,w.fromPairs=Bw,w.functions=aS,w.functionsIn=lS,w.groupBy=K_,w.initial=Ww,w.intersection=Hw,w.intersectionBy=Gw,w.intersectionWith=Kw,w.invert=uS,w.invertBy=dS,w.invokeMap=Y_,w.iteratee=El,w.keyBy=X_,w.keys=_t,w.keysIn=Bt,w.map=go,w.mapKeys=hS,w.mapValues=pS,w.matches=lj,w.matchesProperty=cj,w.memoize=xo,w.merge=mS,w.mergeWith=dh,w.method=uj,w.methodOf=dj,w.mixin=kl,w.negate=vo,w.nthArg=hj,w.omit=gS,w.omitBy=yS,w.once=fb,w.orderBy=J_,w.over=pj,w.overArgs=hb,w.overEvery=mj,w.overSome=gj,w.partial=Sl,w.partialRight=nh,w.partition=Z_,w.pick=xS,w.pickBy=fh,w.property=vh,w.propertyOf=yj,w.pull=Jw,w.pullAll=Hf,w.pullAllBy=Zw,w.pullAllWith=Qw,w.pullAt=e_,w.range=xj,w.rangeRight=vj,w.rearg=pb,w.reject=tb,w.remove=t_,w.rest=mb,w.reverse=wl,w.sampleSize=rb,w.set=wS,w.setWith=_S,w.shuffle=sb,w.slice=n_,w.sortBy=ab,w.sortedUniq=c_,w.sortedUniqBy=u_,w.split=WS,w.spread=gb,w.tail=d_,w.take=f_,w.takeRight=h_,w.takeRightWhile=p_,w.takeWhile=m_,w.tap=E_,w.throttle=yb,w.thru=mo,w.toArray=ah,w.toPairs=hh,w.toPairsIn=ph,w.toPath=jj,w.toPlainObject=ch,w.transform=bS,w.unary=xb,w.union=g_,w.unionBy=y_,w.unionWith=x_,w.uniq=v_,w.uniqBy=w_,w.uniqWith=__,w.unset=SS,w.unzip=_l,w.unzipWith=Gf,w.update=jS,w.updateWith=CS,w.values=cs,w.valuesIn=TS,w.without=b_,w.words=yh,w.wrap=vb,w.xor=S_,w.xorBy=j_,w.xorWith=C_,w.zip=T_,w.zipObject=R_,w.zipObjectDeep=P_,w.zipWith=A_,w.entries=hh,w.entriesIn=ph,w.extend=uh,w.extendWith=bo,kl(w,w),w.add=Tj,w.attempt=xh,w.camelCase=ES,w.capitalize=mh,w.ceil=Rj,w.clamp=RS,w.clone=_b,w.cloneDeep=Sb,w.cloneDeepWith=jb,w.cloneWith=bb,w.conformsTo=Cb,w.deburr=gh,w.defaultTo=ij,w.divide=Pj,w.endsWith=kS,w.eq=bn,w.escape=DS,w.escapeRegExp=MS,w.every=N_,w.find=B_,w.findIndex=Vf,w.findKey=tS,w.findLast=U_,w.findLastIndex=Bf,w.findLastKey=nS,w.floor=Aj,w.forEach=qf,w.forEachRight=Yf,w.forIn=rS,w.forInRight=sS,w.forOwn=iS,w.forOwnRight=oS,w.get=Tl,w.gt=Tb,w.gte=Rb,w.has=cS,w.hasIn=Rl,w.head=Wf,w.identity=Ut,w.includes=q_,w.indexOf=Uw,w.inRange=PS,w.invoke=fS,w.isArguments=kr,w.isArray=Ce,w.isArrayBuffer=Pb,w.isArrayLike=Vt,w.isArrayLikeObject=ct,w.isBoolean=Ab,w.isBuffer=pr,w.isDate=Eb,w.isElement=kb,w.isEmpty=Db,w.isEqual=Mb,w.isEqualWith=Ib,w.isError=jl,w.isFinite=Lb,w.isFunction=qn,w.isInteger=rh,w.isLength=wo,w.isMap=sh,w.isMatch=Ob,w.isMatchWith=Fb,w.isNaN=zb,w.isNative=$b,w.isNil=Vb,w.isNull=Nb,w.isNumber=ih,w.isObject=tt,w.isObjectLike=it,w.isPlainObject=qs,w.isRegExp=Cl,w.isSafeInteger=Bb,w.isSet=oh,w.isString=_o,w.isSymbol=Xt,w.isTypedArray=ls,w.isUndefined=Ub,w.isWeakMap=Wb,w.isWeakSet=Hb,w.join=qw,w.kebabCase=IS,w.last=dn,w.lastIndexOf=Yw,w.lowerCase=LS,w.lowerFirst=OS,w.lt=Gb,w.lte=Kb,w.max=Ej,w.maxBy=kj,w.mean=Dj,w.meanBy=Mj,w.min=Ij,w.minBy=Lj,w.stubArray=Ml,w.stubFalse=Il,w.stubObject=wj,w.stubString=_j,w.stubTrue=bj,w.multiply=Oj,w.nth=Xw,w.noConflict=fj,w.noop=Dl,w.now=yo,w.pad=FS,w.padEnd=zS,w.padStart=$S,w.parseInt=NS,w.random=AS,w.reduce=Q_,w.reduceRight=eb,w.repeat=VS,w.replace=BS,w.result=vS,w.round=Fj,w.runInContext=M,w.sample=nb,w.size=ib,w.snakeCase=US,w.some=ob,w.sortedIndex=r_,w.sortedIndexBy=s_,w.sortedIndexOf=i_,w.sortedLastIndex=o_,w.sortedLastIndexBy=a_,w.sortedLastIndexOf=l_,w.startCase=HS,w.startsWith=GS,w.subtract=zj,w.sum=$j,w.sumBy=Nj,w.template=KS,w.times=Sj,w.toFinite=Yn,w.toInteger=Re,w.toLength=lh,w.toLower=qS,w.toNumber=fn,w.toSafeInteger=qb,w.toString=Ue,w.toUpper=YS,w.trim=XS,w.trimEnd=JS,w.trimStart=ZS,w.truncate=QS,w.unescape=ej,w.uniqueId=Cj,w.upperCase=tj,w.upperFirst=Pl,w.each=qf,w.eachRight=Yf,w.first=Wf,kl(w,function(){var r={};return kn(w,function(i,u){We.call(w.prototype,u)||(r[u]=i)}),r}(),{chain:!1}),w.VERSION=s,on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){w[r].placeholder=w}),on(["drop","take"],function(r,i){Le.prototype[r]=function(u){u=u===n?1:mt(Re(u),0);var m=this.__filtered__&&!i?new Le(this):this.clone();return m.__filtered__?m.__takeCount__=At(u,m.__takeCount__):m.__views__.push({size:At(u,ce),type:r+(m.__dir__<0?"Right":"")}),m},Le.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}}),on(["filter","map","takeWhile"],function(r,i){var u=i+1,m=u==ie||u==oe;Le.prototype[r]=function(y){var _=this.clone();return _.__iteratees__.push({iteratee:me(y,3),type:u}),_.__filtered__=_.__filtered__||m,_}}),on(["head","last"],function(r,i){var u="take"+(i?"Right":"");Le.prototype[r]=function(){return this[u](1).value()[0]}}),on(["initial","tail"],function(r,i){var u="drop"+(i?"":"Right");Le.prototype[r]=function(){return this.__filtered__?new Le(this):this[u](1)}}),Le.prototype.compact=function(){return this.filter(Ut)},Le.prototype.find=function(r){return this.filter(r).head()},Le.prototype.findLast=function(r){return this.reverse().find(r)},Le.prototype.invokeMap=ke(function(r,i){return typeof r=="function"?new Le(this):this.map(function(u){return Bs(u,r,i)})}),Le.prototype.reject=function(r){return this.filter(vo(me(r)))},Le.prototype.slice=function(r,i){r=Re(r);var u=this;return u.__filtered__&&(r>0||i<0)?new Le(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),i!==n&&(i=Re(i),u=i<0?u.dropRight(-i):u.take(i-r)),u)},Le.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Le.prototype.toArray=function(){return this.take(ce)},kn(Le.prototype,function(r,i){var u=/^(?:filter|find|map|reject)|While$/.test(i),m=/^(?:head|last)$/.test(i),y=w[m?"take"+(i=="last"?"Right":""):i],_=m||/^find/.test(i);y&&(w.prototype[i]=function(){var C=this.__wrapped__,k=m?[1]:arguments,L=C instanceof Le,W=k[0],H=L||Ce(C),K=function(Ie){var Oe=y.apply(w,ar([Ie],k));return m&&te?Oe[0]:Oe};H&&u&&typeof W=="function"&&W.length!=1&&(L=H=!1);var te=this.__chain__,fe=!!this.__actions__.length,ge=_&&!te,Ee=L&&!fe;if(!_&&H){C=Ee?C:new Le(this);var ye=r.apply(C,k);return ye.__actions__.push({func:mo,args:[K],thisArg:n}),new ln(ye,te)}return ge&&Ee?r.apply(this,k):(ye=this.thru(K),ge?m?ye.value()[0]:ye.value():ye)})}),on(["pop","push","shift","sort","splice","unshift"],function(r){var i=Ni[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",m=/^(?:pop|shift)$/.test(r);w.prototype[r]=function(){var y=arguments;if(m&&!this.__chain__){var _=this.value();return i.apply(Ce(_)?_:[],y)}return this[u](function(C){return i.apply(Ce(C)?C:[],y)})}}),kn(Le.prototype,function(r,i){var u=w[i];if(u){var m=u.name+"";We.call(rs,m)||(rs[m]=[]),rs[m].push({name:i,func:u})}}),rs[ao(n,P).name]=[{name:"wrapper",func:n}],Le.prototype.clone=e0,Le.prototype.reverse=t0,Le.prototype.value=n0,w.prototype.at=k_,w.prototype.chain=D_,w.prototype.commit=M_,w.prototype.next=I_,w.prototype.plant=O_,w.prototype.reverse=F_,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=z_,w.prototype.first=w.prototype.head,Ls&&(w.prototype[Ls]=L_),w},es=Mv();Sr?((Sr.exports=es)._=es,Ea._=es):jt._=es}).call(gs)})(Ko,Ko.exports);var tm=Ko.exports;const nm=(e,t)=>{const n=Math.round(e/100)*100,s=Math.round(t/100)*100;return`${n}x${s}`};function $k(e,t){const[n,s]=b.useState(t),[o,l]=b.useState({width:window.innerWidth,height:window.innerHeight});b.useEffect(()=>{c()},[o,e]),b.useEffect(()=>{const p=tm.debounce(()=>{l({width:window.innerWidth,height:window.innerHeight})},300);return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),p.cancel()}},[]);const c=async()=>{try{const p=nm(o.width,o.height),g=await fetch(`/api/config/column-widths?table=${e}&size=${p}`);if(g.ok){const x=await g.json();x.widths&&s({...t,...x.widths})}}catch(p){console.warn("Failed to load column width preferences:",p)}},d=b.useCallback(tm.debounce(async p=>{try{const g=nm(o.width,o.height);await fetch("/api/config/column-widths",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({table:e,size:g,widths:p,window_width:o.width,window_height:o.height})})}catch(g){console.warn("Failed to save column width preferences:",g)}},1e3),[e,o]),f=b.useCallback((p,g)=>{s(x=>{const v={...x,[p]:g};return d(v),v})},[d]),h=b.useCallback(()=>{s(t),d(t)},[t,d]);return{columnWidths:n,setColumnWidth:f,resetWidths:h}}const Nk={title:{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},fontSize:36,fontWeight:700,marginBottom:8,lineHeight:1.2},subtitle:{fontSize:15,color:"#8c8c8c",fontWeight:400},statCards:{total:{gradientColors:["#434343","#000000"],delay:0,pulse:!1},running:{gradientColors:["#1890ff","#096dd9"],delay:.1},finished:{gradientColors:["#52c41a","#389e0d"],delay:.2,pulse:!1},failed:{gradientColors:["#ff4d4f","#cf1322"],delay:.3,pulse:!1}},filterCard:{animation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5}},borderRadius:16,background:"rgba(255,255,255,0.7)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.3)",boxShadow:"0 4px 20px rgba(0,0,0,0.06)",padding:20},tableContainer:{animation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6}},borderRadius:16,boxShadow:"0 4px 20px rgba(0,0,0,0.06)"}},Vk={statusLight:{size:12,colors:{online:"#52c41a",offline:"#ff4d4f",connecting:"#faad14"},pulseAnimation:{boxShadow:["0 0 0 0 rgba(82, 196, 26, 0.7)","0 0 0 10px rgba(82, 196, 26, 0)"],transition:{duration:1.5,ease:"easeOut"}}}},Bk={fancyStatCard:{entrance:{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.25,.1,.25,1]}},hover:{y:-6,scale:1.03,transition:{duration:.2}},tap:{scale:.98},pulse:{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,ease:"easeInOut"}},shimmer:{animate:{left:["100%","200%"]},transition:{duration:2.5,repeatDelay:5,ease:"linear"}},style:{borderRadius:16,minHeight:140,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",iconSize:140,iconOpacity:.12,iconPosition:{right:-30,top:-30},titleFontSize:14,titleFontWeight:500,titleLetterSpacing:"0.5px",titleColor:"rgba(255,255,255,0.95)",titleMarginBottom:12,valueFontSize:40,valueFontWeight:700,valueColor:"#fff",valueTextShadow:"0 2px 8px rgba(0,0,0,0.15)"}},statusBadge:{entrance:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20}},pulse:{boxShadow:["0 0 0 0 rgba(22, 119, 255, 0.4)","0 0 0 8px rgba(22, 119, 255, 0)"],transition:{duration:1.5,ease:"easeOut"}},style:{fontSize:13,padding:"6px 16px",borderRadius:16,fontWeight:500},statuses:{running:{gradientColors:["#1677ff","#4096ff"],pulse:!0},finished:{gradientColors:["#52c41a","#73d13d"],pulse:!1},failed:{gradientColors:["#ff4d4f","#ff7875"],pulse:!1},interrupted:{gradientColors:["#faad14","#ffc53d"],pulse:!1}}},emptyState:{animation:{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5}},illustrationFloat:{animate:{y:[0,-8,0]},transition:{duration:3,ease:"easeInOut"}},svg:{width:200,height:200,circleStroke:"#91caff",circleStrokeWidth:2,circleDashArray:"10 5",circleRadius:80,circleRotationDuration:30,dotCount:6,dotRadius:2,dotFill:"#1677ff",dotOpacity:.4,dotFloatDistance:-8,dotFloatDuration:1.5,dotStaggerDelay:.15},style:{padding:"80px 40px",maxWidth:500,titleFontSize:24,titleFontWeight:600,titleColor:"#262626",titleMarginTop:32,titleMarginBottom:12,titleLineHeight:1.3,descriptionFontSize:15,descriptionColor:"#8c8c8c",descriptionLineHeight:1.6,descriptionMarginBottom:32,descriptionMaxWidth:400,buttonHeight:48,buttonPadding:"0 32px",buttonFontSize:15,buttonFontWeight:500,buttonBorderRadius:8,buttonShadow:"0 4px 16px rgba(22, 119, 255, 0.3)",buttonGradient:["#667eea","#764ba2"]},buttonHover:{scale:1.05},buttonTap:{scale:.95}}},Uk={gradients:{primary:["#667eea","#764ba2"],success:["#56ab2f","#a8e063"],warning:["#f12711","#f5af19"],info:["#4facfe","#00f2fe"]}},Fe=Nk,Wu=Bk,Fr=Uk,Pn=({title:e,value:t,icon:n,gradientColors:[s,o],delay:l=0,pulse:c=!1,onClick:d,formattedValue:f,subtitle:h})=>{const p=Wu.fancyStatCard,g=Dy(0),x=tE(g,S=>Math.floor(S).toLocaleString());b.useEffect(()=>_E(g,t,{duration:.5,ease:[0,.2,.5,1]}).stop,[t,g]);const v={...p.entrance.transition,delay:l};return a.jsx(nt.div,{initial:p.entrance.initial,animate:p.entrance.animate,transition:v,whileHover:p.hover,whileTap:d?p.tap:{},onClick:d,style:{cursor:d?"pointer":"default",height:"100%"},children:a.jsxs(le,{bordered:!1,style:{background:`linear-gradient(135deg, ${s}, ${o})`,borderRadius:p.style.borderRadius,overflow:"hidden",position:"relative",height:"100%",minHeight:p.style.minHeight,boxShadow:p.style.boxShadow},bodyStyle:{padding:24,position:"relative",zIndex:1},children:[a.jsx("div",{style:{position:"absolute",right:p.style.iconPosition.right,top:p.style.iconPosition.top,fontSize:p.style.iconSize,opacity:p.style.iconOpacity,color:"#fff",pointerEvents:"none"},children:n}),c&&a.jsx(nt.div,{style:{position:"absolute",top:"-50%",right:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%)",pointerEvents:"none"},animate:p.pulse.animate,transition:{...p.pulse.transition,repeat:1/0}}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{color:p.style.titleColor,fontSize:p.style.titleFontSize,fontWeight:p.style.titleFontWeight,marginBottom:p.style.titleMarginBottom,letterSpacing:p.style.titleLetterSpacing},children:e}),a.jsx("div",{style:{color:p.style.valueColor,fontSize:p.style.valueFontSize,fontWeight:p.style.valueFontWeight,lineHeight:1,fontVariantNumeric:"tabular-nums",textShadow:p.style.valueTextShadow},children:f!==void 0?a.jsx("span",{children:f}):a.jsx(nt.span,{children:x})}),h&&a.jsx("div",{style:{color:"rgba(255, 255, 255, 0.85)",fontSize:12,marginTop:8,fontWeight:400},children:h})]}),a.jsx(nt.div,{style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)",pointerEvents:"none"},animate:p.shimmer.animate,transition:{...p.shimmer.transition,repeat:1/0}})]})})},Wk=({title:e,description:t,actionText:n,onAction:s,type:o="no-data"})=>{const l=Wu.emptyState,c=l.svg,d=l.style,f=()=>a.jsxs("svg",{width:c.width,height:c.height,viewBox:"0 0 200 200",fill:"none",children:[a.jsx(nt.circle,{cx:"100",cy:"100",r:c.circleRadius,stroke:c.circleStroke,strokeWidth:c.circleStrokeWidth,strokeDasharray:c.circleDashArray,fill:"none",initial:{rotate:0},animate:{rotate:360},transition:{duration:c.circleRotationDuration,repeat:1/0,ease:"linear"}}),a.jsxs(nt.g,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},children:[a.jsx("rect",{x:"70",y:"85",width:"60",height:"45",rx:"4",fill:"#91caff",opacity:"0.8"}),a.jsx("path",{d:"M70 85 L70 80 Q70 75 75 75 L95 75 L100 80 L125 80 Q130 80 130 85 Z",fill:"#69b1ff"}),a.jsxs(nt.g,{animate:{x:[0,3,0],y:[0,-3,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[a.jsx("circle",{cx:"125",cy:"125",r:"12",fill:"none",stroke:"#1677ff",strokeWidth:"2.5"}),a.jsx("line",{x1:"133",y1:"133",x2:"143",y2:"143",stroke:"#1677ff",strokeWidth:"2.5",strokeLinecap:"round"})]})]}),[...Array(c.dotCount)].map((h,p)=>a.jsx(nt.circle,{cx:60+p*20,cy:40,r:c.dotRadius,fill:c.dotFill,opacity:c.dotOpacity,animate:{y:[0,c.dotFloatDistance,0],opacity:[c.dotOpacity,c.dotOpacity*2,c.dotOpacity]},transition:{duration:c.dotFloatDuration,repeat:1/0,delay:p*c.dotStaggerDelay,ease:"easeInOut"}},p))]});return a.jsxs(nt.div,{initial:l.animation.initial,animate:l.animation.animate,transition:l.animation.transition,style:{padding:d.padding,textAlign:"center",maxWidth:d.maxWidth,margin:"0 auto"},children:[a.jsx(nt.div,{animate:l.illustrationFloat.animate,transition:{...l.illustrationFloat.transition,repeat:1/0},children:a.jsx(f,{})}),a.jsx("h2",{style:{marginTop:d.titleMarginTop,marginBottom:d.titleMarginBottom,fontSize:d.titleFontSize,fontWeight:d.titleFontWeight,color:d.titleColor,lineHeight:d.titleLineHeight},children:e}),a.jsx("p",{style:{color:d.descriptionColor,fontSize:d.descriptionFontSize,lineHeight:d.descriptionLineHeight,marginBottom:d.descriptionMarginBottom,maxWidth:d.descriptionMaxWidth,margin:`0 auto ${d.descriptionMarginBottom}px`},children:t}),n&&s&&a.jsx(nt.div,{whileHover:l.buttonHover,whileTap:l.buttonTap,children:a.jsx(he,{type:"primary",size:"large",icon:a.jsx(di,{}),onClick:s,style:{borderRadius:d.buttonBorderRadius,height:d.buttonHeight,padding:d.buttonPadding,fontSize:d.buttonFontSize,fontWeight:d.buttonFontWeight,boxShadow:d.buttonShadow,background:`linear-gradient(135deg, ${d.buttonGradient[0]}, ${d.buttonGradient[1]})`,border:"none"},children:n})})]})},rm={running:a.jsx(Jc,{spin:!0}),finished:a.jsx(wr,{}),failed:a.jsx(Vr,{}),interrupted:a.jsx(ta,{})},Hk=({status:e})=>{const t=e.toLowerCase(),n=Wu.statusBadge,s=n.statuses[t]||n.statuses.interrupted,o=rm[t]||rm.interrupted;return a.jsx(nt.div,{initial:n.entrance.initial,animate:n.entrance.animate,transition:n.entrance.transition,style:{display:"inline-block"},children:a.jsx(nt.div,{animate:s.pulse?{boxShadow:n.pulse.boxShadow}:{},transition:{...n.pulse.transition,repeat:s.pulse?1/0:0},style:{display:"inline-block",borderRadius:n.style.borderRadius},children:a.jsx(Te,{icon:o,style:{fontSize:n.style.fontSize,padding:n.style.padding,borderRadius:n.style.borderRadius,fontWeight:n.style.fontWeight,background:`linear-gradient(135deg, ${s.gradientColors[0]}, ${s.gradientColors[1]})`,border:"none",color:"#fff",margin:0},children:e.charAt(0).toUpperCase()+e.slice(1)})})})},Gk=()=>{const[e,t]=b.useState(!1),n=()=>{t(!0),setTimeout(()=>t(!1),2e3)},s=e?a.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:9999},children:[[...Array(20)].map((o,l)=>{const c=["#1677ff","#52c41a","#faad14","#ff4d4f","#13c2c2"],d=typeof window<"u"?window.innerWidth/2:500,f=typeof window<"u"?window.innerHeight/2:300,h=l/20*2*Math.PI,p=200+Math.random()*200,g=d+Math.cos(h)*p,x=f+Math.sin(h)*p-200;return a.jsx(nt.div,{style:{position:"absolute",left:d,top:f,width:8+Math.random()*8,height:8+Math.random()*8,background:c[l%c.length],borderRadius:"50%"},initial:{x:0,y:0,opacity:1,scale:0},animate:{x:g-d,y:x-f,opacity:[1,1,0],scale:[0,1,.5],rotate:Math.random()*720},transition:{duration:1.5,ease:[.25,.1,.25,1]}},l)}),a.jsx(nt.div,{style:{position:"absolute",left:"50%",top:"50%",width:100,height:100,marginLeft:-50,marginTop:-50,borderRadius:"50%",background:"radial-gradient(circle, rgba(82, 196, 26, 0.4), transparent)"},initial:{scale:0,opacity:1},animate:{scale:3,opacity:0},transition:{duration:.6,ease:"easeOut"}})]}):null;return{trigger:n,ConfettiComponent:s}},Kk={initial:{opacity:0,y:24,scale:.96},animate:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.1,.25,1],when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-24,scale:.96,transition:{duration:.3,ease:[.25,.1,.25,1]}}},qk=({children:e})=>{const t=Am();return a.jsx(TR,{mode:"wait",children:a.jsx(nt.div,{variants:Kk,initial:"initial",animate:"animate",exit:"exit",children:e},t.pathname)})},Yk=({children:e,staggerDelay:t=.08})=>a.jsx(nt.div,{variants:{animate:{transition:{staggerChildren:t}}},initial:"initial",animate:"animate",children:e}),Eo=({children:e})=>a.jsx(nt.div,{variants:{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},children:e}),jn=e=>{if(e==null)return"";const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t},Xk=()=>{const{t:e,i18n:t}=He(),n=ji(),{settings:s,setSettings:o}=Ti(),[l,c]=b.useState([]),[d,f]=b.useState(!1),[h,p]=b.useState([]),[g,x]=b.useState(""),[v,S]=b.useState("all"),[T,E]=b.useState("all"),[P,A]=b.useState([]),[D,j]=b.useState({total:0,running:0,finished:0,failed:0}),[R,O]=b.useState(null),B=s.autoRefresh,z=I=>{o({...s,autoRefresh:I})},$={project:120,name:100,run_id:280,status:100,created:210,best_metric:200,artifacts_created:120,actions:120},{columnWidths:G,setColumnWidth:Y}=$k("experiments",$),[se,X]=b.useState({}),[ie,ue]=b.useState(10),[oe,re]=b.useState(!1),[Z,q]=b.useState(!1),[Q,ce]=b.useState(!1),xe=b.useCallback(I=>(J,{size:we})=>{Y(I,we.width)},[Y]),[Ge,Ke]=b.useState(!1),{trigger:Ve,ConfettiComponent:ht}=Gk();b.useEffect(()=>{const I=localStorage.getItem("experiment_preferences");if(I)try{const J=JSON.parse(I);J.pageSize&&ue(J.pageSize)}catch{}},[]);const gt=b.useCallback(()=>{localStorage.setItem("experiment_preferences",JSON.stringify({pageSize:ie}))},[ie]);b.useEffect(()=>{gt()},[gt]);const U=b.useCallback(async(I=!0)=>{I&&f(!0);try{const J=await fetch("/api/runs");if(!J.ok)throw new Error(`HTTP ${J.status}: ${J.statusText}`);const we=await J.json(),ze=Array.isArray(we)?we:we.runs||[],pe=ze.map(Me=>{const rn=Me.created_time?new Date(Me.created_time*1e3):new Date;return{run_id:Me.id||Me.run_id,project:Me.project||"default",name:Me.name||"unnamed",status:Me.status||"unknown",created:rn.toISOString(),summary:Me.summary||{},pid:Me.pid,best_metric_value:Me.best_metric_value,best_metric_name:Me.best_metric_name,artifacts_created_count:Me.artifacts_created_count||0,artifacts_used_count:Me.artifacts_used_count||0}});c(pe);const Be=[...new Set(pe.map(Me=>Me.project))];A(Be);const $e={total:pe.length,running:pe.filter(Me=>Me.status==="running").length,finished:pe.filter(Me=>Me.status==="finished").length,failed:pe.filter(Me=>Me.status==="failed").length};j($e),!I&&pe.length>ze.length&&Xj.info({message:e("experiments.new_runs")||"New runs detected",description:`${pe.length-ze.length} new run(s) added`,placement:"bottomRight"})}catch{I&&ee.error(e("experiments.fetch_failed")||"Failed to fetch runs")}I&&f(!1)},[l.length,e]);b.useEffect(()=>{U(!0)},[]),b.useEffect(()=>{if(B){const I=window.setInterval(()=>{U(!1)},s.refreshInterval*1e3);O(I)}else R&&(window.clearInterval(R),O(null));return()=>{R&&window.clearInterval(R)}},[B,s.refreshInterval]);const de=b.useCallback(()=>{if(h.length===0){ee.warning(e("experiments.select_one_delete")||"Please select at least one run to delete");return}Rn.confirm({title:e("experiments.move_to_bin_title")||"Move to Recycle Bin",content:a.jsxs("div",{children:[a.jsx("p",{children:e("experiments.soft_delete_confirm_content",{count:h.length})||`Move ${h.length} selected runs to recycle bin?`}),a.jsx("p",{style:{color:"#1677ff",fontWeight:500},children:e("experiments.soft_delete_note")||"Files will be preserved and can be restored later."})]}),okText:e("experiments.move_to_bin")||"Move to Bin",okType:"primary",cancelText:e("experiments.cancel")||"Cancel",okButtonProps:{loading:oe},onOk:async()=>{re(!0);try{const I=await z1(h);p([]),I.deleted_count>0?(Ve(),ee.success(e("experiments.soft_delete_success",{count:I.deleted_count})||`Moved ${I.deleted_count} runs to recycle bin`),await U(!1)):ee.warning("No runs were moved to recycle bin")}catch{ee.error(e("experiments.delete_failed")||"Failed to move runs to recycle bin")}finally{re(!1)}}})},[h,e,oe,U]),Ae=async()=>{if(h.length===0){ee.warning(e("experiments.select_one")||"Please select at least one run to export");return}const I=l.filter(J=>h.includes(J.run_id));try{const J={export_time:new Date().toISOString(),total_runs:I.length,runs:I.map($e=>({run_id:$e.run_id,project:$e.project,name:$e.name,status:$e.status,created:$e.created,summary:$e.summary}))},we=JSON.stringify(J,null,2),ze=new Blob([we],{type:"application/json"}),pe=URL.createObjectURL(ze),Be=document.createElement("a");Be.href=pe,Be.download=`runicorn_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),URL.revokeObjectURL(pe),ee.success(e("experiments.export_success",{count:I.length})||`Successfully exported ${I.length} runs`)}catch{ee.error(e("experiments.export_failed")||"Failed to export runs")}},yt=async()=>{ce(!0);try{const I=await F1();I.updated>0?(ee.success(`Updated ${I.updated} experiment statuses`),U(!1)):ee.info("All experiment statuses are up to date")}catch{ee.error("Failed to check experiment statuses")}finally{ce(!1)}},xt=async()=>{if(h.length===0){ee.warning(e("experiments.select_one")||"Please select at least one run to export");return}q(!0);const I=l.filter(J=>h.includes(J.run_id));try{const J=["Run ID","Project","Experiment Name","Status","Created Time","Final Loss","Learning Rate","Batch Size","Epochs","Best Metric Value","Best Metric Name"],we=I.map(wt=>{var ir,Vn,Gr,Kr,qr,Yr;return[jn(wt.run_id),jn(wt.project),jn(wt.name),jn(wt.status),jn(new Date(wt.created).toLocaleString()),jn(((Vn=(ir=wt.summary)==null?void 0:ir.final_loss)==null?void 0:Vn.toFixed(6))||""),jn(((Gr=wt.summary)==null?void 0:Gr.learning_rate)||""),jn(((Kr=wt.summary)==null?void 0:Kr.batch_size)||""),jn(((qr=wt.summary)==null?void 0:qr.total_epochs)||""),jn(((Yr=wt.best_metric_value)==null?void 0:Yr.toFixed(4))||""),jn(wt.best_metric_name||"")]}),pe="\uFEFF"+[J.join(","),...we.map(wt=>wt.join(","))].join(`
`),Be=new Blob([pe],{type:"text/csv;charset=utf-8;"}),$e=URL.createObjectURL(Be),Me=document.createElement("a");Me.href=$e;const rn=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);Me.download=`runicorn_experiments_${rn}.csv`,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL($e),ee.success(e("experiments.export_success",{count:I.length})||`Successfully exported ${I.length} runs`)}catch{ee.error(e("experiments.export_failed")||"Failed to export runs")}finally{q(!1)}},vn=[{key:"json",icon:a.jsx(Jj,{}),label:e("experiments.export_json")||"Export as JSON",onClick:Ae},{key:"csv",icon:a.jsx(Zj,{}),label:e("experiments.export_csv")||"Export as CSV",onClick:xt}],vt=()=>{if(h.length<2){ee.warning(e("experiments.select_multiple")||"Please select at least 2 runs to compare");return}const I=h[0];n(`/runs/${I}`),ee.info(e("experiments.compare_hint")||"Use the comparison feature in the run detail page")},Nn=b.useMemo(()=>l.filter(I=>{var Be;const J=g.toLowerCase(),we=g===""||I.run_id.toLowerCase().includes(J)||I.name.toLowerCase().includes(J)||I.project.toLowerCase().includes(J)||((Be=I.summary)==null?void 0:Be.tags)&&I.summary.tags.some($e=>$e.toLowerCase().includes(J)),ze=v==="all"||I.project===v,pe=T==="all"||I.status===T;return we&&ze&&pe}),[l,g,v,T]),Hr=b.useMemo(()=>[{title:e("table.project"),dataIndex:"project",key:"project",sorter:(I,J)=>I.project.localeCompare(J.project),render:I=>a.jsx(Te,{color:"blue",children:I}),width:G.project,onHeaderCell:()=>({width:G.project,onResize:xe("project")})},{title:e("table.name"),dataIndex:"name",key:"name",width:G.name,sorter:(I,J)=>I.name.localeCompare(J.name),render:(I,J)=>a.jsx(Je,{title:`${J.project}/${I}`,children:a.jsx("strong",{children:I})}),onHeaderCell:()=>({width:G.name,onResize:xe("name")})},{title:e("table.run_id"),dataIndex:"run_id",key:"run_id",width:G.run_id,render:I=>a.jsx("code",{style:{fontSize:"11px",wordBreak:"break-all"},children:I}),onHeaderCell:()=>({width:G.run_id,onResize:xe("run_id")})},{title:e("table.status"),dataIndex:"status",key:"status",width:G.status,sorter:(I,J)=>I.status.localeCompare(J.status),onHeaderCell:()=>({width:G.status,onResize:xe("status")}),render:(I,J)=>a.jsx(Hk,{status:I})},{title:e("table.created"),dataIndex:"created",key:"created",width:G.created,sorter:(I,J)=>new Date(I.created).getTime()-new Date(J.created).getTime(),render:I=>{const J=new Date(I),we=t.language==="zh"?"zh-CN":"en-US";return a.jsx("span",{style:{fontSize:"13px",whiteSpace:"nowrap"},children:J.toLocaleString(we,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})},onHeaderCell:()=>({width:G.created,onResize:xe("created")})},{title:e("experiments.best_metric")||"Best Metric",key:"best_metric",width:G.best_metric,onHeaderCell:()=>({width:G.best_metric,onResize:xe("best_metric")}),render:(I,J)=>{const we=J.best_metric_value,ze=J.best_metric_name;return we!=null&&ze?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("span",{style:{fontSize:"13px",color:"#666",fontWeight:500},children:ze}),a.jsx("span",{style:{fontSize:"16px",fontWeight:700,color:"#1677ff"},children:we.toFixed(4)})]}):"-"}},{title:e("experiments.artifacts_created")||"Artifacts",key:"artifacts_created",width:G.artifacts_created,onHeaderCell:()=>({width:G.artifacts_created,onResize:xe("artifacts_created")}),render:(I,J)=>{const we=J.artifacts_created_count||0;return we===0?a.jsx("span",{style:{color:"#999"},children:"-"}):a.jsx(Je,{title:e("experiments.artifacts_created_tip",{count:we}),children:a.jsx($o,{count:we,style:{backgroundColor:"#52c41a"}})})}},{title:e("table.actions"),key:"actions",width:G.actions,onHeaderCell:()=>({width:G.actions,onResize:xe("actions")}),render:(I,J)=>a.jsxs(N,{size:"small",children:[a.jsx(Je,{title:e("table.view"),children:a.jsx(he,{type:"link",icon:a.jsx(Zc,{}),onClick:()=>n(`/runs/${J.run_id}`)})}),a.jsx(Je,{title:e("experiments.delete")||"Delete",children:a.jsx(he,{type:"link",danger:!0,icon:a.jsx(hi,{}),onClick:()=>{p([J.run_id]),de()}})})]})}],[e,n,G,xe,de]);return d&&l.length===0?a.jsx(bC,{}):a.jsxs(a.Fragment,{children:[ht,a.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:24},children:[a.jsxs(nt.div,{initial:Fe.title.initial,animate:Fe.title.animate,transition:Fe.title.transition,style:{marginBottom:36},children:[a.jsx("h1",{style:{fontSize:Fe.title.fontSize,fontWeight:Fe.title.fontWeight,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:Fe.title.marginBottom,lineHeight:Fe.title.lineHeight},children:e("menu.experiments")}),a.jsx("p",{style:{color:Fe.subtitle.color,fontSize:Fe.subtitle.fontSize,margin:0,fontWeight:Fe.subtitle.fontWeight},children:e("experiments.subtitle")})]}),a.jsx(Yk,{children:a.jsxs(Pt,{gutter:[16,16],style:{marginBottom:32},children:[a.jsx(De,{xs:24,sm:12,lg:6,children:a.jsx(Eo,{children:a.jsx(Pn,{title:e("experiments.total_runs")||"Total Runs",value:D.total,icon:a.jsx(qc,{}),gradientColors:Fe.statCards.total.gradientColors,delay:Fe.statCards.total.delay,pulse:Fe.statCards.total.pulse})})}),a.jsx(De,{xs:24,sm:12,lg:6,children:a.jsx(Eo,{children:a.jsx(Pn,{title:e("experiments.running")||"Running",value:D.running,icon:a.jsx(Dt,{}),gradientColors:Fe.statCards.running.gradientColors,delay:Fe.statCards.running.delay,pulse:D.running>0})})}),a.jsx(De,{xs:24,sm:12,lg:6,children:a.jsx(Eo,{children:a.jsx(Pn,{title:e("experiments.finished")||"Finished",value:D.finished,icon:a.jsx(wr,{}),gradientColors:Fe.statCards.finished.gradientColors,delay:Fe.statCards.finished.delay,pulse:Fe.statCards.finished.pulse})})}),a.jsx(De,{xs:24,sm:12,lg:6,children:a.jsx(Eo,{children:a.jsx(Pn,{title:e("experiments.failed")||"Failed",value:D.failed,icon:a.jsx(Vr,{}),gradientColors:Fe.statCards.failed.gradientColors,delay:Fe.statCards.failed.delay,pulse:Fe.statCards.failed.pulse})})})]})}),a.jsx(nt.div,{initial:Fe.filterCard.animation.initial,animate:Fe.filterCard.animation.animate,transition:Fe.filterCard.animation.transition,children:a.jsx(le,{bordered:!1,style:{borderRadius:Fe.filterCard.borderRadius,marginBottom:20,background:Fe.filterCard.background,backdropFilter:Fe.filterCard.backdropFilter,border:Fe.filterCard.border,boxShadow:Fe.filterCard.boxShadow},bodyStyle:{padding:Fe.filterCard.padding},children:a.jsxs(N,{style:{width:"100%",justifyContent:"space-between"},children:[a.jsxs(N,{children:[a.jsx(en,{placeholder:e("experiments.search_placeholder")||"Search runs...",prefix:a.jsx(Em,{}),value:g,onChange:I=>x(I.target.value),style:{width:200}}),a.jsxs(ft,{value:v,onChange:S,style:{width:150},children:[a.jsx(ft.Option,{value:"all",children:e("runs.filter.all")}),P.map(I=>a.jsx(ft.Option,{value:I,children:I},I))]}),a.jsxs(ft,{value:T,onChange:E,style:{width:120},children:[a.jsx(ft.Option,{value:"all",children:e("runs.filter.all")}),a.jsx(ft.Option,{value:"running",children:e("experiments.running")||"Running"}),a.jsx(ft.Option,{value:"finished",children:e("experiments.finished")||"Finished"}),a.jsx(ft.Option,{value:"failed",children:e("experiments.failed")||"Failed"})]}),a.jsx(he,{icon:B?a.jsx(Jc,{spin:!0}):a.jsx(Rs,{}),onClick:()=>U(!0),loading:d,children:e(B?"runs.refreshing":"runs.refresh")}),a.jsx(Je,{title:e("experiments.check_status_tooltip")||"Check if running experiments are still alive",children:a.jsx(he,{icon:a.jsx(Qj,{}),onClick:yt,loading:Q,type:"dashed",children:e("experiments.check_status")||"Check Status"})}),a.jsx(No,{checked:B,onChange:I=>z(I.target.checked),children:e("experiments.auto_refresh")||"Auto-refresh"}),a.jsx(Je,{title:e("recycle_bin.tooltip")||"View and restore deleted experiments",children:a.jsx(he,{icon:a.jsx(uc,{}),onClick:()=>Ke(!0),type:"dashed",children:e("recycle_bin.title")||"Recycle Bin"})})]}),a.jsx(N,{children:h.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs(he,{icon:a.jsx(Qc,{}),onClick:vt,disabled:h.length<2,children:[e("experiments.compare")||"Compare"," (",h.length,")"]}),a.jsx(e1,{menu:{items:vn},trigger:["click"],children:a.jsxs(he,{icon:a.jsx(Qo,{}),children:[e("experiments.export")||"Export"," (",h.length,") ",a.jsx(t1,{})]})}),a.jsxs(he,{danger:!0,icon:a.jsx(hi,{}),onClick:de,children:[e("experiments.delete")||"Delete"," (",h.length,")"]})]})})]})})}),a.jsx(nt.div,{initial:Fe.tableContainer.animation.initial,animate:Fe.tableContainer.animation.animate,transition:Fe.tableContainer.animation.transition,children:a.jsx(le,{bordered:!1,style:{borderRadius:Fe.tableContainer.borderRadius,overflow:"hidden",boxShadow:Fe.tableContainer.boxShadow},bodyStyle:{padding:0},children:a.jsx(xr,{className:"enhanced-table",components:{header:{cell:zk}},rowSelection:{selectedRowKeys:h,onChange:I=>p(I),getCheckboxProps:I=>({disabled:oe})},columns:Hr,dataSource:Nn,rowKey:"run_id",loading:d,pagination:{pageSize:ie,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:(I,J)=>ue(J),showTotal:(I,J)=>e("experiments.table_total",{from:J[0],to:J[1],total:I})||`${J[0]}-${J[1]} of ${I} items`},scroll:{x:1200},size:"middle",onChange:(I,J,we)=>{X(we)},locale:{emptyText:a.jsx(Wk,{title:e("experiments.no_runs")||"No experiments yet",description:e("experiments.no_runs_desc")||"Start tracking your ML experiments with Runicorn SDK. Check out the quickstart guide to begin.",actionText:e("experiments.view_quickstart")||"View Quickstart Guide",onAction:()=>window.open("https://github.com/runicorn/runicorn#quick-start","_blank")})}})})}),a.jsx(bE,{open:Ge,onClose:()=>Ke(!1),onRestore:()=>U(!1)})]})]})},{Text:Ln,Title:Jk}=_e,Zk=()=>{const{t:e}=He(),t=ji(),[n,s]=b.useState([]),[o,l]=b.useState(!1),[c,d]=b.useState(""),[f,h]=b.useState("all"),[p,g]=b.useState(null),x=b.useCallback(async(j=!0)=>{j&&l(!0);try{const O=await B1(f==="all"?void 0:f);s(O||[])}catch{ee.error(e("Failed to fetch artifacts"))}finally{j&&l(!1)}},[f,e]),v=b.useCallback(async()=>{try{const j=await zm();g(j)}catch{}},[]);b.useEffect(()=>{x(),v()},[x,v]);const S=n.filter(j=>{if(!c)return!0;const R=c.toLowerCase();return j.name.toLowerCase().includes(R)||j.type.toLowerCase().includes(R)});n.length,n.filter(j=>j.type==="model").length,n.filter(j=>j.type==="dataset").length,n.reduce((j,R)=>j+R.size_bytes,0);const T=j=>{if(j===0)return"0 B";const R=1024,O=["B","KB","MB","GB","TB"],B=Math.floor(Math.log(j)/Math.log(R));return(j/Math.pow(R,B)).toFixed(2)+" "+O[B]},E=j=>new Date(j*1e3).toLocaleString(),P=j=>{const R={style:{fontSize:16}};switch(j){case"model":return a.jsx(Gt,{...R});case"dataset":return a.jsx(r1,{...R});case"config":return a.jsx(fc,{...R});case"code":return a.jsx(cc,{...R});default:return a.jsx(fi,{...R})}},A=j=>{switch(j){case"model":return ne.colors.primary;case"dataset":return ne.colors.success;case"config":return ne.colors.warning;case"code":return ne.colors.info;default:return"#8c8c8c"}},D=[{title:e("artifacts.type"),dataIndex:"type",key:"type",width:100,render:j=>a.jsx(Je,{title:e(`artifacts.type.${j}`),children:a.jsx(Te,{icon:P(j),color:A(j),children:e(`artifacts.type.${j}`)})}),filters:[{text:e("artifacts.type.model"),value:"model"},{text:e("artifacts.type.dataset"),value:"dataset"},{text:e("artifacts.type.config"),value:"config"},{text:e("artifacts.type.code"),value:"code"},{text:e("artifacts.type.custom"),value:"custom"}],onFilter:(j,R)=>R.type===j},{title:e("Name"),dataIndex:"name",key:"name",render:(j,R)=>a.jsxs(N,{direction:"vertical",size:0,children:[a.jsx(Ln,{strong:!0,style:{fontSize:ne.typography.fontSize.md},children:j}),a.jsxs(N,{size:"small",children:[a.jsx(Ln,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:e("artifacts.latest_version",{version:R.latest_version})}),a.jsx(Ln,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:"•"}),a.jsx(Ln,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:e("artifacts.versions_count",{count:R.num_versions})})]})]})},{title:e("artifacts.size"),dataIndex:"size_bytes",key:"size",width:120,render:j=>T(j),sorter:(j,R)=>j.size_bytes-R.size_bytes},{title:e("artifacts.updated"),dataIndex:"updated_at",key:"updated",width:180,render:j=>E(j),sorter:(j,R)=>j.updated_at-R.updated_at,defaultSortOrder:"descend"},{title:e("artifacts.aliases"),dataIndex:"aliases",key:"aliases",width:150,render:j=>a.jsxs(N,{size:4,wrap:!0,children:[Object.keys(j).slice(0,3).map(R=>a.jsx(Te,{color:"blue",style:{fontSize:ne.typography.fontSize.xs},children:R},R)),Object.keys(j).length>3&&a.jsxs(Te,{style:{fontSize:ne.typography.fontSize.xs},children:["+",Object.keys(j).length-3]})]})},{title:e("table.actions"),key:"actions",width:200,render:(j,R)=>a.jsx(N,{size:"small",children:a.jsx(Je,{title:e("artifacts.view_versions"),children:a.jsx(he,{size:"small",icon:a.jsx(Zc,{}),onClick:()=>t(`/artifacts/${R.name}`),children:e("View")})})})}];return o&&n.length===0?a.jsx(SC,{rows:8}):a.jsx("div",{style:{padding:ne.spacing.lg},children:a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(Jk,{level:2,style:{marginBottom:ne.spacing.sm},children:e("artifacts.title")}),a.jsx(Ln,{type:"secondary",children:e("artifacts.description")})]}),p&&a.jsxs(Pt,{gutter:[ne.spacing.md,ne.spacing.md],children:[a.jsx(De,{xs:24,sm:12,md:6,children:a.jsx(Pn,{title:e("artifacts.stats.total"),value:p.total_artifacts||0,icon:a.jsx(Gt,{}),gradientColors:Fr.gradients.primary})}),a.jsx(De,{xs:24,sm:12,md:6,children:a.jsx(Pn,{title:e("artifacts.stats.total_versions"),value:p.total_versions||0,icon:a.jsx(dc,{}),gradientColors:Fr.gradients.info})}),a.jsx(De,{xs:24,sm:12,md:6,children:a.jsx(Pn,{title:e("artifacts.stats.total_size"),value:p.total_size_bytes||0,formattedValue:T(p.total_size_bytes||0),icon:a.jsx(n1,{}),gradientColors:Fr.gradients.success})}),a.jsx(De,{xs:24,sm:12,md:6,children:a.jsx(Pn,{title:e("artifacts.stats.dedup_saved"),value:p.space_saved_bytes||0,formattedValue:p.dedup_enabled?T(p.space_saved_bytes||0):"N/A",subtitle:p.dedup_enabled&&p.dedup_ratio?`${(p.dedup_ratio*100).toFixed(1)}% saved`:void 0,icon:a.jsx(fi,{}),gradientColors:Fr.gradients.warning})})]}),a.jsx(le,{size:"small",children:a.jsxs(N,{wrap:!0,children:[a.jsx(en,{placeholder:e("artifacts.search_placeholder"),prefix:a.jsx(Em,{}),value:c,onChange:j=>d(j.target.value),style:{width:300},allowClear:!0}),a.jsx(ft,{value:f,onChange:h,style:{width:150},options:[{label:e("artifacts.type.all"),value:"all"},{label:e("artifacts.type.model"),value:"model"},{label:e("artifacts.type.dataset"),value:"dataset"},{label:e("artifacts.type.config"),value:"config"},{label:e("artifacts.type.code"),value:"code"},{label:e("artifacts.type.custom"),value:"custom"}]}),a.jsx(he,{icon:a.jsx(Rs,{spin:o}),onClick:()=>{x(),v()},loading:o,children:e("runs.refresh")})]})}),p&&p.by_type&&Object.keys(p.by_type).length>0&&a.jsx(nn,{message:a.jsxs(N,{children:[a.jsx(Ln,{children:"Type Distribution:"}),Object.entries(p.by_type).map(([j,R])=>a.jsx($o,{count:R.count,showZero:!0,color:A(j),overflowCount:9999,style:{marginLeft:8},children:a.jsx(Te,{icon:P(j),children:e(`artifacts.type.${j}`)})},j))]}),type:"info",showIcon:!1,style:{marginBottom:ne.spacing.md}}),a.jsx(le,{children:a.jsx(xr,{dataSource:S,columns:D,rowKey:"name",loading:o,pagination:{pageSize:10,showTotal:(j,R)=>e("experiments.table_total",{from:R[0],to:R[1],total:j}),showSizeChanger:!0,showQuickJumper:!0},locale:{emptyText:a.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:a.jsxs(N,{direction:"vertical",size:"small",children:[a.jsx(Ln,{type:"secondary",children:e("artifacts.no_artifacts")}),a.jsx(Ln,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:e("artifacts.create_first")})]})})}})}),n.length===0&&!o&&a.jsx(le,{title:a.jsxs(N,{children:[a.jsx(cc,{}),a.jsx("span",{children:"Quick Start Guide"})]}),children:a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(Ln,{strong:!0,children:"1. Save a model as artifact:"}),a.jsx("pre",{style:{background:"#f5f5f5",padding:ne.spacing.md,borderRadius:ne.borderRadius.md,marginTop:ne.spacing.sm},children:`import runicorn as rn

run = rn.init(project="my_project")

# Create artifact
artifact = rn.Artifact("my-model", type="model")
artifact.add_file("model.pth")
artifact.add_metadata({"accuracy": 0.95})

# Save with version control
run.log_artifact(artifact)  # → v1
run.finish()`})]}),a.jsxs("div",{children:[a.jsx(Ln,{strong:!0,children:"2. Use a saved artifact:"}),a.jsx("pre",{style:{background:"#f5f5f5",padding:ne.spacing.md,borderRadius:ne.borderRadius.md,marginTop:ne.spacing.sm},children:`import runicorn as rn

run = rn.init(project="inference")

# Load latest version
artifact = run.use_artifact("my-model:latest")
model_path = artifact.download()

# Use the model...
run.finish()`})]})]})})]})})},{Text:Mr}=_e,Qk=({data:e})=>{const{t}=He(),{token:n}=er.useToken(),s=b.useMemo(()=>{if(!e||!e.nodes||e.nodes.length===0)return null;const l=e.nodes.map(d=>{const f=d.node_type==="artifact",h=d.node_id===e.root_artifact;return{id:d.node_id,name:d.label,symbol:f?"roundRect":"circle",symbolSize:h?[120,60]:f?[100,50]:40,label:{show:!0,fontSize:h?14:12,fontWeight:h?"bold":"normal"},itemStyle:{color:f?h?ne.colors.primary:ne.colors.info:ne.colors.success,borderColor:h?ne.colors.primary:"#fff",borderWidth:h?3:1},category:f?0:1}}),c=e.edges.map(d=>({source:d.source,target:d.target,label:{show:!0,formatter:d.edge_type,fontSize:10},lineStyle:{color:d.edge_type==="produces"?ne.colors.success:ne.colors.info,width:2,type:d.edge_type==="produces"?"solid":"dashed"},symbol:["none","arrow"],symbolSize:8}));return{title:{text:t("artifact.lineage.title"),left:"center",textStyle:{fontSize:ne.typography.fontSize.lg,fontWeight:ne.typography.fontWeight.semibold}},tooltip:{trigger:"item",formatter:d=>{if(d.dataType==="node"){const f=e.nodes.find(h=>h.node_id===d.data.id);if(f){const h=f.node_type==="artifact";let p=`<b>${f.label}</b><br/>`;if(p+=`Type: ${t(h?"artifact.lineage.node.artifact":"artifact.lineage.node.run")}<br/>`,f.metadata.size){const g=o(f.metadata.size);p+=`Size: ${g}<br/>`}return p}}else if(d.dataType==="edge")return`${d.data.label.formatter}`;return d.name}},legend:{data:[{name:t("artifact.lineage.node.artifact"),icon:"roundRect"},{name:t("artifact.lineage.node.run"),icon:"circle"}],bottom:0},series:[{type:"graph",layout:"force",data:l,links:c,categories:[{name:t("artifact.lineage.node.artifact")},{name:t("artifact.lineage.node.run")}],roam:!0,label:{show:!0,position:"inside",formatter:"{b}"},force:{repulsion:400,edgeLength:[120,180],gravity:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]}},[e,t]),o=l=>{if(l===0)return"0 B";const c=1024,d=["B","KB","MB","GB","TB"],f=Math.floor(Math.log(l)/Math.log(c));return(l/Math.pow(c,f)).toFixed(2)+" "+d[f]};return s?a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsx(le,{size:"small",children:a.jsxs(N,{split:a.jsx("span",{style:{margin:"0 12px",color:n.colorBorder},children:"•"}),children:[a.jsxs(N,{size:"small",children:[a.jsx(Gt,{style:{color:ne.colors.info}}),a.jsx(Mr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.node.artifact")})]}),a.jsxs(N,{size:"small",children:[a.jsx(Dt,{style:{color:ne.colors.success}}),a.jsx(Mr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.node.run")})]}),a.jsxs(N,{size:"small",children:[a.jsx(_h,{style:{color:ne.colors.info}}),a.jsx(Mr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.edge.uses")})]}),a.jsxs(N,{size:"small",children:[a.jsx(_h,{style:{color:ne.colors.success}}),a.jsx(Mr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:t("artifact.lineage.edge.produces")})]})]})}),a.jsx(le,{children:a.jsx(xs,{option:s,style:{height:500},opts:{renderer:"canvas"}})}),a.jsx(le,{size:"small",children:a.jsxs(N,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs(Mr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:[a.jsxs("b",{children:[t("Summary"),":"]})," ",e.nodes.length," nodes, ",e.edges.length," edges"]}),a.jsxs(Mr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:["• Artifacts: ",e.nodes.filter(l=>l.node_type==="artifact").length]}),a.jsxs(Mr,{type:"secondary",style:{fontSize:ne.typography.fontSize.xs},children:["• Runs: ",e.nodes.filter(l=>l.node_type==="run").length]})]})})]}):a.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:t("artifact.lineage.no_dependencies")})},eD=e=>{switch(e){case"finished":return a.jsx(wr,{style:{color:"#52c41a"}});case"failed":return a.jsx(Vr,{style:{color:"#ff4d4f"}});case"running":return a.jsx(Dt,{style:{color:"#1890ff"}});default:return a.jsx(ta,{style:{color:"#d9d9d9"}})}};function tD({artifactName:e,artifactType:t,version:n}){const{t:s}=He(),o=ji(),[l,c]=b.useState(!1),[d,f]=b.useState(null);b.useEffect(()=>{h()},[e,n]);const h=async()=>{c(!0);try{const g=new URLSearchParams;n&&g.append("version",n.toString()),t&&g.append("type",t);const x=await fetch(`/api/artifacts/${e}/training-metrics?${g}`);if(!x.ok){if(x.status===404){f(null);return}throw new Error(`Failed to load training metrics: ${x.statusText}`)}const v=await x.json();f(v)}catch{ee.error(s("Failed to load training metrics"))}finally{c(!1)}};if(l)return a.jsx(le,{children:a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(An,{size:"large"})})});if(!d)return a.jsx(le,{children:a.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:s("artifact.training.no_data")})});const p=Object.entries(d.metrics).filter(([g,x])=>typeof x=="number").slice(0,6);return a.jsxs(le,{title:a.jsxs(N,{children:[a.jsx(s1,{}),s("artifact.training.title")]}),extra:a.jsx(he,{type:"primary",onClick:()=>o(`/runs/${d.run_id}`),children:s("artifact.training.view_run")}),children:[a.jsxs(je,{bordered:!0,column:2,style:{marginBottom:16},children:[a.jsx(je.Item,{label:s("artifact.training.run_name"),children:a.jsxs(N,{children:[eD(d.status),a.jsx("a",{onClick:()=>o(`/runs/${d.run_id}`),children:d.run_name})]})}),a.jsx(je.Item,{label:s("artifact.training.project"),children:a.jsx(Te,{children:d.project})}),a.jsx(je.Item,{label:s("artifact.training.status"),children:a.jsx(Te,{color:d.status==="finished"?"success":"error",children:s(`status.${d.status}`)})}),a.jsx(je.Item,{label:s("artifact.training.duration"),children:d.duration_seconds?Um(d.duration_seconds*1e3):"-"}),a.jsx(je.Item,{label:s("artifact.training.created_at"),span:2,children:Vo(d.created_at)})]}),p.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h4",{children:s("artifact.training.key_metrics")}),a.jsx(Pt,{gutter:16,children:p.map(([g,x])=>a.jsx(De,{span:8,style:{marginBottom:16},children:a.jsx(Wt,{title:g,value:x,precision:typeof x=="number"&&x<1?4:2})},g))})]})]})}const{Option:nD}=ft;function rD({artifactName:e,artifactType:t}){const{t:n}=He(),[s,o]=b.useState(!1),[l,c]=b.useState([]),[d,f]=b.useState([]),[h,p]=b.useState([]);b.useEffect(()=>{g()},[e]);const g=async()=>{o(!0);try{const v=new URLSearchParams;t&&v.append("type",t);const S=await fetch(`/api/artifacts/${e}/performance-history?${v}`);if(!S.ok)throw new Error(`Failed to load performance history: ${S.statusText}`);const T=await S.json();c(T);const E=new Set;T.forEach(D=>{Object.keys(D.metrics).forEach(j=>E.add(j))});const P=Array.from(E).sort();f(P);const A=P.slice(0,3);p(A)}catch{ee.error(n("Failed to load performance history"))}finally{o(!1)}},x=b.useMemo(()=>{if(!l.length||!h.length)return null;const v=l.filter(T=>T.status==="finished").map(T=>`v${T.version}`),S=h.map(T=>({name:T,type:"line",smooth:!0,symbol:"circle",symbolSize:8,data:l.filter(E=>E.status==="finished").map(E=>E.metrics[T]||0)}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:h,top:0},grid:{left:"10%",right:"10%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:v},yAxis:{type:"value",name:n("artifact.performance.metrics")},series:S}},[l,h,n]);return s?a.jsx(le,{children:a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(An,{size:"large"})})}):l.length===0?a.jsx(le,{children:a.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.no_data")})}):a.jsx(le,{title:a.jsxs(N,{children:[a.jsx(Qc,{}),n("artifact.performance.title")]}),extra:a.jsx(ft,{mode:"multiple",style:{width:300},placeholder:n("artifact.performance.select_metrics"),value:h,onChange:p,maxTagCount:3,children:d.map(v=>a.jsx(nD,{value:v,children:v},v))}),children:x?a.jsx("div",{style:{height:400},children:a.jsx(tu,{option:x,style:{height:"100%",width:"100%"}})}):a.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.select_metrics_hint")})})}const{Text:oc,Title:ko,Paragraph:sD}=_e,{TabPane:ds}=Es,iD=()=>{var Z;const{name:e}=Pm(),t=ji(),{t:n}=He(),[s,o]=b.useState(!1),[l,c]=b.useState(null),[d,f]=b.useState(null),[h,p]=b.useState([]),[g,x]=b.useState(null),[v,S]=b.useState(null),[T,E]=b.useState(!1),[P,A]=b.useState(!1),[D,j]=b.useState(!1),[R,O]=b.useState(null),[B,z]=b.useState(!1),$=q=>{if(q===0)return"0 B";const Q=1024,ce=["B","KB","MB","GB","TB"],xe=Math.floor(Math.log(q)/Math.log(Q));return(q/Math.pow(Q,xe)).toFixed(2)+" "+ce[xe]},G=q=>new Date(q*1e3).toLocaleString(),Y=b.useCallback(async()=>{if(e)try{const q=await U1(e);p(q||[]),!l&&q&&q.length>0&&c(q[q.length-1].version)}catch{ee.error(n("Failed to fetch versions"))}},[e,l,n]),se=b.useCallback(async()=>{if(!(!e||!l)){o(!0);try{const q=await W1(e,l);f(q)}catch{ee.error(n("Failed to fetch artifact details"))}finally{o(!1)}}},[e,l,n]),X=b.useCallback(async()=>{if(!(!e||!l))try{const q=await H1(e,l);x(q)}catch{}},[e,l]),ie=b.useCallback(async()=>{if(!(!e||!l)){E(!0);try{const q=await G1(e,l,void 0,3);S(q)}catch{}finally{E(!1)}}},[e,l]);b.useEffect(()=>{Y()},[Y]),b.useEffect(()=>{l&&(se(),X())},[se,X]);const ue=async q=>{Rn.confirm({title:n("artifacts.delete_confirm",{name:e,version:q}),content:n("artifacts.delete_warning"),okText:n("artifacts.delete"),okType:"danger",cancelText:n("experiments.cancel"),onOk:async()=>{try{if(await K1(e,q),ee.success(n("Deleted successfully")),Y(),q===l){const Q=h.filter(ce=>ce.version!==q);Q.length>0?c(Q[Q.length-1].version):t("/artifacts")}}catch{ee.error(n("Delete failed"))}}})};if(s&&!d)return a.jsx(Wm,{});if(!d)return a.jsx(le,{children:a.jsx(rt,{description:n("artifact.detail.title",{name:e})})});h.map(q=>({label:`v${q.version} (${G(q.created_at)})`,value:q.version}));const oe=[{title:n("artifact.files.name"),dataIndex:"path",key:"path",render:(q,Q)=>a.jsxs(N,{direction:"vertical",size:0,children:[a.jsx(oc,{strong:!0,children:q}),Q.absolute_path&&a.jsx(Je,{title:n("Click to copy path"),children:a.jsx(oc,{code:!0,copyable:{text:Q.absolute_path},style:{fontSize:ne.typography.fontSize.xs},children:Q.absolute_path})})]})},{title:n("artifact.files.size"),dataIndex:"size",key:"size",width:120,render:q=>$(q)},{title:n("artifact.files.hash"),dataIndex:"digest",key:"digest",width:200,render:q=>{var Q;return a.jsx(Je,{title:q,children:a.jsxs(oc,{code:!0,style:{fontSize:ne.typography.fontSize.xs},children:[(Q=q.split(":")[1])==null?void 0:Q.substring(0,16),"..."]})})}}],re=[{title:n("artifact.versions.version"),dataIndex:"version",key:"version",width:100,render:q=>a.jsxs(Te,{color:q===l?"blue":"default",children:["v",q]})},{title:n("artifact.versions.date"),dataIndex:"created_at",key:"created_at",render:q=>G(q)},{title:n("artifact.versions.run"),dataIndex:"created_by_run",key:"created_by_run",render:q=>a.jsx(Je,{title:"Click to view run",children:a.jsxs(he,{type:"link",size:"small",onClick:()=>t(`/runs/${q}`),children:[q.substring(0,16),"..."]})})},{title:n("artifact.versions.size"),dataIndex:"size_bytes",key:"size",width:120,render:q=>$(q)},{title:n("artifact.versions.files"),dataIndex:"num_files",key:"num_files",width:80},{title:n("Aliases"),dataIndex:"aliases",key:"aliases",render:q=>a.jsx(N,{size:4,wrap:!0,children:q.map(Q=>a.jsx(Te,{color:"blue",style:{fontSize:ne.typography.fontSize.xs},children:Q},Q))})},{title:n("artifact.versions.actions"),key:"actions",width:150,render:(q,Q)=>a.jsxs(N,{size:"small",children:[a.jsx(he,{size:"small",type:Q.version===l?"primary":"default",onClick:()=>c(Q.version),children:n("View")}),a.jsx(he,{size:"small",danger:!0,icon:a.jsx(hi,{}),onClick:()=>ue(Q.version)})]})}];return a.jsx("div",{style:{padding:ne.spacing.lg},children:a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsx(he,{icon:a.jsx(i1,{}),onClick:()=>t("/artifacts"),children:n("Back to Artifacts")}),a.jsx(le,{children:a.jsxs(N,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs(N,{children:[a.jsx(ko,{level:2,style:{margin:0},children:n("artifact.detail.title",{name:e})}),a.jsx(Te,{color:ne.colors.primary,children:n("artifact.detail.version",{version:l})}),a.jsx(Te,{icon:a.jsx(Gt,{}),children:n(`artifacts.type.${d.type}`)})]}),d.description&&a.jsx(sD,{type:"secondary",children:d.description})]})}),a.jsxs(Pt,{gutter:[ne.spacing.md,ne.spacing.md],children:[a.jsx(De,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Wt,{title:n("artifact.detail.size"),value:$(d.size_bytes),prefix:a.jsx(Gt,{})})})}),a.jsx(De,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Wt,{title:n("artifact.detail.files_count"),value:d.num_files,prefix:a.jsx(fc,{})})})}),a.jsx(De,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Wt,{title:n("Total Versions"),value:h.length,prefix:a.jsx(dc,{})})})}),a.jsx(De,{xs:24,sm:12,md:6,children:a.jsx(le,{children:a.jsx(Wt,{title:n("artifact.detail.created_at"),value:G(d.created_at),valueStyle:{fontSize:ne.typography.fontSize.sm},prefix:a.jsx(ta,{})})})})]}),a.jsx(le,{children:a.jsxs(Es,{defaultActiveKey:"info",children:[a.jsxs(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(na,{})," ",n("Info")]}),children:[a.jsxs(je,{bordered:!0,column:2,size:"small",children:[a.jsx(je.Item,{label:n("artifact.detail.type"),children:n(`artifacts.type.${d.type}`)}),a.jsx(je.Item,{label:n("artifact.detail.status"),children:a.jsx(Te,{color:"success",children:d.status})}),a.jsx(je.Item,{label:n("artifact.detail.created_by"),children:a.jsx(he,{type:"link",size:"small",onClick:()=>t(`/runs/${d.created_by_run}`),children:d.created_by_run})}),a.jsx(je.Item,{label:n("artifact.detail.created_at"),children:G(d.created_at)}),a.jsx(je.Item,{label:n("artifact.detail.size"),children:$(d.size_bytes)}),a.jsxs(je.Item,{label:n("artifact.detail.files_count"),children:[d.num_files," files, ",d.num_references," references"]})]}),d.metadata&&Object.keys(d.metadata).length>0&&a.jsxs("div",{style:{marginTop:ne.spacing.lg},children:[a.jsx(ko,{level:5,children:n("artifact.detail.metadata")}),a.jsx(le,{size:"small",children:a.jsx("pre",{style:{margin:0,fontSize:ne.typography.fontSize.sm},children:JSON.stringify(d.metadata,null,2)})})]}),d.tags&&d.tags.length>0&&a.jsxs("div",{style:{marginTop:ne.spacing.md},children:[a.jsx(ko,{level:5,children:n("artifact.detail.tags")}),a.jsx(N,{size:[8,8],wrap:!0,children:d.tags.map(q=>a.jsx(Te,{icon:a.jsx(o1,{}),color:"blue",children:q},q))})]})]},"info"),a.jsxs(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(fc,{})," ",n("artifact.files.title")," (",((Z=g==null?void 0:g.files)==null?void 0:Z.length)||0,")"]}),children:[a.jsx(xr,{dataSource:(g==null?void 0:g.files)||[],columns:oe,rowKey:"path",size:"small",pagination:!1,locale:{emptyText:a.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:n("artifact.files.no_files")})}}),(g==null?void 0:g.references)&&g.references.length>0&&a.jsxs("div",{style:{marginTop:ne.spacing.lg},children:[a.jsx(ko,{level:5,children:n("artifact.references.title")}),a.jsx(xr,{dataSource:g.references,columns:[{title:n("artifact.references.uri"),dataIndex:"uri",key:"uri"},{title:n("artifact.references.checksum"),dataIndex:"checksum",key:"checksum",render:q=>q||"-"}],size:"small",pagination:!1})]})]},"files"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(dc,{})," ",n("artifact.versions.title")," (",h.length,")"]}),children:a.jsx(xr,{dataSource:h,columns:re,rowKey:"version",size:"small",pagination:{pageSize:10}})},"versions"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Dt,{})," ",n("artifact.training.tab")]}),children:a.jsx(tD,{artifactName:e,artifactType:d==null?void 0:d.type,version:l})},"training"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Qc,{})," ",n("artifact.performance.tab")]}),children:a.jsx(rD,{artifactName:e,artifactType:d==null?void 0:d.type})},"performance"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(a1,{})," ",n("artifact.lineage.title")]}),children:a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsx(nn,{message:n("artifact.lineage.description"),type:"info",showIcon:!0,closable:!0}),!v&&!T&&a.jsx(he,{onClick:ie,children:n("Load Lineage Graph")}),T&&a.jsx(le,{loading:!0}),v&&a.jsx(Qk,{data:v})]})},"lineage")]})})]})})};function oD({onSubmit:e,onTest:t,onCancel:n,loading:s=!1,initialValues:o}){const{t:l}=He(),[c]=Tt.useForm(),[d,f]=b.useState((o==null?void 0:o.authMethod)||"password"),[h,p]=b.useState(!1),g=async v=>{console.log("Form values:",{...v,password:v.password?"***":void 0,savePassword:v.savePassword});const S={host:v.host,port:v.port||22,username:v.username,authMethod:v.authMethod,password:v.password,privateKeyPath:v.privateKeyPath,passphrase:v.passphrase,remoteRoot:v.remoteRoot,localPort:v.localPort,remotePort:v.remotePort||23300,saveName:v.saveName,savePassword:v.savePassword||!1};console.log("Config to submit:",{...S,password:S.password?"***":void 0});try{await e(S),ee.success(l("remote.message.connectSuccess")),c.resetFields()}catch(T){ee.error(T instanceof Error?T.message:l("remote.message.connectFailed"))}},x=async()=>{try{const v=await c.validateFields(),S={host:v.host,port:v.port||22,username:v.username,authMethod:v.authMethod,password:v.password,privateKeyPath:v.privateKeyPath,passphrase:v.passphrase,remoteRoot:v.remoteRoot,localPort:v.localPort,remotePort:v.remotePort||23300};t&&(await t(S),ee.success(l("remote.message.testSuccess")))}catch(v){v instanceof Error&&ee.error(v.message)}};return a.jsxs(Tt,{form:c,layout:"vertical",initialValues:{port:22,remotePort:23300,authMethod:"password",...o},onFinish:g,children:[a.jsx(Tt.Item,{label:l("remote.form.host"),name:"host",rules:[{required:!0,message:"Please enter host address"}],children:a.jsx(en,{placeholder:l("remote.form.hostPlaceholder")})}),a.jsxs(Pt,{gutter:16,children:[a.jsx(De,{span:12,children:a.jsx(Tt.Item,{label:l("remote.form.port"),name:"port",children:a.jsx(hc,{min:1,max:65535,style:{width:"100%"}})})}),a.jsx(De,{span:12,children:a.jsx(Tt.Item,{label:l("remote.form.username"),name:"username",rules:[{required:!0,message:"Please enter username"}],children:a.jsx(en,{placeholder:l("remote.form.usernamePlaceholder")})})})]}),a.jsx(Tt.Item,{label:l("remote.form.authMethod"),name:"authMethod",children:a.jsxs(Cs.Group,{onChange:v=>f(v.target.value),children:[a.jsx(Cs,{value:"password",children:l("remote.form.passwordAuth")}),a.jsx(Cs,{value:"key",children:l("remote.form.keyAuth")})]})}),d==="password"?a.jsx(Tt.Item,{label:l("remote.form.password"),name:"password",rules:[{required:!0,message:"Please enter password"}],children:a.jsx(en.Password,{})}):a.jsxs(a.Fragment,{children:[a.jsx(Tt.Item,{label:l("remote.form.privateKey"),name:"privateKeyPath",rules:[{required:!0,message:"Please enter private key path"}],children:a.jsx(en,{placeholder:l("remote.form.privateKeyPlaceholder")})}),a.jsx(Tt.Item,{label:l("remote.form.passphrase"),name:"passphrase",children:a.jsx(en.Password,{})})]}),a.jsx(Tt.Item,{children:a.jsxs(N,{direction:"vertical",children:[a.jsx(No,{checked:h,onChange:v=>p(v.target.checked),children:l("remote.form.saveConfig")}),h&&d==="password"&&a.jsx(Tt.Item,{name:"savePassword",valuePropName:"checked",initialValue:!1,noStyle:!0,children:a.jsx(No,{style:{marginLeft:24},children:l("remote.form.savePassword")})})]})}),h&&a.jsx(Tt.Item,{label:l("remote.form.saveName"),name:"saveName",children:a.jsx(en,{placeholder:l("remote.form.saveNamePlaceholder")})}),a.jsx(Tt.Item,{children:a.jsxs(N,{children:[a.jsx(he,{type:"primary",htmlType:"submit",loading:s,size:"large",children:l("remote.form.connectButton")}),t&&a.jsx(he,{onClick:x,children:l("remote.form.testConnection")}),n&&a.jsx(he,{onClick:n,children:l("remote.form.cancel")})]})})]})}var Qy={exports:{}};(function(e,t){(function(n,s){e.exports=s()})(gs,function(){return function(n,s,o){n=n||{};var l=s.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(h,p,g,x){return l.fromToBase(h,p,g,x)}o.en.relativeTime=c,l.fromToBase=function(h,p,g,x,v){for(var S,T,E,P=g.$locale().relativeTime||c,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],D=A.length,j=0;j<D;j+=1){var R=A[j];R.d&&(S=x?o(h).diff(g,R.d,!0):g.diff(h,R.d,!0));var O=(n.rounding||Math.round)(Math.abs(S));if(E=S>0,O<=R.r||!R.r){O<=1&&j>0&&(R=A[j-1]);var B=P[R.l];v&&(O=v(""+O)),T=typeof B=="string"?B.replace("%d",O):B(O,p,R.l,E);break}}if(p)return T;var z=E?P.future:P.past;return typeof z=="function"?z(T):z.replace("%s",T)},l.to=function(h,p){return d(h,p,this,!0)},l.from=function(h,p){return d(h,p,this)};var f=function(h){return h.$u?o.utc():o()};l.toNow=function(h){return this.to(f(this),h)},l.fromNow=function(h){return this.from(f(this),h)}}})})(Qy);var aD=Qy.exports;const lD=Vj(aD),cD=({status:e,label:t})=>{const n=Vk.statusLight,s=n.colors[e],o=e==="online"||e==="connecting";return a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[a.jsx(nt.div,{style:{width:n.size,height:n.size,borderRadius:"50%",background:s,position:"relative"},animate:o?{boxShadow:n.pulseAnimation.boxShadow}:{},transition:{...n.pulseAnimation.transition,repeat:o?1/0:0}}),t&&a.jsx("span",{style:{fontSize:13,color:"#595959"},children:t})]})};km.extend(lD);const{Text:ac}=_e,uD={connecting:"Establishing connection...",running:"Remote Viewer is running and accessible",stopping:"Stopping Remote Viewer...",stopped:"Remote Viewer has been stopped",error:"An error occurred"};function dD({session:e,onOpen:t,onStop:n,onDisconnect:s}){const{t:o}=He(),l=()=>{const f=`http://localhost:${e.localPort}`;window.open(f,"_blank"),t==null||t(e)},c=async()=>{if(n)try{await n(e)}catch{}},d=()=>{Rn.confirm({title:o("remote.message.confirmDisconnect"),content:`${e.host}:${e.remotePort}`,onOk:async()=>{s&&await s(e)}})};return a.jsxs(le,{title:a.jsxs(N,{children:[a.jsx(pi,{}),a.jsx(ac,{strong:!0,children:e.host}),a.jsx(cD,{status:e.status==="running"?"online":e.status==="connecting"||e.status==="stopping"?"connecting":"offline",label:o(`remote.status.${e.status}`)})]}),extra:a.jsxs(N,{children:[a.jsx(he,{type:"primary",icon:a.jsx(Dm,{}),onClick:l,disabled:e.status!=="running",children:o("remote.session.open")}),a.jsx(he,{icon:a.jsx(l1,{}),onClick:c,disabled:e.status!=="running",children:o("remote.session.stop")}),a.jsx(he,{danger:!0,icon:a.jsx(c1,{}),onClick:d,children:o("remote.session.disconnect")})]}),style:{marginBottom:16},children:[a.jsxs(je,{column:2,size:"small",children:[a.jsx(je.Item,{label:o("remote.session.localAccess"),children:a.jsxs("a",{href:`http://localhost:${e.localPort}`,target:"_blank",rel:"noopener noreferrer",children:["http://localhost:",e.localPort]})}),a.jsx(je.Item,{label:o("remote.session.remotePath"),children:a.jsx(ac,{code:!0,children:e.remoteRoot})}),a.jsx(je.Item,{label:o("remote.session.sshPort"),children:e.sshPort}),a.jsx(je.Item,{label:o("remote.session.remotePort"),children:e.remotePort}),a.jsx(je.Item,{label:o("remote.session.remotePid"),children:e.remotePid||"N/A"}),a.jsx(je.Item,{label:o("remote.session.startedAt"),children:km(e.startedAt).fromNow()})]}),a.jsx(nn,{type:e.status==="running"?"success":e.status==="error"?"error":"info",message:uD[e.status]||e.status,description:e.error,showIcon:!0,style:{marginTop:16}}),a.jsx("div",{style:{marginTop:16,color:"#888",fontSize:"12px"},children:a.jsxs(ac,{type:"secondary",children:["Session ID: ",e.sessionId]})})]})}const{Text:fs}=_e;function fD({connections:e,onQuickStart:t,onConnect:n,onEdit:s,onDelete:o,loading:l=!1}){const{t:c}=He(),d=async p=>{try{await t(p),ee.success(c("remote.message.viewerStarted"))}catch(g){ee.error(g instanceof Error?g.message:c("remote.message.viewerStartFailed"))}},f=async p=>{if(n)try{await n(p)}catch(g){ee.error(g instanceof Error?g.message:c("remote.message.connectFailed"))}},h=p=>{Rn.confirm({title:c("remote.message.confirmDelete"),content:p.name,okText:c("remote.saved.delete"),okButtonProps:{danger:!0},onOk:()=>{o(p.id),ee.success(c("remote.message.configDeleted"))}})};return e.length===0?a.jsx(le,{title:c("remote.saved.title"),children:a.jsx(rt,{description:a.jsxs(N,{direction:"vertical",children:[a.jsx(fs,{type:"secondary",children:c("remote.saved.empty")}),a.jsx(fs,{type:"secondary",style:{fontSize:"12px"},children:c("remote.saved.emptyHint")})]})})}):a.jsx(le,{title:c("remote.saved.title"),children:a.jsx(vr,{dataSource:e,loading:l,renderItem:p=>a.jsx(vr.Item,{actions:[a.jsx(he,{type:"primary",icon:a.jsx(Dt,{}),onClick:()=>d(p),size:"small",children:c("remote.saved.quickStart")},"quickstart"),n&&a.jsx(he,{icon:a.jsx(Dm,{}),onClick:()=>f(p),size:"small",children:c("remote.saved.connectOnly")},"connect"),a.jsx(he,{danger:!0,icon:a.jsx(hi,{}),onClick:()=>h(p),size:"small",children:c("remote.saved.delete")},"delete")].filter(Boolean),children:a.jsx(vr.Item.Meta,{avatar:a.jsx(u1,{icon:a.jsx(pi,{}),style:{backgroundColor:"#1677ff"}}),title:a.jsx(fs,{strong:!0,children:p.name}),description:a.jsxs(N,{direction:"vertical",size:0,children:[a.jsxs(fs,{type:"secondary",children:[p.username,"@",p.host,":",p.port]}),a.jsx(fs,{type:"secondary",code:!0,style:{fontSize:"12px"},children:p.remoteRoot}),a.jsx(fs,{type:"secondary",style:{fontSize:"11px"},children:p.authMethod==="password"?"Password Auth":`Key Auth (${p.privateKeyPath})`})]})})})})})}const ga="/api/config";async function ex(){const e=await fetch(`${ga}/dismissed-alerts`);if(!e.ok)throw new Error("Failed to get dismissed alerts");return(await e.json()).dismissed_alerts||[]}async function hD(e){if(!(await fetch(`${ga}/dismissed-alerts/dismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:e})})).ok)throw new Error("Failed to dismiss alert")}async function pD(e){if(!(await fetch(`${ga}/dismissed-alerts/undismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:e})})).ok)throw new Error("Failed to undismiss alert")}async function mD(){if(!(await fetch(`${ga}/dismissed-alerts/clear`,{method:"POST"})).ok)throw new Error("Failed to clear dismissed alerts")}function qo({alertId:e,showDismissOption:t=!0,onDismiss:n,...s}){const{t:o}=He(),[l,c]=b.useState(!0),[d,f]=b.useState(!1),[h,p]=b.useState(!1);b.useEffect(()=>{(async()=>{try{(await ex()).includes(e)&&(p(!0),c(!1))}catch(v){console.error("Failed to check dismissed alerts:",v)}})()},[e]);const g=async()=>{if(c(!1),d)try{await hD(e),p(!0),n==null||n()}catch(x){console.error("Failed to dismiss alert:",x)}};return h||!l?null:a.jsx(nn,{...s,closable:!0,onClose:g,action:t?a.jsx("div",{style:{marginTop:-4},children:a.jsx(No,{checked:d,onChange:x=>f(x.target.checked),onClick:x=>x.stopPropagation(),children:a.jsx("span",{style:{fontSize:"12px"},children:o("common.dontShowAgain")})})}):void 0})}const{Text:sm,Title:VM}=_e;function gD({config:e,sshConfig:t,onConfirm:n,onCancel:s,loading:o=!1}){const{t:l}=He(),[c]=Tt.useForm(),d=async()=>{const f=await c.validateFields();n(f.remoteRoot,f.localPort)};return a.jsxs(le,{title:a.jsxs(N,{children:[a.jsx(wr,{style:{color:"#52c41a"}}),a.jsx("span",{children:l("remote.config.title")})]}),children:[a.jsx(nn,{message:l("remote.config.connected"),description:`${t.username}@${t.host}:${t.port}`,type:"success",showIcon:!0,style:{marginBottom:16}}),a.jsxs(je,{column:2,size:"small",bordered:!0,style:{marginBottom:16},children:[a.jsx(je.Item,{label:l("remote.config.pythonVersion"),children:a.jsx(sm,{code:!0,children:e.pythonVersion})}),a.jsx(je.Item,{label:l("remote.config.runicornVersion"),children:a.jsx(Te,{color:"blue",children:e.runicornVersion})}),a.jsx(je.Item,{label:l("remote.config.storageRoot"),span:2,children:a.jsxs(N,{children:[a.jsx(sm,{code:!0,children:e.defaultStorageRoot}),e.storageRootExists?a.jsx(Te,{icon:a.jsx(wr,{}),color:"success",children:l("remote.config.exists")}):a.jsx(Te,{icon:a.jsx(Vr,{}),color:"warning",children:l("remote.config.notExists")})]})}),a.jsx(je.Item,{label:l("remote.config.suggestedPort"),children:e.suggestedRemotePort})]}),!e.storageRootExists&&a.jsx(qo,{alertId:"remote.config.pathNotExists",message:l("remote.config.pathNotExistsWarning"),description:l("remote.config.pathNotExistsHint"),type:"warning",showIcon:!0,style:{marginBottom:16}}),a.jsxs(Tt,{form:c,layout:"vertical",initialValues:{remoteRoot:e.defaultStorageRoot,localPort:t.localPort,remotePort:e.suggestedRemotePort},children:[a.jsx(Tt.Item,{label:l("remote.config.confirmStorageRoot"),name:"remoteRoot",rules:[{required:!0,message:"Please enter remote storage root"}],children:a.jsx(en,{placeholder:"/data/runicorn"})}),a.jsx(Tt.Item,{label:l("remote.form.localPort"),name:"localPort",help:l("remote.form.localPortHelp"),children:a.jsx(en,{type:"number",placeholder:"23301"})})]}),a.jsxs(N,{style:{marginTop:16},children:[a.jsx(he,{type:"primary",icon:a.jsx(Dt,{}),onClick:d,loading:o,size:"large",children:l("remote.config.startViewer")}),a.jsx(he,{onClick:s,disabled:o,children:l("remote.form.cancel")})]})]})}const Wr="/api/remote";async function yD(){const e=await fetch("/api/health");if(!e.ok)throw new Error("Failed to get local version");return(await e.json()).version||"unknown"}async function zo(e){const t=await fetch(`${Wr}/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e.host,port:e.port,username:e.username,password:e.password,private_key_path:e.privateKeyPath,passphrase:e.passphrase,use_agent:!0})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to connect to remote server")}return t.json()}async function ys(e,t=22,n){const s=await fetch(`${Wr}/disconnect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e,port:t,username:n})});if(!s.ok){const o=await s.json();throw new Error(o.detail||"Failed to disconnect")}}async function im(e){const t=await fetch(`${Wr}/viewer/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e.host,port:e.port,username:e.username,password:e.password,private_key_path:e.privateKeyPath,passphrase:e.passphrase,use_agent:!0,remote_root:e.remoteRoot,local_port:e.localPort,remote_port:e.remotePort||23300,conda_env:e.condaEnv})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to start Remote Viewer")}return t.json()}async function om(e){const t=await fetch(`${Wr}/viewer/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to stop Remote Viewer")}}async function xD(){const e=await fetch(`${Wr}/viewer/sessions`);if(!e.ok)throw new Error("Failed to list Remote Viewer sessions");const t=await e.json();return t.sessions||t}async function vD(e){try{return await zo(e),await ys(e.host,e.port,e.username),{success:!0,responseTime:0}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Connection test failed"}}}async function am(e){const t=await fetch(`${Wr}/conda-envs?connection_id=${encodeURIComponent(e)}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to list conda environments")}return t.json()}async function Yo(e,t="system"){const n=await fetch(`${Wr}/config?connection_id=${encodeURIComponent(e)}&conda_env=${encodeURIComponent(t)}`);if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to get remote configuration")}return n.json()}const{Text:Jn,Title:BM}=_e;function wD({envs:e,connectionId:t,onSelect:n,onCancel:s,loading:o=!1}){const{t:l}=He(),[c,d]=b.useState(()=>{var T;const S=e.find(E=>E.isDefault);return(S==null?void 0:S.name)||((T=e[0])==null?void 0:T.name)||"system"}),[f,h]=b.useState(""),[p,g]=b.useState(()=>{const S={};return e.forEach(T=>{S[T.name]={loading:!0}}),S}),x=(S,T)=>{const E=S.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),P=T.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),A=R=>{const O=R.split(".").map(B=>parseInt(B)||0);return{major:O[0]||0,minor:O[1]||0,patch:O[2]||0}},D=A(E),j=A(P);return D.major===0&&D.minor<5?"too_old":D.major!==j.major||D.minor!==j.minor?"mismatch":"ok"};b.useEffect(()=>{(async()=>{try{const T=await yD();h(T)}catch(T){console.error("Failed to get local version:",T),h("unknown")}})()},[]),b.useEffect(()=>{if(!f)return;(async()=>{for(let E=0;E<e.length;E+=3){const P=e.slice(E,E+3);await Promise.all(P.map(async A=>{try{const D=await Yo(t,A.name),j=D.runicornVersion?x(D.runicornVersion,f):void 0;g(R=>({...R,[A.name]:{pythonVersion:D.pythonVersion,runicornVersion:D.runicornVersion,versionStatus:j,loading:!1,error:!1}}))}catch{g(j=>({...j,[A.name]:{loading:!1,error:!0}}))}}))}})()},[e,t,f]);const v=async()=>{let S=p[c];if(!S||S.loading){const T=Rn.info({title:l("remote.env.detecting"),content:a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx(An,{size:"large"}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.detectingEnvironment",{env:c})})]}),okButtonProps:{style:{display:"none"}},closable:!1,maskClosable:!1});try{const E=await Yo(t,c),P=E.runicornVersion&&f?x(E.runicornVersion,f):void 0;S={pythonVersion:E.pythonVersion,runicornVersion:E.runicornVersion,versionStatus:P,loading:!1,error:!1},g(A=>({...A,[c]:S}))}catch{S={loading:!1,error:!0},g(P=>({...P,[c]:S}))}finally{T.destroy()}}if(!S||S.error){Rn.error({title:l("remote.env.detectFailed"),content:l("remote.env.detectFailedMessage"),okText:l("remote.form.cancel")});return}if(!S.runicornVersion){const T=c==="system"?"# System Python, no activation needed":`conda activate ${c}`;Rn.warning({title:l("remote.env.runicornNotInstalledTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.runicornNotInstalledMessage")}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.installInstructions")}),a.jsxs("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:[a.jsxs("div",{style:{color:"#999"},children:["# ",l("remote.env.activateCommand")]}),a.jsx("div",{children:T}),a.jsxs("div",{style:{marginTop:8,color:"#999"},children:["# ",l("remote.env.installCommand")]}),a.jsx("div",{children:"pip install runicorn"})]})]}),okText:l("remote.form.cancel")});return}if(S.versionStatus==="too_old"){Rn.error({title:l("remote.env.versionTooOldTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.versionTooOldMessage",{version:S.runicornVersion})}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.upgradeInstructions")}),a.jsx("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:a.jsx("div",{children:"pip install --upgrade runicorn"})})]}),okText:l("remote.form.cancel")});return}if(S.versionStatus==="mismatch"){Rn.warning({title:l("remote.env.versionMismatchTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.versionMismatchMessage")}),a.jsxs("div",{style:{marginTop:16,padding:"12px",background:"#fff7e6",borderRadius:"4px"},children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[l("remote.env.localVersion"),":"]})," ",f]}),a.jsxs("div",{style:{marginTop:4},children:[a.jsxs("strong",{children:[l("remote.env.remoteVersion"),":"]})," ",S.runicornVersion]})]}),a.jsx("p",{style:{marginTop:16,color:"#faad14"},children:l("remote.env.versionMismatchWarning")})]}),okText:l("remote.env.continueAnyway"),cancelText:l("remote.form.cancel"),onOk:()=>{n(c)}});return}n(c)};return e.length===0?a.jsxs(le,{title:l("remote.env.title"),children:[a.jsx(rt,{description:l("remote.env.noEnvs")}),a.jsx(he,{onClick:s,style:{marginTop:16},children:l("remote.form.cancel")})]}):a.jsxs(le,{title:a.jsxs(N,{children:[a.jsx(wr,{style:{color:"#52c41a"}}),a.jsx("span",{children:l("remote.env.title")})]}),children:[a.jsx(qo,{alertId:"remote.env.selectHint",message:l("remote.env.selectHint"),description:l("remote.env.selectDescription"),type:"info",showIcon:!0,style:{marginBottom:16}}),a.jsx(Cs.Group,{value:c,onChange:S=>d(S.target.value),style:{width:"100%"},children:a.jsx(vr,{dataSource:e,size:"small",renderItem:S=>{const T=p[S.name]||{loading:!0},E=()=>S.type==="conda"?a.jsx(Te,{color:"green",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"conda"}):S.type==="system"?a.jsx(Te,{style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"system"}):S.type==="venv"?a.jsx(Te,{color:"orange",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"venv"}):null;return a.jsx(vr.Item,{style:{cursor:"pointer",background:c===S.name?"#f0f5ff":"transparent",padding:"6px 12px",borderRadius:"4px",marginBottom:"2px",minHeight:"auto"},onClick:()=>d(S.name),children:a.jsxs(Pt,{style:{width:"100%"},align:"middle",children:[a.jsx(De,{flex:"none",style:{marginRight:12},children:a.jsx(Cs,{value:S.name})}),a.jsx(De,{flex:"auto",children:a.jsxs("div",{style:{lineHeight:"1.2"},children:[a.jsx("div",{children:a.jsxs(N,{size:4,children:[a.jsx(Jn,{strong:!0,style:{fontSize:"14px",lineHeight:"1.2"},children:S.name}),E(),S.isDefault&&a.jsx(Te,{color:"blue",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:l("remote.env.default")})]})}),a.jsx("div",{style:{marginTop:"2px"},children:a.jsx(Jn,{type:"secondary",code:!0,style:{fontSize:"11px",lineHeight:"1.2"},children:S.path})})]})}),a.jsx(De,{flex:"none",style:{textAlign:"right",minWidth:140},children:a.jsxs("div",{style:{lineHeight:"1.2"},children:[a.jsx("div",{children:T.loading?a.jsx(An,{indicator:a.jsx(bh,{style:{fontSize:12}})}):T.error?a.jsxs(Jn,{type:"danger",style:{fontSize:"11px"},children:[a.jsx(Vr,{})," ",l("remote.env.detectFailed")]}):a.jsx(Jn,{type:"secondary",style:{fontSize:"11px"},children:T.pythonVersion||"N/A"})}),a.jsx("div",{style:{marginTop:"2px"},children:T.loading?a.jsx(An,{indicator:a.jsx(bh,{style:{fontSize:12}})}):T.error?a.jsx(Jn,{type:"danger",style:{fontSize:"11px"},children:"N/A"}):T.runicornVersion?T.versionStatus==="too_old"?a.jsxs(Jn,{type:"danger",style:{fontSize:"11px"},children:[a.jsx(Vr,{})," Runicorn ",T.runicornVersion]}):T.versionStatus==="mismatch"?a.jsxs(Jn,{type:"warning",style:{fontSize:"11px"},children:[a.jsx(Ll,{})," Runicorn ",T.runicornVersion]}):a.jsxs(Jn,{type:"success",style:{fontSize:"11px"},children:["Runicorn ",T.runicornVersion]}):a.jsxs(Jn,{type:"warning",style:{fontSize:"11px"},children:[a.jsx(Ll,{})," ",l("remote.env.runicornNotInstalled")]})})]})})]})})}})}),a.jsx(qo,{alertId:"remote.env.checkRunicorn",type:"warning",message:l("remote.env.checkRunicorn"),description:l("remote.env.checkRunicornHint"),icon:a.jsx(Ll,{}),style:{marginTop:16,marginBottom:16}}),a.jsxs(N,{style:{marginTop:16},children:[a.jsx(he,{type:"primary",icon:a.jsx(d1,{}),onClick:v,loading:o,size:"large",children:l("remote.env.continue")}),a.jsx(he,{onClick:s,disabled:o,children:l("remote.form.cancel")})]})]})}function _D(){const[e,t]=b.useState([]),[n,s]=b.useState(!1),[o,l]=b.useState(null),c=b.useCallback(async()=>{s(!0),l(null);try{const d=await xD();t(d)}catch(d){l(d instanceof Error?d.message:"Failed to fetch sessions")}finally{s(!1)}},[]);return b.useEffect(()=>{c();const d=setInterval(c,5e3);return()=>clearInterval(d)},[c]),{sessions:e,loading:n,error:o,refetch:c}}const Do="/api/remote/connections/saved";function bD(){return`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function lm(e){const t={...e};return Object.keys(t).forEach(n=>{t[n]===void 0&&delete t[n]}),t}function SD(){const[e,t]=b.useState([]),[n,s]=b.useState(!1);b.useEffect(()=>{(async()=>{try{s(!0);const h=await fetch(Do);if(h.ok){const p=await h.json();t(p.connections||[])}}catch(h){console.error("Failed to load saved connections:",h)}finally{s(!1)}})()},[]);const o=b.useCallback(async(f,h)=>{const p={id:bD(),name:f.saveName||`${f.username}@${f.host}`,host:f.host,port:f.port,username:f.username,authMethod:f.authMethod,password:f.password||void 0,privateKeyPath:f.privateKeyPath,condaEnv:h,remoteRoot:f.remoteRoot,localPort:f.localPort,remotePort:f.remotePort,createdAt:Date.now()};console.log("Creating new connection:",{name:p.name,hasPassword:!!p.password,hasRemoteRoot:!!p.remoteRoot,condaEnv:p.condaEnv});const g=[...e,lm(p)];try{if(!(await fetch(Do,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw new Error("Failed to save connections");t(g)}catch(x){throw console.error("Failed to save connection:",x),x}return p.id},[e]),l=b.useCallback(async(f,h)=>{const p=e.map(g=>g.id===f?lm({...g,...h}):g);console.log("Updating connection:",{id:f,updates:h});try{if(!(await fetch(Do,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok)throw new Error("Failed to update connection");t(p)}catch(g){throw console.error("Failed to update connection:",g),g}},[e]),c=b.useCallback(async f=>{const h=e.filter(p=>p.id!==f);try{if(!(await fetch(Do,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)throw new Error("Failed to delete connection");t(h)}catch(p){throw console.error("Failed to delete connection:",p),p}},[e]),d=b.useCallback(f=>e.find(h=>h.id===f),[e]);return{connections:e,loading:n,saveConnection:o,updateConnection:l,deleteConnection:c,getConnection:d}}const{Title:jD,Paragraph:CD,Text:mn}=_e;function TD(){const{t:e}=He(),[t,n]=b.useState(!1),[s,o]=b.useState(!1),[l,c]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(null),[v,S]=b.useState(null),[T,E]=b.useState(!1),[P,A]=b.useState(null),[D,j]=b.useState("connect"),[R,O]=b.useState(""),{sessions:B,refetch:z}=_D(),{connections:$,saveConnection:G,updateConnection:Y,deleteConnection:se}=SD(),X=async U=>{n(!0),o(!1);try{await zo(U),n(!1),o(!0),ee.success(e("remote.message.connectSuccess")),c(!0);const de=`${U.username}@${U.host}:${U.port}`,Ae=await am(de);if(x({connectionId:de,config:U,condaEnvs:Ae.envs||[],selectedEnv:void 0,remoteConfig:void 0}),U.saveName){const yt=U.savePassword&&U.authMethod==="password",xt=yt?U:{...U,password:void 0};console.log("Saving connection:",{saveName:U.saveName,savePassword:U.savePassword,authMethod:U.authMethod,hasPassword:!!U.password,shouldSavePassword:yt});const vn=await G(xt);S(vn),ee.success(e("remote.message.configSaved"))}}catch(de){ee.error(de instanceof Error?de.message:e("remote.message.connectFailed")),o(!1),await ys(U.host,U.port,U.username).catch(()=>{})}finally{n(!1),c(!1)}},ie=async U=>{if(g){f(!0);try{const de=await Yo(g.connectionId,U);x({...g,selectedEnv:U,remoteConfig:de}),v&&Y(v,{condaEnv:U})}catch(de){throw ee.error(de instanceof Error?de.message:e("remote.config.fetchFailed")),de}finally{f(!1)}}},ue=async(U,de)=>{if(!(!g||!g.remoteConfig)){p(!0);try{const Ae={...g.config,remoteRoot:U,localPort:de,remotePort:g.remoteConfig.suggestedRemotePort,condaEnv:g.selectedEnv};v&&await Y(v,{remoteRoot:U,localPort:de,remotePort:g.remoteConfig.suggestedRemotePort}),await im(Ae),await z(),ee.success(e("remote.message.viewerStarted")),x(null),S(null),o(!1)}catch(Ae){throw ee.error(Ae instanceof Error?Ae.message:e("remote.message.viewerStartFailed")),Ae}finally{p(!1)}}},oe=async()=>{if(!g)return;const{host:U,port:de,username:Ae}=g.config;await ys(U,de,Ae),x(null),o(!1),c(!1),f(!1),S(null),ee.info(e("remote.message.cancelled"))},re=async U=>{try{const de=await vD(U);if(de.success)ee.success({content:a.jsxs("div",{children:[a.jsx("div",{children:e("remote.message.testSuccess")}),de.pythonVersion&&a.jsxs("div",{style:{fontSize:"12px",marginTop:4},children:["Python ",de.pythonVersion]})]}),duration:3});else throw new Error(de.error||"Connection test failed")}catch(de){throw ee.error(de instanceof Error?de.message:e("remote.message.testFailed")),de}},Z=async U=>{if(U.authMethod==="password"&&!U.password){A(U),j("connect"),E(!0);return}await q(U,U.password)},q=async(U,de)=>{n(!0),o(!1);try{const Ae={host:U.host,port:U.port,username:U.username,authMethod:U.authMethod,password:de||U.password,privateKeyPath:U.privateKeyPath,remoteRoot:U.remoteRoot||"",localPort:U.localPort,remotePort:U.remotePort};await zo(Ae),n(!1),o(!0),ee.success(e("remote.message.connectSuccess")),c(!0);const yt=`${Ae.username}@${Ae.host}:${Ae.port}`,xt=await am(yt);x({connectionId:yt,config:Ae,condaEnvs:xt.envs||[],selectedEnv:U.condaEnv,remoteConfig:void 0})}catch(Ae){throw ee.error(Ae instanceof Error?Ae.message:e("remote.message.connectFailed")),o(!1),await ys(U.host,U.port,U.username).catch(()=>{}),Ae}finally{n(!1),c(!1)}},Q=async U=>{if(!U.condaEnv||!U.remoteRoot){ee.warning(e("remote.message.incompleteConfig"));return}if(U.authMethod==="password"&&!U.password){A(U),j("quickstart"),E(!0);return}await ce(U,U.password)},ce=async(U,de)=>{n(!0),o(!1),c(!0),f(!0);try{const Ae={host:U.host,port:U.port,username:U.username,authMethod:U.authMethod,password:de||U.password,privateKeyPath:U.privateKeyPath,remoteRoot:U.remoteRoot,localPort:U.localPort,remotePort:U.remotePort};await zo(Ae),n(!1),o(!0),ee.success(e("remote.message.connectSuccess"));const yt=`${Ae.username}@${Ae.host}:${Ae.port}`,xt=await Yo(yt,U.condaEnv),vn={...Ae,remoteRoot:U.remoteRoot,remotePort:xt.suggestedRemotePort,condaEnv:U.condaEnv};await im(vn),await z(),ee.success(e("remote.message.viewerStarted"))}catch(Ae){throw ee.error(Ae instanceof Error?Ae.message:e("remote.message.viewerStartFailed")),o(!1),await ys(U.host,U.port,U.username).catch(()=>{}),Ae}finally{n(!1),c(!1),f(!1)}},xe=async U=>{try{await om(U.sessionId),await z(),g||(o(!1),S(null)),ee.success(e("remote.message.viewerStopped"))}catch(de){throw ee.error(de instanceof Error?de.message:e("remote.message.viewerStopFailed")),de}},Ge=async U=>{try{await om(U.sessionId),await ys(U.host,U.sshPort||22,U.username||"user"),await z(),g||(o(!1),S(null)),ee.success(e("remote.message.disconnected"))}catch(de){throw ee.error(de instanceof Error?de.message:e("remote.message.disconnectFailed")),de}},Ke=B.filter(U=>U.status!=="stopped"),Ve=new Set(B.map(U=>U.host)).size,ht=async()=>{if(!P||!R){ee.warning(e("remote.form.password")+" "+e("remote.form.required"));return}try{D==="connect"?await q(P,R):await ce(P,R),E(!1),O(""),A(null)}catch{}},gt=()=>{E(!1),O(""),A(null)};return a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:24},children:[a.jsxs(jD,{level:2,children:[a.jsx(pi,{})," ",e("remote.title")]}),a.jsx(CD,{type:"secondary",children:e("remote.subtitle")})]}),a.jsx(qo,{alertId:"remote.intro",type:"info",message:e("remote.help.architecture"),description:e("remote.help.advantages"),showIcon:!0,style:{marginBottom:24}}),a.jsxs(Pt,{gutter:16,style:{marginBottom:24},children:[a.jsx(De,{span:8,children:a.jsx(Pn,{title:e("remote.stats.activeSessions"),value:Ke.length,icon:a.jsx(Dt,{}),gradientColors:Fr.gradients.primary})}),a.jsx(De,{span:8,children:a.jsx(Pn,{title:e("remote.stats.savedConfigs"),value:$.length,icon:a.jsx(f1,{}),gradientColors:Fr.gradients.info})}),a.jsx(De,{span:8,children:a.jsx(Pn,{title:e("remote.stats.connectedServers"),value:Ve,icon:a.jsx(pi,{}),gradientColors:Fr.gradients.success})})]}),a.jsxs(Pt,{gutter:24,children:[a.jsx(De,{xs:24,lg:12,children:g?g.remoteConfig?a.jsx(An,{spinning:d,tip:e("remote.config.fetchingConfig"),children:a.jsx(gD,{config:g.remoteConfig,sshConfig:g.config,onConfirm:ue,onCancel:oe,loading:h})}):a.jsx(An,{spinning:l,tip:e("remote.env.fetching"),children:a.jsx(wD,{envs:g.condaEnvs||[],connectionId:g.connectionId,onSelect:ie,onCancel:oe,loading:d})}):a.jsxs(a.Fragment,{children:[a.jsx(le,{title:e("remote.form.title"),style:{marginBottom:24},children:s&&l?a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(nn,{message:e("remote.message.connectSuccess"),description:e("remote.env.fetching"),type:"success",showIcon:!0,icon:a.jsx(wr,{})}),a.jsx("div",{style:{textAlign:"center",padding:"24px 0"},children:a.jsx(An,{size:"large",tip:e("remote.env.detectingEnvironments")})})]}):a.jsx(oD,{onSubmit:X,onTest:re,loading:t})}),!s&&!l&&a.jsx(fD,{connections:$,onQuickStart:Q,onConnect:Z,onDelete:se,loading:t})]})}),a.jsx(De,{xs:24,lg:12,children:a.jsx(le,{title:a.jsxs(N,{children:[e("remote.session.title"),Ke.length>0&&a.jsxs(mn,{type:"secondary",children:["(",Ke.length,")"]})]}),children:Ke.length===0?a.jsx(rt,{description:a.jsxs(N,{direction:"vertical",children:[a.jsx(mn,{type:"secondary",children:e("remote.session.noActiveSessions")}),a.jsx(mn,{type:"secondary",style:{fontSize:"12px"},children:e("remote.session.startNewConnection")})]}),style:{margin:"40px 0"}}):Ke.map(U=>a.jsx(dD,{session:U,onStop:xe,onDisconnect:Ge},U.sessionId))})})]}),a.jsx(le,{title:e("remote.help.title"),style:{marginTop:24},children:a.jsxs(N,{direction:"vertical",children:[a.jsx(mn,{children:e("remote.help.step1")}),a.jsx(mn,{children:e("remote.help.step2")}),a.jsx(mn,{children:e("remote.help.step3")}),a.jsx(mn,{children:e("remote.help.step4")}),a.jsx(mn,{children:e("remote.help.step5")}),a.jsx(mn,{children:e("remote.help.step6")})]})}),a.jsx(Rn,{title:e("remote.form.enterPassword"),open:T,onOk:ht,onCancel:gt,okText:e("remote.form.connectButton"),cancelText:e("remote.form.cancel"),confirmLoading:t,centered:!0,width:400,children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsxs(mn,{children:[e("remote.form.connectionTo"),": ",a.jsx(mn,{strong:!0,children:P==null?void 0:P.name})]}),a.jsxs(mn,{type:"secondary",children:[P==null?void 0:P.username,"@",P==null?void 0:P.host]}),a.jsx(en.Password,{placeholder:e("remote.form.password"),value:R,onChange:U=>O(U.target.value),onPressEnter:ht,autoFocus:!0,size:"large"})]})})]})}const RD=120;function PD(){const{t:e}=He(),[t,n]=b.useState(null),[s,o]=b.useState(""),[l,c]=b.useState(!1),d=b.useRef([]),[f,h]=b.useState(0),p=b.useRef(null),[g,x]=b.useState([]);b.useEffect(()=>{let $;const G=async()=>{if(!l)try{const Y=await Fm();if(!(Y!=null&&Y.available)){n(!1),o((Y==null?void 0:Y.reason)||e("gpu.not_available"));return}n(!0);const se={ts:Y.ts||Date.now()/1e3,gpus:Y.gpus||[]},X=d.current.slice();for(X.push(se);X.length>RD;)X.shift();d.current=X,h(ie=>ie+1)}catch(Y){n(!1),o((Y==null?void 0:Y.message)||e("gpu.not_available"))}};return G(),$=setInterval(G,2e3),()=>clearInterval($)},[l]);const{times:v,gpuNames:S,seriesUtil:T,seriesMem:E,seriesPower:P,seriesTemp:A}=b.useMemo(()=>{const $=d.current,G=$.map(Z=>new Date((Z.ts||0)*1e3).toLocaleTimeString()),Y=$.reduce((Z,q)=>{var Q;return Math.max(Z,((Q=q.gpus)==null?void 0:Q.length)||0)},0),se=[];for(let Z=0;Z<Y;Z++){const q=$.find(Q=>Q.gpus&&Q.gpus[Z]);se.push(q?`GPU${q.gpus[Z].index} ${q.gpus[Z].name}`:`GPU${Z}`)}const X=Z=>new Array(Y).fill(0).map((q,Q)=>({name:se[Q]||`GPU${Q}`,type:"line",smooth:!0,showSymbol:!1,connectNulls:!0,data:$.map(ce=>{const xe=ce.gpus&&ce.gpus[Q]?Z(ce.gpus[Q]):null;return xe==null?null:Number(xe)})})),ie=X(Z=>Z.util_gpu),ue=X(Z=>Z.mem_used_pct),oe=X(Z=>Z.power_w),re=X(Z=>Z.temp_c);return{times:G,gpuNames:se,seriesUtil:ie,seriesMem:ue,seriesPower:oe,seriesTemp:re}},[f]),D=b.useMemo(()=>{const $=d.current[d.current.length-1],G={utilAvg:0,memAvg:0,powerNow:0,powerMax:0,tempMax:0};if(!$||!$.gpus||$.gpus.length===0)return G;const Y=$.gpus,se=Y.length,X=ue=>ue.reduce((oe,re)=>oe+(Number.isFinite(re)?re:0),0),ie={util:Y.map(ue=>Number(ue.util_gpu??0)),mem:Y.map(ue=>Number(ue.mem_used_pct??0)),pwr:Y.map(ue=>Number(ue.power_w??0)),pmax:Y.map(ue=>Number(ue.power_limit_w??0)),temp:Y.map(ue=>Number(ue.temp_c??0))};return G.utilAvg=Math.round(X(ie.util)/se),G.memAvg=Math.round(X(ie.mem)/se),G.powerNow=Math.round(X(ie.pwr)),G.powerMax=Math.round(X(ie.pmax)),G.tempMax=Math.max(...ie.temp),G},[f]),j={left:48,right:16,top:40,bottom:40},R=b.useMemo(()=>({title:{text:e("gpu.chart.util")},tooltip:{trigger:"axis"},legend:{data:T.map($=>$.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:0,max:100},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:T}),[v,T,e]),O=b.useMemo(()=>({title:{text:e("gpu.chart.mem")},tooltip:{trigger:"axis"},legend:{data:E.map($=>$.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:0,max:100},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:E}),[v,E,e]),B=b.useMemo(()=>({title:{text:e("gpu.chart.power")},tooltip:{trigger:"axis"},legend:{data:P.map($=>$.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:"dataMin",scale:!0},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:P}),[v,P,e]),z=b.useMemo(()=>({title:{text:e("gpu.chart.temp")},tooltip:{trigger:"axis"},legend:{data:A.map($=>$.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:"dataMin",scale:!0},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:A}),[v,A,e]);return t===!1?a.jsx(nn,{type:"warning",showIcon:!0,message:e("gpu.not_available"),description:s||void 0}):a.jsxs("div",{ref:p,style:{position:"relative"},children:[a.jsxs(N,{align:"center",style:{marginBottom:8},children:[a.jsx(_e.Text,{type:"secondary",children:e("polling.every2s")}),a.jsxs("span",{style:{marginLeft:12},children:[e("pause")," ",a.jsx(bt,{checked:l,onChange:c})]})]}),a.jsx(Xc,{activeKey:g,onChange:$=>{x($),setTimeout(()=>{try{window.dispatchEvent(new Event("resize"))}catch{}},350)},items:[{key:"util",label:e("gpu.chart.util"),children:a.jsx(xs,{option:R,style:{height:260,width:"100%"}})},{key:"mem",label:e("gpu.chart.mem"),children:a.jsx(xs,{option:O,style:{height:260,width:"100%"}})},{key:"power",label:e("gpu.chart.power"),children:a.jsx(xs,{option:B,style:{height:260,width:"100%"}})},{key:"temp",label:e("gpu.chart.temp"),children:a.jsx(xs,{option:z,style:{height:260,width:"100%"}})}]}),t&&g.indexOf("power")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:12,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Dt,{style:{marginRight:6}}),e("gpu.power")," ",D.powerNow,D.powerMax?`/${D.powerMax}`:""," W"]}),t&&g.indexOf("util")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:44,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Ci,{style:{marginRight:6}}),e("gpu.util")," ",D.utilAvg,"%"]}),t&&g.indexOf("mem")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:76,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Gt,{style:{marginRight:6}}),e("gpu.mem")," ",D.memAvg,"%"]}),t&&g.indexOf("temp")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:108,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(ea,{style:{marginRight:6}}),e("gpu.temp")," ",D.tempMax,"°C"]})]})}const{Text:Zs,Title:AD}=_e,ED=({cpu:e,loading:t=!1})=>{const{t:n}=He(),{token:s}=er.useToken(),o=l=>l<60?s.colorSuccess:l<80?s.colorWarning:s.colorError;return a.jsx(le,{loading:t,children:a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(Pt,{gutter:16,align:"middle",children:[a.jsx(De,{span:12,children:a.jsx(Wt,{title:a.jsxs(N,{children:[a.jsx(Dt,{style:{color:o(e.percent)}}),a.jsx("span",{children:n("system.cpu_overall","Overall CPU Usage")})]}),value:e.percent,precision:1,suffix:"%",valueStyle:{color:o(e.percent)}})}),a.jsx(De,{span:12,children:a.jsxs(N,{direction:"vertical",size:4,children:[a.jsxs(Zs,{type:"secondary",children:[n("system.cpu_cores","Cores"),": ",e.count," (",e.logical_count," ",n("system.logical","logical"),")"]}),e.frequency&&a.jsxs(Zs,{type:"secondary",children:[n("system.frequency","Freq"),": ",Math.round(e.frequency.current)," MHz"]}),e.load_avg&&a.jsxs(Zs,{type:"secondary",children:["Load: ",e.load_avg.map(l=>l.toFixed(2)).join(", ")]})]})})]}),a.jsx(Qn,{percent:Math.round(e.percent),strokeColor:o(e.percent),style:{marginTop:16}})]}),e.per_core&&e.per_core.length>0&&a.jsxs("div",{children:[a.jsx(AD,{level:5,style:{marginBottom:16},children:n("system.cpu_per_core","Per-Core Utilization")}),a.jsx(Pt,{gutter:[16,16],children:e.per_core.map((l,c)=>a.jsx(De,{xs:24,sm:12,md:8,lg:6,children:a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[a.jsxs(Zs,{strong:!0,children:["Core ",c]}),a.jsxs(Zs,{children:[Math.round(l),"%"]})]}),a.jsx(Qn,{percent:Math.round(l),strokeColor:o(l),size:"small",showInfo:!1})]})},c))})]}),e.frequency&&a.jsxs(Pt,{gutter:16,children:[a.jsx(De,{span:8,children:a.jsx(Wt,{title:n("system.freq_current","Current Freq"),value:e.frequency.current,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})}),a.jsx(De,{span:8,children:a.jsx(Wt,{title:n("system.freq_min","Min Freq"),value:e.frequency.min,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})}),a.jsx(De,{span:8,children:a.jsx(Wt,{title:n("system.freq_max","Max Freq"),value:e.frequency.max,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})})]})]})})},{Text:hs,Title:UM}=_e,kD=({memory:e,disk:t,loading:n=!1})=>{const{t:s}=He(),{token:o}=er.useToken(),l=d=>d<60?o.colorSuccess:d<80?o.colorWarning:o.colorError,c=(d,f=1)=>{if(d===0)return"0 B";const h=1024,p=f<0?0:f,g=["B","KB","MB","GB","TB"],x=Math.floor(Math.log(d)/Math.log(h));return parseFloat((d/Math.pow(h,x)).toFixed(p))+" "+g[x]};return a.jsx(le,{loading:n,children:a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(Pt,{gutter:16,align:"middle",children:[a.jsx(De,{span:12,children:a.jsx(Wt,{title:a.jsxs(N,{children:[a.jsx(Gt,{style:{color:l(e.percent)}}),a.jsx("span",{children:s("system.memory","Memory")})]}),value:c(e.used),suffix:`/ ${c(e.total)}`,valueStyle:{color:l(e.percent),fontSize:20}})}),a.jsx(De,{span:12,children:a.jsxs(N,{direction:"vertical",size:4,children:[a.jsxs(hs,{type:"secondary",children:[s("system.available","Available"),": ",c(e.available)]}),a.jsxs(hs,{type:"secondary",children:[s("system.used_percent","Used"),": ",Math.round(e.percent),"%"]})]})})]}),a.jsx(Qn,{percent:Math.round(e.percent),strokeColor:l(e.percent),style:{marginTop:16}}),e.swap_total>0&&a.jsxs("div",{style:{marginTop:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[a.jsx(hs,{strong:!0,children:s("system.swap","Swap")}),a.jsxs(hs,{children:[c(e.swap_used)," / ",c(e.swap_total)]})]}),a.jsx(Qn,{percent:Math.round(e.swap_percent),strokeColor:l(e.swap_percent),size:"small"})]})]}),a.jsx(tr,{style:{margin:0}}),a.jsxs("div",{children:[a.jsxs(Pt,{gutter:16,align:"middle",children:[a.jsx(De,{span:12,children:a.jsx(Wt,{title:a.jsxs(N,{children:[a.jsx(h1,{style:{color:l(t.percent)}}),a.jsxs("span",{children:[s("system.disk","Disk")," (",t.path,")"]})]}),value:c(t.used),suffix:`/ ${c(t.total)}`,valueStyle:{color:l(t.percent),fontSize:20}})}),a.jsx(De,{span:12,children:a.jsxs(N,{direction:"vertical",size:4,children:[a.jsxs(hs,{type:"secondary",children:[s("system.free","Free"),": ",c(t.free)]}),a.jsxs(hs,{type:"secondary",children:[s("system.used_percent","Used"),": ",Math.round(t.percent),"%"]})]})})]}),a.jsx(Qn,{percent:Math.round(t.percent),strokeColor:l(t.percent),style:{marginTop:16}})]})]})})},{Title:DD,Text:cm}=_e;function MD(){const{t:e}=He(),{settings:t}=Ti(),[n,s]=b.useState([]),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,h]=b.useState(!0),[p,g]=b.useState(null),[x,v]=b.useState(!0);b.useEffect(()=>{let T;const E=async()=>{try{const P=await Fm();if(!(P!=null&&P.available)){l(!1),d((P==null?void 0:P.reason)||e("gpu.not_available")),h(!1);return}l(!0),s(P.gpus||[]),h(!1)}catch(P){l(!1),d((P==null?void 0:P.message)||e("gpu.not_available")),h(!1)}};return E(),T=setInterval(E,2e3),()=>clearInterval(T)},[e]),b.useEffect(()=>{let T;const E=async()=>{try{const P=await k1();P!=null&&P.available&&g(P),v(!1)}catch{v(!1)}};return E(),T=setInterval(E,2e3),()=>clearInterval(T)},[]);const S=[];return t.showCpuTab!==!1&&(p!=null&&p.cpu)&&p.cpu.percent!==void 0&&S.push({key:"cpu",label:a.jsxs("span",{children:[a.jsx(Dt,{}),e("performance.tab_cpu","CPU")]}),children:a.jsx(ED,{cpu:p.cpu,loading:x})}),t.showMemoryDiskTab!==!1&&(p!=null&&p.memory)&&(p!=null&&p.disk)&&S.push({key:"memory-disk",label:a.jsxs("span",{children:[a.jsx(Gt,{}),e("performance.tab_memory_disk","Memory & Disk")]}),children:a.jsx(kD,{memory:p.memory,disk:p.disk,loading:x})}),t.showGpuMetricsTab!==!1&&o&&n.length>0&&S.push({key:"gpu-metrics",label:a.jsxs("span",{children:[a.jsx(ea,{}),e("performance.tab_gpu_metrics","GPU Metrics")]}),children:a.jsx(Hm,{gpus:n,loading:f})}),t.showGpuTelemetryTab!==!1&&o&&S.push({key:"gpu-telemetry",label:a.jsxs("span",{children:[a.jsx(Dt,{}),e("performance.tab_gpu_telemetry","GPU Telemetry")]}),children:a.jsx(le,{children:a.jsx(PD,{})})}),a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsx(le,{children:a.jsxs(N,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{children:[a.jsxs(DD,{level:3,style:{margin:0},children:[a.jsx(Ci,{})," ",e("performance.title")]}),a.jsx(Je,{title:e("performance.polling_hint","Auto-polling every 2 seconds"),children:a.jsx(Te,{color:"processing",children:"Real-time"})})]}),(p==null?void 0:p.platform)&&a.jsxs(cm,{type:"secondary",children:[p.platform.system," ",p.platform.release]})]}),a.jsx(cm,{type:"secondary",children:e("performance.desc","Real-time system performance monitoring (CPU, Memory, Disk, GPU)")})]})}),S.length>0?a.jsx(Es,{items:S,defaultActiveKey:"cpu",size:"large",destroyInactiveTabPane:!0}):a.jsx(le,{children:a.jsx(rt,{description:e("performance.no_tabs","No monitoring tabs enabled. Please enable tabs in Settings.")})}),o===!1&&t.showGpuMetricsTab!==!1&&a.jsx(nn,{type:"info",message:e("gpu.not_available"),description:c||e("gpu.no_nvidia_smi"),showIcon:!0})]})}const{Text:ps,Title:ID}=_e;function LD(){const{t:e}=He(),[t,n]=b.useState(!0),[s,o]=b.useState(null),l=async()=>{n(!0);try{const[d,f,h]=await Promise.all([Om(),eu(),zm().catch(()=>({total_artifacts:0}))]);o({health:d,config:f,artifacts:h})}catch(d){console.error("Failed to load system info:",d),ee.error("Failed to load system information")}finally{n(!1)}};b.useEffect(()=>{l()},[]);const c=()=>{var p,g,x,v,S,T,E,P,A,D;if(!s)return;const d=s.config.config_file||"Not available",f=s.config.config_file?s.config.config_file.replace("config.json","rate_limits.json"):"Not available",h=`
Runicorn System Information
===========================

Version Information:
- Runicorn: ${s.health.version}
- Status: ${s.health.status}

Storage Configuration:
- Storage Root: ${s.config.storage||s.config.user_root_dir||"Not configured"}

Configuration Files:
- Main Config: ${d}
- Rate Limit Config: ${f}

Cache Statistics:
- Enabled: ${((p=s.health.cache)==null?void 0:p.enabled)||"N/A"}
- Hit Rate: ${((g=s.health.cache)==null?void 0:g.hit_rate)||"N/A"}
- Hits: ${((x=s.health.cache)==null?void 0:x.hits)||0}
- Misses: ${((v=s.health.cache)==null?void 0:v.misses)||0}
- Size: ${((S=s.health.cache)==null?void 0:S.size)||0}/${((T=s.health.cache)==null?void 0:T.max_size)||0}

Artifacts Statistics:
- Total Artifacts: ${((E=s.artifacts)==null?void 0:E.total_artifacts)||0}
- Total Versions: ${((P=s.artifacts)==null?void 0:P.total_versions)||0}
- Deduplication: ${(A=s.artifacts)!=null&&A.dedup_enabled?"Enabled":"Disabled"}
- Space Saved: ${(D=s.artifacts)!=null&&D.dedup_ratio?(s.artifacts.dedup_ratio*100).toFixed(1)+"%":"N/A"}

Generated: ${new Date().toLocaleString()}
`.trim();navigator.clipboard.writeText(h).then(()=>{ee.success(e("settings.system_info.copied"))}).catch(()=>{ee.error(e("settings.system_info.copy_failed"))})};return t||!s?a.jsxs("div",{style:{padding:24,textAlign:"center"},children:[a.jsx(An,{size:"large"}),a.jsx("div",{style:{marginTop:16},children:a.jsx(ps,{type:"secondary",children:e("settings.system_info.loading")})})]}):a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%",padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(ID,{level:4,style:{margin:0},children:[a.jsx(na,{})," ",e("settings.system_info.title")]}),a.jsxs(N,{children:[a.jsx(he,{icon:a.jsx(Rs,{}),onClick:l,size:"small",children:e("settings.system_info.refresh")}),a.jsx(he,{icon:a.jsx(p1,{}),onClick:c,size:"small",children:e("settings.system_info.copy_all")})]})]}),a.jsx(le,{size:"small",title:e("settings.system_info.version_info"),children:a.jsxs(je,{column:1,size:"small",children:[a.jsx(je.Item,{label:e("settings.system_info.runicorn_version"),children:a.jsx(Te,{color:"blue",children:s.health.version})}),a.jsx(je.Item,{label:e("settings.system_info.api_status"),children:a.jsx(Te,{color:s.health.status==="ok"?"green":"red",children:s.health.status.toUpperCase()})})]})}),a.jsx(le,{size:"small",title:e("settings.system_info.storage_config"),children:a.jsx(je,{column:1,size:"small",children:a.jsx(je.Item,{label:e("settings.system_info.storage_root"),children:a.jsx(ps,{code:!0,copyable:!0,children:s.config.storage||s.config.user_root_dir||"Not configured"})})})}),a.jsx(le,{size:"small",title:e("settings.system_info.config_files"),children:a.jsxs(je,{column:1,size:"small",children:[a.jsx(je.Item,{label:e("settings.system_info.config_file"),children:a.jsx(ps,{code:!0,copyable:!0,style:{fontSize:12},children:s.config.config_file||"Not available"})}),a.jsx(je.Item,{label:e("settings.system_info.rate_limit_config"),children:a.jsx(ps,{code:!0,copyable:!0,style:{fontSize:12},children:s.config.config_file?s.config.config_file.replace("config.json","rate_limits.json"):"Not available"})})]})}),s.health.cache&&a.jsx(le,{size:"small",title:e("settings.system_info.cache_stats"),children:a.jsxs(je,{column:2,size:"small",children:[a.jsx(je.Item,{label:e("settings.system_info.cache_status"),children:a.jsx(Te,{color:s.health.cache.enabled?"green":"default",children:s.health.cache.enabled?"Enabled":"Disabled"})}),a.jsx(je.Item,{label:e("settings.system_info.hit_rate"),children:a.jsx(ps,{strong:!0,children:s.health.cache.hit_rate})}),a.jsx(je.Item,{label:e("settings.system_info.hits"),children:s.health.cache.hits}),a.jsx(je.Item,{label:e("settings.system_info.misses"),children:s.health.cache.misses}),a.jsxs(je.Item,{label:e("settings.system_info.cache_size"),children:[s.health.cache.size," / ",s.health.cache.max_size]})]})}),s.artifacts&&s.artifacts.total_artifacts>0&&a.jsx(le,{size:"small",title:e("settings.system_info.artifacts_stats"),children:a.jsxs(je,{column:2,size:"small",children:[a.jsx(je.Item,{label:e("settings.system_info.total_artifacts"),children:s.artifacts.total_artifacts}),a.jsx(je.Item,{label:e("settings.system_info.total_versions"),children:s.artifacts.total_versions}),a.jsx(je.Item,{label:e("settings.system_info.deduplication"),children:a.jsx(Te,{color:s.artifacts.dedup_enabled?"green":"default",children:s.artifacts.dedup_enabled?"Enabled":"Disabled"})}),s.artifacts.dedup_enabled&&s.artifacts.dedup_ratio&&a.jsx(je.Item,{label:e("settings.system_info.space_saved"),children:a.jsxs(ps,{type:"success",strong:!0,children:[(s.artifacts.dedup_ratio*100).toFixed(1),"%"]})})]})})]})}const OD={"remote.intro":{zh:"Remote Viewer 架构介绍",en:"Remote Viewer Architecture Intro"},"remote.env.selectHint":{zh:"远程环境选择提示",en:"Remote Environment Selection Hint"},"remote.env.checkRunicorn":{zh:"Runicorn版本检查提示",en:"Runicorn Version Check Hint"},"remote.config.pathNotExists":{zh:"存储路径不存在提示",en:"Storage Path Not Exists Hint"}};function FD(){const{t:e,i18n:t}=He(),[n,s]=b.useState([]),[o,l]=b.useState(!1),c=async()=>{l(!0);try{const p=await ex();s(p)}catch{ee.error(e("settings.failedToLoadDismissedAlerts"))}finally{l(!1)}};b.useEffect(()=>{c()},[]);const d=async p=>{try{await pD(p),ee.success(e("settings.alertRestored")),c()}catch{ee.error(e("settings.failedToRestoreAlert"))}},f=async()=>{try{await mD(),ee.success(e("settings.allAlertsRestored")),s([])}catch{ee.error(e("settings.failedToClearAlerts"))}},h=p=>{const g=OD[p];return g?t.language==="zh"?g.zh:g.en:p};return a.jsx(le,{title:e("settings.dismissedAlerts"),extra:n.length>0&&a.jsx(he,{icon:a.jsx(Rs,{}),onClick:f,size:"small",children:e("settings.restoreAll")}),children:n.length===0?a.jsx(rt,{image:rt.PRESENTED_IMAGE_SIMPLE,description:e("settings.noDismissedAlerts")}):a.jsx(vr,{dataSource:n,loading:o,renderItem:p=>a.jsx(vr.Item,{actions:[a.jsx(Je,{title:e("settings.restoreAlert"),children:a.jsx(he,{type:"text",icon:a.jsx(Zc,{}),onClick:()=>d(p)})})],children:a.jsx(vr.Item.Meta,{title:h(p),description:a.jsx("span",{style:{fontSize:"12px",color:"#999"},children:p})})})})})}const zD=[{label:"Aurora",value:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)"},{label:"Sunset",value:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)"},{label:"Ocean",value:"linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)"},{label:"Forest",value:"linear-gradient(135deg, #a8e063 0%, #56ab2f 100%)"}];function $D({open:e,onClose:t,value:n,onChange:s}){const{t:o}=He(),{token:l}=er.useToken(),c=j=>s({...n,...j});o("settings.appearance.density_compact"),o("settings.appearance.density_default"),o("settings.appearance.density_loose");const[d,f]=b.useState(""),[h,p]=b.useState(""),[g,x]=b.useState(!1),[v,S]=b.useState(!1);b.useEffect(()=>{let j=!0;return e&&eu().then(({user_root_dir:R,storage:O})=>{j&&(f(R||""),p(O||""))}).catch(()=>{}),()=>{j=!1}},[e]);const T=async()=>{if(!d||d.trim().length<2){ee.warning(o("settings.messages.enter_valid_path"));return}try{x(!0);const j=await L1(d.trim());p(j.storage),ee.success(o("settings.messages.updated"))}catch(j){ee.error(typeof(j==null?void 0:j.message)=="string"?j.message:o("settings.messages.update_failed"))}finally{x(!1)}},E=()=>a.jsx(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:a.jsx(le,{size:"small",title:a.jsxs(N,{children:[a.jsx(fi,{}),o("settings.cards.theme")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.theme.mode")}),a.jsx(Cs.Group,{value:n.themeMode,onChange:j=>c({themeMode:j.target.value}),options:[{label:o("settings.theme.light"),value:"light"},{label:o("settings.theme.dark"),value:"dark"},{label:o("settings.theme.auto"),value:"auto"}],optionType:"button",style:{width:"100%",marginTop:8}})]}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.appearance.primary_color")}),a.jsx("div",{style:{marginTop:8},children:a.jsx(jh,{value:n.accentColor,onChange:j=>c({accentColor:j.toHexString()}),showText:!0,format:"hex"})})]}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.appearance.density")}),a.jsx(Ol,{value:n.density,onChange:j=>c({density:j}),options:[{label:o("settings.appearance.density_compact"),value:"compact"},{label:o("settings.appearance.density_default"),value:"default"},{label:o("settings.appearance.density_loose"),value:"loose"}],style:{width:"100%",marginTop:8}})]})]})})}),P=()=>a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(le,{size:"small",title:a.jsxs(N,{children:[a.jsx(Sh,{}),o("settings.cards.background")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.type.label")}),a.jsx(Ol,{value:n.backgroundType,onChange:j=>c({backgroundType:j}),options:[{label:o("background.type.image"),value:"image"},{label:o("background.type.gradient"),value:"gradient"},{label:o("background.type.color"),value:"color"}],style:{width:"100%",marginTop:8}})]}),n.backgroundType==="image"&&a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.image_url")}),a.jsx(en,{placeholder:o("background.image_url.placeholder"),value:n.backgroundImageUrl,onChange:j=>c({backgroundImageUrl:j.target.value}),style:{marginTop:8}}),n.backgroundImageUrl&&a.jsx("div",{style:{border:"1px solid #eee",borderRadius:6,overflow:"hidden",marginTop:8},children:a.jsx("img",{src:n.backgroundImageUrl,style:{width:"100%",display:"block",maxHeight:120,objectFit:"cover"},alt:o("background.image_preview")})})]}),n.backgroundType==="gradient"&&a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.gradient_presets")}),a.jsx(Ol,{value:n.backgroundGradient,onChange:j=>c({backgroundGradient:j}),options:zD,style:{width:"100%",marginTop:8}})]}),n.backgroundType==="color"&&a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.color")}),a.jsx("div",{style:{marginTop:8},children:a.jsx(jh,{value:n.backgroundColor,onChange:j=>c({backgroundColor:j.toHexString()}),showText:!0,format:"hex"})})]}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.opacity")}),a.jsx(ri,{min:0,max:1,step:.01,value:n.backgroundOpacity,onChange:j=>c({backgroundOpacity:Array.isArray(j)?j[0]:j}),marks:{0:"0%",.5:"50%",1:"100%"},style:{marginTop:8}})]})]})}),a.jsx(le,{size:"small",title:a.jsxs(N,{children:[a.jsx(Dt,{}),o("settings.cards.visual_effects")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.glass")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.glass.desc")})]}),a.jsx(bt,{checked:n.glass,onChange:j=>c({glass:j})})]}),n.glass&&a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("background.blur")}),a.jsx(ri,{min:0,max:30,step:1,value:n.backgroundBlur,onChange:j=>c({backgroundBlur:Array.isArray(j)?j[0]:j}),marks:{0:"0px",15:"15px",30:"30px"},style:{marginTop:8}})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.animations")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.animations.ui_desc")})]}),a.jsx(bt,{checked:n.animationsEnabled,onChange:j=>c({animationsEnabled:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.chart_animations")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.animations.chart_desc")})]}),a.jsx(bt,{checked:n.enableChartAnimations,onChange:j=>c({enableChartAnimations:j})})]})]})})]}),A=()=>a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(le,{size:"small",title:a.jsxs(N,{children:[a.jsx(Gt,{}),o("settings.cards.storage")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsx(nn,{type:"info",message:o("settings.data.current_storage",{path:h||o("settings.data.not_configured")||"Not configured"}),style:{marginBottom:12}}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.data.user_root.label")}),a.jsx(en,{placeholder:o("settings.data.user_root.placeholder"),value:d,onChange:j=>f(j.target.value),style:{marginTop:8}}),a.jsx(_e.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0 8px 0"},children:o("settings.data.note")}),a.jsx(he,{loading:g,type:"primary",onClick:T,block:!0,children:o("settings.data.save")})]})]})}),a.jsx(le,{size:"small",title:a.jsxs(N,{children:[a.jsx(Qo,{}),o("settings.cards.import_export")]}),children:a.jsx(N,{direction:"vertical",style:{width:"100%"},children:a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("offline_import.title")}),a.jsx(_e.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0"},children:o("offline_import.desc")}),a.jsx(g1.Dragger,{accept:".zip,.tar.gz,.tgz",multiple:!1,showUploadList:!1,disabled:v,beforeUpload:async j=>{try{S(!0);const R=await O1(j),O=((R==null?void 0:R.new_run_ids)||[]).length;ee.success(o("offline_import.success",{count:O}))}catch(R){ee.error(typeof(R==null?void 0:R.message)=="string"?R.message:o("offline_import.failed"))}finally{S(!1)}return!1},style:{padding:"12px"},children:a.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[a.jsx("div",{style:{marginBottom:4,fontSize:"14px"},children:o("offline_import.drag")}),a.jsx("div",{style:{fontSize:"11px",color:l.colorTextSecondary},children:o("offline_import.supports")}),v&&a.jsx("div",{style:{marginTop:4,color:l.colorPrimary,fontSize:"12px"},children:o("offline_import.importing")})]})})]})})}),a.jsx(FD,{})]}),D=()=>a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(le,{size:"small",title:a.jsxs(N,{children:[a.jsx(Dt,{}),o("settings.cards.performance")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.auto_refresh")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.auto_refresh.desc")})]}),a.jsx(bt,{checked:n.autoRefresh,onChange:j=>c({autoRefresh:j})})]}),n.autoRefresh&&a.jsx("div",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.refresh_interval")}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[a.jsx(hc,{min:1,max:60,value:n.refreshInterval,onChange:j=>c({refreshInterval:j||5}),style:{width:80}}),a.jsx("span",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.units.seconds")})]})]})}),a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.charts.default_height")}),a.jsx(ri,{min:200,max:600,step:20,value:n.defaultChartHeight,onChange:j=>c({defaultChartHeight:Array.isArray(j)?j[0]:j}),marks:{200:"200px",300:"300px",400:"400px",600:"600px"},style:{marginTop:8}})]}),a.jsx("div",{children:a.jsxs("div",{style:{marginTop:8},children:[a.jsx(_e.Text,{strong:!0,children:o("settings.charts.max_points")}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[a.jsx(hc,{min:100,max:1e4,step:100,value:n.maxDataPoints,onChange:j=>c({maxDataPoints:j||1e3}),style:{width:120}}),a.jsx("span",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.units.points")})]})]})})]})}),a.jsx(le,{size:"small",title:a.jsxs(N,{children:[a.jsx(y1,{}),o("settings.cards.advanced")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.charts.grid_lines")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.grid_lines.desc")})]}),a.jsx(bt,{checked:n.showGridLines,onChange:j=>c({showGridLines:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(_e.Text,{strong:!0,children:o("settings.performance.sounds")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.sounds.desc")})]}),a.jsx(bt,{checked:n.enableSounds,onChange:j=>c({enableSounds:j})})]}),a.jsx(tr,{style:{margin:"16px 0"}}),a.jsx(_e.Text,{strong:!0,style:{display:"block",marginBottom:12},children:o("settings.performance.tabs_title","Performance Monitor Tabs")}),a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(_e.Text,{children:o("settings.performance.show_cpu_tab","Show CPU Tab")}),a.jsx(bt,{checked:n.showCpuTab,onChange:j=>c({showCpuTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(_e.Text,{children:o("settings.performance.show_memory_disk_tab","Show Memory & Disk Tab")}),a.jsx(bt,{checked:n.showMemoryDiskTab,onChange:j=>c({showMemoryDiskTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(_e.Text,{children:o("settings.performance.show_gpu_metrics_tab","Show GPU Metrics Tab")}),a.jsx(bt,{checked:n.showGpuMetricsTab,onChange:j=>c({showGpuMetricsTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(_e.Text,{children:o("settings.performance.show_gpu_telemetry_tab","Show GPU Telemetry Tab")}),a.jsx(bt,{checked:n.showGpuTelemetryTab,onChange:j=>c({showGpuTelemetryTab:j})})]})]})]})})]});return a.jsx(m1,{title:a.jsxs(N,{children:[a.jsx(Yc,{}),a.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:o("settings.drawer.title")})]}),width:600,open:e,onClose:t,destroyOnClose:!0,styles:{body:{padding:"16px"}},children:a.jsx(Es,{defaultActiveKey:"appearance",items:[{key:"appearance",label:a.jsxs(N,{children:[a.jsx(fi,{}),a.jsx("span",{children:o("settings.tabs.appearance")})]}),children:E()},{key:"layout",label:a.jsxs(N,{children:[a.jsx(Sh,{}),a.jsx("span",{children:o("settings.tabs.layout")})]}),children:P()},{key:"data",label:a.jsxs(N,{children:[a.jsx(Gt,{}),a.jsx("span",{children:o("settings.tabs.data")})]}),children:A()},{key:"performance",label:a.jsxs(N,{children:[a.jsx(Dt,{}),a.jsx("span",{children:o("settings.tabs.performance")})]}),children:D()},{key:"system_info",label:a.jsxs(N,{children:[a.jsx(na,{}),a.jsx("span",{children:o("settings.tabs.system_info")})]}),children:a.jsx(LD,{})}],tabPosition:"top",size:"small"})})}const{Header:ND,Content:VD,Footer:BD}=Mm;function UD(){var R;const e=Am(),n=[e.pathname.startsWith("/performance")?"performance":e.pathname.startsWith("/remote")?"remote":e.pathname.startsWith("/artifacts")?"artifacts":(e.pathname.startsWith("/runs/"),"experiments")],{t:s,i18n:o}=He(),l={themeMode:"auto",accentColor:"#1677ff",density:"default",glass:!0,backgroundType:"gradient",backgroundImageUrl:"",backgroundGradient:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",backgroundColor:"#0b1220",backgroundOpacity:.9,backgroundBlur:8,autoRefresh:!0,refreshInterval:5,animationsEnabled:!0,enableSounds:!1,defaultChartHeight:320,showGridLines:!0,enableChartAnimations:!0,maxDataPoints:1e3,showCpuTab:!0,showMemoryDiskTab:!0,showGpuMetricsTab:!0,showGpuTelemetryTab:!0},[c,d]=b.useState(()=>{try{const O=localStorage.getItem("ui_settings");return O?{...l,...JSON.parse(O)}:l}catch{return l}});b.useEffect(()=>{try{localStorage.setItem("ui_settings",JSON.stringify(c))}catch{}},[c]);const[f,h]=b.useState(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);b.useEffect(()=>{if(!window.matchMedia)return;const O=window.matchMedia("(prefers-color-scheme: dark)"),B=z=>h(z.matches);try{O.addEventListener("change",B)}catch{O.addListener(B)}return()=>{try{O.removeEventListener("change",B)}catch{O.removeListener(B)}}},[]);const p=c.themeMode==="dark"||c.themeMode==="auto"&&f,g=b.useMemo(()=>{const O=[p?er.darkAlgorithm:er.defaultAlgorithm];return c.density==="compact"&&O.push(er.compactAlgorithm),O},[p,c.density]),x=b.useMemo(()=>{const O={colorPrimary:c.accentColor};return c.density==="loose"&&(O.borderRadius=10,O.padding=16),O},[c.accentColor,c.density]),v=b.useMemo(()=>{const O={position:"fixed",inset:0,zIndex:0,pointerEvents:"none",opacity:c.backgroundOpacity,transition:"background 0.3s ease"};return c.backgroundType==="image"&&c.backgroundImageUrl?(O.backgroundImage=`url(${c.backgroundImageUrl})`,O.backgroundSize="cover",O.backgroundRepeat="no-repeat",O.backgroundPosition="center center"):c.backgroundType==="gradient"?O.backgroundImage=c.backgroundGradient:O.background=c.backgroundColor,O},[c.backgroundType,c.backgroundImageUrl,c.backgroundGradient,c.backgroundColor,c.backgroundOpacity]),S=b.useMemo(()=>{const O={borderRadius:8,transition:c.animationsEnabled?"all 0.3s ease":"none"};return c.glass?{...O,background:p?"rgba(0,0,0,0.25)":"rgba(255,255,255,0.6)",backdropFilter:`blur(${c.backgroundBlur}px)`,WebkitBackdropFilter:`blur(${c.backgroundBlur}px)`,boxShadow:p?"0 4px 30px rgba(0,0,0,0.3)":"0 4px 30px rgba(0,0,0,0.1)"}:{...O,background:p?"#111a2c":"#fff"}},[c.glass,c.backgroundBlur,c.animationsEnabled,p]),[T,E]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const O=await eu();(!O.user_root_dir||O.user_root_dir.trim()==="")&&E(!0)}catch{}})()},[]);const[P,A]=b.useState("loading"),[D,j]=b.useState(0);return b.useEffect(()=>{let O=!0;const B=async()=>{try{await Om(),O&&(A("ok"),j(0))}catch{O&&j(G=>{const Y=G+1;return Y>=2&&A("down"),Y})}};B();const z=(c.autoRefresh?c.refreshInterval:5)*1e3,$=setInterval(B,z);return()=>{O=!1,clearInterval($)}},[c.autoRefresh,c.refreshInterval]),a.jsx(x1,{theme:{algorithm:g,token:{...x,motion:c.animationsEnabled}},children:a.jsxs(fC,{value:{settings:c,setSettings:d},children:[a.jsx("div",{style:v}),a.jsxs(Mm,{style:{minHeight:"100vh",position:"relative",zIndex:1,background:"transparent",transition:c.animationsEnabled?"all 0.3s ease":"none"},children:[a.jsxs(ND,{style:{display:"flex",alignItems:"center"},children:[a.jsx("div",{style:{color:"#fff",fontWeight:700,marginRight:24},children:s("app.title")}),a.jsx(v1,{theme:"dark",mode:"horizontal",selectedKeys:n,items:[{key:"experiments",icon:a.jsx(qc,{}),label:a.jsx(So,{to:"/",children:s("menu.experiments")})},{key:"artifacts",icon:a.jsx(Gt,{}),label:a.jsx(So,{to:"/artifacts",children:s("menu.artifacts")})},{key:"performance",icon:a.jsx(Ci,{}),label:a.jsx(So,{to:"/performance",children:s("menu.performance")})},{key:"remote",icon:a.jsx(pi,{}),label:a.jsx(So,{to:"/remote",children:s("menu.remote")})}],style:{flex:1,minWidth:0}}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[P==="ok"&&a.jsx(Te,{color:"green",children:s("tag.api_ok")}),P==="loading"&&a.jsx(Te,{color:"processing",children:s("tag.api_loading")}),P==="down"&&a.jsx(Te,{children:s("tag.api_down")}),a.jsx(ft,{size:"small",value:(R=o.language)!=null&&R.startsWith("zh")?"zh":"en",onChange:O=>o.changeLanguage(O),style:{width:88},options:[{value:"en",label:"EN"},{value:"zh",label:"中文"}]}),a.jsx(he,{type:"link",icon:a.jsx(Yc,{style:{color:"#fff"}}),onClick:()=>E(!0)})]})]}),a.jsx(VD,{style:{padding:"24px"},children:a.jsx("div",{style:{...S,padding:24,minHeight:360},children:a.jsx(qk,{children:a.jsxs(Bj,{children:[a.jsx(us,{path:"/",element:a.jsx(Xk,{})}),a.jsx(us,{path:"/runs/:id",element:a.jsx(TC,{})}),a.jsx(us,{path:"/artifacts",element:a.jsx(Zk,{})}),a.jsx(us,{path:"/artifacts/:name",element:a.jsx(iD,{})}),a.jsx(us,{path:"/performance",element:a.jsx(MD,{})}),a.jsx(us,{path:"/remote",element:a.jsx(TD,{})})]})})})}),a.jsxs(BD,{style:{textAlign:"center"},children:[" ",new Date().getFullYear()," ",s("app.title")]})]}),a.jsx($D,{open:T,onClose:()=>E(!1),value:c,onChange:d})]})})}const be=e=>typeof e=="string",Qs=()=>{let e,t;const n=new Promise((s,o)=>{e=s,t=o});return n.resolve=e,n.reject=t,n},um=e=>e==null?"":""+e,WD=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},HD=/###/g,dm=e=>e&&e.indexOf("###")>-1?e.replace(HD,"."):e,fm=e=>!e||be(e),ui=(e,t,n)=>{const s=be(t)?t.split("."):t;let o=0;for(;o<s.length-1;){if(fm(e))return{};const l=dm(s[o]);!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={},++o}return fm(e)?{}:{obj:e,k:dm(s[o])}},hm=(e,t,n)=>{const{obj:s,k:o}=ui(e,t,Object);if(s!==void 0||t.length===1){s[o]=n;return}let l=t[t.length-1],c=t.slice(0,t.length-1),d=ui(e,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=ui(e,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=n},GD=(e,t,n,s)=>{const{obj:o,k:l}=ui(e,t,Object);o[l]=o[l]||[],o[l].push(n)},Xo=(e,t)=>{const{obj:n,k:s}=ui(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},KD=(e,t,n)=>{const s=Xo(e,n);return s!==void 0?s:Xo(t,n)},tx=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?be(e[s])||e[s]instanceof String||be(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):tx(e[s],t[s],n):e[s]=t[s]);return e},ms=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var qD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const YD=e=>be(e)?e.replace(/[&<>"'\/]/g,t=>qD[t]):e;class XD{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const JD=[" ",",","?","!",";"],ZD=new XD(20),QD=(e,t,n)=>{t=t||"",n=n||"";const s=JD.filter(c=>t.indexOf(c)<0&&n.indexOf(c)<0);if(s.length===0)return!0;const o=ZD.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!o.test(e);if(!l){const c=e.indexOf(n);c>0&&!o.test(e.substring(0,c))&&(l=!0)}return l},Hc=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(n);let o=e;for(let l=0;l<s.length;){if(!o||typeof o!="object")return;let c,d="";for(let f=l;f<s.length;++f)if(f!==l&&(d+=n),d+=s[f],c=o[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&f<s.length-1)continue;l+=f-l+1;break}o=c}return o},bi=e=>e==null?void 0:e.replace("_","-"),eM={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,s;(s=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||s.call(n,console,t)}};class Jo{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||eM,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,o){return o&&!this.debug?null:(be(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Jo(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Jo(this.logger,t)}}var On=new Jo;class ya{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(n)||0;this.observers[s].set(n,o+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o.apply(o,[t,...n])})}}class pm extends ya{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s,o={}){var h,p;const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;t.indexOf(".")>-1?d=t.split("."):(d=[t,n],s&&(Array.isArray(s)?d.push(...s):be(s)&&l?d.push(...s.split(l)):d.push(s)));const f=Xo(this.data,d);return!f&&!n&&!s&&t.indexOf(".")>-1&&(t=d[0],n=d[1],s=d.slice(2).join(".")),f||!c||!be(s)?f:Hc((p=(h=this.data)==null?void 0:h[t])==null?void 0:p[n],s,l)}addResource(t,n,s,o,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[t,n];s&&(d=d.concat(c?s.split(c):s)),t.indexOf(".")>-1&&(d=t.split("."),o=n,n=d[1]),this.addNamespaces(n),hm(this.data,d,o),l.silent||this.emit("added",t,n,s,o)}addResources(t,n,s,o={silent:!1}){for(const l in s)(be(s[l])||Array.isArray(s[l]))&&this.addResource(t,n,l,s[l],{silent:!0});o.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,o,l,c={silent:!1,skipCopy:!1}){let d=[t,n];t.indexOf(".")>-1&&(d=t.split("."),o=s,s=n,n=d[1]),this.addNamespaces(n);let f=Xo(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?tx(f,s,l):f={...f,...s},hm(this.data,d,f),c.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var nx={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,o){return e.forEach(l=>{var c;t=((c=this.processors[l])==null?void 0:c.process(t,n,s,o))??t}),t}};const rx=Symbol("i18next/PATH_KEY");function tM(){const e=[],t=Object.create(null);let n;return t.get=(s,o)=>{var l;return(l=n==null?void 0:n.revoke)==null||l.call(n),o===rx?e:(e.push(o),n=Proxy.revocable(s,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function Gc(e,t){const{[rx]:n}=e(tM());return n.join((t==null?void 0:t.keySeparator)??".")}const mm={},gm=e=>!be(e)&&typeof e!="boolean"&&typeof e!="number";class Zo extends ya{constructor(t,n={}){super(),WD(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=On.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const s={...n};if(t==null)return!1;const o=this.resolve(t,s);return(o==null?void 0:o.res)!==void 0}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const c=s&&t.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!QD(t,s,o);if(c&&!d){const f=t.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:t,namespaces:be(l)?[l]:l};const h=t.split(s);(s!==o||s===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),t=h.join(o)}return{key:t,namespaces:be(l)?[l]:l}}translate(t,n,s){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),t==null)return"";typeof t=="function"&&(t=Gc(t,{...this.options,...o})),Array.isArray(t)||(t=[String(t)]);const l=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(t[t.length-1],o),h=f[f.length-1];let p=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=o.lng||this.language,x=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return x?l?{res:`${h}${p}${d}`,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(o)}:`${h}${p}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(o)}:d;const v=this.resolve(t,o);let S=v==null?void 0:v.res;const T=(v==null?void 0:v.usedKey)||d,E=(v==null?void 0:v.exactUsedKey)||d,P=["[object Number]","[object Function]","[object RegExp]"],A=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,j=o.count!==void 0&&!be(o.count),R=Zo.hasDefaultValue(o),O=j?this.pluralResolver.getSuffix(g,o.count,o):"",B=o.ordinal&&j?this.pluralResolver.getSuffix(g,o.count,{ordinal:!1}):"",z=j&&!o.ordinal&&o.count===0,$=z&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${O}`]||o[`defaultValue${B}`]||o.defaultValue;let G=S;D&&!S&&R&&(G=$);const Y=gm(G),se=Object.prototype.toString.apply(G);if(D&&G&&Y&&P.indexOf(se)<0&&!(be(A)&&Array.isArray(G))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const X=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,G,{...o,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(v.res=X,v.usedParams=this.getUsedParamsDetails(o),v):X}if(c){const X=Array.isArray(G),ie=X?[]:{},ue=X?E:T;for(const oe in G)if(Object.prototype.hasOwnProperty.call(G,oe)){const re=`${ue}${c}${oe}`;R&&!S?ie[oe]=this.translate(re,{...o,defaultValue:gm($)?$[oe]:void 0,joinArrays:!1,ns:f}):ie[oe]=this.translate(re,{...o,joinArrays:!1,ns:f}),ie[oe]===re&&(ie[oe]=G[oe])}S=ie}}else if(D&&be(A)&&Array.isArray(S))S=S.join(A),S&&(S=this.extendTranslation(S,t,o,s));else{let X=!1,ie=!1;!this.isValidLookup(S)&&R&&(X=!0,S=$),this.isValidLookup(S)||(ie=!0,S=d);const oe=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ie?void 0:S,re=R&&$!==S&&this.options.updateMissing;if(ie||X||re){if(this.logger.log(re?"updateKey":"missingKey",g,h,d,re?$:S),c){const ce=this.resolve(d,{...o,keySeparator:!1});ce&&ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&q&&q[0])for(let ce=0;ce<q.length;ce++)Z.push(q[ce]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(o.lng||this.language):Z.push(o.lng||this.language);const Q=(ce,xe,Ge)=>{var Ve;const Ke=R&&Ge!==S?Ge:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(ce,h,xe,Ke,re,o):(Ve=this.backendConnector)!=null&&Ve.saveMissing&&this.backendConnector.saveMissing(ce,h,xe,Ke,re,o),this.emit("missingKey",ce,h,xe,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?Z.forEach(ce=>{const xe=this.pluralResolver.getSuffixes(ce,o);z&&o[`defaultValue${this.options.pluralSeparator}zero`]&&xe.indexOf(`${this.options.pluralSeparator}zero`)<0&&xe.push(`${this.options.pluralSeparator}zero`),xe.forEach(Ge=>{Q([ce],d+Ge,o[`defaultValue${Ge}`]||$)})}):Q(Z,d,$))}S=this.extendTranslation(S,t,o,v,s),ie&&S===d&&this.options.appendNamespaceToMissingKey&&(S=`${h}${p}${d}`),(ie||X)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${d}`:d,X?S:void 0,o))}return l?(v.res=S,v.usedParams=this.getUsedParamsDetails(o),v):S}extendTranslation(t,n,s,o,l){var f,h;if((f=this.i18nFormat)!=null&&f.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=be(t)&&(((h=s==null?void 0:s.interpolation)==null?void 0:h.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const v=t.match(this.interpolator.nestingRegexp);g=v&&v.length}let x=s.replace&&!be(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),t=this.interpolator.interpolate(t,x,s.lng||this.language||o.usedLng,s),p){const v=t.match(this.interpolator.nestingRegexp),S=v&&v.length;g<S&&(s.nest=!1)}!s.lng&&o&&o.res&&(s.lng=this.language||o.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>(l==null?void 0:l[0])===v[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=be(c)?[c]:c;return t!=null&&(d!=null&&d.length)&&s.applyPostProcessor!==!1&&(t=nx.handle(d,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,n={}){let s,o,l,c,d;return be(t)&&(t=[t]),t.forEach(f=>{if(this.isValidLookup(s))return;const h=this.extractFromKey(f,n),p=h.key;o=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const x=n.count!==void 0&&!be(n.count),v=x&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(be(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(E=>{var P,A;this.isValidLookup(s)||(d=E,!mm[`${T[0]}-${E}`]&&((P=this.utils)!=null&&P.hasLoadedNamespace)&&!((A=this.utils)!=null&&A.hasLoadedNamespace(d))&&(mm[`${T[0]}-${E}`]=!0,this.logger.warn(`key "${o}" for languages "${T.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(D=>{var O;if(this.isValidLookup(s))return;c=D;const j=[p];if((O=this.i18nFormat)!=null&&O.addLookupKeys)this.i18nFormat.addLookupKeys(j,p,D,E,n);else{let B;x&&(B=this.pluralResolver.getSuffix(D,n.count,n));const z=`${this.options.pluralSeparator}zero`,$=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&B.indexOf($)===0&&j.push(p+B.replace($,this.options.pluralSeparator)),j.push(p+B),v&&j.push(p+z)),S){const G=`${p}${this.options.contextSeparator||"_"}${n.context}`;j.push(G),x&&(n.ordinal&&B.indexOf($)===0&&j.push(G+B.replace($,this.options.pluralSeparator)),j.push(G+B),v&&j.push(G+z))}}let R;for(;R=j.pop();)this.isValidLookup(s)||(l=R,s=this.getResource(D,E,R,n))}))})}),{res:s,usedKey:o,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s,o={}){var l;return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(t,n,s,o):this.resourceStore.getResource(t,n,s,o)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!be(t.replace);let o=s?t.replace:t;if(s&&typeof t.count<"u"&&(o.count=t.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const l of n)delete o[l]}return o}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}class ym{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=On.create("languageUtils")}getScriptPartFromCode(t){if(t=bi(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=bi(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(be(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const o=this.getScriptPartFromCode(s);if(this.isSupportedCode(o))return n=o;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),be(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),o=[],l=c=>{c&&(this.isSupportedCode(c)?o.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return be(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(t))):be(t)&&l(this.formatLanguageCode(t)),s.forEach(c=>{o.indexOf(c)<0&&l(this.formatLanguageCode(c))}),o}}const xm={zero:0,one:1,two:2,few:3,many:4,other:5},vm={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class nM{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=On.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const s=bi(t==="dev"?"en":t),o=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(s,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),vm;if(!t.match(/-|_/))return vm;const f=this.languageUtils.getLanguagePartFromCode(t);c=this.getRule(f,n)}return this.pluralRulesCache[l]=c,c}needsPlural(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,s={}){return this.getSuffixes(t,s).map(o=>`${n}${o}`)}getSuffixes(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((o,l)=>xm[o]-xm[l]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(t,n,s={}){const o=this.getRule(t,s);return o?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,s))}}const wm=(e,t,n,s=".",o=!0)=>{let l=KD(e,t,n);return!l&&o&&be(n)&&(l=Hc(e,n,s),l===void 0&&(l=Hc(t,n,s))),l},lc=e=>e.replace(/\$/g,"$$$$");class rM{constructor(t={}){var n;this.logger=On.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(s=>s),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:o,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:f,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:x,nestingPrefixEscaped:v,nestingSuffix:S,nestingSuffixEscaped:T,nestingOptionsSeparator:E,maxReplaces:P,alwaysFormat:A}=t.interpolation;this.escape=n!==void 0?n:YD,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?ms(l):c||"{{",this.suffix=d?ms(d):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=x?ms(x):v||ms("$t("),this.nestingSuffix=S?ms(S):T||ms(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=P||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,s,o){var v;let l,c,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=S=>{if(S.indexOf(this.formatSeparator)<0){const A=wm(n,f,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,s,{...o,...n,interpolationkey:S}):A}const T=S.split(this.formatSeparator),E=T.shift().trim(),P=T.join(this.formatSeparator).trim();return this.format(wm(n,f,E,this.options.keySeparator,this.options.ignoreJSONStructure),P,s,{...o,...n,interpolationkey:E})};this.resetRegExp();const p=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((v=o==null?void 0:o.interpolation)==null?void 0:v.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>lc(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?lc(this.escape(S)):lc(S)}].forEach(S=>{for(d=0;l=S.regex.exec(t);){const T=l[1].trim();if(c=h(T),c===void 0)if(typeof p=="function"){const P=p(t,l,o);c=be(P)?P:""}else if(o&&Object.prototype.hasOwnProperty.call(o,T))c="";else if(g){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${t}`),c="";else!be(c)&&!this.useRawValueToEscape&&(c=um(c));const E=S.safeValue(c);if(t=t.replace(l[0],E),g?(S.regex.lastIndex+=c.length,S.regex.lastIndex-=l[0].length):S.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),t}nest(t,n,s={}){let o,l,c;const d=(f,h)=>{const p=this.nestingOptionsSeparator;if(f.indexOf(p)<0)return f;const g=f.split(new RegExp(`${p}[ ]*{`));let x=`{${g[1]}`;f=g[0],x=this.interpolate(x,c);const v=x.match(/'/g),S=x.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!S||S.length%2!==0)&&(x=x.replace(/'/g,'"'));try{c=JSON.parse(x),h&&(c={...h,...c})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,T),`${f}${p}${x}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,f};for(;o=this.nestingRegexp.exec(t);){let f=[];c={...s},c=c.replace&&!be(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const h=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(h!==-1&&(f=o[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),o[1]=o[1].slice(0,h)),l=n(d.call(this,o[1].trim(),c),c),l&&o[0]===t&&!be(l))return l;be(l)||(l=um(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${t}`),l=""),f.length&&(l=f.reduce((p,g)=>this.format(p,g,s.lng,{...s,interpolationkey:o[1].trim()}),l.trim())),t=t.replace(o[0],l),this.regexp.lastIndex=0}return t}}const sM=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);t==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):t==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(c=>{if(c){const[d,...f]=c.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),p=d.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:t,formatOptions:n}},_m=e=>{const t={};return(n,s,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const c=s+JSON.stringify(l);let d=t[c];return d||(d=e(bi(s),o),t[c]=d),d(n)}},iM=e=>(t,n,s)=>e(bi(n),s)(t);class oM{constructor(t={}){this.logger=On.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?_m:iM;this.formats={number:s((o,l)=>{const c=new Intl.NumberFormat(o,{...l});return d=>c.format(d)}),currency:s((o,l)=>{const c=new Intl.NumberFormat(o,{...l,style:"currency"});return d=>c.format(d)}),datetime:s((o,l)=>{const c=new Intl.DateTimeFormat(o,{...l});return d=>c.format(d)}),relativetime:s((o,l)=>{const c=new Intl.RelativeTimeFormat(o,{...l});return d=>c.format(d,l.range||"day")}),list:s((o,l)=>{const c=new Intl.ListFormat(o,{...l});return d=>c.format(d)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=_m(n)}format(t,n,s,o={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(f=>f.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,f)=>{var g;const{formatName:h,formatOptions:p}=sM(f);if(this.formats[h]){let x=d;try{const v=((g=o==null?void 0:o.formatParams)==null?void 0:g[o.interpolationkey])||{},S=v.locale||v.lng||o.locale||o.lng||s;x=this.formats[h](d,S,{...p,...o,...v})}catch(v){this.logger.warn(v)}return x}else this.logger.warn(`there was no format function for ${h}`);return d},t)}}const aM=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class lM extends ya{constructor(t,n,s,o={}){var l,c;super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=On.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(c=(l=this.backend)==null?void 0:l.init)==null||c.call(l,s,o.backend,o)}queueLoad(t,n,s,o){const l={},c={},d={},f={};return t.forEach(h=>{let p=!0;n.forEach(g=>{const x=`${h}|${g}`;!s.reload&&this.store.hasResourceBundle(h,g)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?c[x]===void 0&&(c[x]=!0):(this.state[x]=1,p=!1,c[x]===void 0&&(c[x]=!0),l[x]===void 0&&(l[x]=!0),f[g]===void 0&&(f[g]=!0)))}),p||(d[h]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(t,n,s){const o=t.split("|"),l=o[0],c=o[1];n&&this.emit("failedLoading",l,c,n),!n&&s&&this.store.addResourceBundle(l,c,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const d={};this.queue.forEach(f=>{GD(f.loaded,[l],c),aM(f,t),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{d[h]||(d[h]={});const p=f.loaded[h];p.length&&p.forEach(g=>{d[h][g]===void 0&&(d[h][g]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(t,n,s,o=0,l=this.retryTimeout,c){if(!t.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:o,wait:l,callback:c});return}this.readingCalls++;const d=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,o+1,l*2,c)},l);return}c(h,p)},f=this.backend[s].bind(this.backend);if(f.length===2){try{const h=f(t,n);h&&typeof h.then=="function"?h.then(p=>d(null,p)).catch(d):d(null,h)}catch(h){d(h)}return}return f(t,n,d)}prepareLoading(t,n,s={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();be(t)&&(t=this.languageUtils.toResolveHierarchy(t)),be(n)&&(n=[n]);const l=this.queueLoad(t,n,s,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t,n=""){const s=t.split("|"),o=s[0],l=s[1];this.read(o,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${l} for language ${o} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${l} for language ${o}`,d),this.loaded(t,c,d)})}saveMissing(t,n,s,o,l,c={},d=()=>{}){var f,h,p,g,x;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((x=this.backend)!=null&&x.create){const v={...c,isUpdate:l},S=this.backend.create.bind(this.backend);if(S.length<6)try{let T;S.length===5?T=S(t,n,s,o,v):T=S(t,n,s,o),T&&typeof T.then=="function"?T.then(E=>d(null,E)).catch(d):d(null,T)}catch(T){d(T)}else S(t,n,s,o,d,v)}!t||!t[0]||this.store.addResource(t[0],n,s,o)}}}const bm=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),be(e[1])&&(t.defaultValue=e[1]),be(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Sm=e=>{var t,n;return be(e.ns)&&(e.ns=[e.ns]),be(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),be(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Mo=()=>{},cM=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Si extends ya{constructor(t={},n){if(super(),this.options=Sm(t),this.services={},this.logger=On,this.modules={external:[]},cM(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(be(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=bm();this.options={...s,...this.options,...Sm(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?On.init(o(this.modules.logger),this.options):On.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=oM;const p=new ym(this.options);this.store=new pm(this.options.resources,this.options);const g=this.services;g.logger=On,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new nM(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=o(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new rM(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new lM(o(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.languageDetector&&(g.languageDetector=o(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=o(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Zo(this.services,this.options),this.translator.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Mo),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const d=Qs(),f=()=>{const h=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(g),n(p,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(t,n=Mo){var l,c;let s=n;const o=be(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const d=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&d.indexOf(g)<0&&d.push(g)})};o?f(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),(c=(l=this.options.preload)==null?void 0:l.forEach)==null||c.call(l,h=>f(h)),this.services.backendConnector.load(d,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(h)})}else s(null)}reloadResources(t,n,s){const o=Qs();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=Mo),this.services.backendConnector.reload(t,n,l=>{o.resolve(),s(l)}),o}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&nx.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const s=Qs();this.emit("languageChanging",t);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,f)=>{f?this.isLanguageChangingTo===t&&(o(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,s.resolve((...h)=>this.t(...h)),n&&n(d,(...h)=>this.t(...h))},c=d=>{var p,g;!t&&!d&&this.services.languageDetector&&(d=[]);const f=be(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(be(d)?[d]:d);h&&(this.language||o(h),this.translator.language||this.translator.changeLanguage(h),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,h)),this.loadResources(h,x=>{l(x,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),s}getFixedT(t,n,s){const o=(l,c,...d)=>{let f;typeof c!="object"?f=this.options.overloadTranslationOptionHandler([l,c].concat(d)):f={...c},f.lng=f.lng||o.lng,f.lngs=f.lngs||o.lngs,f.ns=f.ns||o.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||s||o.keyPrefix);const h=this.options.keySeparator||".";let p;return f.keyPrefix&&Array.isArray(l)?p=l.map(g=>(typeof g=="function"&&(g=Gc(g,{...this.options,...c})),`${f.keyPrefix}${h}${g}`)):(typeof l=="function"&&(l=Gc(l,{...this.options,...c})),p=f.keyPrefix?`${f.keyPrefix}${h}${l}`:l),this.t(p,f)};return be(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=s,o}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,f)=>{const h=this.services.backendConnector.state[`${d}|${f}`];return h===-1||h===0||h===2};if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,t)&&(!o||c(l,t)))}loadNamespaces(t,n){const s=Qs();return this.options.ns?(be(t)&&(t=[t]),t.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=Qs();be(t)&&(t=[t]);const o=this.options.preload||[],l=t.filter(c=>o.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=o.concat(l),this.loadResources(c=>{s.resolve(),n&&n(c)}),s):(n&&n(),Promise.resolve())}dir(t){var o,l;if(t||(t=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const c=new Intl.Locale(t);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((l=this.services)==null?void 0:l.languageUtils)||new ym(bm());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new Si(t,n)}cloneInstance(t={},n=Mo){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const o={...this.options,...t,isClone:!0},l=new Si(o);if((t.debug!==void 0||t.prefix!==void 0)&&(l.logger=l.logger.clone(t)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const d=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((p,g)=>(p[g]={...f[h][g]},p),f[h]),f),{});l.store=new pm(d,o),l.services.resourceStore=l.store}return l.translator=new Zo(l.services,o),l.translator.on("*",(d,...f)=>{l.emit(d,...f)}),l.init(o,n),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Mt=Si.createInstance();Mt.createInstance=Si.createInstance;Mt.createInstance;Mt.dir;Mt.init;Mt.loadResources;Mt.reloadResources;Mt.use;Mt.changeLanguage;Mt.getFixedT;Mt.t;Mt.exists;Mt.setDefaultNamespace;Mt.hasLoadedNamespace;Mt.loadNamespaces;Mt.loadLanguages;var sx=[],uM=sx.forEach,dM=sx.slice;function fM(e){return uM.call(dM.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var jm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,hM=function(t,n,s){var o=s||{};o.path=o.path||"/";var l=encodeURIComponent(n),c="".concat(t,"=").concat(l);if(o.maxAge>0){var d=o.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+="; Max-Age=".concat(Math.floor(d))}if(o.domain){if(!jm.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain=".concat(o.domain)}if(o.path){if(!jm.test(o.path))throw new TypeError("option path is invalid");c+="; Path=".concat(o.path)}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+="; Expires=".concat(o.expires.toUTCString())}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite){var f=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(f){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c},Cm={create:function(t,n,s,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+s*60*1e3)),o&&(l.domain=o),document.cookie=hM(t,encodeURIComponent(n),l)},read:function(t){for(var n="".concat(t,"="),s=document.cookie.split(";"),o=0;o<s.length;o++){for(var l=s[o];l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(n)===0)return l.substring(n.length,l.length)}return null},remove:function(t){this.create(t,"",-1)}},pM={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var s=Cm.read(t.lookupCookie);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&Cm.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},mM={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));for(var o=s.substring(1),l=o.split("&"),c=0;c<l.length;c++){var d=l[c].indexOf("=");if(d>0){var f=l[c].substring(0,d);f===t.lookupQuerystring&&(n=l[c].substring(d+1))}}}return n}},ei=null,Tm=function(){if(ei!==null)return ei;try{ei=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{ei=!1}return ei},gM={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&Tm()){var s=window.localStorage.getItem(t.lookupLocalStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&Tm()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},ti=null,Rm=function(){if(ti!==null)return ti;try{ti=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ti=!1}return ti},yM={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&Rm()){var s=window.sessionStorage.getItem(t.lookupSessionStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&Rm()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},xM={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var s=0;s<navigator.languages.length;s++)n.push(navigator.languages[s]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},vM={name:"htmlTag",lookup:function(t){var n,s=t.htmlTag||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},wM={name:"path",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(s instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof s[t.lookupFromPathIndex]!="string")return;n=s[t.lookupFromPathIndex].replace("/","")}else n=s[0].replace("/","")}return n}},_M={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,s=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}},ix=!1;try{document.cookie,ix=!0}catch{}var ox=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ix||ox.splice(1,1);function bM(){return{order:ox,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var ax=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_1(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return w1(e,[{key:"init",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=fM(s,this.options||{},bM()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(l){return l.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(pM),this.addDetector(mM),this.addDetector(gM),this.addDetector(yM),this.addDetector(xM),this.addDetector(vM),this.addDetector(wM),this.addDetector(_M)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var s=this;n||(n=this.options.order);var o=[];return n.forEach(function(l){if(s.detectors[l]){var c=s.detectors[l].lookup(s.options);c&&typeof c=="string"&&(c=[c]),c&&(o=o.concat(c))}}),o=o.map(function(l){return s.options.convertDetectedLanguage(l)}),this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}},{key:"cacheUserLanguage",value:function(n,s){var o=this;s||(s=this.options.caches),s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||s.forEach(function(l){o.detectors[l]&&o.detectors[l].cacheUserLanguage(n,o.options)}))}}])}();ax.type="languageDetector";const SM={"app.title":"Runicorn Viewer","menu.runs":"Runs","menu.experiments":"Experiments","menu.comparison":"Comparison","menu.artifacts":"Artifacts","menu.performance":"Performance Monitor","menu.remote":"Remote","tag.api_ok":"API OK","tag.api_loading":"API…","tag.api_down":"API DOWN","table.project":"Project","table.name":"Name","table.run_id":"Run ID","table.status":"Status","table.best_metric":"Best Metric","table.pid":"PID","table.created":"Created","table.actions":"Actions","table.view":"View","table.duration":"Duration",pause:"Pause",Info:"Info",View:"View","Load Lineage Graph":"Load Lineage Graph",actions:"Actions",view:"View",edit:"Edit","common.dontShowAgain":"Don't show again",delete:"Delete",download:"Download",upload:"Upload",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close"},jM={"experiments.title":"Experiments","experiments.subtitle":"Track, compare, and analyze your experiments with metrics and logs","experiments.total_runs":"Total Runs","experiments.running":"Running","experiments.finished":"Finished","experiments.failed":"Failed","experiments.interrupted":"Interrupted","experiments.best_metric":"Best Metric","experiments.artifacts_created":"Artifacts","experiments.artifacts_created_tip":"{{count}} artifacts created","experiments.search_placeholder":"Search by name or ID...","experiments.compare":"Compare","experiments.export":"Export","experiments.delete":"Delete","experiments.cancel":"Cancel","experiments.fetch_failed":"Failed to fetch runs","experiments.delete_confirm_title":"Delete Runs","experiments.delete_confirm_content":"Delete {{count}} selected runs? This cannot be undone.","experiments.delete_success":"Successfully deleted {{count}} runs","experiments.delete_failed":"Failed to delete runs","experiments.export_started":"Exporting runs...","experiments.select_multiple":"Please select at least 2 runs to compare","experiments.compare_hint":"Use the comparison feature in the run detail page","experiments.select_one":"Please select at least one run to export","experiments.export_success":"Successfully exported {{count}} runs","experiments.export_failed":"Failed to export runs","experiments.export_json":"Export as JSON","experiments.export_csv":"Export as CSV","experiments.auto_refresh":"Auto-refresh","experiments.check_status":"Check Status","experiments.check_status_tooltip":"Check if running experiments are still alive and update their status","experiments.move_to_bin_title":"Move to Recycle Bin","experiments.soft_delete_confirm_content":"Move {{count}} selected runs to recycle bin?","experiments.soft_delete_note":"Files will be preserved and can be restored later.","experiments.move_to_bin":"Move to Bin","experiments.soft_delete_success":"Moved {{count}} runs to recycle bin","experiments.new_runs":"New runs detected","experiments.select_one_delete":"Please select at least one run to delete","experiments.delete_warning":"This cannot be undone!","experiments.no_runs":"No experiments found","experiments.table_total":"{{from}}-{{to}} of {{total}} items","runs.refresh":"Refresh","runs.auto_refresh_hint":"Auto refresh every 5s","runs.auto_refresh":"Auto Refresh","runs.filter.project":"Project:","runs.filter.name":"Name:","runs.filter.all":"All","runs.refreshing":"Refreshing...","run.title":"Run {{id}}","run.descriptions.status":"Status","run.descriptions.pid":"PID","run.descriptions.project":"Project","run.descriptions.name":"Name","run.descriptions.dir":"Run Dir","run.descriptions.logs":"Logs","run.descriptions.metrics":"Metrics Events","run.load_failed":"Failed to load run details","run.metrics_failed":"Failed to load metrics","run.stats.duration":"Duration","run.stats.total_steps":"Total Steps","run.stats.artifacts":"Artifacts","run.more_details":"More Details (Paths, Logs)","run.descriptions.run_id":"Run ID","run.descriptions.run_dir":"Run Dir","run.descriptions.log_file":"Log File","run.updated":"Updated: {{time}}","run.refresh":"Refresh","run.refreshed":"Refreshed","metrics.title":"Metrics","metrics.more_columns":"More Columns","metrics.more_columns_tooltip":"Display charts in multiple columns for better comparison","metrics.none":"No step metrics yet.","logs.title":"Live Logs","logs.status.connected":"Connected","logs.status.connecting":"Connecting...","logs.status.disconnected":"Disconnected","logs.status.retry_in":"retry in {{sec}}s","logs.tooltip.autoscroll":"Automatically scroll to the latest line","logs.autoscroll":"Auto Scroll","logs.tooltip.filter_tqdm":"Hide tqdm progress frames to reduce noise","logs.filter_tqdm":"Filter tqdm","logs.clear":"Clear","logs.copy":"Copy","logs.copied":"Copied logs to clipboard","logs.copy_failed":"Copy failed","gpu.util":"Util","gpu.mem":"Memory","gpu.power":"Power","gpu.temp":"Temp","gpu.chart.util":"GPU Utilization %","gpu.chart.mem":"Memory Used %","gpu.chart.power":"Power (W)","gpu.chart.temp":"Temperature (°C)","gpu.not_available":"GPU telemetry not available","gpu.title":"GPU Telemetry","gpu.detail":"GPUs: {{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"Polling every 2s","gpu.monitor_title":"GPU Monitor","gpu.monitor_desc":"Real-time GPU metrics and performance telemetry","gpu.telemetry_charts":"GPU Telemetry","gpu.history_2min":"Last 2 minutes","gpu.no_nvidia_smi":"nvidia-smi not found","gpu.polling_every_2s":"Auto-polling every 2 seconds","system.title":"System Metrics","system.cpu":"CPU","system.memory":"Memory","system.disk":"Disk","system.cpu_cores":"Cores","system.logical":"logical","system.frequency":"Freq","system.available":"Available","system.swap":"Swap","system.free":"Free","system.used_percent":"Used","system.cpu_overall":"Overall CPU Usage","system.cpu_per_core":"Per-Core Utilization","system.freq_current":"Current Freq","system.freq_min":"Min Freq","system.freq_max":"Max Freq","performance.title":"Performance Monitor","performance.desc":"Real-time system performance monitoring (CPU, Memory, Disk, GPU)","performance.polling_hint":"Auto-polling every 2 seconds","performance.tab_cpu":"CPU","performance.tab_memory_disk":"Memory & Disk","performance.tab_gpu_metrics":"GPU Metrics","performance.tab_gpu_telemetry":"GPU Telemetry","performance.no_tabs":"No monitoring tabs enabled. Please enable tabs in Settings.","compare.title":"Compare Runs (Same Experiment)","compare.select.runs":"Runs:","compare.select.runs.placeholder":"Select runs to overlay","compare.select.metrics":"Metrics:","compare.select.metrics.placeholder":"Select metric keys","compare.stepx":"Step X:","compare.refresh":"Refresh","compare.tip":"Select one or more runs and metrics to overlay.","comparison.select_runs":"Select Runs","comparison.select_runs_placeholder":"Choose runs to compare","comparison.select_metrics":"Select Metrics","comparison.select_metrics_placeholder":"Choose metrics to display","comparison.refresh":"Refresh","comparison.x_axis":"X-Axis","comparison.fetch_failed":"Failed to fetch runs","comparison.load_failed":"Failed to load metrics","comparison.loading":"Loading metrics...","comparison.no_runs_selected":"Select runs to start comparison","comparison.no_metrics_selected":"No metrics available or selected","comparison.need_multiple":"Please select at least 2 runs for comparison","comparison.best_results":"Best Results","comparison.info_title":"Cross-Experiment Comparison","comparison.info_desc":"Compare runs across different projects and experiments. For comparing runs within the same experiment, use the comparison feature in the run detail page.","recycle_bin.title":"Recycle Bin","recycle_bin.tooltip":"View and restore deleted experiments","recycle_bin.description":"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.","recycle_bin.original_status":"Original Status","recycle_bin.deleted_at":"Deleted At","recycle_bin.restore_single":"Restore this run","recycle_bin.restore_selected":"Restore Selected","recycle_bin.empty_bin":"Empty Bin","recycle_bin.empty_confirm_title":"Empty Recycle Bin","recycle_bin.empty_confirm_desc":"This will permanently delete all runs in recycle bin. This cannot be undone!","recycle_bin.empty_confirm":"Yes, Delete All","recycle_bin.fetch_failed":"Failed to load recycle bin","recycle_bin.select_to_restore":"Please select runs to restore","recycle_bin.restore_success":"Restored {{count}} runs","recycle_bin.restore_failed":"Failed to restore runs","recycle_bin.empty_success":"Permanently deleted {{count}} runs","recycle_bin.empty_failed":"Failed to empty recycle bin","recycle_bin.empty_state":"Recycle bin is empty","recycle_bin.selection_info":"{{count}} runs selected for restoration","recycle_bin.table_total":"{{from}}-{{to}} of {{total}} items"},CM={"menu.artifacts":"Artifacts","artifacts.title":"Artifacts","artifacts.description":"Version-controlled models, datasets, and files","artifacts.type.all":"All Types","artifacts.type.model":"Models","artifacts.type.dataset":"Datasets","artifacts.type.config":"Configs","artifacts.type.code":"Code","artifacts.type.custom":"Custom","artifacts.search_placeholder":"Search artifacts...","artifacts.no_artifacts":"No artifacts found","artifacts.create_first":"Create your first artifact by logging it from your training code","artifacts.latest_version":"Latest: v{{version}}","artifacts.versions_count":"{{count}} versions","artifacts.size":"Size","artifacts.files":"Files","artifacts.created":"Created","artifacts.updated":"Updated","artifacts.aliases":"Aliases","artifacts.view_versions":"View Versions","artifacts.download":"Download","artifacts.delete":"Delete","artifacts.delete_confirm":"Delete artifact {{name}}:v{{version}}?","artifacts.delete_warning":"This action cannot be undone!","artifacts.stats.total":"Total Artifacts","artifacts.stats.total_versions":"Total Versions","artifacts.stats.total_size":"Total Size","artifacts.stats.dedup_saved":"Space Saved (Dedup)","artifact.detail.title":"Artifact: {{name}}","artifact.detail.version":"Version {{version}}","artifact.detail.type":"Type","artifact.detail.status":"Status","artifact.detail.created_by":"Created By","artifact.detail.created_at":"Created At","artifact.detail.size":"Size","artifact.detail.files_count":"Files","artifact.detail.description":"Description","artifact.detail.metadata":"Metadata","artifact.detail.tags":"Tags","artifact.detail.no_description":"No description provided","artifact.detail.no_metadata":"No metadata","artifact.detail.no_tags":"No tags","artifact.detail.storage_path":"Storage Path","artifact.versions.title":"Version History","artifact.versions.current":"Current Version","artifact.versions.all":"All Versions","artifact.versions.compare":"Compare Versions","artifact.versions.version":"Version","artifact.versions.date":"Date","artifact.versions.run":"Run","artifact.versions.size":"Size","artifact.versions.files":"Files","artifact.versions.actions":"Actions","artifact.files.title":"Files","artifact.files.name":"Name","artifact.files.size":"Size","artifact.files.hash":"Hash","artifact.files.download_file":"Download File","artifact.files.no_files":"No files in this artifact","artifact.references.title":"External References","artifact.references.uri":"URI","artifact.references.checksum":"Checksum","artifact.references.no_references":"No external references","artifact.lineage.title":"Lineage Graph","artifact.lineage.description":"Shows how this artifact was created and how it is used","artifact.lineage.upstream":"Upstream Dependencies","artifact.lineage.downstream":"Downstream Usage","artifact.lineage.no_dependencies":"No dependencies found","artifact.lineage.loading":"Loading lineage graph...","artifact.lineage.error":"Failed to load lineage graph","artifact.lineage.node.artifact":"Artifact","artifact.lineage.node.run":"Run","artifact.lineage.edge.uses":"uses","artifact.lineage.edge.produces":"produces","artifact.training.tab":"Training History","artifact.training.title":"Training Information","artifact.training.no_data":"No training information available","artifact.training.view_run":"View Training Run","artifact.training.run_name":"Run Name","artifact.training.project":"Project","artifact.training.status":"Status","artifact.training.duration":"Duration","artifact.training.created_at":"Created At","artifact.training.key_metrics":"Key Metrics","artifact.performance.tab":"Performance","artifact.performance.title":"Performance History","artifact.performance.no_data":"No performance data available","artifact.performance.select_metrics":"Select metrics to display","artifact.performance.select_metrics_hint":"Please select metrics to display","artifact.performance.metrics":"Metrics","artifacts.stage":"Stage","artifacts.stage.experimental":"Experimental","artifacts.stage.staging":"Staging","artifacts.stage.production":"Production","artifacts.stage.archived":"Archived"},TM={"remote.title":"Remote Viewer","remote.subtitle":"Connect to remote server via SSH and start Viewer","remote.form.title":"Step 1: Connect to Remote Server","remote.form.connectButton":"Connect to Server","remote.form.host":"Remote Host","remote.form.hostPlaceholder":"192.168.1.100 or server.example.com","remote.form.port":"SSH Port","remote.form.username":"Username","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"Authentication Method","remote.form.password":"Password","remote.form.passwordAuth":"Password","remote.form.keyAuth":"Private Key","remote.form.privateKey":"Private Key Path","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"Passphrase (optional)","remote.form.remoteRoot":"Remote Storage Path","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"Local Port","remote.form.localPortHelp":"Leave empty to auto-assign","remote.form.remotePort":"Remote Port","remote.form.saveConfig":"Save this connection","remote.form.savePassword":"Also save password (insecure, use with caution)","remote.form.saveName":"Configuration Name","remote.form.saveNamePlaceholder":"GPU Server - Lab","remote.form.browse":"Browse...","remote.form.connect":"Connect and Start Viewer","remote.form.testConnection":"Test Connection","remote.form.cancel":"Cancel","remote.form.enterPassword":"Enter Password","remote.form.connectionTo":"Connection to","remote.form.required":"is required","remote.session.title":"Active Sessions","remote.session.noActiveSessions":"No active sessions","remote.session.startNewConnection":"Start a new connection to begin","remote.session.localAccess":"Local Access","remote.session.remotePath":"Remote Path","remote.session.sshPort":"SSH Port","remote.session.remotePort":"Remote Viewer Port","remote.session.remotePid":"Remote PID","remote.session.startedAt":"Started At","remote.session.open":"Open Viewer","remote.session.stop":"Stop","remote.session.disconnect":"Disconnect","remote.session.reconnect":"Reconnect","remote.status.connecting":"Connecting...","remote.status.running":"Running","remote.status.stopping":"Stopping...","remote.status.stopped":"Stopped","remote.status.error":"Error","remote.status.disconnected":"Disconnected","remote.saved.title":"Saved Connections","remote.saved.quickStart":"Quick Start","remote.saved.connectOnly":"Connect Only","remote.saved.edit":"Edit","remote.saved.delete":"Delete","remote.saved.empty":"No saved connections","remote.saved.emptyHint":"Save frequently used connection configs for quick access","remote.message.connectSuccess":"SSH connected successfully","remote.message.connectFailed":"Failed to connect via SSH","remote.message.viewerStarted":"Remote Viewer started successfully!","remote.message.viewerStartFailed":"Failed to start Remote Viewer","remote.message.viewerStopped":"Remote Viewer stopped","remote.message.viewerStopFailed":"Failed to stop Remote Viewer","remote.message.disconnected":"Disconnected","remote.message.disconnectFailed":"Failed to disconnect","remote.message.testSuccess":"Connection test successful","remote.message.testFailed":"Connection test failed","remote.message.configSaved":"Configuration saved","remote.message.configDeleted":"Configuration deleted","remote.message.confirmDelete":"Are you sure you want to delete this connection?","remote.message.confirmDisconnect":"Are you sure you want to disconnect? This will stop the remote Viewer.","remote.message.sessionLost":"Session disconnected. Reconnect?","remote.message.passwordNotSaved":"Password not saved, please re-enter password","remote.message.incompleteConfig":"Incomplete connection config, please reconfigure","remote.message.cancelled":"Cancelled","remote.error.sshAuthFailed":"SSH authentication failed. Please check username and password","remote.error.remotePathNotFound":"Remote path does not exist","remote.error.portInUse":"Local port is already in use","remote.error.connectionTimeout":"Connection timeout","remote.error.invalidConfig":"Invalid configuration","remote.error.unknown":"Unknown error","remote.help.title":"Help","remote.help.step1":"1. Fill in SSH connection info for remote server","remote.help.step2":"2. Choose authentication method (password or key)","remote.help.step3":"3. Specify remote storage path","remote.help.step4":'4. Click "Connect and Start Viewer"',"remote.help.step5":"5. Wait for Remote Viewer to start","remote.help.step6":'6. Click "Open Viewer" to access in new window',"remote.help.architecture":"Remote Viewer uses a VSCode Remote-like architecture, running Viewer on remote server and accessing via SSH tunnel.","remote.help.advantages":"Advantages: Real-time access, no sync needed, saves storage","remote.stats.activeSessions":"Active Sessions","remote.stats.savedConfigs":"Saved Configs","remote.stats.connectedServers":"Connected Servers","remote.env.title":"Select Conda Environment","remote.env.selectHint":"Multiple Python environments detected","remote.env.selectDescription":"Please select the conda environment you want to use. The system will check if runicorn is installed in that environment.","remote.env.default":"Default","remote.env.system":"System","remote.env.checkRunicorn":"Will check runicorn installation","remote.env.checkRunicornHint":"If runicorn is not installed in the selected environment, you will be prompted to install it.","remote.env.continue":"Continue","remote.env.detecting":"Detecting Environment","remote.env.detectingEnvironment":"Detecting {{env}} environment, please wait...","remote.env.detectFailed":"Detection failed","remote.env.detectFailedMessage":"Unable to detect Python and Runicorn versions in this environment. Please check network connection or environment configuration.","remote.env.runicornNotInstalled":"Not installed","remote.env.runicornNotInstalledTitle":"Runicorn Not Installed","remote.env.runicornNotInstalledMessage":"The selected environment does not have Runicorn installed, cannot start Remote Viewer.","remote.env.installInstructions":"Please install Runicorn on the remote server:","remote.env.activateCommand":"Activate environment","remote.env.installCommand":"Install Runicorn","remote.env.versionTooOldTitle":"Runicorn Version Too Old","remote.env.versionTooOldMessage":"The remote Runicorn version is {{version}}, which is below 0.5.0 and does not support Remote Viewer.","remote.env.upgradeInstructions":"Please upgrade to the latest version:","remote.env.versionMismatchTitle":"Runicorn Version Mismatch","remote.env.versionMismatchMessage":"Local and remote Runicorn versions do not match, which may cause functionality issues or degraded experience.","remote.env.localVersion":"Local Version","remote.env.remoteVersion":"Remote Version","remote.env.versionMismatchWarning":"It is recommended to keep versions consistent for the best experience, but you can still continue.","remote.env.continueAnyway":"Continue Anyway","remote.env.noEnvs":"No Python environments detected","remote.env.fetching":"Detecting conda environments...","remote.env.detectingEnvironments":"Detecting Python environments, please wait...","remote.config.title":"Step 3: Confirm Server Configuration","remote.config.connected":"SSH Connected Successfully","remote.config.pythonVersion":"Python Version","remote.config.runicornVersion":"Runicorn Version","remote.config.storageRoot":"Storage Root","remote.config.exists":"Exists","remote.config.notExists":"Not Exists","remote.config.suggestedPort":"Suggested Port","remote.config.confirmStorageRoot":"Confirm Remote Storage Root","remote.config.startViewer":"Start Remote Viewer","remote.config.pathNotExistsWarning":"Storage path does not exist","remote.config.pathNotExistsHint":"The directory will be created automatically on first use","remote.config.fetchingConfig":"Fetching server configuration...","remote.config.fetchFailed":"Failed to fetch server configuration"},RM={"settings.system_info.title":"System Information","settings.system_info.refresh":"Refresh","settings.system_info.copy_all":"Copy All","settings.system_info.copied":"System information copied to clipboard","settings.system_info.copy_failed":"Failed to copy to clipboard","settings.system_info.loading":"Loading system information...","settings.system_info.version_info":"Version Information","settings.system_info.runicorn_version":"Runicorn Version","settings.system_info.api_status":"API Status","settings.system_info.storage_config":"Storage Configuration","settings.system_info.storage_root":"Storage Root","settings.system_info.config_files":"Configuration Files","settings.system_info.config_file":"Main Config","settings.system_info.rate_limit_config":"Rate Limit Config","settings.system_info.cache_stats":"Cache Statistics","settings.system_info.cache_status":"Status","settings.system_info.hit_rate":"Hit Rate","settings.system_info.hits":"Hits","settings.system_info.misses":"Misses","settings.system_info.cache_size":"Cache Size","settings.system_info.artifacts_stats":"Artifacts Statistics","settings.system_info.total_artifacts":"Total Artifacts","settings.system_info.total_versions":"Total Versions","settings.system_info.deduplication":"Deduplication","settings.system_info.space_saved":"Space Saved","settings.system_info.help_text":'This information is useful for debugging and support. Click "Copy All" to copy all details to clipboard.',"settings.drawer.title":"Settings","settings.theme.title":"Theme","settings.theme.mode":"Mode","settings.theme.light":"Light","settings.theme.dark":"Dark","settings.theme.auto":"Follow System","settings.appearance.primary_color":"Primary Color","settings.appearance.density":"Density","settings.appearance.density_compact":"Compact (high info density)","settings.appearance.density_default":"Default","settings.appearance.density_loose":"Loose (more whitespace)","settings.glass":"Glass effect","settings.glass.on":"On","settings.glass.off":"Off","settings.performance.auto_refresh":"Auto Refresh","settings.performance.refresh_interval":"Refresh Interval","settings.performance.animations":"UI Animations","settings.performance.chart_animations":"Chart Animations","settings.performance.sounds":"Sound Notifications","settings.charts.default_height":"Default Chart Height","settings.charts.grid_lines":"Show Grid Lines","settings.charts.max_points":"Max Data Points","settings.animations.ui_desc":"Page transitions, hover effects, modal animations","settings.animations.chart_desc":"Chart data loading animations, smooth transitions","settings.units.seconds":"seconds","settings.units.points":"points","settings.units.pixels":"px","settings.data.not_configured":"Not configured","settings.auto_refresh.desc":"Automatically refresh experiment data","settings.grid_lines.desc":"Display grid lines in charts for better readability","settings.sounds.desc":"Play notification sounds for alerts and status changes","settings.glass.desc":"Glass morphism effect with background blur","settings.tabs.appearance":"Appearance","settings.tabs.layout":"Layout","settings.tabs.data":"Data","settings.tabs.performance":"Performance","settings.tabs.system_info":"System Info","settings.cards.theme":"Theme","settings.cards.background":"Background","settings.cards.visual_effects":"Visual Effects","settings.cards.storage":"Storage Settings","settings.cards.import_export":"Import & Export","settings.cards.performance":"Performance","settings.cards.advanced":"Advanced","settings.data.title":"Data Directory","settings.data.current_storage":"Current storage: {{path}}","settings.data.user_root.label":"User root directory (lower priority than env RUNICORN_DIR)","settings.data.user_root.placeholder":"e.g. D:\\RunicornData","settings.data.note":"Saved to user config and takes effect immediately. If RUNICORN_DIR is set, it has higher priority.","settings.data.save":"Save Data Directory","settings.messages.enter_valid_path":"Please enter a valid absolute path (e.g. D:\\RunicornData)","settings.messages.updated":"User root updated","settings.messages.update_failed":"Update failed","background.title":"Background","background.type.label":"Background Type","background.type.image":"Image","background.type.gradient":"Gradient","background.type.color":"Color","background.image_url":"Image URL","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"Background preview","background.gradient_presets":"Gradient presets","background.color":"Background color","background.opacity":"Opacity","background.blur":"Blur","offline_import.title":"Offline Import (zip / tar.gz)","offline_import.desc":"Import runs exported from offline Linux servers into the local storage for viewing.","offline_import.drag":"Drag file here or click to select","offline_import.supports":"Supports .zip / .tar.gz (internal layout: project/name/runs/<run_id>)","offline_import.importing":"Importing…","offline_import.success":"Imported {{count}} new runs.","offline_import.failed":"Import failed","remote_moved.title":"Remote Sync","remote_moved.tip":'Remote live sync has moved to a dedicated page. Use the top "Remote" menu or click to open.',"chart.controls.title":"Chart Controls","chart.log_y":"Log Scale Y","chart.log_y_tooltip":"Use logarithmic y-axis (hides non-positive values)","chart.auto_scale":"Auto Scale Y","chart.auto_scale_tooltip":"Dynamic y-axis (do not force start at 0)","chart.smooth":"Smoothing","chart.smooth_tooltip":"Exponential moving average smoothing","chart.x_axis":"X Axis","chart.x_axis_tooltip":"X-axis source column","chart.export_csv":"Export CSV","chart.y_axis_controls":"Y-Axis","chart.linear":"Linear","chart.log":"Log","chart.auto":"Auto","chart.fixed":"Fixed","chart.off":"Off","remote.title":"Remote Sync (SSH)","remote.desc":"Establish SSH connection to a Linux server, browse and choose a remote directory as data source, mirror to local storage and visualize on the Runs page.","remote.connect.title":"Connect to server","remote.placeholder.host":"Host, e.g. 10.0.0.2","remote.placeholder.port":"Port","remote.placeholder.user":"Username","remote.placeholder.password":"Password (optional)","remote.placeholder.pkey":"Private key content (optional)","remote.placeholder.pkey_path":"Or private key path (optional, e.g. ~/.ssh/id_rsa)","remote.connect.button":"Connect","remote.connected":"Connected: {{user}}@{{host}}:{{port}}","remote.disconnect":"Disconnect","remote.choose.title":"Choose remote directory","remote.current_dir":"Current:","remote.up":"Up","remote.refresh":"Refresh","remote.empty":"Empty or no permission","remote.interval.suffix":"sec","remote.sync_dir":"Sync this directory","remote.tip":"Select project/name/runs (new) or runs (legacy) instead of a specific <run_id>.","remote.tasks.title":"Sync Tasks","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"Stop","remote.tasks.none":"No tasks","remote.to_runs":"After syncing, go to the Runs page for visualization.","remote.msg.fill_host_user":"Please fill host and username","remote.msg.ssh_connected":"SSH connected","remote.msg.connect_failed":"Connection failed","remote.msg.dir_failed":"Failed to list directory","remote.msg.need_connect":"Please connect SSH first","remote.msg.need_path":"Please choose a remote directory","remote.msg.started":"Live sync started","remote.msg.start_failed":"Failed to start","remote.msg.mirror_configured":"Mirror mode configured successfully","settings.performance.tabs_title":"Performance Monitor Tabs","settings.performance.show_cpu_tab":"Show CPU Tab","settings.performance.show_memory_disk_tab":"Show Memory & Disk Tab","settings.performance.show_gpu_metrics_tab":"Show GPU Metrics Tab","settings.performance.show_gpu_telemetry_tab":"Show GPU Telemetry Tab","settings.dismissedAlerts":"Dismissed Alerts","settings.noDismissedAlerts":"No dismissed alerts","settings.restoreAlert":"Restore","settings.restoreAll":"Restore All","settings.alertRestored":"Alert restored","settings.allAlertsRestored":"All alerts restored","settings.failedToLoadDismissedAlerts":"Failed to load dismissed alerts","settings.failedToRestoreAlert":"Failed to restore alert","settings.failedToClearAlerts":"Failed to clear alerts"},PM={...SM,...jM,...CM,...TM,...RM},AM={"app.title":"Runicorn 查看器","menu.runs":"运行","menu.experiments":"实验管理","menu.comparison":"对比分析","menu.artifacts":"模型仓库","menu.performance":"性能监控","menu.remote":"远程","tag.api_ok":"API 正常","tag.api_loading":"API…","tag.api_down":"API 不可用","table.project":"项目","table.name":"实验","table.run_id":"运行 ID","table.status":"状态","table.best_metric":"最佳指标","table.pid":"PID","table.created":"创建时间","table.actions":"操作","table.view":"查看","table.duration":"耗时",pause:"暂停",Info:"信息",View:"查看","Load Lineage Graph":"加载血缘关系图",actions:"操作",view:"查看",edit:"编辑","common.dontShowAgain":"不再提示",delete:"删除",download:"下载",upload:"上传",save:"保存",cancel:"取消",confirm:"确认",close:"关闭"},EM={"experiments.title":"实验管理","experiments.subtitle":"追踪、对比和分析您的实验指标与日志","experiments.total_runs":"总运行数","experiments.running":"运行中","experiments.finished":"已完成","experiments.failed":"失败","experiments.interrupted":"已中断","experiments.best_metric":"最佳指标","experiments.artifacts_created":"产出模型","experiments.artifacts_created_tip":"创建了 {{count}} 个模型","experiments.artifacts_used":"使用模型","experiments.search_placeholder":"搜索实验名称或ID...","experiments.compare":"对比","experiments.export":"导出","experiments.delete":"删除","experiments.cancel":"取消","experiments.fetch_failed":"获取运行列表失败","experiments.delete_confirm_title":"删除运行","experiments.delete_confirm_content":"确定要删除选中的 {{count}} 个运行吗？此操作无法撤销。","experiments.delete_success":"成功删除 {{count}} 个运行","experiments.delete_failed":"删除失败","experiments.export_started":"正在导出运行数据...","experiments.select_multiple":"请至少选择2个运行进行对比","experiments.compare_hint":"请使用运行详情页面的对比功能","experiments.select_one":"请至少选择一个运行进行导出","experiments.export_success":"成功导出 {{count}} 个运行","experiments.export_failed":"导出失败","experiments.export_json":"导出为 JSON","experiments.export_csv":"导出为 CSV","experiments.auto_refresh":"自动刷新","experiments.check_status":"检查状态","experiments.check_status_tooltip":"检查运行中的实验是否仍然存活并更新其状态","experiments.move_to_bin_title":"移至回收站","experiments.soft_delete_confirm_content":"将{{count}}个选中的运行移至回收站？","experiments.soft_delete_note":"文件将被保留，稍后可以恢复。","experiments.move_to_bin":"移至回收站","experiments.soft_delete_success":"已将{{count}}个运行移至回收站","experiments.new_runs":"检测到新运行","experiments.select_one_delete":"请至少选择一个运行进行删除","experiments.delete_warning":"此操作不可撤销！","experiments.no_runs":"未找到实验","experiments.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项","runs.refresh":"刷新","runs.auto_refresh_hint":"每 5 秒自动刷新","runs.auto_refresh":"自动刷新","runs.filter.project":"项目：","runs.filter.name":"实验：","runs.filter.all":"全部","runs.refreshing":"刷新中...","run.title":"运行 {{id}}","run.descriptions.status":"状态","run.descriptions.pid":"PID","run.descriptions.project":"项目","run.descriptions.name":"实验","run.descriptions.dir":"运行目录","run.descriptions.logs":"日志","run.descriptions.metrics":"指标事件","run.load_failed":"加载运行详情失败","run.metrics_failed":"加载指标失败","run.stats.duration":"运行时长","run.stats.total_steps":"总步数","run.stats.artifacts":"产出物","run.more_details":"更多详情（路径、日志）","run.descriptions.run_id":"运行 ID","run.descriptions.run_dir":"运行目录","run.descriptions.log_file":"日志文件","run.updated":"更新于：{{time}}","run.refresh":"刷新","run.refreshed":"已刷新","metrics.title":"指标","metrics.more_columns":"多列布局","metrics.more_columns_tooltip":"多列显示图表以便更好地对比","metrics.none":"暂无步进指标。","logs.title":"实时日志","logs.status.connected":"已连接","logs.status.connecting":"连接中...","logs.status.disconnected":"已断开","logs.status.retry_in":"{{sec}} 秒后重试","logs.tooltip.autoscroll":"自动滚动到最新行","logs.autoscroll":"自动滚动","logs.tooltip.filter_tqdm":"隐藏 tqdm 进度帧以降低噪声","logs.filter_tqdm":"过滤 tqdm","logs.clear":"清空","logs.copy":"复制","logs.copied":"已复制日志到剪贴板","logs.copy_failed":"复制失败","gpu.util":"利用率","gpu.mem":"显存","gpu.power":"功耗","gpu.temp":"温度","gpu.chart.util":"GPU 利用率 %","gpu.chart.mem":"显存使用 %","gpu.chart.power":"功耗 (W)","gpu.chart.temp":"温度 (°C)","gpu.not_available":"GPU 面板不可用","gpu.title":"GPU 面板","gpu.detail":"GPU 数：{{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"每 2 秒轮询","gpu.monitor_title":"GPU 监控","gpu.monitor_desc":"实时 GPU 性能指标与曲线数据","gpu.telemetry_charts":"GPU 曲线图表","gpu.history_2min":"最近 2 分钟","gpu.no_nvidia_smi":"未找到 nvidia-smi","gpu.polling_every_2s":"每 2 秒自动轮询","system.title":"系统指标","system.cpu":"CPU","system.memory":"内存","system.disk":"磁盘","system.cpu_cores":"核心","system.logical":"逻辑","system.frequency":"频率","system.available":"可用","system.swap":"交换空间","system.free":"空闲","system.used_percent":"已用","system.cpu_overall":"CPU 总体使用率","system.cpu_per_core":"各核心使用率","system.freq_current":"当前频率","system.freq_min":"最低频率","system.freq_max":"最高频率","performance.title":"性能监控","performance.desc":"实时系统性能监控（CPU、内存、磁盘、GPU）","performance.polling_hint":"每 2 秒自动轮询","performance.tab_cpu":"CPU","performance.tab_memory_disk":"内存与磁盘","performance.tab_gpu_metrics":"GPU 指标","performance.tab_gpu_telemetry":"GPU 曲线","performance.no_tabs":"没有启用监控模块。请在设置中启用。","compare.title":"对比运行（同一实验）","compare.select.runs":"运行：","compare.select.runs.placeholder":"选择需要叠加的运行","compare.select.metrics":"指标：","compare.select.metrics.placeholder":"选择指标键","compare.stepx":"横轴：","compare.refresh":"刷新","compare.tip":"选择一个或多个运行与指标以叠加展示。","comparison.select_runs":"选择运行","comparison.select_runs_placeholder":"选择要对比的运行","comparison.select_metrics":"选择指标","comparison.select_metrics_placeholder":"选择要显示的指标","comparison.refresh":"刷新","comparison.x_axis":"X轴","comparison.fetch_failed":"获取运行列表失败","comparison.load_failed":"加载指标数据失败","comparison.loading":"正在加载指标...","comparison.no_runs_selected":"请选择运行开始对比","comparison.no_metrics_selected":"没有可用或已选择的指标","comparison.need_multiple":"请至少选择2个运行进行对比","comparison.best_results":"最佳结果","comparison.info_title":"跨实验对比","comparison.info_desc":"在不同项目和实验之间对比运行。如需对比同一实验内的运行，请使用运行详情页面的对比功能。","recycle_bin.title":"回收站","recycle_bin.tooltip":"查看和恢复已删除的实验","recycle_bin.description":"回收站包含已软删除的实验。文件被保留，可以恢复。","recycle_bin.original_status":"原始状态","recycle_bin.deleted_at":"删除时间","recycle_bin.restore_single":"恢复此运行","recycle_bin.restore_selected":"恢复选中项","recycle_bin.empty_bin":"清空回收站","recycle_bin.empty_confirm_title":"清空回收站","recycle_bin.empty_confirm_desc":"这将永久删除回收站中的所有运行。此操作不可撤销！","recycle_bin.empty_confirm":"是的，全部删除","recycle_bin.fetch_failed":"加载回收站失败","recycle_bin.select_to_restore":"请选择要恢复的运行","recycle_bin.restore_success":"已恢复{{count}}个运行","recycle_bin.restore_failed":"恢复运行失败","recycle_bin.empty_success":"已永久删除{{count}}个运行","recycle_bin.empty_failed":"清空回收站失败","recycle_bin.empty_state":"回收站为空","recycle_bin.selection_info":"已选择{{count}}个运行用于恢复","recycle_bin.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项"},kM={"run.artifacts.title":"关联的模型与数据集","run.artifacts.created":"创建的模型","run.artifacts.used":"使用的模型","run.artifacts.no_created":"此实验未创建任何模型或数据集","run.artifacts.no_used":"此实验未使用任何模型或数据集","menu.artifacts":"模型仓库","artifacts.title":"模型仓库","artifacts.description":"版本控制的模型、数据集和文件","artifacts.type.all":"全部类型","artifacts.type.model":"模型","artifacts.type.dataset":"数据集","artifacts.type.config":"配置","artifacts.type.code":"代码","artifacts.type.custom":"自定义","artifacts.search_placeholder":"搜索模型和数据集...","artifacts.no_artifacts":"未找到模型","artifacts.create_first":"在训练代码中通过 run.log_artifact() 创建您的第一个模型","artifacts.latest_version":"最新：v{{version}}","artifacts.versions_count":"{{count}} 个版本","artifacts.size":"大小","artifacts.files":"文件数","artifacts.created":"创建时间","artifacts.updated":"更新时间","artifacts.aliases":"别名","artifacts.view_versions":"查看版本","artifacts.download":"下载","artifacts.delete":"删除","artifacts.delete_confirm":"删除模型 {{name}}:v{{version}}？","artifacts.delete_warning":"此操作不可撤销！","artifacts.stats.total":"总模型数","artifacts.stats.total_versions":"总版本数","artifacts.stats.total_size":"总大小","artifacts.stats.dedup_saved":"去重节省空间","artifact.detail.title":"模型：{{name}}","artifact.detail.version":"版本 {{version}}","artifact.detail.type":"类型","artifact.detail.status":"状态","artifact.detail.created_by":"创建者","artifact.detail.created_at":"创建时间","artifact.detail.size":"大小","artifact.detail.files_count":"文件数","artifact.detail.description":"描述","artifact.detail.metadata":"元数据","artifact.detail.tags":"标签","artifact.detail.no_description":"无描述","artifact.detail.no_metadata":"无元数据","artifact.detail.no_tags":"无标签","artifact.detail.storage_path":"存储路径","artifact.versions.title":"版本历史","artifact.versions.current":"当前版本","artifact.versions.all":"所有版本","artifact.versions.compare":"对比版本","artifact.versions.version":"版本","artifact.versions.date":"日期","artifact.versions.run":"运行","artifact.versions.size":"大小","artifact.versions.files":"文件数","artifact.versions.actions":"操作","artifact.files.title":"文件","artifact.files.name":"文件名","artifact.files.size":"大小","artifact.files.hash":"哈希值","artifact.files.download_file":"下载文件","artifact.files.no_files":"此模型无文件","artifact.references.title":"外部引用","artifact.references.uri":"URI","artifact.references.checksum":"校验和","artifact.references.no_references":"无外部引用","artifact.lineage.title":"血缘关系图","artifact.lineage.description":"显示此模型的创建过程和使用情况","artifact.lineage.upstream":"上游依赖","artifact.lineage.downstream":"下游使用","artifact.lineage.no_dependencies":"未找到依赖关系","artifact.lineage.loading":"正在加载血缘关系图...","artifact.lineage.error":"加载血缘关系图失败","artifact.lineage.node.artifact":"模型","artifact.lineage.node.run":"运行","artifact.lineage.edge.uses":"使用","artifact.lineage.edge.produces":"产出","artifact.training.tab":"训练历史","artifact.training.title":"训练信息","artifact.training.no_data":"暂无训练信息","artifact.training.view_run":"查看训练实验","artifact.training.run_name":"实验名称","artifact.training.project":"项目","artifact.training.status":"状态","artifact.training.duration":"持续时间","artifact.training.created_at":"创建时间","artifact.training.key_metrics":"关键指标","artifact.performance.tab":"性能趋势","artifact.performance.title":"性能历史","artifact.performance.no_data":"暂无性能数据","artifact.performance.select_metrics":"选择要显示的指标","artifact.performance.select_metrics_hint":"请选择要显示的指标","artifact.performance.metrics":"指标值","artifacts.stage":"阶段","artifacts.stage.experimental":"实验阶段","artifacts.stage.staging":"预发布","artifacts.stage.production":"生产环境","artifacts.stage.archived":"已归档"},DM={"remote.title":"Remote Viewer","remote.subtitle":"通过 SSH 连接到远程服务器并启动 Viewer","remote.form.title":"第一步：连接到远程服务器","remote.form.connectButton":"连接到服务器","remote.form.host":"远程主机","remote.form.hostPlaceholder":"192.168.1.100 或 server.example.com","remote.form.port":"SSH 端口","remote.form.username":"用户名","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"认证方式","remote.form.password":"密码","remote.form.passwordAuth":"密码认证","remote.form.keyAuth":"私钥认证","remote.form.privateKey":"私钥路径","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"密码短语（可选）","remote.form.remoteRoot":"远程存储路径","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"本地端口","remote.form.localPortHelp":"留空自动分配","remote.form.remotePort":"远程端口","remote.form.saveConfig":"保存此连接配置","remote.form.savePassword":"同时保存密码（不安全，请谨慎使用）","remote.form.saveName":"配置名称","remote.form.saveNamePlaceholder":"GPU 服务器 - 实验室","remote.form.browse":"浏览...","remote.form.connect":"连接并启动 Viewer","remote.form.testConnection":"测试连接","remote.form.cancel":"取消","remote.form.enterPassword":"请输入密码","remote.form.connectionTo":"连接到","remote.form.required":"是必填项","remote.session.title":"活动会话","remote.session.noActiveSessions":"暂无活动会话","remote.session.startNewConnection":"创建新连接以开始","remote.session.localAccess":"本地访问","remote.session.remotePath":"远程路径","remote.session.sshPort":"SSH 端口","remote.session.remotePort":"远程 Viewer 端口","remote.session.remotePid":"远程进程 ID","remote.session.startedAt":"启动时间","remote.session.open":"打开 Viewer","remote.session.stop":"停止","remote.session.disconnect":"断开连接","remote.session.reconnect":"重新连接","remote.status.connecting":"正在连接...","remote.status.running":"运行中","remote.status.stopping":"正在停止...","remote.status.stopped":"已停止","remote.status.error":"错误","remote.status.disconnected":"已断开","remote.saved.title":"已保存的连接","remote.saved.empty":"暂无保存的连接配置","remote.saved.emptyHint":'连接成功后勾选"保存配置"即可保存',"remote.saved.quickStart":"快速启动","remote.saved.connectOnly":"仅连接","remote.saved.edit":"编辑","remote.saved.delete":"删除","remote.message.connectSuccess":"SSH 连接成功","remote.message.connectFailed":"SSH 连接失败","remote.message.viewerStarted":"Remote Viewer 启动成功！","remote.message.viewerStartFailed":"Remote Viewer 启动失败","remote.message.viewerStopped":"Remote Viewer 已停止","remote.message.viewerStopFailed":"停止 Remote Viewer 失败","remote.message.disconnected":"已断开连接","remote.message.disconnectFailed":"断开连接失败","remote.message.testSuccess":"连接测试成功","remote.message.testFailed":"连接测试失败","remote.message.configSaved":"配置已保存","remote.message.configDeleted":"配置已删除","remote.message.confirmDelete":"确定要删除此连接配置吗？","remote.message.confirmDisconnect":"确定要断开连接吗？这将停止远程 Viewer。","remote.message.sessionLost":"会话已断开，是否重新连接？","remote.message.passwordNotSaved":"密码未保存，请重新输入密码","remote.message.incompleteConfig":"连接配置不完整，请重新配置","remote.message.cancelled":"已取消","remote.error.sshAuthFailed":"SSH 认证失败，请检查用户名和密码","remote.error.remotePathNotFound":"远程路径不存在","remote.error.portInUse":"本地端口已被占用","remote.error.connectionTimeout":"连接超时","remote.error.invalidConfig":"配置无效","remote.error.unknown":"未知错误","remote.help.title":"使用帮助","remote.help.step1":"1. 填写远程服务器的 SSH 连接信息","remote.help.step2":"2. 选择认证方式（密码或私钥）","remote.help.step3":"3. 指定远程存储路径","remote.help.step4":'4. 点击"连接并启动"按钮',"remote.help.step5":"5. 等待 Remote Viewer 启动","remote.help.step6":'6. 点击"打开 Viewer"在新窗口中访问',"remote.help.architecture":"Remote Viewer 采用类似 VSCode Remote 的架构，在远程服务器上运行 Viewer，通过 SSH 隧道访问。","remote.help.advantages":"优势：实时访问、无需同步、节省存储空间","remote.stats.activeSessions":"活动会话","remote.stats.savedConfigs":"保存的配置","remote.stats.connectedServers":"已连接服务器","remote.env.title":"选择 Conda 环境","remote.env.selectHint":"检测到多个 Python 环境","remote.env.selectDescription":"请选择一个环境来运行 Runicorn Viewer","remote.env.default":"默认","remote.env.system":"系统","remote.env.checkRunicorn":"确保目标环境已安装 Runicorn","remote.env.checkRunicornHint":"如果环境中没有安装 Runicorn，请先运行: pip install runicorn","remote.env.fetching":"正在检测环境...","remote.env.detectingEnvironments":"正在列出 Conda 环境...","remote.env.detectFailed":"检测失败","remote.env.runicornNotInstalled":"未安装","remote.env.noEnvs":"未检测到 Conda 环境","remote.env.confirmButton":"确认并启动 Viewer","remote.env.cancelButton":"取消","remote.env.continue":"继续","remote.env.detecting":"正在检测环境","remote.env.detectingEnvironment":"正在检测 {{env}} 环境，请稍候...","remote.env.detectFailedMessage":"无法检测该环境的 Python 和 Runicorn 版本，请检查网络连接或环境配置。","remote.env.runicornNotInstalledTitle":"Runicorn 未安装","remote.env.runicornNotInstalledMessage":"选中的环境中未安装 Runicorn，无法启动 Remote Viewer。","remote.env.installInstructions":"请在远程服务器上安装 Runicorn：","remote.env.activateCommand":"激活环境","remote.env.installCommand":"安装 Runicorn","remote.env.versionTooOldTitle":"Runicorn 版本过低","remote.env.versionTooOldMessage":"远程环境的 Runicorn 版本为 {{version}}，低于 0.5.0，不支持 Remote Viewer 功能。","remote.env.upgradeInstructions":"请升级到最新版本：","remote.env.versionMismatchTitle":"Runicorn 版本不一致","remote.env.versionMismatchMessage":"本地和远程的 Runicorn 版本不一致，可能导致功能异常或体验下降。","remote.env.localVersion":"本地版本","remote.env.remoteVersion":"远程版本","remote.env.versionMismatchWarning":"建议保持版本一致以获得最佳体验，但您仍可以继续连接。","remote.env.continueAnyway":"仍然继续","remote.config.title":"第三步：确认服务器配置","remote.config.connected":"SSH 连接成功","remote.config.pythonVersion":"Python 版本","remote.config.runicornVersion":"Runicorn 版本","remote.config.storageRoot":"存储路径","remote.config.exists":"存在","remote.config.notExists":"不存在","remote.config.suggestedPort":"建议端口","remote.config.confirmStorageRoot":"确认远程存储路径","remote.config.startViewer":"启动 Remote Viewer","remote.config.pathNotExistsWarning":"存储路径不存在","remote.config.pathNotExistsHint":"将在首次使用时自动创建该目录","remote.config.fetchingConfig":"正在获取服务器配置...","remote.config.fetchFailed":"获取服务器配置失败"},MM={"settings.system_info.title":"系统信息","settings.system_info.refresh":"刷新","settings.system_info.copy_all":"复制全部","settings.system_info.copied":"系统信息已复制到剪贴板","settings.system_info.copy_failed":"复制到剪贴板失败","settings.system_info.loading":"加载系统信息中...","settings.system_info.version_info":"版本信息","settings.system_info.runicorn_version":"Runicorn 版本","settings.system_info.api_status":"API 状态","settings.system_info.storage_config":"存储配置","settings.system_info.storage_root":"存储根目录","settings.system_info.config_files":"配置文件","settings.system_info.config_file":"主配置","settings.system_info.rate_limit_config":"速率限制配置","settings.system_info.cache_stats":"缓存统计","settings.system_info.cache_status":"状态","settings.system_info.hit_rate":"命中率","settings.system_info.hits":"命中次数","settings.system_info.misses":"未命中次数","settings.system_info.cache_size":"缓存大小","settings.system_info.artifacts_stats":"Artifacts 统计","settings.system_info.total_artifacts":"总 Artifacts","settings.system_info.total_versions":"总版本数","settings.system_info.deduplication":"去重","settings.system_info.space_saved":"节省空间","settings.system_info.help_text":'此信息对调试和技术支持很有用。点击"复制全部"将所有详情复制到剪贴板。',"settings.drawer.title":"设置","settings.theme.title":"主题","settings.theme.mode":"模式","settings.theme.light":"浅色","settings.theme.dark":"深色","settings.theme.auto":"跟随系统","settings.appearance.primary_color":"主色","settings.appearance.density":"密度","settings.appearance.density_compact":"紧凑型（信息密度高）","settings.appearance.density_default":"默认","settings.appearance.density_loose":"宽松型（留白更舒适）","settings.glass":"玻璃效果","settings.glass.on":"开启","settings.glass.off":"关闭","settings.performance.auto_refresh":"自动刷新","settings.performance.refresh_interval":"刷新间隔","settings.performance.animations":"UI动画","settings.performance.chart_animations":"图表动画","settings.performance.sounds":"声音通知","settings.charts.default_height":"默认图表高度","settings.charts.grid_lines":"显示网格线","settings.charts.max_points":"最大数据点数","settings.animations.ui_desc":"页面切换、悬停效果、弹窗动画","settings.animations.chart_desc":"图表数据加载动画、平滑过渡","settings.units.seconds":"秒","settings.units.points":"数据点","settings.units.pixels":"像素","settings.data.not_configured":"未配置","settings.auto_refresh.desc":"自动刷新实验数据","settings.grid_lines.desc":"在图表中显示网格线以提高可读性","settings.sounds.desc":"为警告和状态变化播放通知声音","settings.glass.desc":"玻璃拟态效果，带背景模糊","settings.tabs.appearance":"外观","settings.tabs.layout":"布局","settings.tabs.data":"数据","settings.tabs.performance":"性能","settings.tabs.system_info":"系统信息","settings.cards.theme":"主题","settings.cards.background":"背景","settings.cards.visual_effects":"视觉效果","settings.cards.storage":"存储设置","settings.cards.import_export":"导入导出","settings.cards.performance":"性能","settings.cards.advanced":"高级选项","settings.data.title":"数据目录","settings.data.current_storage":"当前存储根（storage）：{{path}}","settings.data.user_root.label":"用户根目录（优先级低于环境变量 RUNICORN_DIR）","settings.data.user_root.placeholder":"例如：D:\\RunicornData","settings.data.note":"设置将写入用户配置并立即生效；若设置了环境变量 RUNICORN_DIR，则优先使用环境变量。","settings.data.save":"保存数据目录","settings.messages.enter_valid_path":"请输入有效的目录绝对路径（例如 D:\\RunicornData）","settings.messages.updated":"用户根目录已更新","settings.messages.update_failed":"更新失败","background.title":"背景","background.type.label":"背景类型","background.type.image":"图片","background.type.gradient":"渐变","background.type.color":"纯色","background.image_url":"图片地址（URL）","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"背景预览","background.gradient_presets":"渐变预设","background.color":"背景颜色","background.opacity":"不透明度","background.blur":"模糊强度","offline_import.title":"离线导入（zip / tar.gz）","offline_import.desc":"将离线 Linux 服务器导出的运行记录导入到本机存储以便查看。","offline_import.drag":"将文件拖拽到此处，或点击选择本地归档","offline_import.supports":"支持 .zip / .tar.gz（内部目录为 project/name/runs/<run_id>）","offline_import.importing":"正在导入…","offline_import.success":"导入成功：{{count}} 个新运行。","offline_import.failed":"导入失败","remote_moved.title":"远程同步","remote_moved.tip":"远程实时同步已移动到独立页面，请通过顶部「Remote」进入或点击打开。","chart.controls.title":"图表控件","chart.log_y":"对数Y轴","chart.log_y_tooltip":"使用对数Y轴（隐藏非正值）","chart.auto_scale":"自动缩放Y轴","chart.auto_scale_tooltip":"动态Y轴范围（不强制从0开始）","chart.smooth":"平滑度","chart.smooth_tooltip":"指数移动平均平滑","chart.x_axis":"X轴","chart.x_axis_tooltip":"X轴数据来源列","chart.export_csv":"导出CSV","chart.y_axis_controls":"Y轴控制","chart.linear":"线性","chart.log":"对数","chart.auto":"自动","chart.fixed":"固定","chart.off":"关闭","remote.title":"远程同步（SSH）","remote.desc":'建立到 Linux 服务器的 SSH 连接，浏览并选择远程目录作为数据源，实时镜像到本地 storage 并在"运行"页可视化。',"remote.connect.title":"连接到服务器","remote.placeholder.host":"主机，例如 10.0.0.2","remote.placeholder.port":"端口","remote.placeholder.user":"用户名","remote.placeholder.password":"密码（可选）","remote.placeholder.pkey":"私钥内容（可选）","remote.placeholder.pkey_path":"或 私钥路径（可选，如 ~/.ssh/id_rsa）","remote.connect.button":"连接","remote.connected":"已连接：{{user}}@{{host}}:{{port}}","remote.disconnect":"断开","remote.choose.title":"选择远程目录","remote.current_dir":"当前目录：","remote.up":"上一级","remote.refresh":"刷新","remote.empty":"空目录或无权限","remote.interval.suffix":"秒","remote.sync_dir":"同步此目录","remote.tip":"建议选择到 project/name/runs（新结构）或 runs（旧结构）而不是具体 <run_id>。","remote.tasks.title":"同步任务","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"停止","remote.tasks.none":"暂无任务","remote.to_runs":'同步成功后，前往 "运行" 页面查看可视化。',"remote.msg.fill_host_user":"请填写主机与用户名","remote.msg.ssh_connected":"SSH 已连接","remote.msg.connect_failed":"连接失败","remote.msg.dir_failed":"读取目录失败","remote.msg.need_connect":"请先建立 SSH 连接","remote.msg.need_path":"请选择远程目录","remote.msg.started":"已启动实时同步","remote.msg.start_failed":"启动失败","remote.msg.mirror_configured":"镜像模式配置成功","settings.performance.tabs_title":"性能监控模块","settings.performance.show_cpu_tab":"显示 CPU 模块","settings.performance.show_memory_disk_tab":"显示内存与磁盘模块","settings.performance.show_gpu_metrics_tab":"显示 GPU 指标模块","settings.performance.show_gpu_telemetry_tab":"显示 GPU 曲线模块","settings.dismissedAlerts":"已关闭的提示","settings.noDismissedAlerts":"暂无已关闭的提示","settings.restoreAlert":"恢复显示","settings.restoreAll":"全部恢复","settings.alertRestored":"提示已恢复显示","settings.allAlertsRestored":"所有提示已恢复显示","settings.failedToLoadDismissedAlerts":"加载失败","settings.failedToRestoreAlert":"恢复失败","settings.failedToClearAlerts":"清除失败"},IM={...AM,...EM,...kM,...DM,...MM},LM={en:{translation:PM},zh:{translation:IM}};Mt.use(ax).use(iC).init({resources:LM,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]}});pc.createRoot(document.getElementById("root")).render(a.jsx(Uj.StrictMode,{children:a.jsx(Wj,{children:a.jsx(UD,{})})}));
