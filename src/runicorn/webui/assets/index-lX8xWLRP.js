import{r as b,c as Gc,u as Si,f as Rm,e as gs,h as Am,g as Bj,L as _o,i as Uj,j as us,R as Wj,B as Hj}from"./react-vendor-Bblx37ko.js";import{T as Ce,S as N,a as it,b as It,B as de,s as Q,c as we,t as tr,C as ie,D as zr,d as Do,e as gt,R as Kc,f as Es,g as kn,F as xr,E as ot,h as ui,i as qc,j as di,k as lc,l as Yc,m as qt,n as Qn,o as At,p as ke,q as ji,P as er,r as Mt,u as Zo,v as Xc,w as Gj,x as Kj,y as Ps,z as Gt,A as Qo,G as sn,H as zo,I as qj,J as Br,K as wr,L as Jc,M as cc,N as An,O as ea,Q as Yj,U as Xj,V as fi,W as Jj,X as Zj,Y as Qj,Z as Zc,_ as nn,$ as Em,a0 as e1,a1 as $o,a2 as Qc,a3 as t1,a4 as n1,a5 as uc,a6 as r1,a7 as dc,a8 as s1,a9 as wh,aa as be,ab as i1,ac as o1,ad as a1,ae as l1,af as Pt,ag as fc,ah as Cs,ai as km,aj as Dm,ak as c1,al as u1,am as hi,an as vr,ao as d1,ap as _h,aq as Ml,ar as f1,as as h1,at as p1,au as m1,av as g1,aw as bh,ax as Sh,ay as Ll,az as y1,aA as x1,aB as Im,aC as v1,aD as w1,aE as _1,aF as b1}from"./antd-vendor-B1ygAwDR.js";import{c as S1,E as xs}from"./echarts-vendor-BaMD3wbR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Mm={exports:{}},ta={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=b,C1=Symbol.for("react.element"),T1=Symbol.for("react.fragment"),P1=Object.prototype.hasOwnProperty,R1=j1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A1={key:!0,ref:!0,__self:!0,__source:!0};function Lm(e,t,n){var s,o={},l=null,c=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(s in t)P1.call(t,s)&&!A1.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:C1,type:e,key:l,ref:c,props:o,_owner:R1.current}}ta.Fragment=T1;ta.jsx=Lm;ta.jsxs=Lm;Mm.exports=ta;var a=Mm.exports,hc={},jh=Gc;hc.createRoot=jh.createRoot,hc.hydrateRoot=jh.hydrateRoot;const Ol={},E1=(Ol==null?void 0:Ol.VITE_API_BASE)||"/api",at=e=>`${E1}${e}`;async function k1(e){const t=await fetch(at(`/runs/${e}`));if(!t.ok)throw new Error(await t.text());return t.json()}async function bo(e,t){const n=t?`?downsample=${t}`:"",s=await fetch(at(`/runs/${e}/metrics_step${n}`));if(!s.ok)throw new Error(await s.text());return s.json()}async function Om(){const e=new AbortController,t=setTimeout(()=>e.abort(),3e3);try{const n=await fetch(at("/health"),{signal:e.signal,cache:"no-store"});if(clearTimeout(t),!n.ok)throw new Error(await n.text());return n.json()}catch(n){throw clearTimeout(t),n}}async function Fm(){const e=await fetch(at("/gpu/telemetry"));if(!e.ok)throw new Error(await e.text());return e.json()}async function D1(){const e=await fetch(at("/system/monitor"));if(!e.ok)throw new Error(await e.text());return e.json()}async function I1(){const e=await fetch(at("/projects"));if(!e.ok)throw new Error(await e.text());return e.json()}async function M1(e){const t=await fetch(at(`/projects/${encodeURIComponent(e)}/names`));if(!t.ok)throw new Error(await t.text());return t.json()}async function L1(e,t){const n=await fetch(at(`/projects/${encodeURIComponent(e)}/names/${encodeURIComponent(t)}/runs`));if(!n.ok)throw new Error(await n.text());return n.json()}async function eu(){const e=await fetch(at("/config"));if(!e.ok)throw new Error(await e.text());return e.json()}async function O1(e){const t=await fetch(at("/config/user_root_dir"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function F1(e){const t=new FormData;t.append("file",e);const n=await fetch(at("/import/archive"),{method:"POST",body:t});if(!n.ok)throw new Error(await n.text());return n.json()}async function z1(){const e=await fetch(at("/status/check"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(await e.text());return e.json()}async function $1(e){const t=await fetch(at("/runs/soft-delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function V1(){const e=await fetch(at("/recycle-bin"));if(!e.ok)throw new Error(await e.text());return e.json()}async function N1(e){const t=await fetch(at("/recycle-bin/restore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({run_ids:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function B1(){const e=await fetch(at("/recycle-bin/empty"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})});if(!e.ok)throw new Error(await e.text());return e.json()}async function U1(e){const t=e?`?type=${e}`:"",n=await fetch(at(`/artifacts${t}`));if(!n.ok)throw new Error(await n.text());return n.json()}async function W1(e,t){const s=await fetch(at(`/artifacts/${e}/versions`));if(!s.ok)throw new Error(await s.text());return s.json()}async function H1(e,t,n){const o=await fetch(at(`/artifacts/${e}/v${t}`));if(!o.ok)throw new Error(await o.text());return o.json()}async function G1(e,t,n){const o=await fetch(at(`/artifacts/${e}/v${t}/files`));if(!o.ok)throw new Error(await o.text());return o.json()}async function K1(e,t,n,s=3){const o=new URLSearchParams({max_depth:s.toString()}),l=await fetch(at(`/artifacts/${e}/v${t}/lineage?${o.toString()}`));if(!l.ok)throw new Error(await l.text());return l.json()}async function zm(){const e=await fetch(at("/artifacts/stats"));if(!e.ok)throw new Error(await e.text());return e.json()}async function q1(e,t,n,s=!1){const o=new URLSearchParams({permanent:s.toString()}),l=await fetch(at(`/artifacts/${e}/v${t}?${o.toString()}`),{method:"DELETE"});if(!l.ok)throw new Error(await l.text());return l.json()}const Y1=(e,t,n,s)=>{var l,c,d,f;const o=[n,{code:t,...s||{}}];if((c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);$r(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(f=(d=e==null?void 0:e.services)==null?void 0:d.logger)!=null&&f.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Ch={},pc=(e,t,n,s)=>{$r(n)&&Ch[n]||($r(n)&&(Ch[n]=new Date),Y1(e,t,n,s))},$m=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},mc=(e,t,n)=>{e.loadNamespaces(t,$m(e,n))},Th=(e,t,n,s)=>{if($r(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return mc(e,n,s);n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,$m(e,s))},X1=(e,t,n={})=>!t.languages||!t.languages.length?(pc(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,e))return!1}}),$r=e=>typeof e=="string",J1=e=>typeof e=="object"&&e!==null,Z1=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Q1={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},eC=e=>Q1[e],tC=e=>e.replace(Z1,eC);let gc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:tC};const nC=(e={})=>{gc={...gc,...e}},rC=()=>gc;let Vm;const sC=e=>{Vm=e},iC=()=>Vm,oC={type:"3rdParty",init(e){nC(e.options.react),sC(e)}},aC=b.createContext();class lC{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const cC=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current},Nm=(e,t,n,s)=>e.getFixedT(t,n,s),uC=(e,t,n,s)=>b.useCallback(Nm(e,t,n,s),[e,t,n,s]),Xe=(e,t={})=>{var j,E,O,z;const{i18n:n}=t,{i18n:s,defaultNS:o}=b.useContext(aC)||{},l=n||s||iC();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new lC),!l){pc(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const $=(K,J)=>$r(J)?J:J1(J)&&$r(J.defaultValue)?J.defaultValue:Array.isArray(K)?K[K.length-1]:K,B=[$,{},!1];return B.t=$,B.i18n={},B.ready=!1,B}(j=l.options.react)!=null&&j.wait&&pc(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...rC(),...l.options.react,...t},{useSuspense:d,keyPrefix:f}=c;let h=o||((E=l.options)==null?void 0:E.defaultNS);h=$r(h)?[h]:h||["translation"],(z=(O=l.reportNamespaces).addUsedNamespaces)==null||z.call(O,h);const p=(l.isInitialized||l.initializedStoreOnce)&&h.every($=>X1($,l,c)),g=uC(l,t.lng||null,c.nsMode==="fallback"?h:h[0],f),x=()=>g,v=()=>Nm(l,t.lng||null,c.nsMode==="fallback"?h:h[0],f),[S,T]=b.useState(x);let k=h.join();t.lng&&(k=`${t.lng}${k}`);const P=cC(k),R=b.useRef(!0);b.useEffect(()=>{const{bindI18n:$,bindI18nStore:B}=c;R.current=!0,!p&&!d&&(t.lng?Th(l,t.lng,h,()=>{R.current&&T(v)}):mc(l,h,()=>{R.current&&T(v)})),p&&P&&P!==k&&R.current&&T(v);const K=()=>{R.current&&T(v)};return $&&(l==null||l.on($,K)),B&&(l==null||l.store.on(B,K)),()=>{R.current=!1,l&&$&&($==null||$.split(" ").forEach(J=>l.off(J,K))),B&&l&&B.split(" ").forEach(J=>l.store.off(J,K))}},[l,k]),b.useEffect(()=>{R.current&&p&&T(x)},[l,f,p]);const D=[S,l,p];if(D.t=S,D.i18n=l,D.ready=p,p||!p&&!d)return D;throw new Promise($=>{t.lng?Th(l,t.lng,h,()=>$()):mc(l,h,()=>$())})};function dC(e){return!!(/\d{1,3}%\|/.test(e)||/it\/(s|sec)/i.test(e)||/ETA|elapsed/i.test(e))}function fC({url:e,persistKey:t}){const{t:n}=Xe(),[s,o]=b.useState(()=>{if(!t)return[];try{const D=localStorage.getItem(t);if(!D)return[];const j=JSON.parse(D);return Array.isArray(j)?j.slice(-2e3):[]}catch{return[]}}),[l,c]=b.useState(!0),[d,f]=b.useState(!0),[h,p]=b.useState("connecting"),[g,x]=b.useState(0),v=b.useRef(null),S=b.useRef(null),T=b.useRef(null),k=b.useRef(500);b.useEffect(()=>{let D=!1;const j=()=>{try{S.current&&S.current.close()}catch{}p("connecting");const E=new WebSocket(e);S.current=E,E.onopen=()=>{p("connected"),k.current=500,x(0)},E.onmessage=z=>{const $=String(z.data);d&&dC($)||o(B=>{const J=[...B,$].slice(-2e3);try{t&&localStorage.setItem(t,JSON.stringify(J))}catch{}return J})};const O=()=>{if(D)return;p("disconnected");const z=Math.min(1e4,k.current);k.current=Math.min(1e4,Math.floor(k.current*1.8)),x(z),T.current&&window.clearTimeout(T.current),T.current=window.setTimeout(()=>{x(0),j()},z)};E.onerror=O,E.onclose=O};return j(),()=>{var E;D=!0;try{(E=S.current)==null||E.close()}catch{}T.current&&window.clearTimeout(T.current)}},[e,d,t]),b.useEffect(()=>{l&&v.current&&(v.current.scrollTop=v.current.scrollHeight)},[s,l]);const P=async()=>{try{await navigator.clipboard.writeText(s.join(`
`)),Q.success(n("logs.copied"))}catch{Q.error(n("logs.copy_failed"))}},R=b.useMemo(()=>h==="connected"?a.jsx(Ce,{color:"green",children:n("logs.status.connected")}):h==="connecting"?a.jsx(Ce,{color:"processing",children:n("logs.status.connecting")}):a.jsxs(Ce,{color:"default",children:[n("logs.status.disconnected"),g?`, ${n("logs.status.retry_in",{sec:Math.ceil(g/1e3)})}`:""]}),[h,g,n]);return a.jsxs("div",{children:[a.jsxs(N,{style:{marginBottom:8},children:[R,a.jsx(it,{title:n("logs.tooltip.autoscroll"),children:a.jsxs("span",{children:[n("logs.autoscroll")," ",a.jsx(It,{checked:l,onChange:c,style:{marginLeft:6}})]})}),a.jsx(it,{title:n("logs.tooltip.filter_tqdm"),children:a.jsxs("span",{children:[n("logs.filter_tqdm")," ",a.jsx(It,{checked:d,onChange:f,style:{marginLeft:6}})]})}),a.jsx(de,{size:"small",onClick:()=>{o([]);try{t&&localStorage.removeItem(t)}catch{}},children:n("logs.clear")}),a.jsx(de,{size:"small",onClick:P,children:n("logs.copy")})]}),a.jsx("div",{ref:v,style:{height:320,overflow:"auto",background:"#0b1020",color:"#e6e9ef",padding:12,borderRadius:8,fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:12},children:s.map((D,j)=>a.jsx("div",{children:D},j))})]})}function Bm(e){const t=b.useRef(null),n=b.useRef(null);b.useEffect(()=>{if(!t.current)return;const d=t.current;let f=null;const h=()=>{f!=null&&cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x,v,S;try{(S=(v=(x=n.current)==null?void 0:x.getEchartsInstance())==null?void 0:v.resize)==null||S.call(v)}catch{}})};let p=null;const g=window.ResizeObserver;return g&&(p=new g(()=>h()),p.observe(d)),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),p&&p.disconnect(),f!=null&&cancelAnimationFrame(f)}},[]),b.useEffect(()=>{var f,h;const d=(h=(f=n.current)==null?void 0:f.getEchartsInstance)==null?void 0:h.call(f);if(d&&e.group)try{d.group=e.group,S1(e.group)}catch{}},[e.group]);const s=b.useMemo(()=>({width:"100%",height:"100%",...e.style||{}}),[e.style]),{group:o,style:l,...c}=e;return a.jsx("div",{ref:t,style:{width:"100%",height:"100%"},children:a.jsx(xs,{ref:n,...c,style:s})})}const Um=b.createContext(void 0),hC=({children:e,value:t})=>a.jsx(Um.Provider,{value:t,children:e}),na=()=>{const e=b.useContext(Um);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e},se={spacing:{xs:8,sm:12,md:16,lg:24,xl:32},borderRadius:{md:8},colors:{primary:"#1677ff",success:"#52c41a",warning:"#faad14",info:"#13c2c2"},typography:{fontSize:{xs:12,sm:14,md:16,lg:18},fontWeight:{semibold:600}}},{Text:pC}=we;function mC(e,t){if(t<=0)return e;const n=1-t;let s=null;return e.map(o=>o==null?null:(s=s==null?o:n*o+(1-n)*s,s))}function gC(e){const t=e.toLowerCase();if(t.includes("loss")||t.includes("error"))return"min";if(t.includes("acc")||t.includes("f1")||t.includes("auc")||t.includes("map")||t.includes("precision")||t.includes("recall"))return"max"}const Ph=b.memo(function({runs:t,xKey:n,yKey:s,title:o,height:l,persistKey:c,group:d}){var Le;const{t:f}=Xe(),{settings:h}=na(),{token:p}=tr.useToken(),g=t.length===1,x=t[0],v=((Le=x==null?void 0:x.metrics)==null?void 0:Le.columns)||[],S=l??h.defaultChartHeight,[T,k]=b.useState(!1),[P,R]=b.useState(!0),[D,j]=b.useState(0),E=["iter","step","batch","global_step","time"],O=b.useMemo(()=>E.filter(ee=>v.includes(ee)),[v]),[z,$]=b.useState(n),B=b.useRef(!1);b.useEffect(()=>{if(n&&v.includes(n))$(n);else if(!v.includes(z)){const ee=O.find(Boolean);ee&&$(ee)}},[n,v,O,z]),b.useEffect(()=>{if(!(!c||B.current)){try{const ee=localStorage.getItem(`MetricChart:${c}`);if(ee){const ce=JSON.parse(ee);typeof ce.useLog=="boolean"&&k(ce.useLog),typeof ce.dynamicScale=="boolean"&&R(ce.dynamicScale),typeof ce.smoothing=="number"&&j(ce.smoothing),ce.xAxisKey&&v.includes(ce.xAxisKey)&&$(ce.xAxisKey)}}catch{}B.current=!0}},[c,v]),b.useEffect(()=>{if(c)try{localStorage.setItem(`MetricChart:${c}`,JSON.stringify({useLog:T,dynamicScale:P,smoothing:D,xAxisKey:z}))}catch{}},[c,T,P,D,z]);const K=b.useMemo(()=>{var ne;const ee=g&&v.includes(z)?z:n,ce=t.map((Y,G)=>{var le,Ae,ft;const Z=((le=Y.metrics)==null?void 0:le.rows)||[],oe=Z.map(Oe=>{const $e=Oe[ee],Ve=$e===""||$e==null?null:Number($e);return Ve==null||Number.isNaN(Ve)?null:Ve});let pe=oe;if(ee==="time"){const Oe=oe.find($e=>$e!=null)??0;pe=oe.map($e=>$e==null?null:$e-Oe)}const Ke=Z.map(Oe=>{const $e=Oe[s]===""||Oe[s]==null?null:Number(Oe[s]),Ve=$e==null||Number.isNaN($e)?null:$e;return T&&(Ve==null||Ve<=0)?null:Ve}),Je=mC(Ke,Math.min(.99,Math.max(0,D)));let qe;if(g)qe=Je;else{const Oe=[];for(let $e=0;$e<Je.length;$e++){const Ve=pe[$e],jt=Je[$e];Ve!=null&&jt!=null&&Oe.push([Ve,jt])}qe=Oe}const yt=Je.filter(Oe=>Oe!=null).length,wt=yt<=12||yt<=Math.ceil(Z.length*.2),U={name:g?s:Y.label||Y.id,type:"line",smooth:.2,showSymbol:wt,symbolSize:wt?6:4,connectNulls:!0,sampling:"lttb",large:!0,data:qe};if(g&&G===0){const Oe=gC(s);if(Oe&&(U.markPoint={data:[{type:Oe,name:Oe==="max"?"Best (max)":"Best (min)"}],symbolSize:60}),v.includes("stage")&&(ee==="global_step"||ee==="time")){const $e=[];let Ve=Z.length?((Ae=Z[0])==null?void 0:Ae.stage)??null:null;for(let jt=1;jt<Z.length;jt++){const _n=(ft=Z[jt])==null?void 0:ft.stage,I=_n==null||_n===""?Ve:_n;if(I!==Ve){const X=pe[jt];X!=null&&$e.push({xAxis:X}),Ve=I}}$e.length&&(U.markLine={silent:!0,symbol:"none",lineStyle:{type:"dashed",color:p.colorBorder,width:1},label:{show:!1},data:$e})}}return U});let je;if(g){const Y=((ne=x==null?void 0:x.metrics)==null?void 0:ne.rows)||[],G=v.includes(z)?z:n,Z=Y.map(oe=>{const pe=oe[G],Ke=pe===""||pe==null?null:Number(pe);return Ke==null||Number.isNaN(Ke)?null:Ke});je=G==="time"?Z.map(oe=>oe==null?null:oe-(Z.find(pe=>pe!=null)??0)):Z}const ue=g?[s]:t.map(Y=>Y.label||Y.id);return{title:{text:o,left:"center",top:se.spacing.xs,textStyle:{fontSize:se.typography.fontSize.md,fontWeight:se.typography.fontWeight.semibold}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0}}},legend:{data:ue,top:se.spacing.xl,type:t.length>3?"scroll":"plain",padding:[5,10]},xAxis:g?{type:"category",data:je}:{type:"value",name:n},yAxis:{type:T?"log":"value",scale:P,min:P?"dataMin":0},grid:{left:50,right:30,top:t.length>3?70:t.length>1?60:50,bottom:80,show:h.showGridLines},dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:40}],toolbox:{feature:{restore:{},saveAsImage:{}},right:10},series:ce,animation:h.enableChartAnimations,animationDuration:h.enableChartAnimations?1e3:0}},[t,n,z,s,o,T,P,D,v,g,x,h,p.colorBorder]),J=()=>{var ee,ce;try{const je=g&&v.includes(z)?z:n,ue=[];if(g){ue.push([je,s].join(","));for(const Z of((ee=x==null?void 0:x.metrics)==null?void 0:ee.rows)||[]){const oe=Z[je],pe=Z[s];ue.push([oe==null?"":String(oe),pe==null?"":String(pe)].join(","))}}else{ue.push(["run_id",je,s].join(","));for(const Z of t)for(const oe of((ce=Z.metrics)==null?void 0:ce.rows)||[]){const pe=oe[je],Ke=oe[s];ue.push([Z.id,pe==null?"":String(pe),Ke==null?"":String(Ke)].join(","))}}const ne=new Blob([ue.join(`
`)],{type:"text/csv;charset=utf-8;"}),Y=URL.createObjectURL(ne),G=document.createElement("a");G.href=Y,G.download=`${o.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}.csv`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(Y)}catch{}};return a.jsxs("div",{children:[a.jsx(ie,{size:"small",style:{marginBottom:se.spacing.md,borderRadius:se.borderRadius.md},styles:{body:{padding:`${se.spacing.sm}px ${se.spacing.md}px`}},children:a.jsxs(N,{wrap:!0,size:"small",style:{width:"100%"},children:[a.jsx(it,{title:f("chart.log_y_tooltip"),children:a.jsx(It,{checkedChildren:f("chart.log"),unCheckedChildren:f("chart.linear"),checked:T,onChange:k,size:"small"})}),a.jsx(it,{title:f("chart.auto_scale_tooltip"),children:a.jsx(It,{checkedChildren:f("chart.auto"),unCheckedChildren:f("chart.fixed"),checked:P,onChange:R,size:"small"})}),a.jsx(zr,{type:"vertical",style:{margin:"0 4px"}}),a.jsxs(N,{size:"small",style:{minWidth:140,maxWidth:200},children:[a.jsxs(pC,{type:"secondary",style:{fontSize:se.typography.fontSize.xs,whiteSpace:"nowrap"},children:[f("chart.smooth"),":"]}),a.jsx(Do,{min:0,max:.95,step:.05,value:D,onChange:ee=>j(Array.isArray(ee)?ee[0]:ee),style:{width:90},tooltip:{formatter:ee=>ee?`${(ee*100).toFixed(0)}%`:f("chart.off")}})]}),g&&a.jsxs(a.Fragment,{children:[a.jsx(zr,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(gt,{size:"small",value:v.includes(z)?z:n,style:{minWidth:100},onChange:$,options:(O.length?O:[n]).map(ee=>({value:ee,label:`${f("chart.x_axis")}: ${ee}`}))})]}),a.jsx(zr,{type:"vertical",style:{margin:"0 4px"}}),a.jsx(de,{size:"small",icon:a.jsx(Kc,{}),onClick:J,children:f("chart.export_csv")})]})}),a.jsx("div",{style:{height:S,width:"100%"},children:a.jsx(Bm,{option:K,group:d})})]})},(e,t)=>{var n,s,o,l;if(e.runs.length!==t.runs.length)return!1;for(let c=0;c<e.runs.length;c++){const d=e.runs[c],f=t.runs[c];if(d.id!==f.id||d.label!==f.label)return!1;const h=(n=d.metrics)==null?void 0:n.rows,p=(s=f.metrics)==null?void 0:s.rows,g=(h==null?void 0:h.length)??0,x=(p==null?void 0:p.length)??0;if(g!==x)return!1;if(g>0){const v=(o=h[g-1])==null?void 0:o.global_step,S=(l=p[x-1])==null?void 0:l.global_step;if(v!==S)return!1}}return e.xKey===t.xKey&&e.yKey===t.yKey&&e.title===t.title&&e.height===t.height&&e.persistKey===t.persistKey&&e.group===t.group});function yC(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(2))+" "+n[s]}function Vo(e){if(!e||e===0)return"-";const t=e<1e10?e*1e3:e,n=new Date(t);return isNaN(n.getTime())?"-":n.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function Wm(e){if(!e||e<=0)return"0s";const t=Math.floor(e/1e3),n=Math.floor(t/60),s=Math.floor(n/60),o=Math.floor(s/24);if(o>0){const l=s%24;return`${o}d ${l}h`}if(s>0){const l=n%60;return`${s}h ${l}m`}if(n>0){const l=t%60;return`${n}m ${l}s`}return`${t}s`}const yc={log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{},info:(...e)=>{},debug:(...e)=>{},table:e=>{}},{TabPane:Rh}=Es,xC=e=>{switch(e){case"model":return a.jsx(ui,{});case"dataset":return a.jsx(qt,{});case"config":return a.jsx(Yc,{});case"code":return a.jsx(lc,{});default:return a.jsx(di,{})}},vC=e=>{switch(e){case"production":return"green";case"staging":return"blue";case"experimental":return"orange";case"archived":return"default";default:return"default"}};function wC({runId:e}){const{t}=Xe(),n=Si(),[s,o]=b.useState(!1),[l,c]=b.useState([]),[d,f]=b.useState([]);b.useEffect(()=>{h()},[e]);const h=async()=>{o(!0);try{const g=await fetch(`/api/runs/${e}/artifacts`);if(!g.ok){const v=await g.text();throw yc.error(`API error: ${g.status} ${g.statusText}`,v),new Error(`Failed to load artifacts: ${g.statusText}`)}const x=await g.json();yc.info("Loaded artifacts:",x),c(x.created||[]),f(x.used||[])}catch(g){Q.error(`Failed to load artifacts: ${g}`)}finally{o(!1)}},p=[{title:t("artifacts.name"),dataIndex:"name",key:"name",render:(g,x)=>a.jsxs(N,{children:[xC(x.type),a.jsx("a",{onClick:()=>n(`/artifacts/${g}`),children:g})]})},{title:t("artifacts.version"),dataIndex:"version",key:"version",width:100,render:g=>a.jsxs(Ce,{children:["v",g]})},{title:t("artifacts.aliases"),dataIndex:"aliases",key:"aliases",render:g=>a.jsx(N,{size:4,children:g.map(x=>a.jsx(Ce,{color:"blue",children:x},x))})},{title:t("artifacts.stage"),dataIndex:"lifecycle_stage",key:"lifecycle_stage",render:g=>g&&a.jsx(Ce,{color:vC(g),children:t(`artifacts.stage.${g}`)})},{title:t("artifacts.size"),dataIndex:"size_bytes",key:"size_bytes",width:100,render:g=>yC(g)},{title:t("artifacts.created"),dataIndex:"created_at",key:"created_at",width:180,render:g=>Vo(g)},{title:t("actions"),key:"actions",width:100,render:(g,x)=>a.jsx(de,{type:"link",size:"small",onClick:()=>n(`/artifacts/${x.name}?version=${x.version}`),children:t("view")})}];return s?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(kn,{size:"large"})}):a.jsxs(Es,{defaultActiveKey:"created",children:[a.jsx(Rh,{tab:a.jsxs("span",{children:[a.jsx(ui,{})," ",t("run.artifacts.created")," (",l.length,")"]}),children:l.length>0?a.jsx(xr,{dataSource:l,columns:p,rowKey:g=>`${g.name}-v${g.version}`,size:"small",pagination:{pageSize:10}}):a.jsx(ot,{image:ot.PRESENTED_IMAGE_SIMPLE,description:t("run.artifacts.no_created")})},"created"),a.jsx(Rh,{tab:a.jsxs("span",{children:[a.jsx(qc,{})," ",t("run.artifacts.used")," (",d.length,")"]}),children:d.length>0?a.jsx(xr,{dataSource:d,columns:p,rowKey:g=>`${g.name}-v${g.version}`,size:"small",pagination:{pageSize:10}}):a.jsx(ot,{image:ot.PRESENTED_IMAGE_SIMPLE,description:t("run.artifacts.no_used")})},"used")]})}function _C(){return a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(At,{gutter:[se.spacing.md,se.spacing.md],children:[1,2,3,4].map(e=>a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(ie,{children:a.jsx(Qn,{active:!0,paragraph:{rows:1}})})},e))}),a.jsx(ie,{children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(Qn.Button,{active:!0,style:{width:"100%",height:40}}),[1,2,3,4,5,6,7,8].map(e=>a.jsx(Qn,{active:!0,paragraph:{rows:0}},e))]})})]})}function Hm(){return a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(ie,{children:a.jsx(Qn,{active:!0,paragraph:{rows:4}})}),a.jsx(ie,{children:a.jsx(Qn,{active:!0,paragraph:{rows:2}})}),a.jsx(At,{gutter:[se.spacing.md,se.spacing.md],children:[1,2,3,4].map(e=>a.jsx(ke,{xs:24,md:12,children:a.jsx(ie,{children:a.jsx(Qn.Image,{active:!0,style:{width:"100%",height:300}})})},e))}),a.jsx(ie,{children:a.jsx(Qn,{active:!0,paragraph:{rows:6}})})]})}function bC({rows:e=4}){return a.jsx(ie,{children:a.jsx(Qn,{active:!0,paragraph:{rows:e}})})}const{Text:On}=we,Gm=({gpus:e,loading:t=!1})=>{const{t:n}=Xe(),{token:s}=tr.useToken();if(!e||e.length===0)return null;const o=Math.max(6,Math.floor(24/e.length)),l=d=>d<60?s.colorSuccess:d<80?s.colorWarning:s.colorError,c=(d,f)=>{const h=Math.round(d.util_gpu??0),p=Math.round(d.mem_used_pct??(d.mem_used_mib&&d.mem_total_mib?d.mem_used_mib/d.mem_total_mib*100:0)),g=d.power_limit_w??350,x=d.power_w?Math.round(d.power_w/g*100):0,v=d.temp_max_c??85,S=d.temp_c?Math.round(d.temp_c/v*100):0;return a.jsx(ke,{xs:24,sm:24,md:o,style:{textAlign:"center"},children:a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(On,{strong:!0,style:{fontSize:14,color:s.colorTextSecondary},children:["GPU ",d.index??f]}),d.name&&a.jsx("div",{children:a.jsx(On,{type:"secondary",style:{fontSize:12},children:d.name})})]}),a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(N,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{size:4,children:[a.jsx(ji,{style:{color:l(h),fontSize:14}}),a.jsx(On,{style:{fontSize:12},children:n("gpu.util")})]}),a.jsxs(On,{strong:!0,style:{fontSize:12},children:[h,"%"]})]}),a.jsx(er,{percent:h,strokeColor:l(h),size:"small",showInfo:!1})]})}),a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(N,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{size:4,children:[a.jsx(qt,{style:{color:l(p),fontSize:14}}),a.jsx(On,{style:{fontSize:12},children:n("gpu.mem")})]}),a.jsx(On,{strong:!0,style:{fontSize:12},children:d.mem_used_mib&&d.mem_total_mib?`${(d.mem_used_mib/1024).toFixed(1)}GB / ${(d.mem_total_mib/1024).toFixed(1)}GB`:`${p}%`})]}),a.jsx(er,{percent:p,strokeColor:l(p),size:"small",showInfo:!1})]})}),d.power_w!==void 0&&a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(N,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{size:4,children:[a.jsx(Mt,{style:{color:l(x),fontSize:14}}),a.jsx(On,{style:{fontSize:12},children:n("gpu.power")})]}),a.jsx(On,{strong:!0,style:{fontSize:12},children:`${Math.round(d.power_w)}W / ${Math.round(g)}W`})]}),a.jsx(er,{percent:x,strokeColor:l(x),size:"small",showInfo:!1})]})}),d.temp_c!==void 0&&a.jsx("div",{style:{width:"100%",paddingLeft:16,paddingRight:16},children:a.jsxs(N,{direction:"vertical",size:4,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{size:4,children:[a.jsx(Zo,{style:{color:l(S),fontSize:14}}),a.jsx(On,{style:{fontSize:12},children:n("gpu.temp")})]}),a.jsx(On,{strong:!0,style:{fontSize:12},children:`${Math.round(d.temp_c)}°C / ${Math.round(v)}°C`})]}),a.jsx(er,{percent:S,strokeColor:l(S),size:"small",showInfo:!1})]})})]})},f)};return a.jsx(ie,{title:n("gpu.monitor_title"),loading:t,style:{marginTop:16},children:a.jsx(At,{gutter:[16,24],justify:"center",children:e.map((d,f)=>c(d,f))})})};function Ah({children:e,height:t=320,threshold:n=.1,placeholder:s}){const o=b.useRef(null),[l,c]=b.useState(!1);return b.useEffect(()=>{if(l)return;const d=new IntersectionObserver(([f])=>{f.isIntersecting&&(c(!0),d.disconnect())},{rootMargin:"200px",threshold:n});return o.current&&d.observe(o.current),()=>d.disconnect()},[l,n]),a.jsx("div",{ref:o,style:{minHeight:t,width:"100%"},children:l?e:s||a.jsx("div",{style:{height:t,width:"100%",padding:16,background:"rgba(0,0,0,0.02)",borderRadius:8,display:"flex",flexDirection:"column",justifyContent:"center"},children:a.jsx(Qn,{active:!0,paragraph:{rows:4},title:!1})})})}const Fl={},{Text:mn,Title:SC}=we,{Panel:jC}=Xc,zl={running:3e3,finished:6e4,failed:3e4,default:1e4};function CC(){var _n;const{id:e=""}=Rm(),{t}=Xe(),{settings:n}=na(),[s,o]=b.useState(null),[l,c]=b.useState({columns:[],rows:[]}),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(null),v=b.useRef({rowCount:0,lastStep:0}),[S,T]=b.useState(()=>{try{return localStorage.getItem(`run:${e}:step:xAxis`)||"global_step"}catch{return"global_step"}}),[k,P]=b.useState(()=>{try{return localStorage.getItem(`run:${e}:layout:twoCol`)==="1"}catch{return!0}}),[R,D]=b.useState(window.innerWidth);b.useEffect(()=>{const I=()=>D(window.innerWidth);return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const[j,E]=b.useState(null);b.useRef([]);const[O,z]=b.useState([]),[$,B]=b.useState(""),[K,J]=b.useState([]),[Le,ee]=b.useState(""),[ce,je]=b.useState([]),[ue,ne]=b.useState([]),[Y,G]=b.useState([]),[Z,oe]=b.useState({}),pe=async(I=!0)=>{I&&f(!0);try{const X=await k1(e);o(X),x(new Date)}catch{Q.error(t("run.load_failed")||"Failed to load run details")}finally{I&&f(!1)}},Ke=async(I=!0)=>{var X;I&&p(!0);try{const xe=n.maxDataPoints>0?n.maxDataPoints:void 0,Ne=await bo(e,xe),fe=Ne.rows||[],We=fe.length,Be=fe.length>0?((X=fe[fe.length-1])==null?void 0:X.global_step)??0:0,De=v.current;(We!==De.rowCount||Be!==De.lastStep)&&(c(Ne),v.current={rowCount:We,lastStep:Be},yc.debug(`Metrics updated: ${De.rowCount} -> ${We} rows, step ${De.lastStep} -> ${Be}`))}catch{I&&Q.error(t("run.metrics_failed")||"Failed to load metrics")}finally{I&&p(!1)}},Je=b.useMemo(()=>{if(!s)return zl.default;const I=s.status;return zl[I]??zl.default},[s==null?void 0:s.status]);b.useEffect(()=>{v.current={rowCount:0,lastStep:0},pe(),Ke();const I=setInterval(()=>{pe(!1),Ke(!1)},Je);return()=>clearInterval(I)},[e,Je,n.maxDataPoints]),b.useEffect(()=>{!(s!=null&&s.project)||!(s!=null&&s.name)||(I1().then(I=>z(I.projects||[])).catch(()=>{}),$||(B(s.project),ee(s.name)),ne(I=>I.includes(e)?I:[e]))},[s==null?void 0:s.project,s==null?void 0:s.name,e]),b.useEffect(()=>{if(!$){J([]);return}M1($).then(I=>{J(I.names||[]),$!==(s==null?void 0:s.project)?ee(""):ee((s==null?void 0:s.name)||"")}).catch(()=>J([]))},[$,s==null?void 0:s.project,s==null?void 0:s.name]),b.useEffect(()=>{if(!$||!Le){je([]);return}L1($,Le).then(I=>{const X=(I||[]).sort((xe,Ne)=>(Ne.start_time||0)-(xe.start_time||0));je(X)}).catch(()=>je([]))},[$,Le]);const qe=b.useRef({}),yt=async()=>{var Ne;if(ue.length<=1)return;const I=n.maxDataPoints>0?n.maxDataPoints:void 0,X={...Z};let xe=!1;for(const fe of ue)if(fe!==e)try{const We=await bo(fe,I),Be=We.rows||[],De=Be.length,on=Be.length>0?((Ne=Be[Be.length-1])==null?void 0:Ne.global_step)??0:0,_t=qe.current[fe]||{rowCount:0,lastStep:0};(De!==_t.rowCount||on!==_t.lastStep)&&(X[fe]=We,qe.current[fe]={rowCount:De,lastStep:on},xe=!0)}catch{}xe&&oe(X)};b.useEffect(()=>{let I=!1;const X=n.maxDataPoints>0?n.maxDataPoints:void 0;return(async()=>{var Ne;const xe={...Z};for(const fe of ue)if(!xe[fe])try{const We=await bo(fe,X);if(!I){xe[fe]=We;const Be=We.rows||[];qe.current[fe]={rowCount:Be.length,lastStep:Be.length>0?((Ne=Be[Be.length-1])==null?void 0:Ne.global_step)??0:0}}}catch{}I||oe(xe)})(),()=>{I=!0}},[ue,n.maxDataPoints]),b.useEffect(()=>{if((s==null?void 0:s.status)!=="running"||ue.length<=1)return;const I=setInterval(()=>{yt()},Je);return()=>clearInterval(I)},[s==null?void 0:s.status,ue,Je]),b.useEffect(()=>{try{localStorage.setItem(`run:${e}:step:xAxis`,S)}catch{}},[e,S]),b.useEffect(()=>{try{localStorage.setItem(`run:${e}:layout:twoCol`,k?"1":"0")}catch{}},[e,k]);const wt=location.protocol==="https:"?"wss":"ws",U=b.useMemo(()=>{const I=(Fl==null?void 0:Fl.VITE_API_BASE)||"/api";return/^https?:/i.test(I)?`${I.replace(/^http/i,wt).replace(/\/$/,"")}/runs/${e}/logs/ws`:`${wt}://${location.host}${I.replace(/\/$/,"")}/runs/${e}/logs/ws`},[e,wt]),le=(I,X)=>{var xe;if(!((xe=I==null?void 0:I.rows)!=null&&xe.length))return!1;for(const Ne of I.rows){const fe=Ne[X];if(fe==null||fe==="")continue;const We=Number(fe);if(!Number.isNaN(We))return!0}return!1},Ae=new Set(["epoch","global_step","iter","step","batch","time","stage"]),ft=b.useMemo(()=>(l.columns||[]).filter(I=>!Ae.has(I)&&le(l,I)),[l]),Oe=b.useMemo(()=>{const I=new Set;for(const X of ue){const xe=Z[X];if(!xe)continue;const Ne=xe.columns||[];for(const fe of Ne)!Ae.has(fe)&&le(xe,fe)&&I.add(fe)}return Array.from(I).sort()},[ue,Z]),$e=b.useMemo(()=>({display:"grid",gridTemplateColumns:k&&R>=900?"repeat(auto-fit, minmax(400px, 1fr))":"1fr",gap:16,width:"100%",maxWidth:"100%"}),[k,R]),Ve=b.useMemo(()=>{const I=n.defaultChartHeight;return R>=1200?I+30:R>=900?I:Math.max(250,I-40)},[R,n.defaultChartHeight]),jt=I=>{switch(I){case"running":return a.jsx(Jc,{spin:!0,style:{color:"#1890ff"}});case"finished":return a.jsx(wr,{style:{color:"#52c41a"}});case"failed":return a.jsx(Br,{style:{color:"#ff4d4f"}});default:return a.jsx(qj,{})}};return d&&!s?a.jsx(Hm,{}):a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:[a.jsxs(ie,{bodyStyle:{padding:"20px 24px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:16},children:[a.jsxs("div",{children:[a.jsxs(N,{align:"center",style:{marginBottom:8},children:[a.jsx(SC,{level:3,style:{margin:0},children:(s==null?void 0:s.name)||e}),(s==null?void 0:s.status)&&a.jsx(Ce,{icon:jt(s.status),color:s.status==="running"?"processing":s.status==="finished"?"success":s.status==="failed"?"error":"default",style:{fontSize:"14px",padding:"4px 10px",borderRadius:4},children:s.status.toUpperCase()})]}),a.jsxs(N,{split:a.jsx(zr,{type:"vertical"}),children:[a.jsxs(mn,{type:"secondary",children:[a.jsx(Gj,{})," ",(s==null?void 0:s.project)||"Default Project"]}),(s==null?void 0:s.start_time)&&a.jsxs(mn,{type:"secondary",children:[a.jsx(Kj,{})," ",Vo(s.start_time)]}),(s==null?void 0:s.pid)&&a.jsxs(mn,{type:"secondary",children:["PID: ",s.pid]})]})]}),a.jsxs(N,{children:[g&&a.jsx(mn,{type:"secondary",style:{fontSize:"12px"},children:t("run.updated",{time:g.toLocaleTimeString()})}),a.jsx(de,{icon:a.jsx(Ps,{}),onClick:()=>{pe(),Ke(),Q.success(t("run.refreshed"))},loading:d,children:t("run.refresh")})]})]}),a.jsx(zr,{style:{margin:"16px 0"}}),a.jsxs(At,{gutter:[24,16],children:[a.jsx(ke,{xs:24,sm:12,md:8,children:a.jsx(Gt,{title:t("run.stats.duration")||"Duration",value:s!=null&&s.duration?Wm(s.duration*1e3):"-",prefix:a.jsx(Qo,{})})}),a.jsx(ke,{xs:24,sm:12,md:8,children:a.jsx(Gt,{title:t("run.stats.total_steps")||"Total Steps",value:l.total??((_n=l.rows)==null?void 0:_n.length)??0,prefix:a.jsx(Mt,{})})}),a.jsx(ke,{xs:24,sm:12,md:8,children:a.jsx(Gt,{title:t("run.stats.artifacts")||"Artifacts",value:((s==null?void 0:s.artifacts_created_count)||0)+((s==null?void 0:s.artifacts_used_count)||0),prefix:a.jsx(ui,{})})})]}),a.jsx(Xc,{ghost:!0,style:{marginTop:16},children:a.jsx(jC,{header:t("run.more_details")||"More Details (Paths, Logs)",children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[a.jsxs("div",{children:[a.jsxs(mn,{type:"secondary",style:{display:"inline-block",width:100},children:[t("run.descriptions.run_id"),":"]}),a.jsx(mn,{copyable:!0,children:e})]}),a.jsxs("div",{children:[a.jsxs(mn,{type:"secondary",style:{display:"inline-block",width:100},children:[t("run.descriptions.run_dir"),":"]}),a.jsx(mn,{copyable:!0,ellipsis:!0,style:{maxWidth:"calc(100% - 120px)"},children:s==null?void 0:s.run_dir})]}),a.jsxs("div",{children:[a.jsxs(mn,{type:"secondary",style:{display:"inline-block",width:100},children:[t("run.descriptions.log_file"),":"]}),a.jsx(mn,{copyable:!0,ellipsis:!0,style:{maxWidth:"calc(100% - 120px)"},children:s==null?void 0:s.logs})]})]})},"1")})]}),(s==null?void 0:s.status)==="running"&&(j==null?void 0:j.gpus)&&j.gpus.length>0&&a.jsx(Gm,{gpus:j.gpus,loading:d}),a.jsx(ie,{title:a.jsxs(N,{children:[a.jsx(Zo,{}),a.jsx("span",{children:t("compare.title")}),ue.length>1&&Y.length>0&&a.jsx(zo,{count:`${ue.length} runs × ${Y.length} metrics`,style:{backgroundColor:"#52c41a"}})]}),extra:a.jsxs(N,{children:[a.jsx(it,{title:"Select all available metrics",children:a.jsx(de,{size:"small",type:"dashed",onClick:()=>G(Oe),disabled:Oe.length===0,children:"Select All"})}),a.jsx(it,{title:"Clear all selections",children:a.jsx(de,{size:"small",type:"text",onClick:()=>{G([]),ne([e])},children:"Clear"})})]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsxs(N,{wrap:!0,style:{width:"100%"},align:"start",children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,flex:1,minWidth:300},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[a.jsxs("div",{style:{flex:1,minWidth:160},children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:t("run.descriptions.project")||"Project"}),a.jsx(gt,{showSearch:!0,style:{width:"100%"},value:$,onChange:B,options:O.map(I=>({value:I,label:I})),placeholder:"Select Project"})]}),a.jsxs("div",{style:{flex:1,minWidth:160},children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:t("run.descriptions.name")||"Experiment"}),a.jsx(gt,{showSearch:!0,style:{width:"100%"},value:Le,onChange:ee,options:K.map(I=>({value:I,label:I})),placeholder:"Select Experiment",disabled:!$})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:t("compare.select.runs")}),a.jsx(gt,{mode:"multiple",allowClear:!0,style:{width:"100%"},value:ue,onChange:ne,placeholder:t("compare.select.runs.placeholder"),optionLabelProp:"label",maxTagCount:3,children:(ce||[]).map(I=>a.jsx(gt.Option,{value:I.id,label:I.id.substring(0,8),children:a.jsxs(N,{direction:"vertical",size:0,style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx(mn,{strong:!0,children:I.id}),a.jsx(Ce,{color:I.status==="running"?"blue":I.status==="finished"?"green":"red",style:{marginRight:0},children:I.status})]}),a.jsx(mn,{type:"secondary",style:{fontSize:12},children:I.start_time?Vo(I.start_time):"-"})]})},I.id))})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c",marginBottom:4},children:a.jsxs(N,{children:[a.jsx("span",{children:t("compare.select.metrics")}),a.jsxs(N.Compact,{size:"small",children:[a.jsx(de,{type:"text",size:"small",onClick:()=>G(Oe.filter(I=>I.match(/loss|error/i))),children:"Loss"}),a.jsx(de,{type:"text",size:"small",onClick:()=>G(Oe.filter(I=>I.match(/acc|accuracy/i))),children:"Acc"})]})]})}),a.jsx(gt,{mode:"multiple",allowClear:!0,style:{width:"100%"},value:Y,onChange:G,placeholder:t("compare.select.metrics.placeholder"),options:Oe.map(I=>({value:I,label:I})),maxTagCount:"responsive"})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:8,paddingBottom:4},children:[a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:4,fontSize:"12px",color:"#8c8c8c"},children:t("compare.stepx")}),a.jsx(gt,{value:S,onChange:I=>T(I),style:{width:120},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),a.jsx(de,{onClick:async()=>{const I=n.maxDataPoints>0?n.maxDataPoints:void 0,X={};for(const xe of ue)try{X[xe]=await bo(xe,I)}catch{}oe(X)},children:t("compare.refresh")})]})]}),Y.length===0||ue.length===0?a.jsx(sn,{type:"info",showIcon:!0,message:t("compare.tip")}):a.jsx("div",{style:$e,children:Y.map(I=>a.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px",backgroundColor:"#fff"},children:a.jsx(Ah,{height:Ve,children:a.jsx(Ph,{runs:ue.map(X=>({id:X,metrics:Z[X]||{columns:[],rows:[]}})),xKey:S,yKey:I,title:I,height:Ve,group:`overlay-group-${e}`,persistKey:`run:${e}:overlay:${I}`})})},I))})]})}),a.jsx(ie,{title:a.jsxs(N,{children:[a.jsx(ji,{}),a.jsx("span",{children:t("metrics.title")}),a.jsx(zo,{count:ft.length,showZero:!0,style:{backgroundColor:"#1677ff"}}),h&&a.jsx(kn,{size:"small"})]}),extra:a.jsxs(N,{wrap:!0,children:[a.jsx(it,{title:t("metrics.more_columns_tooltip")||"Display charts in multiple columns",children:a.jsxs("span",{children:[t("metrics.more_columns")," ",a.jsx(It,{checked:k,onChange:P})]})}),a.jsxs("span",{children:[t("compare.stepx")," ",a.jsx(gt,{size:"small",value:S,onChange:I=>T(I),style:{width:140},options:[{value:"global_step",label:"global_step"},{value:"time",label:"time"}]})]}),a.jsx(it,{title:"Refresh metrics",children:a.jsx(de,{type:"text",size:"small",icon:a.jsx(Ps,{}),loading:h,onClick:()=>Ke()})})]}),children:ft.length===0?a.jsx(sn,{type:"info",showIcon:!0,message:t("metrics.none")}):a.jsx("div",{style:$e,children:ft.map(I=>a.jsx("div",{style:{minWidth:300,maxWidth:"100%",overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:"6px",padding:"8px",backgroundColor:"#fff"},children:a.jsx(Ah,{height:Ve,children:a.jsx(Ph,{runs:[{id:e,metrics:l}],xKey:S,yKey:I,title:I,height:Ve,group:`step-group-${e}`,persistKey:`run:${e}:step:${I}`})})},I))})}),((s==null?void 0:s.artifacts_created_count)>0||(s==null?void 0:s.artifacts_used_count)>0)&&a.jsx(ie,{title:a.jsxs(N,{children:[a.jsx(ui,{}),t("run.artifacts.title")]}),children:a.jsx(wC,{runId:e})}),a.jsx(ie,{title:a.jsxs(N,{children:[a.jsx(qt,{}),a.jsx("span",{children:t("logs.title")}),a.jsx(Ce,{color:"cyan",children:"Real-time"})]}),styles:{body:{padding:0}},children:a.jsx(fC,{url:U,persistKey:`run_${e}_logs`})})]})}const tu=b.createContext({});function Ci(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const nu=typeof window<"u",ru=nu?b.useLayoutEffect:b.useEffect,ra=b.createContext(null);function su(e,t){e.indexOf(t)===-1&&e.push(t)}function sa(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const nr=(e,t,n)=>n>t?t:n<e?e:n;let iu=()=>{};const rr={},Km=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function qm(e){return typeof e=="object"&&e!==null}const Ym=e=>/^0[^.\s]+$/u.test(e);function ou(e){let t;return()=>(t===void 0&&(t=e()),t)}const wn=e=>e,TC=(e,t)=>n=>t(e(n)),Ti=(...e)=>e.reduce(TC),Rs=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class au{constructor(){this.subscriptions=[]}add(t){return su(this.subscriptions,t),()=>sa(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dn=e=>e*1e3,vn=e=>e/1e3;function Xm(e,t){return t?e*(1e3/t):0}const PC=(e,t,n)=>{const s=t-e;return((n-e)%s+s)%s+e},Jm=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RC=1e-7,AC=12;function EC(e,t,n,s,o){let l,c,d=0;do c=t+(n-t)/2,l=Jm(c,s,o)-e,l>0?n=c:t=c;while(Math.abs(l)>RC&&++d<AC);return c}function Pi(e,t,n,s){if(e===t&&n===s)return wn;const o=l=>EC(l,0,1,e,n);return l=>l===0||l===1?l:Jm(o(l),t,s)}const Zm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qm=e=>t=>1-e(1-t),eg=Pi(.33,1.53,.69,.99),lu=Qm(eg),tg=Zm(lu),ng=e=>(e*=2)<1?.5*lu(e):.5*(2-Math.pow(2,-10*(e-1))),cu=e=>1-Math.sin(Math.acos(e)),rg=Qm(cu),sg=Zm(cu),kC=Pi(.42,0,1,1),DC=Pi(0,0,.58,1),ig=Pi(.42,0,.58,1),og=e=>Array.isArray(e)&&typeof e[0]!="number";function ag(e,t){return og(e)?e[PC(0,e.length,t)]:e}const lg=e=>Array.isArray(e)&&typeof e[0]=="number",IC={linear:wn,easeIn:kC,easeInOut:ig,easeOut:DC,circIn:cu,circInOut:sg,circOut:rg,backIn:lu,backInOut:tg,backOut:eg,anticipate:ng},MC=e=>typeof e=="string",Eh=e=>{if(lg(e)){iu(e.length===4);const[t,n,s,o]=e;return Pi(t,n,s,o)}else if(MC(e))return IC[e];return e},So=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function LC(e,t){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(h.schedule(p),e()),p(d)}const h={schedule:(p,g=!1,x=!1)=>{const S=x&&o?n:s;return g&&c.add(p),S.has(p)||S.add(p),p},cancel:p=>{s.delete(p),c.delete(p)},process:p=>{if(d=p,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(f),n.clear(),o=!1,l&&(l=!1,h.process(p))}};return h}const OC=40;function cg(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=So.reduce((D,j)=>(D[j]=LC(l),D),{}),{setup:d,read:f,resolveKeyframes:h,preUpdate:p,update:g,preRender:x,render:v,postRender:S}=c,T=()=>{const D=rr.useManualTiming?o.timestamp:performance.now();n=!1,rr.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(D-o.timestamp,OC),1)),o.timestamp=D,o.isProcessing=!0,d.process(o),f.process(o),h.process(o),p.process(o),g.process(o),x.process(o),v.process(o),S.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(T))},k=()=>{n=!0,s=!0,o.isProcessing||e(T)};return{schedule:So.reduce((D,j)=>{const E=c[j];return D[j]=(O,z=!1,$=!1)=>(n||k(),E.schedule(O,z,$)),D},{}),cancel:D=>{for(let j=0;j<So.length;j++)c[So[j]].cancel(D)},state:o,steps:c}}const{schedule:et,cancel:sr,state:Rt,steps:$l}=cg(typeof requestAnimationFrame<"u"?requestAnimationFrame:wn,!0);let Io;function FC(){Io=void 0}const Kt={now:()=>(Io===void 0&&Kt.set(Rt.isProcessing||rr.useManualTiming?Rt.timestamp:performance.now()),Io),set:e=>{Io=e,queueMicrotask(FC)}},ug=e=>t=>typeof t=="string"&&t.startsWith(e),uu=ug("--"),zC=ug("var(--"),du=e=>zC(e)?$C.test(e.split("/*")[0].trim()):!1,$C=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ks={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pi={...ks,transform:e=>nr(0,1,e)},jo={...ks,default:1},ri=e=>Math.round(e*1e5)/1e5,fu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VC(e){return e==null}const NC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hu=(e,t)=>n=>!!(typeof n=="string"&&NC.test(n)&&n.startsWith(e)||t&&!VC(n)&&Object.prototype.hasOwnProperty.call(n,t)),dg=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(fu);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},BC=e=>nr(0,255,e),Vl={...ks,transform:e=>Math.round(BC(e))},Lr={test:hu("rgb","red"),parse:dg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Vl.transform(e)+", "+Vl.transform(t)+", "+Vl.transform(n)+", "+ri(pi.transform(s))+")"};function UC(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const xc={test:hu("#"),parse:UC,transform:Lr.transform},Ri=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yr=Ri("deg"),$n=Ri("%"),ye=Ri("px"),WC=Ri("vh"),HC=Ri("vw"),kh={...$n,parse:e=>$n.parse(e)/100,transform:e=>$n.transform(e*100)},vs={test:hu("hsl","hue"),parse:dg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+$n.transform(ri(t))+", "+$n.transform(ri(n))+", "+ri(pi.transform(s))+")"},mt={test:e=>Lr.test(e)||xc.test(e)||vs.test(e),parse:e=>Lr.test(e)?Lr.parse(e):vs.test(e)?vs.parse(e):xc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Lr.transform(e):vs.transform(e),getAnimatableNone:e=>{const t=mt.parse(e);return t.alpha=0,mt.transform(t)}},GC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(fu))==null?void 0:t.length)||0)+(((n=e.match(GC))==null?void 0:n.length)||0)>0}const fg="number",hg="color",qC="var",YC="var(",Dh="${}",XC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mi(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=t.replace(XC,f=>(mt.test(f)?(s.color.push(l),o.push(hg),n.push(mt.parse(f))):f.startsWith(YC)?(s.var.push(l),o.push(qC),n.push(f)):(s.number.push(l),o.push(fg),n.push(parseFloat(f))),++l,Dh)).split(Dh);return{values:n,split:d,indexes:s,types:o}}function pg(e){return mi(e).values}function mg(e){const{split:t,types:n}=mi(e),s=t.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],o[c]!==void 0){const d=n[c];d===fg?l+=ri(o[c]):d===hg?l+=mt.transform(o[c]):l+=o[c]}return l}}const JC=e=>typeof e=="number"?0:mt.test(e)?mt.getAnimatableNone(e):e;function ZC(e){const t=pg(e);return mg(e)(t.map(JC))}const _r={test:KC,parse:pg,createTransformer:mg,getAnimatableNone:ZC};function Nl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function QC({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,c=0;if(!t)o=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;o=Nl(f,d,e+1/3),l=Nl(f,d,e),c=Nl(f,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function No(e,t){return n=>n>0?t:e}const nt=(e,t,n)=>e+(t-e)*n,Bl=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},eT=[xc,Lr,vs],tT=e=>eT.find(t=>t.test(e));function Ih(e){const t=tT(e);if(!t)return!1;let n=t.parse(e);return t===vs&&(n=QC(n)),n}const Mh=(e,t)=>{const n=Ih(e),s=Ih(t);if(!n||!s)return No(e,t);const o={...n};return l=>(o.red=Bl(n.red,s.red,l),o.green=Bl(n.green,s.green,l),o.blue=Bl(n.blue,s.blue,l),o.alpha=nt(n.alpha,s.alpha,l),Lr.transform(o))},vc=new Set(["none","hidden"]);function nT(e,t){return vc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function rT(e,t){return n=>nt(e,t,n)}function pu(e){return typeof e=="number"?rT:typeof e=="string"?du(e)?No:mt.test(e)?Mh:oT:Array.isArray(e)?gg:typeof e=="object"?mt.test(e)?Mh:sT:No}function gg(e,t){const n=[...e],s=n.length,o=e.map((l,c)=>pu(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function sT(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=pu(e[o])(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function iT(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][s[l]],d=e.values[c]??0;n[o]=d,s[l]++}return n}const oT=(e,t)=>{const n=_r.createTransformer(t),s=mi(e),o=mi(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?vc.has(e)&&!o.values.length||vc.has(t)&&!s.values.length?nT(e,t):Ti(gg(iT(s,o),o.values),n):No(e,t)};function yg(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?nt(e,t,n):pu(e)(e,t)}const aT=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>et.update(t,n),stop:()=>sr(t),now:()=>Rt.isProcessing?Rt.timestamp:Kt.now()}},xg=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)s+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Bo=2e4;function mu(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Bo;)t+=n,s=e.next(t);return t>=Bo?1/0:t}function vg(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(mu(s),Bo);return{type:"keyframes",ease:l=>s.next(o*l).value/t,duration:vn(o)}}const lT=5;function wg(e,t,n){const s=Math.max(t-lT,0);return Xm(n-e(s),t-s)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ul=.001;function cT({duration:e=ut.duration,bounce:t=ut.bounce,velocity:n=ut.velocity,mass:s=ut.mass}){let o,l,c=1-t;c=nr(ut.minDamping,ut.maxDamping,c),e=nr(ut.minDuration,ut.maxDuration,vn(e)),c<1?(o=h=>{const p=h*c,g=p*e,x=p-n,v=wc(h,c),S=Math.exp(-g);return Ul-x/v*S},l=h=>{const g=h*c*e,x=g*n+n,v=Math.pow(c,2)*Math.pow(h,2)*e,S=Math.exp(-g),T=wc(Math.pow(h,2),c);return(-o(h)+Ul>0?-1:1)*((x-v)*S)/T}):(o=h=>{const p=Math.exp(-h*e),g=(h-n)*e+1;return-Ul+p*g},l=h=>{const p=Math.exp(-h*e),g=(n-h)*(e*e);return p*g});const d=5/e,f=dT(o,l,d);if(e=Dn(e),isNaN(f))return{stiffness:ut.stiffness,damping:ut.damping,duration:e};{const h=Math.pow(f,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:e}}}const uT=12;function dT(e,t,n){let s=n;for(let o=1;o<uT;o++)s=s-e(s)/t(s);return s}function wc(e,t){return e*Math.sqrt(1-t*t)}const fT=["duration","bounce"],hT=["stiffness","damping","mass"];function Lh(e,t){return t.some(n=>e[n]!==void 0)}function pT(e){let t={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...e};if(!Lh(e,hT)&&Lh(e,fT))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*nr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:ut.mass,stiffness:o,damping:l}}else{const n=cT(e);t={...t,...n,mass:ut.mass},t.isResolvedFromDuration=!0}return t}function gi(e=ut.visualDuration,t=ut.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:h,mass:p,duration:g,velocity:x,isResolvedFromDuration:v}=pT({...n,velocity:-vn(n.velocity||0)}),S=x||0,T=h/(2*Math.sqrt(f*p)),k=c-l,P=vn(Math.sqrt(f/p)),R=Math.abs(k)<5;s||(s=R?ut.restSpeed.granular:ut.restSpeed.default),o||(o=R?ut.restDelta.granular:ut.restDelta.default);let D;if(T<1){const E=wc(P,T);D=O=>{const z=Math.exp(-T*P*O);return c-z*((S+T*P*k)/E*Math.sin(E*O)+k*Math.cos(E*O))}}else if(T===1)D=E=>c-Math.exp(-P*E)*(k+(S+P*k)*E);else{const E=P*Math.sqrt(T*T-1);D=O=>{const z=Math.exp(-T*P*O),$=Math.min(E*O,300);return c-z*((S+T*P*k)*Math.sinh($)+E*k*Math.cosh($))/E}}const j={calculatedDuration:v&&g||null,next:E=>{const O=D(E);if(v)d.done=E>=g;else{let z=E===0?S:0;T<1&&(z=E===0?Dn(S):wg(D,E,O));const $=Math.abs(z)<=s,B=Math.abs(c-O)<=o;d.done=$&&B}return d.value=d.done?c:O,d},toString:()=>{const E=Math.min(mu(j),Bo),O=xg(z=>j.next(E*z).value,E,30);return E+"ms "+O},toTransition:()=>{}};return j}gi.applyToOptions=e=>{const t=vg(e,100,gi);return e.ease=t.ease,e.duration=Dn(t.duration),e.type="keyframes",e};function _c({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:h=.5,restSpeed:p}){const g=e[0],x={done:!1,value:g},v=$=>d!==void 0&&$<d||f!==void 0&&$>f,S=$=>d===void 0?f:f===void 0||Math.abs(d-$)<Math.abs(f-$)?d:f;let T=n*t;const k=g+T,P=c===void 0?k:c(k);P!==k&&(T=P-g);const R=$=>-T*Math.exp(-$/s),D=$=>P+R($),j=$=>{const B=R($),K=D($);x.done=Math.abs(B)<=h,x.value=x.done?P:K};let E,O;const z=$=>{v(x.value)&&(E=$,O=gi({keyframes:[x.value,S(x.value)],velocity:wg(D,$,x.value),damping:o,stiffness:l,restDelta:h,restSpeed:p}))};return z(0),{calculatedDuration:null,next:$=>{let B=!1;return!O&&E===void 0&&(B=!0,j($),z($)),E!==void 0&&$>=E?O.next($-E):(!B&&j($),x)}}}function mT(e,t,n){const s=[],o=n||rr.mix||yg,l=e.length-1;for(let c=0;c<l;c++){let d=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||wn:t;d=Ti(f,d)}s.push(d)}return s}function _g(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(iu(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=mT(t,s,o),f=d.length,h=p=>{if(c&&p<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const x=Rs(e[g],e[g+1],p);return d[g](x)};return n?p=>h(nr(e[0],e[l-1],p)):h}function bg(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Rs(0,t,s);e.push(nt(n,1,o))}}function Sg(e){const t=[0];return bg(t,e.length-1),t}function gT(e,t){return e.map(n=>n*t)}function yT(e,t){return e.map(()=>t||ig).splice(0,e.length-1)}function si({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=og(s)?s.map(Eh):Eh(s),l={done:!1,value:t[0]},c=gT(n&&n.length===t.length?n:Sg(t),e),d=_g(c,t,{ease:Array.isArray(o)?o:yT(t,o)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const xT=e=>e!==null;function gu(e,{repeat:t,repeatType:n="loop"},s,o=1){const l=e.filter(xT),d=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const vT={decay:_c,inertia:_c,tween:si,keyframes:si,spring:gi};function jg(e){typeof e.type=="string"&&(e.type=vT[e.type])}class yu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const wT=e=>e/100;class xu extends yu{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Kt.now()&&this.tick(Kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jg(t);const{type:n=si,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||si;f!==si&&typeof d[0]!="number"&&(this.mixKeyframes=Ti(wT,yg(d[0],d[1])),d=[0,100]);const h=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=mu(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:x,repeatDelay:v,type:S,onUpdate:T,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const P=this.currentTime-h*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?P<0:P>o;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let D=this.currentTime,j=s;if(g){const $=Math.min(this.currentTime,o)/d;let B=Math.floor($),K=$%1;!K&&$>=1&&(K=1),K===1&&B--,B=Math.min(B,g+1),!!(B%2)&&(x==="reverse"?(K=1-K,v&&(K-=v/d)):x==="mirror"&&(j=c)),D=nr(0,1,K)*d}const E=R?{done:!1,value:p[0]}:j.next(D);l&&(E.value=l(E.value));let{done:O}=E;!R&&f!==null&&(O=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return z&&S!==_c&&(E.value=gu(p,this.options,k,this.speed)),T&&T(E.value),z&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return vn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+vn(t)}get time(){return vn(this.currentTime)}set time(t){var n;t=Dn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Kt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=vn(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=aT,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function _T(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Or=e=>e*180/Math.PI,bc=e=>{const t=Or(Math.atan2(e[1],e[0]));return Sc(t)},bT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:bc,rotateZ:bc,skewX:e=>Or(Math.atan(e[1])),skewY:e=>Or(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Sc=e=>(e=e%360,e<0&&(e+=360),e),Oh=bc,Fh=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),zh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ST={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fh,scaleY:zh,scale:e=>(Fh(e)+zh(e))/2,rotateX:e=>Sc(Or(Math.atan2(e[6],e[5]))),rotateY:e=>Sc(Or(Math.atan2(-e[2],e[0]))),rotateZ:Oh,rotate:Oh,skewX:e=>Or(Math.atan(e[4])),skewY:e=>Or(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jc(e){return e.includes("scale")?1:0}function Cc(e,t){if(!e||e==="none")return jc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=ST,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=bT,o=d}if(!o)return jc(t);const l=s[t],c=o[1].split(",").map(CT);return typeof l=="function"?l(c):c[l]}const jT=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Cc(n,t)};function CT(e){return parseFloat(e.trim())}const Ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Is=new Set(Ds),$h=e=>e===ks||e===ye,TT=new Set(["x","y","z"]),PT=Ds.filter(e=>!TT.has(e));function RT(e){const t=[];return PT.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Vr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Cc(t,"x"),y:(e,{transform:t})=>Cc(t,"y")};Vr.translateX=Vr.x;Vr.translateY=Vr.y;const Nr=new Set;let Tc=!1,Pc=!1,Rc=!1;function Cg(){if(Pc){const e=Array.from(Nr).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=RT(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Pc=!1,Tc=!1,Nr.forEach(e=>e.complete(Rc)),Nr.clear()}function Tg(){Nr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pc=!0)})}function AT(){Rc=!0,Tg(),Cg(),Rc=!1}class vu{constructor(t,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Nr.add(this),Tc||(Tc=!0,et.read(Tg),et.resolveKeyframes(Cg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}_T(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nr.delete(this)}cancel(){this.state==="scheduled"&&(Nr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ET=e=>e.startsWith("--");function kT(e,t,n){ET(t)?e.style.setProperty(t,n):e.style[t]=n}const DT=ou(()=>window.ScrollTimeline!==void 0),IT={};function MT(e,t){const n=ou(e);return()=>IT[t]??n()}const Pg=MT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ni=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Vh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ni([0,.65,.55,1]),circOut:ni([.55,0,1,.45]),backIn:ni([.31,.01,.66,-.59]),backOut:ni([.33,1.53,.69,.99])};function Rg(e,t){if(e)return typeof e=="function"?Pg()?xg(e,t):"ease-out":lg(e)?ni(e):Array.isArray(e)?e.map(n=>Rg(n,t)||Vh.easeOut):Vh[e]}function LT(e,t,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},h=void 0){const p={[t]:n};f&&(p.offset=f);const g=Rg(d,o);Array.isArray(g)&&(p.easing=g);const x={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),e.animate(p,x)}function wu(e){return typeof e=="function"&&"applyToOptions"in e}function OT({type:e,...t}){return wu(e)&&Pg()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class FT extends yu{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,iu(typeof t.type!="string");const h=OT(t);this.animation=LT(n,s,o,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=gu(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):kT(n,s,p),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return vn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+vn(t)}get time(){return vn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Dn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&DT()?(this.animation.timeline=t,wn):n(this)}}const Ag={anticipate:ng,backInOut:tg,circInOut:sg};function zT(e){return e in Ag}function $T(e){typeof e.ease=="string"&&zT(e.ease)&&(e.ease=Ag[e.ease])}const Nh=10;class VT extends FT{constructor(t){$T(t),jg(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new xu({...c,autoplay:!1}),f=Dn(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-Nh).value,d.sample(f).value,Nh),d.stop()}}const Bh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_r.test(e)||e==="0")&&!e.startsWith("url("));function NT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function BT(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Bh(o,t),d=Bh(l,t);return!c||!d?!1:NT(e)||(n==="spring"||wu(n))&&s}function Ac(e){e.duration=0,e.type="keyframes"}const UT=new Set(["opacity","clipPath","filter","transform"]),WT=ou(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HT(e){var p;const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return WT()&&n&&UT.has(n)&&(n!=="transform"||!h)&&!f&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const GT=40;class KT extends yu{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:h,element:p,...g}){var S;super(),this.stop=()=>{var T,k;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Kt.now();const x={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:f,motionValue:h,element:p,...g},v=(p==null?void 0:p.KeyframeResolver)||vu;this.keyframeResolver=new v(d,(T,k,P)=>this.onKeyframesResolved(T,k,x,!P),f,h,p),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:h,onUpdate:p}=s;this.resolvedAt=Kt.now(),BT(t,l,c,d)||((rr.instantAnimations||!f)&&(p==null||p(gu(t,s,n))),t[0]=t[t.length-1],Ac(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>GT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},v=!h&&HT(x)?new VT({...x,element:x.motionValue.owner.current}):new xu(x);v.finished.then(()=>this.notifyFinished()).catch(wn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),AT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class qT{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t){const n=this.animations.map(s=>s.attachTimeline(t));return()=>{n.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return Uh(this.animations,"duration")}get iterationDuration(){return Uh(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Uh(e,t){let n=0;for(let s=0;s<e.length;s++){const o=e[s][t];o!==null&&o>n&&(n=o)}return n}class YT extends qT{then(t,n){return this.finished.finally(t).then(()=>{})}}const XT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JT(e){const t=XT.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function Eg(e,t,n=1){const[s,o]=JT(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Km(c)?parseFloat(c):c}return du(o)?Eg(o,t,n+1):o}function _u(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const kg=new Set(["width","height","top","left","right","bottom",...Ds]),ZT={test:e=>e==="auto",parse:e=>e},Dg=e=>t=>t.test(e),Ig=[ks,ye,$n,yr,HC,WC,ZT],Wh=e=>Ig.find(Dg(e));function QT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ym(e):!0}const eP=new Set(["brightness","contrast","saturate","opacity"]);function tP(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(fu)||[];if(!s)return e;const o=n.replace(s,"");let l=eP.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const nP=/\b([a-z-]*)\(.*?\)/gu,Ec={..._r,getAnimatableNone:e=>{const t=e.match(nP);return t?t.map(tP).join(" "):e}},Hh={...ks,transform:Math.round},rP={rotate:yr,rotateX:yr,rotateY:yr,rotateZ:yr,scale:jo,scaleX:jo,scaleY:jo,scaleZ:jo,skew:yr,skewX:yr,skewY:yr,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:pi,originX:kh,originY:kh,originZ:ye},bu={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye,...rP,zIndex:Hh,fillOpacity:pi,strokeOpacity:pi,numOctaves:Hh},sP={...bu,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:Ec,WebkitFilter:Ec},Mg=e=>sP[e];function Lg(e,t){let n=Mg(e);return n!==Ec&&(n=_r),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const iP=new Set(["auto","none","0"]);function oP(e,t,n){let s=0,o;for(;s<e.length&&!o;){const l=e[s];typeof l=="string"&&!iP.has(l)&&mi(l).values.length&&(o=e[s]),s++}if(o&&n)for(const l of t)e[l]=Lg(n,o)}class aP extends vu{constructor(t,n,s,o,l){super(t,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),du(h))){const p=Eg(h,n.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!kg.has(s)||t.length!==2)return;const[o,l]=t,c=Wh(o),d=Wh(l);if(c!==d)if($h(c)&&$h(d))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else Vr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||QT(t[o]))&&s.push(o);s.length&&oP(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Vr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function Og(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(n==null?void 0:n[e])??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const Fg=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function zg(e){return qm(e)&&"offsetHeight"in e}const Gh=30,lP=e=>!isNaN(parseFloat(e)),ii={current:void 0};class cP{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const o=Kt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new au);const s=this.events[t].add(n);return t==="change"?()=>{s(),et.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return ii.current&&ii.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gh);return Xm(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ur(e,t){return new cP(e,t)}const{schedule:Su}=cg(queueMicrotask,!1),Rn={x:!1,y:!1};function $g(){return Rn.x||Rn.y}function uP(e){return e==="x"||e==="y"?Rn[e]?null:(Rn[e]=!0,()=>{Rn[e]=!1}):Rn.x||Rn.y?null:(Rn.x=Rn.y=!0,()=>{Rn.x=Rn.y=!1})}function Vg(e,t){const n=Og(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function Kh(e){return!(e.pointerType==="touch"||$g())}function dP(e,t,n={}){const[s,o,l]=Vg(e,n),c=d=>{if(!Kh(d))return;const{target:f}=d,h=t(f,d);if(typeof h!="function"||!f)return;const p=g=>{Kh(g)&&(h(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const Ng=(e,t)=>t?e===t?!0:Ng(e,t.parentElement):!1,ju=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,fP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hP(e){return fP.has(e.tagName)||e.tabIndex!==-1}const Mo=new WeakSet;function qh(e){return t=>{t.key==="Enter"&&e(t)}}function Wl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pP=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=qh(()=>{if(Mo.has(n))return;Wl(n,"down");const o=qh(()=>{Wl(n,"up")}),l=()=>Wl(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Yh(e){return ju(e)&&!$g()}function mP(e,t,n={}){const[s,o,l]=Vg(e,n),c=d=>{const f=d.currentTarget;if(!Yh(d))return;Mo.add(f);const h=t(f,d),p=(v,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),Mo.has(f)&&Mo.delete(f),Yh(v)&&typeof h=="function"&&h(v,{success:S})},g=v=>{p(v,f===window||f===document||n.useGlobalTarget||Ng(f,v.target))},x=v=>{p(v,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",x,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),zg(d)&&(d.addEventListener("focus",h=>pP(h,o)),!hP(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Cu(e){return qm(e)&&"ownerSVGElement"in e}function Bg(e){return Cu(e)&&e.tagName==="svg"}function gP(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],l=e[2+n],c=e[3+n],d=_g(o,l,c);return t?d(s):d}const St=e=>!!(e&&e.getVelocity),yP=[...Ig,mt,_r],xP=e=>yP.find(Dg(e)),ia=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Xh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vP(...e){return t=>{let n=!1;const s=e.map(o=>{const l=Xh(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Xh(e[o],null)}}}}function wP(...e){return b.useCallback(vP(...e),e)}class _P extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=zg(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bP({children:e,isPresent:t,anchorX:n,root:s}){const o=b.useId(),l=b.useRef(null),c=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=b.useContext(ia),f=wP(l,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:h,height:p,top:g,left:x,right:v}=c.current;if(t||!l.current||!h||!p)return;const S=n==="left"?`left: ${x}`:`right: ${v}`;l.current.dataset.motionPopId=o;const T=document.createElement("style");d&&(T.nonce=d);const k=s??document.head;return k.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{k.contains(T)&&k.removeChild(T)}},[t]),a.jsx(_P,{isPresent:t,childRef:l,sizeRef:c,children:b.cloneElement(e,{ref:f})})}const SP=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const h=Ci(jP),p=b.useId();let g=!0,x=b.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:n,custom:o,onExitComplete:v=>{h.set(v,!0);for(const S of h.values())if(!S)return;s&&s()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,s]);return l&&g&&(x={...x}),b.useMemo(()=>{h.forEach((v,S)=>h.set(S,!1))},[n]),b.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(e=a.jsx(bP,{isPresent:n,anchorX:d,root:f,children:e})),a.jsx(ra.Provider,{value:x,children:e})};function jP(){return new Map}function Ug(e=!0){const t=b.useContext(ra);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,l=b.useId();b.useEffect(()=>{if(e)return o(l)},[e]);const c=b.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const Co=e=>e.key||"";function Jh(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const CP=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[h,p]=Ug(c),g=b.useMemo(()=>Jh(e),[e]),x=c&&!h?[]:g.map(Co),v=b.useRef(!0),S=b.useRef(g),T=Ci(()=>new Map),[k,P]=b.useState(g),[R,D]=b.useState(g);ru(()=>{v.current=!1,S.current=g;for(let O=0;O<R.length;O++){const z=Co(R[O]);x.includes(z)?T.delete(z):T.get(z)!==!0&&T.set(z,!1)}},[R,x.length,x.join("-")]);const j=[];if(g!==k){let O=[...g];for(let z=0;z<R.length;z++){const $=R[z],B=Co($);x.includes(B)||(O.splice(z,0,$),j.push($))}return l==="wait"&&j.length&&(O=j),D(Jh(O)),P(g),null}const{forceRender:E}=b.useContext(tu);return a.jsx(a.Fragment,{children:R.map(O=>{const z=Co(O),$=c&&!h?!1:g===R||x.includes(z),B=()=>{if(T.has(z))T.set(z,!0);else return;let K=!0;T.forEach(J=>{J||(K=!1)}),K&&(E==null||E(),D(S.current),c&&(p==null||p()),s&&s())};return a.jsx(SP,{isPresent:$,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:$?void 0:B,anchorX:d,children:O},z)})})},Wg=b.createContext({strict:!1}),Zh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},As={};for(const e in Zh)As[e]={isEnabled:t=>Zh[e].some(n=>!!t[n])};function TP(e){for(const t in e)As[t]={...As[t],...e[t]}}const PP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||PP.has(e)}let Hg=e=>!Uo(e);function RP(e){typeof e=="function"&&(Hg=t=>t.startsWith("on")?!Uo(t):e(t))}try{RP(require("@emotion/is-prop-valid").default)}catch{}function AP(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(Hg(o)||n===!0&&Uo(o)||!t&&!Uo(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const oa=b.createContext({});function aa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function yi(e){return typeof e=="string"||Array.isArray(e)}const Tu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pu=["initial",...Tu];function la(e){return aa(e.animate)||Pu.some(t=>yi(e[t]))}function Gg(e){return!!(la(e)||e.variants)}function EP(e,t){if(la(e)){const{initial:n,animate:s}=e;return{initial:n===!1||yi(n)?n:void 0,animate:yi(s)?s:void 0}}return e.inherit!==!1?t:{}}function kP(e){const{initial:t,animate:n}=EP(e,b.useContext(oa));return b.useMemo(()=>({initial:t,animate:n}),[Qh(t),Qh(n)])}function Qh(e){return Array.isArray(e)?e.join(" "):e}const xi={};function DP(e){for(const t in e)xi[t]=e[t],uu(t)&&(xi[t].isCSSVariable=!0)}function Kg(e,{layout:t,layoutId:n}){return Is.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xi[e]||e==="opacity")}const IP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MP=Ds.length;function LP(e,t,n){let s="",o=!0;for(let l=0;l<MP;l++){const c=Ds[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const h=Fg(d,bu[c]);if(!f){o=!1;const p=IP[c]||c;s+=`${p}(${h}) `}n&&(t[c]=h)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function Ru(e,t,n){const{style:s,vars:o,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const h=t[f];if(Is.has(f)){c=!0;continue}else if(uu(f)){o[f]=h;continue}else{const p=Fg(h,bu[f]);f.startsWith("origin")?(d=!0,l[f]=p):s[f]=p}}if(t.transform||(c||n?s.transform=LP(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const Au=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qg(e,t,n){for(const s in t)!St(t[s])&&!Kg(s,n)&&(e[s]=t[s])}function OP({transformTemplate:e},t){return b.useMemo(()=>{const n=Au();return Ru(n,t,e),Object.assign({},n.vars,n.style)},[t])}function FP(e,t){const n=e.style||{},s={};return qg(s,n,e),Object.assign(s,OP(e,t)),s}function zP(e,t){const n={},s=FP(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const $P={offset:"stroke-dashoffset",array:"stroke-dasharray"},VP={offset:"strokeDashoffset",array:"strokeDasharray"};function NP(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?$P:VP;e[l.offset]=ye.transform(-s);const c=ye.transform(t),d=ye.transform(n);e[l.array]=`${c} ${d}`}function Yg(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},f,h,p){if(Ru(e,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x}=e;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&NP(g,o,l,c,!1)}const Xg=()=>({...Au(),attrs:{}}),Jg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BP(e,t,n,s){const o=b.useMemo(()=>{const l=Xg();return Yg(l,t,Jg(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};qg(l,e.style,e),o.style={...l,...o.style}}return o}const UP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eu(e){return typeof e!="string"||e.includes("-")?!1:!!(UP.indexOf(e)>-1||/[A-Z]/u.test(e))}function WP(e,t,n,{latestValues:s},o,l=!1){const d=(Eu(e)?BP:zP)(t,s,o,e),f=AP(t,typeof e=="string",l),h=e!==b.Fragment?{...f,...d,ref:n}:{},{children:p}=t,g=b.useMemo(()=>St(p)?p.get():p,[p]);return b.createElement(e,{...h,children:g})}function ep(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function ku(e,t,n,s){if(typeof t=="function"){const[o,l]=ep(s);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=ep(s);t=t(n!==void 0?n:e.custom,o,l)}return t}function Lo(e){return St(e)?e.get():e}function HP({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:GP(n,s,o,e),renderState:t()}}function GP(e,t,n,s){const o={},l=s(e,{});for(const x in l)o[x]=Lo(l[x]);let{initial:c,animate:d}=e;const f=la(e),h=Gg(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?d:c;if(g&&typeof g!="boolean"&&!aa(g)){const x=Array.isArray(g)?g:[g];for(let v=0;v<x.length;v++){const S=ku(e,x[v]);if(S){const{transitionEnd:T,transition:k,...P}=S;for(const R in P){let D=P[R];if(Array.isArray(D)){const j=p?D.length-1:0;D=D[j]}D!==null&&(o[R]=D)}for(const R in T)o[R]=T[R]}}}return o}const Zg=e=>(t,n)=>{const s=b.useContext(oa),o=b.useContext(ra),l=()=>HP(e,t,s,o);return n?l():Ci(l)};function Du(e,t,n){var l;const{style:s}=e,o={};for(const c in s)(St(s[c])||t.style&&St(t.style[c])||Kg(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=s[c]);return o}const KP=Zg({scrapeMotionValuesFromProps:Du,createRenderState:Au});function Qg(e,t,n){const s=Du(e,t,n);for(const o in e)if(St(e[o])||St(t[o])){const l=Ds.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=e[o]}return s}const qP=Zg({scrapeMotionValuesFromProps:Qg,createRenderState:Xg}),YP=Symbol.for("motionComponentSymbol");function ws(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function XP(e,t,n){return b.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):ws(n)&&(n.current=s))},[t])}const Iu=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JP="framerAppearId",ey="data-"+Iu(JP),ty=b.createContext({});function ZP(e,t,n,s,o){var T,k;const{visualElement:l}=b.useContext(oa),c=b.useContext(Wg),d=b.useContext(ra),f=b.useContext(ia).reducedMotion,h=b.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,g=b.useContext(ty);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&QP(h.current,n,o,g);const x=b.useRef(!1);b.useInsertionEffect(()=>{p&&x.current&&p.update(n,d)});const v=n[ey],S=b.useRef(!!v&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,v))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,v)));return ru(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,v)}),S.current=!1),p.enteringChildren=void 0)}),p}function QP(e,t,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:h,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ny(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&ws(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:f,layoutRoot:h})}function ny(e){if(e)return e.options.allowProjection!==!1?e.projection:ny(e.parent)}function Hl(e,{forwardMotionProps:t=!1}={},n,s){n&&TP(n);const o=Eu(e)?qP:KP;function l(d,f){let h;const p={...b.useContext(ia),...d,layoutId:eR(d)},{isStatic:g}=p,x=kP(d),v=o(d,g);if(!g&&nu){tR();const S=nR(p);h=S.MeasureLayout,x.visualElement=ZP(e,v,p,s,S.ProjectionNode)}return a.jsxs(oa.Provider,{value:x,children:[h&&x.visualElement?a.jsx(h,{visualElement:x.visualElement,...p}):null,WP(e,d,XP(v,x.visualElement,f),v,g,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=b.forwardRef(l);return c[YP]=e,c}function eR({layoutId:e}){const t=b.useContext(tu).id;return t&&e!==void 0?t+"-"+e:e}function tR(e,t){b.useContext(Wg).strict}function nR(e){const{drag:t,layout:n}=As;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function rR(e,t){if(typeof Proxy>"u")return Hl;const n=new Map,s=(l,c)=>Hl(l,c,e,t),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Hl(c,void 0,e,t)),n.get(c))})}function ry({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function sR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iR(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Gl(e){return e===void 0||e===1}function kc({scale:e,scaleX:t,scaleY:n}){return!Gl(e)||!Gl(t)||!Gl(n)}function Mr(e){return kc(e)||sy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sy(e){return tp(e.x)||tp(e.y)}function tp(e){return e&&e!=="0%"}function Wo(e,t,n){const s=e-n,o=t*s;return n+o}function np(e,t,n,s,o){return o!==void 0&&(e=Wo(e,o,s)),Wo(e,n,s)+t}function Dc(e,t=0,n=1,s,o){e.min=np(e.min,t,n,s,o),e.max=np(e.max,t,n,s,o)}function iy(e,{x:t,y:n}){Dc(e.x,t.translate,t.scale,t.originPoint),Dc(e.y,n.translate,n.scale,n.originPoint)}const rp=.999999999999,sp=1.0000000000001;function oR(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&bs(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,iy(e,c)),s&&Mr(l.latestValues)&&bs(e,l.latestValues))}t.x<sp&&t.x>rp&&(t.x=1),t.y<sp&&t.y>rp&&(t.y=1)}function _s(e,t){e.min=e.min+t,e.max=e.max+t}function ip(e,t,n,s,o=.5){const l=nt(e.min,e.max,o);Dc(e,t,n,l,s)}function bs(e,t){ip(e.x,t.x,t.scaleX,t.scale,t.originX),ip(e.y,t.y,t.scaleY,t.scale,t.originY)}function oy(e,t){return ry(iR(e.getBoundingClientRect(),t))}function aR(e,t,n){const s=oy(e,n),{scroll:o}=t;return o&&(_s(s.x,o.offset.x),_s(s.y,o.offset.y)),s}const op=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ss=()=>({x:op(),y:op()}),ap=()=>({min:0,max:0}),ct=()=>({x:ap(),y:ap()}),Ic={current:null},ay={current:!1};function lR(){if(ay.current=!0,!!nu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ic.current=e.matches;e.addEventListener("change",t),t()}else Ic.current=!1}const vi=new WeakMap;function cR(e,t,n){for(const s in t){const o=t[s],l=n[s];if(St(o))e.addValue(s,o);else if(St(l))e.addValue(s,Ur(o,{owner:e}));else if(l!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,Ur(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const lp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ly{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Kt.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,et.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=la(n),this.isVariantNode=Gg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const v=g[x];f[x]!==void 0&&St(v)&&v.set(f[x])}}mount(t){var n;this.current=t,vi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),ay.current||lR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ic.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),sr(this.notifyUpdate),sr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Is.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&et.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in As){const n=As[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<lp.length;s++){const o=lp[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=cR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ur(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Km(s)||Ym(s))?s=parseFloat(s):!xP(s)&&_r.test(n)&&(s=Lg(t,n)),this.setBaseTarget(t,St(s)?s.get():s)),St(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=ku(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!St(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new au),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Su.render(this.render)}}class cy extends ly{constructor(){super(...arguments),this.KeyframeResolver=aP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;St(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uy(e,{style:t,vars:n},s,o){const l=e.style;let c;for(c in t)l[c]=t[c];o==null||o.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function uR(e){return window.getComputedStyle(e)}class dy extends cy{constructor(){super(...arguments),this.type="html",this.renderInstance=uy}readValueFromInstance(t,n){var s;if(Is.has(n))return(s=this.projection)!=null&&s.isProjecting?jc(n):jT(t,n);{const o=uR(t),l=(uu(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return oy(t,n)}build(t,n,s){Ru(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Du(t,n,s)}}const fy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dR(e,t,n,s){uy(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(fy.has(o)?o:Iu(o),t.attrs[o])}class hy extends cy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Is.has(n)){const s=Mg(n);return s&&s.default||0}return n=fy.has(n)?n:Iu(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Qg(t,n,s)}build(t,n,s){Yg(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){dR(t,n,s,o)}mount(t){this.isSVGTag=Jg(t.tagName),super.mount(t)}}const fR=(e,t)=>Eu(e)?new hy(t):new dy(t,{allowProjection:e!==b.Fragment});function Ts(e,t,n){const s=e.getProps();return ku(s,t,n!==void 0?n:s.custom,e)}const Mc=e=>Array.isArray(e);function hR(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ur(n))}function pR(e){return Mc(e)?e[e.length-1]||0:e}function mR(e,t){const n=Ts(e,t);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const d=pR(l[c]);hR(e,c,d)}}function gR(e){return!!(St(e)&&e.add)}function Lc(e,t){const n=e.getValue("willChange");if(gR(n))return n.add(t);if(!n&&rr.WillChange){const s=new rr.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function py(e){return e.props[ey]}const yR=e=>e!==null;function xR(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(yR),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const vR={type:"spring",stiffness:500,damping:25,restSpeed:10},wR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_R={type:"keyframes",duration:.8},bR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SR=(e,{keyframes:t})=>t.length>2?_R:Is.has(e)?e.startsWith("scale")?wR(t[1]):vR:bR;function jR({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const Mu=(e,t,n,s={},o,l)=>c=>{const d=_u(s,e)||{},f=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Dn(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-h,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:o};jR(d)||Object.assign(p,SR(e,p)),p.duration&&(p.duration=Dn(p.duration)),p.repeatDelay&&(p.repeatDelay=Dn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Ac(p),p.delay===0&&(g=!0)),(rr.instantAnimations||rr.skipAnimations)&&(g=!0,Ac(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,g&&!l&&t.get()!==void 0){const x=xR(p.keyframes,d);if(x!==void 0){et.update(()=>{p.onUpdate(x),p.onComplete()});return}}return d.isSync?new xu(p):new KT(p)};function CR({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Lu(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const f=[],h=o&&e.animationState&&e.animationState.getState()[o];for(const p in d){const g=e.getValue(p,e.latestValues[p]??null),x=d[p];if(x===void 0||h&&CR(h,p))continue;const v={delay:n,..._u(l||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===S&&!v.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const P=py(e);if(P){const R=window.MotionHandoffAnimation(P,p,et);R!==null&&(v.startTime=R,T=!0)}}Lc(e,p),g.start(Mu(p,g,x,e.shouldReduceMotion&&kg.has(p)?{type:!1}:v,e,T));const k=g.animation;k&&f.push(k)}return c&&Promise.all(f).then(()=>{et.update(()=>{c&&mR(e,c)})}),f}function my(e,t,n,s=0,o=1){const l=Array.from(e).sort((h,p)=>h.sortNodePosition(p)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):o===1?l*s:d-l*s}function Oc(e,t,n={}){var f;const s=Ts(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(Lu(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=o;return TR(e,t,h,p,g,x,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,p]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function TR(e,t,n=0,s=0,o=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(Oc(f,t,{...c,delay:n+(typeof s=="function"?0:s)+my(e.variantChildren,f,s,o,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function PR(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>Oc(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=Oc(e,t,n);else{const o=typeof t=="function"?Ts(e,t,n.custom):t;s=Promise.all(Lu(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function gy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const RR=Pu.length;function yy(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?yy(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<RR;n++){const s=Pu[n],o=e.props[s];(yi(o)||o===!1)&&(t[s]=o)}return t}const AR=[...Tu].reverse(),ER=Tu.length;function kR(e){return t=>Promise.all(t.map(({animation:n,options:s})=>PR(e,n,s)))}function DR(e){let t=kR(e),n=cp(),s=!0;const o=f=>(h,p)=>{var x;const g=Ts(e,p,f==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(g){const{transition:v,transitionEnd:S,...T}=g;h={...h,...T,...S}}return h};function l(f){t=f(e)}function c(f){const{props:h}=e,p=yy(e.parent)||{},g=[],x=new Set;let v={},S=1/0;for(let k=0;k<ER;k++){const P=AR[k],R=n[P],D=h[P]!==void 0?h[P]:p[P],j=yi(D),E=P===f?R.isActive:null;E===!1&&(S=k);let O=D===p[P]&&D!==h[P]&&j;if(O&&s&&e.manuallyAnimateOnMount&&(O=!1),R.protectedKeys={...v},!R.isActive&&E===null||!D&&!R.prevProp||aa(D)||typeof D=="boolean")continue;const z=IR(R.prevProp,D);let $=z||P===f&&R.isActive&&!O&&j||k>S&&j,B=!1;const K=Array.isArray(D)?D:[D];let J=K.reduce(o(P),{});E===!1&&(J={});const{prevResolvedValues:Le={}}=R,ee={...Le,...J},ce=ne=>{$=!0,x.has(ne)&&(B=!0,x.delete(ne)),R.needsAnimating[ne]=!0;const Y=e.getValue(ne);Y&&(Y.liveStyle=!1)};for(const ne in ee){const Y=J[ne],G=Le[ne];if(v.hasOwnProperty(ne))continue;let Z=!1;Mc(Y)&&Mc(G)?Z=!gy(Y,G):Z=Y!==G,Z?Y!=null?ce(ne):x.add(ne):Y!==void 0&&x.has(ne)?ce(ne):R.protectedKeys[ne]=!0}R.prevProp=D,R.prevResolvedValues=J,R.isActive&&(v={...v,...J}),s&&e.blockInitialAnimation&&($=!1);const je=O&&z;$&&(!je||B)&&g.push(...K.map(ne=>{const Y={type:P};if(typeof ne=="string"&&s&&!je&&e.manuallyAnimateOnMount&&e.parent){const{parent:G}=e,Z=Ts(G,ne);if(G.enteringChildren&&Z){const{delayChildren:oe}=Z.transition||{};Y.delay=my(G.enteringChildren,e,oe)}}return{animation:ne,options:Y}}))}if(x.size){const k={};if(typeof h.initial!="boolean"){const P=Ts(e,Array.isArray(h.initial)?h.initial[0]:h.initial);P&&P.transition&&(k.transition=P.transition)}x.forEach(P=>{const R=e.getBaseTarget(P),D=e.getValue(P);D&&(D.liveStyle=!0),k[P]=R??null}),g.push({animation:k})}let T=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(T=!1),s=!1,T?t(g):Promise.resolve()}function d(f,h){var g;if(n[f].isActive===h)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(f,h)}),n[f].isActive=h;const p=c(f);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cp()}}}function IR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gy(t,e):!1}function Dr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cp(){return{animate:Dr(!0),whileInView:Dr(),whileHover:Dr(),whileTap:Dr(),whileDrag:Dr(),whileFocus:Dr(),exit:Dr()}}class br{constructor(t){this.isMounted=!1,this.node=t}update(){}}class MR extends br{constructor(t){super(t),t.animationState||(t.animationState=DR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();aa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let LR=0;class OR extends br{constructor(){super(...arguments),this.id=LR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const FR={animation:{Feature:MR},exit:{Feature:OR}};function wi(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Ai(e){return{point:{x:e.pageX,y:e.pageY}}}const zR=e=>t=>ju(t)&&e(t,Ai(t));function oi(e,t,n,s){return wi(e,t,zR(n),s)}const xy=1e-4,$R=1-xy,VR=1+xy,vy=.01,NR=0-vy,BR=0+vy;function Nt(e){return e.max-e.min}function UR(e,t,n){return Math.abs(e-t)<=n}function up(e,t,n,s=.5){e.origin=s,e.originPoint=nt(t.min,t.max,e.origin),e.scale=Nt(n)/Nt(t),e.translate=nt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=$R&&e.scale<=VR||isNaN(e.scale))&&(e.scale=1),(e.translate>=NR&&e.translate<=BR||isNaN(e.translate))&&(e.translate=0)}function ai(e,t,n,s){up(e.x,t.x,n.x,s?s.originX:void 0),up(e.y,t.y,n.y,s?s.originY:void 0)}function dp(e,t,n){e.min=n.min+t.min,e.max=e.min+Nt(t)}function WR(e,t,n){dp(e.x,t.x,n.x),dp(e.y,t.y,n.y)}function fp(e,t,n){e.min=t.min-n.min,e.max=e.min+Nt(t)}function li(e,t,n){fp(e.x,t.x,n.x),fp(e.y,t.y,n.y)}function xn(e){return[e("x"),e("y")]}const wy=({current:e})=>e?e.ownerDocument.defaultView:null,hp=(e,t)=>Math.abs(e-t);function HR(e,t){const n=hp(e.x,t.x),s=hp(e.y,t.y);return Math.sqrt(n**2+s**2)}class _y{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ql(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=HR(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!S)return;const{point:T}=x,{timestamp:k}=Rt;this.history.push({...T,timestamp:k});const{onStart:P,onMove:R}=this.handlers;v||(P&&P(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Kl(v,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=ql(x.type==="pointercancel"?this.lastMoveEventInfo:Kl(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,P),T&&T(x,P)},!ju(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=Ai(t),f=Kl(d,this.transformPagePoint),{point:h}=f,{timestamp:p}=Rt;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(t,ql(f,this.history)),this.removeListeners=Ti(oi(this.contextWindow,"pointermove",this.handlePointerMove),oi(this.contextWindow,"pointerup",this.handlePointerUp),oi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sr(this.updatePoint)}}function Kl(e,t){return t?{point:t(e.point)}:e}function pp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ql({point:e},t){return{point:e,delta:pp(e,by(t)),offset:pp(e,GR(t)),velocity:KR(t,.1)}}function GR(e){return e[0]}function by(e){return e[e.length-1]}function KR(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=by(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>Dn(t)));)n--;if(!s)return{x:0,y:0};const l=vn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function qR(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?nt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?nt(n,e,s.max):Math.min(e,n)),e}function mp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function YR(e,{top:t,left:n,bottom:s,right:o}){return{x:mp(e.x,n,o),y:mp(e.y,t,s)}}function gp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function XR(e,t){return{x:gp(e.x,t.x),y:gp(e.y,t.y)}}function JR(e,t){let n=.5;const s=Nt(e),o=Nt(t);return o>s?n=Rs(t.min,t.max-s,e.min):s>o&&(n=Rs(e.min,e.max-o,t.min)),nr(0,1,n)}function ZR(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fc=.35;function QR(e=Fc){return e===!1?e=0:e===!0&&(e=Fc),{x:yp(e,"left","right"),y:yp(e,"top","bottom")}}function yp(e,t,n){return{min:xp(e,t),max:xp(e,n)}}function xp(e,t){return typeof e=="number"?e:e[t]||0}const eA=new WeakMap;class tA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ai(g).point)},c=(g,x)=>{const{drag:v,dragPropagation:S,onDragStart:T}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uP(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(P=>{let R=this.getAxisMotionValue(P).get()||0;if($n.test(R)){const{projection:D}=this.visualElement;if(D&&D.layout){const j=D.layout.layoutBox[P];j&&(R=Nt(j)*(parseFloat(R)/100))}}this.originPoint[P]=R}),T&&et.postRender(()=>T(g,x)),Lc(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:T,onDrag:k}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:P}=x;if(S&&this.currentDirection===null){this.currentDirection=nA(P),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,P),this.updateAxis("y",x.point,P),this.visualElement.render(),k&&k(g,x)},f=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>xn(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new _y(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:wy(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&et.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!To(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=qR(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&ws(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=YR(s.layoutBox,t):this.constraints=!1,this.elastic=QR(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&xn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ZR(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ws(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=aR(s,o.root,this.visualElement.getTransformPagePoint());let c=XR(o.layout.layoutBox,l);if(n){const d=n(sR(c));this.hasMutatedConstraints=!!d,d&&(c=ry(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},h=xn(p=>{if(!To(p,n,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const x=o?200:1e6,v=o?40:1e7,S={type:"inertia",velocity:s?t[p]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Lc(this.visualElement,t),s.start(Mu(t,s,0,n,this.visualElement,!1))}stopAnimation(){xn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){xn(n=>{const{drag:s}=this.getProps();if(!To(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(t[n]-nt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ws(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();o[c]=JR({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),xn(c=>{if(!To(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];d.set(nt(f,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;eA.set(this.visualElement,this);const t=this.visualElement.current,n=oi(t,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();ws(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),et.read(s);const c=wi(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(xn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Fc,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function To(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function nA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class rA extends br{constructor(t){super(t),this.removeGroupControls=wn,this.removeListeners=wn,this.controls=new tA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vp=e=>(t,n)=>{e&&et.postRender(()=>e(t,n))};class sA extends br{constructor(){super(...arguments),this.removePointerDownListener=wn}onPointerDown(t){this.session=new _y(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:vp(t),onStart:vp(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&et.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=oi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ys={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ye.test(e))e=parseFloat(e);else return e;const n=wp(e,t.target.x),s=wp(e,t.target.y);return`${n}% ${s}%`}},iA={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=_r.parse(e);if(o.length>5)return s;const l=_r.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=f;const h=nt(d,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),l(o)}};let Yl=!1;class oA extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;DP(aA),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Yl&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Oo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Yl=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||et.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Su.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Yl=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Sy(e){const[t,n]=Ug(),s=b.useContext(tu);return a.jsx(oA,{...e,layoutGroup:s,switchLayoutGroup:b.useContext(ty),isPresent:t,safeToRemove:n})}const aA={borderRadius:{...Ys,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ys,borderTopRightRadius:Ys,borderBottomLeftRadius:Ys,borderBottomRightRadius:Ys,boxShadow:iA};function jy(e,t,n){const s=St(e)?e:Ur(e);return s.start(Mu("",s,t,n)),s.animation}const lA=(e,t)=>e.depth-t.depth;class cA{constructor(){this.children=[],this.isDirty=!1}add(t){su(this.children,t),this.isDirty=!0}remove(t){sa(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lA),this.isDirty=!1,this.children.forEach(t)}}function uA(e,t){const n=Kt.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(sr(s),e(l-t))};return et.setup(s,!0),()=>sr(s)}const Cy=["TopLeft","TopRight","BottomLeft","BottomRight"],dA=Cy.length,_p=e=>typeof e=="string"?parseFloat(e):e,bp=e=>typeof e=="number"||ye.test(e);function fA(e,t,n,s,o,l){o?(e.opacity=nt(0,n.opacity??1,hA(s)),e.opacityExit=nt(t.opacity??1,0,pA(s))):l&&(e.opacity=nt(t.opacity??1,n.opacity??1,s));for(let c=0;c<dA;c++){const d=`border${Cy[c]}Radius`;let f=Sp(t,d),h=Sp(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||bp(f)===bp(h)?(e[d]=Math.max(nt(_p(f),_p(h),s),0),($n.test(h)||$n.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||n.rotate)&&(e.rotate=nt(t.rotate||0,n.rotate||0,s))}function Sp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hA=Ty(0,.5,rg),pA=Ty(.5,.95,wn);function Ty(e,t,n){return s=>s<e?0:s>t?1:n(Rs(e,t,s))}function jp(e,t){e.min=t.min,e.max=t.max}function gn(e,t){jp(e.x,t.x),jp(e.y,t.y)}function Cp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tp(e,t,n,s,o){return e-=t,e=Wo(e,1/n,s),o!==void 0&&(e=Wo(e,1/o,s)),e}function mA(e,t=0,n=1,s=.5,o,l=e,c=e){if($n.test(t)&&(t=parseFloat(t),t=nt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=nt(l.min,l.max,s);e===l&&(d-=t),e.min=Tp(e.min,t,n,d,o),e.max=Tp(e.max,t,n,d,o)}function Pp(e,t,[n,s,o],l,c){mA(e,t[n],t[s],t[o],t.scale,l,c)}const gA=["x","scaleX","originX"],yA=["y","scaleY","originY"];function Rp(e,t,n,s){Pp(e.x,t,gA,n?n.x:void 0,s?s.x:void 0),Pp(e.y,t,yA,n?n.y:void 0,s?s.y:void 0)}function Ap(e){return e.translate===0&&e.scale===1}function Py(e){return Ap(e.x)&&Ap(e.y)}function Ep(e,t){return e.min===t.min&&e.max===t.max}function xA(e,t){return Ep(e.x,t.x)&&Ep(e.y,t.y)}function kp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ry(e,t){return kp(e.x,t.x)&&kp(e.y,t.y)}function Dp(e){return Nt(e.x)/Nt(e.y)}function Ip(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vA{constructor(){this.members=[]}add(t){su(this.members,t),t.scheduleRender()}remove(t){if(sa(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wA(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:x,skewX:v,skewY:S}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),v&&(s+=`skewX(${v}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Xl=["","X","Y","Z"],_A=1e3;let bA=0;function Jl(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Ay(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=py(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(o||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Ay(s)}function Ey({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t==null?void 0:t()){this.id=bA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CA),this.nodes.forEach(AA),this.nodes.forEach(EA),this.nodes.forEach(TA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new cA)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new au),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Cu(c)&&!Bg(c),this.instance=c;const{layoutId:d,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let p,g=0;const x=()=>this.root.updateBlockedByResize=!1;et.read(()=>{g=window.innerWidth}),e(c,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,p&&p(),p=uA(x,250),Oo.hasAnimatedSinceResize&&(Oo.hasAnimatedSinceResize=!1,this.nodes.forEach(Op)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||LA,{onLayoutAnimationStart:T,onLayoutAnimationComplete:k}=h.getProps(),P=!this.targetLayout||!Ry(this.targetLayout,v),R=!g&&x;if(this.options.layoutRoot||this.resumeFrom||R||g&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={..._u(S,"layout"),onPlay:T,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(p,R)}else g||Op(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kA),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ay(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RA),this.nodes.forEach(SA),this.nodes.forEach(jA)):this.nodes.forEach(Lp),this.clearAllSnapshots();const d=Kt.now();Rt.delta=nr(0,1e3/60,d-Rt.timestamp),Rt.timestamp=d,Rt.isProcessing=!0,$l.update.process(Rt),$l.preRender.process(Rt),$l.render.process(Rt),Rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Su.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PA),this.sharedNodes.forEach(DA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Py(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(d||Mr(this.latestValues)||p)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),OA(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return ct();const d=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(FA))){const{scroll:p}=this.root;p&&(_s(d.x,p.offset.x),_s(d.y,p.offset.y))}return d}removeElementScroll(c){var f;const d=ct();if(gn(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&gn(d,c),_s(d.x,g.offset.x),_s(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const f=ct();gn(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&bs(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Mr(p.latestValues)&&bs(f,p.latestValues)}return Mr(this.latestValues)&&bs(f,this.latestValues),f}removeTransform(c){const d=ct();gn(d,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Mr(h.latestValues))continue;kc(h.latestValues)&&h.updateSnapshot();const p=ct(),g=h.measurePageBox();gn(p,g),Rp(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Mr(this.latestValues)&&Rp(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Rt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),li(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gn(this.target,this.layout.layoutBox),iy(this.target,this.targetDelta)):gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),li(this.relativeTargetOrigin,this.target,v.target),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kc(this.parent.latestValues)||sy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Rt.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;gn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;oR(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ct());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cp(this.prevProjectionDelta.x,this.projectionDelta.x),Cp(this.prevProjectionDelta.y,this.projectionDelta.y)),ai(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!Ip(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ip(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ss(),this.projectionDelta=Ss(),this.projectionDeltaWithTransform=Ss()}setAnimationOrigin(c,d=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},g=Ss();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=ct(),v=f?f.source:void 0,S=this.layout?this.layout.source:void 0,T=v!==S,k=this.getStack(),P=!k||k.members.length<=1,R=!!(T&&!P&&this.options.crossfade===!0&&!this.path.some(MA));this.animationProgress=0;let D;this.mixTargetDelta=j=>{const E=j/1e3;Fp(g.x,c.x,E),Fp(g.y,c.y,E),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(li(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IA(this.relativeTarget,this.relativeTargetOrigin,x,E),D&&xA(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=ct()),gn(D,this.relativeTarget)),T&&(this.animationValues=p,fA(p,h,this.latestValues,E,R,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,h;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(h=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||h.stop(),this.pendingAnimation&&(sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Oo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ur(0)),this.currentAnimation=jy(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_A),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:h,latestValues:p}=c;if(!(!d||!f||!h)){if(this!==c&&this.layout&&h&&ky(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||ct();const g=Nt(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const x=Nt(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}gn(d,f),bs(d,p),ai(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new vA),this.sharedNodes.get(c).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const h={};f.z&&Jl("z",c,h,this.animationValues);for(let p=0;p<Xl.length;p++)Jl(`rotate${Xl[p]}`,c,h,this.animationValues),Jl(`skew${Xl[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Lo(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Lo(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Mr(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=wA(this.projectionDeltaWithTransform,this.treeScale,p);f&&(g=f(p,g)),c.transform=g;const{x,y:v}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in xi){if(p[S]===void 0)continue;const{correct:T,applyTo:k,isCSSVariable:P}=xi[S],R=g==="none"?p[S]:T(p[S],h);if(k){const D=k.length;for(let j=0;j<D;j++)c[k[j]]=R}else P?this.options.visualElement.renderState.vars[S]=R:c[S]=R}this.options.layoutId&&(c.pointerEvents=h===this?Lo(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Mp),this.root.sharedNodes.clear()}}}function SA(e){e.updateLayout()}function jA(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?xn(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],v=Nt(x);x.min=s[g].min,x.max=x.min+v}):ky(l,t.layoutBox,s)&&xn(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],v=Nt(s[g]);x.max=x.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+v)});const d=Ss();ai(d,s,t.layoutBox);const f=Ss();c?ai(f,e.applyTransform(o,!0),t.measuredBox):ai(f,s,t.layoutBox);const h=!Py(d);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:v}=g;if(x&&v){const S=ct();li(S,t.layoutBox,x.layoutBox);const T=ct();li(T,s,v.layoutBox),Ry(S,T)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function CA(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function PA(e){e.clearSnapshot()}function Mp(e){e.clearMeasurements()}function Lp(e){e.isLayoutDirty=!1}function RA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Op(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function AA(e){e.resolveTargetDelta()}function EA(e){e.calcProjection()}function kA(e){e.resetSkewAndRotation()}function DA(e){e.removeLeadSnapshot()}function Fp(e,t,n){e.translate=nt(t.translate,0,n),e.scale=nt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zp(e,t,n,s){e.min=nt(t.min,n.min,s),e.max=nt(t.max,n.max,s)}function IA(e,t,n,s){zp(e.x,t.x,n.x,s),zp(e.y,t.y,n.y,s)}function MA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const LA={duration:.45,ease:[.4,0,.1,1]},$p=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vp=$p("applewebkit/")&&!$p("chrome/")?Math.round:wn;function Np(e){e.min=Vp(e.min),e.max=Vp(e.max)}function OA(e){Np(e.x),Np(e.y)}function ky(e,t,n){return e==="position"||e==="preserve-aspect"&&!UR(Dp(t),Dp(n),.2)}function FA(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const zA=Ey({attachResizeListener:(e,t)=>wi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zl={current:void 0},Dy=Ey({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zl.current){const e=new zA({});e.mount(window),e.setOptions({layoutScroll:!0}),Zl.current=e}return Zl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$A={pan:{Feature:sA},drag:{Feature:rA,ProjectionNode:Dy,MeasureLayout:Sy}};function Bp(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&et.postRender(()=>l(t,Ai(t)))}class VA extends br{mount(){const{current:t}=this.node;t&&(this.unmount=dP(t,(n,s)=>(Bp(this.node,s,"Start"),o=>Bp(this.node,o,"End"))))}unmount(){}}class NA extends br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ti(wi(this.node.current,"focus",()=>this.onFocus()),wi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Up(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&et.postRender(()=>l(t,Ai(t)))}class BA extends br{mount(){const{current:t}=this.node;t&&(this.unmount=mP(t,(n,s)=>(Up(this.node,s,"Start"),(o,{success:l})=>Up(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zc=new WeakMap,Ql=new WeakMap,UA=e=>{const t=zc.get(e.target);t&&t(e)},WA=e=>{e.forEach(UA)};function HA({root:e,...t}){const n=e||document;Ql.has(n)||Ql.set(n,{});const s=Ql.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(WA,{root:e,...t})),s[o]}function GA(e,t,n){const s=HA(t);return zc.set(e,n),s.observe(e),()=>{zc.delete(e),s.unobserve(e)}}const KA={some:0,all:1};class qA extends br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:KA[o]},d=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=h?p:g;x&&x(f)};return GA(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(YA(t,n))&&this.startObserver()}unmount(){}}function YA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const XA={inView:{Feature:qA},tap:{Feature:BA},focus:{Feature:NA},hover:{Feature:VA}},JA={layout:{ProjectionNode:Dy,MeasureLayout:Sy}},ZA={...FR,...XA,...$A,...JA},st=rR(ZA,fR);function Iy(e){const t=Ci(()=>Ur(e)),{isStatic:n}=b.useContext(ia);if(n){const[,s]=b.useState(e);b.useEffect(()=>t.on("change",s),[])}return t}function My(e,t){const n=Iy(t()),s=()=>n.set(t());return s(),ru(()=>{const o=()=>et.preRender(s,!1,!0),l=e.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),sr(s)}}),n}function QA(e){ii.current=[],e();const t=My(ii.current,e);return ii.current=void 0,t}function eE(e,t,n,s){if(typeof e=="function")return QA(e);const o=typeof t=="function"?t:gP(t,n,s);return Array.isArray(e)?Wp(e,o):Wp([e],([l])=>o(l))}function Wp(e,t){const n=Ci(()=>[]);return My(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function Ou(e){return typeof e=="object"&&!Array.isArray(e)}function Ly(e,t,n,s){return typeof e=="string"&&Ou(t)?Og(e,n,s):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function tE(e,t,n){return e*(t+1)}function Hp(e,t,n,s){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):s.get(t)??e}function nE(e,t,n){for(let s=0;s<e.length;s++){const o=e[s];o.at>t&&o.at<n&&(sa(e,o),s--)}}function rE(e,t,n,s,o,l){nE(e,o,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:nt(o,l,s[c]),easing:ag(n,c)})}function sE(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function iE(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const oE="easeInOut";function aE(e,{defaultTransition:t={},...n}={},s,o){const l=t.duration||.3,c=new Map,d=new Map,f={},h=new Map;let p=0,g=0,x=0;for(let v=0;v<e.length;v++){const S=e[v];if(typeof S=="string"){h.set(S,g);continue}else if(!Array.isArray(S)){h.set(S.name,Hp(g,S.at,p,h));continue}let[T,k,P={}]=S;P.at!==void 0&&(g=Hp(g,P.at,p,h));let R=0;const D=(j,E,O,z=0,$=0)=>{const B=lE(j),{delay:K=0,times:J=Sg(B),type:Le="keyframes",repeat:ee,repeatType:ce,repeatDelay:je=0,...ue}=E;let{ease:ne=t.ease||"easeOut",duration:Y}=E;const G=typeof K=="function"?K(z,$):K,Z=B.length,oe=wu(Le)?Le:o==null?void 0:o[Le||"keyframes"];if(Z<=2&&oe){let qe=100;if(Z===2&&dE(B)){const U=B[1]-B[0];qe=Math.abs(U)}const yt={...ue};Y!==void 0&&(yt.duration=Dn(Y));const wt=vg(yt,qe,oe);ne=wt.ease,Y=wt.duration}Y??(Y=l);const pe=g+G;J.length===1&&J[0]===0&&(J[1]=1);const Ke=J.length-B.length;if(Ke>0&&bg(J,Ke),B.length===1&&B.unshift(null),ee){Y=tE(Y,ee);const qe=[...B],yt=[...J];ne=Array.isArray(ne)?[...ne]:[ne];const wt=[...ne];for(let U=0;U<ee;U++){B.push(...qe);for(let le=0;le<qe.length;le++)J.push(yt[le]+(U+1)),ne.push(le===0?"linear":ag(wt,le-1))}sE(J,ee)}const Je=pe+Y;rE(O,B,ne,J,pe,Je),R=Math.max(G+Y,R),x=Math.max(Je,x)};if(St(T)){const j=Gp(T,d);D(k,P,Kp("default",j))}else{const j=Ly(T,k,s,f),E=j.length;for(let O=0;O<E;O++){k=k,P=P;const z=j[O],$=Gp(z,d);for(const B in k)D(k[B],cE(P,B),Kp(B,$),O,E)}}p=g,g+=R}return d.forEach((v,S)=>{for(const T in v){const k=v[T];k.sort(iE);const P=[],R=[],D=[];for(let E=0;E<k.length;E++){const{at:O,value:z,easing:$}=k[E];P.push(z),R.push(Rs(0,x,O)),D.push($||"easeOut")}R[0]!==0&&(R.unshift(0),P.unshift(P[0]),D.unshift(oE)),R[R.length-1]!==1&&(R.push(1),P.push(null)),c.has(S)||c.set(S,{keyframes:{},transition:{}});const j=c.get(S);j.keyframes[T]=P,j.transition[T]={...t,duration:x,ease:D,times:R,...n}}}),c}function Gp(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Kp(e,t){return t[e]||(t[e]=[]),t[e]}function lE(e){return Array.isArray(e)?e:[e]}function cE(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const uE=e=>typeof e=="number",dE=e=>e.every(uE);function fE(e,t){return e in t}class hE extends ly{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(fE(n,t)){const s=t[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return ct()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function pE(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Cu(e)&&!Bg(e)?new hy(t):new dy(t);n.mount(e),vi.set(e,n)}function mE(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new hE(t);n.mount(e),vi.set(e,n)}function gE(e,t){return St(e)||typeof e=="number"||typeof e=="string"&&!Ou(t)}function Oy(e,t,n,s){const o=[];if(gE(e,t))o.push(jy(e,Ou(t)&&t.default||t,n&&(n.default||n)));else{const l=Ly(e,t,s),c=l.length;for(let d=0;d<c;d++){const f=l[d],h=f instanceof Element?pE:mE;vi.has(f)||h(f);const p=vi.get(f),g={...n};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(d,c)),o.push(...Lu(p,{...t,transition:g},{}))}}return o}function yE(e,t,n){const s=[];return aE(e,t,n,{spring:gi}).forEach(({keyframes:l,transition:c},d)=>{s.push(...Oy(d,l,c))}),s}function xE(e){return Array.isArray(e)&&e.some(Array.isArray)}function vE(e){function t(n,s,o){let l=[],c;if(xE(n))l=yE(n,s,e);else{const{onComplete:f,...h}=o||{};typeof f=="function"&&(c=f),l=Oy(n,s,h,e)}const d=new YT(l);return c&&d.finished.then(c),d}return t}const wE=vE();function _E({open:e,onClose:t,onRestore:n}){const{t:s}=Xe(),[o,l]=b.useState([]),[c,d]=b.useState(!1),[f,h]=b.useState([]),[p,g]=b.useState(!1),[x,v]=b.useState(!1),S=b.useCallback(async()=>{if(e){d(!0);try{const R=await V1();l(R.deleted_runs||[])}catch{Q.error(s("recycle_bin.fetch_failed")||"Failed to load recycle bin")}finally{d(!1)}}},[e,s]);b.useEffect(()=>{e&&(S(),h([]))},[e,S]);const T=async()=>{if(f.length===0){Q.warning(s("recycle_bin.select_to_restore")||"Please select runs to restore");return}g(!0);try{const R=await N1(f);R.restored_count>0?(Q.success(s("recycle_bin.restore_success",{count:R.restored_count})||`Restored ${R.restored_count} runs`),h([]),S(),n==null||n()):Q.warning("No runs were restored")}catch{Q.error(s("recycle_bin.restore_failed")||"Failed to restore runs")}finally{g(!1)}},k=async()=>{v(!0);try{const R=await B1();Q.success(s("recycle_bin.empty_success",{count:R.permanently_deleted})||`Permanently deleted ${R.permanently_deleted} runs`),S()}catch{Q.error(s("recycle_bin.empty_failed")||"Failed to empty recycle bin")}finally{v(!1)}},P=[{title:s("table.run_id"),dataIndex:"id",key:"id",render:R=>a.jsx(we.Text,{code:!0,style:{fontSize:"12px"},children:R})},{title:s("table.project"),dataIndex:"project",key:"project",render:R=>a.jsx(Ce,{color:"blue",children:R})},{title:s("table.name"),dataIndex:"name",key:"name",render:R=>a.jsx(Ce,{color:"purple",children:R})},{title:s("recycle_bin.original_status"),dataIndex:"original_status",key:"original_status",render:R=>a.jsx(Ce,{color:R==="running"?"processing":R==="finished"?"success":R==="failed"?"error":"default",children:R})},{title:s("recycle_bin.deleted_at"),dataIndex:"deleted_at",key:"deleted_at",render:R=>a.jsx(it,{title:new Date(R*1e3).toLocaleString(),children:new Date(R*1e3).toLocaleDateString()})},{title:s("table.actions"),key:"actions",render:(R,D)=>a.jsx(N,{size:"small",children:a.jsx(it,{title:s("recycle_bin.restore_single"),children:a.jsx(de,{type:"text",size:"small",icon:a.jsx(cc,{}),onClick:async()=>{h([D.id]),await T()}})})})}];return a.jsx(An,{title:a.jsxs(N,{children:[a.jsx(fi,{}),a.jsx("span",{children:s("recycle_bin.title")||"Recycle Bin"}),a.jsx(Ce,{color:"orange",children:o.length})]}),open:e,onCancel:t,width:800,footer:[a.jsx(de,{onClick:t,children:s("experiments.cancel")||"Close"},"close"),a.jsxs(de,{type:"primary",icon:a.jsx(cc,{}),loading:p,disabled:f.length===0,onClick:T,children:[s("recycle_bin.restore_selected")||"Restore Selected",f.length>0&&` (${f.length})`]},"restore"),a.jsx(Yj,{title:s("recycle_bin.empty_confirm_title")||"Empty Recycle Bin",description:s("recycle_bin.empty_confirm_desc")||"This will permanently delete all runs in recycle bin. This cannot be undone!",okText:s("recycle_bin.empty_confirm")||"Yes, Delete All",okType:"danger",cancelText:s("experiments.cancel")||"Cancel",onConfirm:k,children:a.jsx(de,{danger:!0,icon:a.jsx(Xj,{}),loading:x,disabled:o.length===0,children:s("recycle_bin.empty_bin")||"Empty Bin"})},"empty")],children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(sn,{message:s("recycle_bin.description")||"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.",type:"info",icon:a.jsx(ea,{}),showIcon:!0}),a.jsx(xr,{rowSelection:{selectedRowKeys:f,onChange:R=>h(R),getCheckboxProps:R=>({disabled:!1})},dataSource:o,columns:P,loading:c,rowKey:"id",size:"small",pagination:{pageSize:10,showSizeChanger:!1,showQuickJumper:!1,showTotal:(R,D)=>s("recycle_bin.table_total",{from:D[0],to:D[1],total:R})||`${D[0]}-${D[1]} of ${R} items`},locale:{emptyText:a.jsx("div",{style:{padding:20,textAlign:"center"},children:a.jsx(we.Text,{type:"secondary",children:s("recycle_bin.empty_state")||"Recycle bin is empty"})})}}),f.length>0&&a.jsx(sn,{message:s("recycle_bin.selection_info",{count:f.length})||`${f.length} runs selected for restoration`,type:"info",style:{marginTop:8}})]})})}var Fu={exports:{}},Ei={},ca={exports:{}},Fy={},zy={exports:{}},bE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SE=bE,jE=SE;function $y(){}function Vy(){}Vy.resetWarningCache=$y;var CE=function(){function e(s,o,l,c,d,f){if(f!==jE){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Vy,resetWarningCache:$y};return n.PropTypes=n,n};zy.exports=CE();var ua=zy.exports,$c={exports:{}};function Ny(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ny(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function qp(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ny(e))&&(s&&(s+=" "),s+=t);return s}$c.exports=qp,$c.exports.clsx=qp;var TE=$c.exports,dt={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.dontSetMe=kE;Vn.findInArray=PE;Vn.int=EE;Vn.isFunction=RE;Vn.isNum=AE;function PE(e,t){for(let n=0,s=e.length;n<s;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function RE(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function AE(e){return typeof e=="number"&&!isNaN(e)}function EE(e){return parseInt(e,10)}function kE(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.browserPrefixToKey=Uy;Wr.browserPrefixToStyle=DE;Wr.default=void 0;Wr.getPrefix=By;const ec=["Moz","Webkit","O","ms"];function By(){var n,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(s=(n=window.document)==null?void 0:n.documentElement)==null?void 0:s.style;if(!t||e in t)return"";for(let o=0;o<ec.length;o++)if(Uy(e,ec[o])in t)return ec[o];return""}function Uy(e,t){return t?`${t}${IE(e)}`:e}function DE(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function IE(e){let t="",n=!0;for(let s=0;s<e.length;s++)n?(t+=e[s].toUpperCase(),n=!1):e[s]==="-"?n=!0:t+=e[s];return t}Wr.default=By();Object.defineProperty(dt,"__esModule",{value:!0});dt.addClassName=Gy;dt.addEvent=LE;dt.addUserSelectStyles=GE;dt.createCSSTransform=BE;dt.createSVGTransform=UE;dt.getTouch=WE;dt.getTouchIdentifier=HE;dt.getTranslation=zu;dt.innerHeight=$E;dt.innerWidth=VE;dt.matchesSelector=Hy;dt.matchesSelectorAndParentsTo=ME;dt.offsetXYFromParent=NE;dt.outerHeight=FE;dt.outerWidth=zE;dt.removeClassName=Ky;dt.removeEvent=OE;dt.scheduleRemoveUserSelectStyles=KE;var rn=Vn,Yp=Wy(Wr);function Wy(e,t){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(Wy=function(o,l){if(!l&&o&&o.__esModule)return o;var c,d,f={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return f;if(c=l?s:n){if(c.has(o))return c.get(o);c.set(o,f)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?c(f,h,d):f[h]=o[h]);return f})(e,t)}let Po="";function Hy(e,t){return Po||(Po=(0,rn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,rn.isFunction)(e[n])})),(0,rn.isFunction)(e[Po])?e[Po](t):!1}function ME(e,t,n){let s=e;do{if(Hy(s,t))return!0;if(s===n)return!1;s=s.parentNode}while(s);return!1}function LE(e,t,n,s){if(!e)return;const o={capture:!0,...s};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function OE(e,t,n,s){if(!e)return;const o={capture:!0,...s};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function FE(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,rn.int)(n.borderTopWidth),t+=(0,rn.int)(n.borderBottomWidth),t}function zE(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,rn.int)(n.borderLeftWidth),t+=(0,rn.int)(n.borderRightWidth),t}function $E(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,rn.int)(n.paddingTop),t-=(0,rn.int)(n.paddingBottom),t}function VE(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,rn.int)(n.paddingLeft),t-=(0,rn.int)(n.paddingRight),t}function NE(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),l=(e.clientX+t.scrollLeft-o.left)/n,c=(e.clientY+t.scrollTop-o.top)/n;return{x:l,y:c}}function BE(e,t){const n=zu(e,t,"px");return{[(0,Yp.browserPrefixToKey)("transform",Yp.default)]:n}}function UE(e,t){return zu(e,t,"")}function zu(e,t,n){let{x:s,y:o}=e,l=`translate(${s}${n},${o}${n})`;if(t){const c=`${typeof t.x=="string"?t.x:t.x+n}`,d=`${typeof t.y=="string"?t.y:t.y+n}`;l=`translate(${c}, ${d})`+l}return l}function WE(e,t){return e.targetTouches&&(0,rn.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,rn.findInArray)(e.changedTouches,n=>t===n.identifier)}function HE(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function GE(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Gy(e.body,"react-draggable-transparent-selection")}function KE(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Xp(e)}):Xp(e)}function Xp(e){if(e)try{if(e.body&&Ky(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Gy(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Ky(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.canDragX=XE;Nn.canDragY=JE;Nn.createCoreData=QE;Nn.createDraggableData=ek;Nn.getBoundPosition=qE;Nn.getControlPosition=ZE;Nn.snapToGrid=YE;var tn=Vn,js=dt;function qE(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:s}=e.props;s=typeof s=="string"?s:tk(s);const o=$u(e);if(typeof s=="string"){const{ownerDocument:l}=o,c=l.defaultView;let d;if(s==="parent"?d=o.parentNode:d=o.getRootNode().querySelector(s),!(d instanceof c.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const f=d,h=c.getComputedStyle(o),p=c.getComputedStyle(f);s={left:-o.offsetLeft+(0,tn.int)(p.paddingLeft)+(0,tn.int)(h.marginLeft),top:-o.offsetTop+(0,tn.int)(p.paddingTop)+(0,tn.int)(h.marginTop),right:(0,js.innerWidth)(f)-(0,js.outerWidth)(o)-o.offsetLeft+(0,tn.int)(p.paddingRight)-(0,tn.int)(h.marginRight),bottom:(0,js.innerHeight)(f)-(0,js.outerHeight)(o)-o.offsetTop+(0,tn.int)(p.paddingBottom)-(0,tn.int)(h.marginBottom)}}return(0,tn.isNum)(s.right)&&(t=Math.min(t,s.right)),(0,tn.isNum)(s.bottom)&&(n=Math.min(n,s.bottom)),(0,tn.isNum)(s.left)&&(t=Math.max(t,s.left)),(0,tn.isNum)(s.top)&&(n=Math.max(n,s.top)),[t,n]}function YE(e,t,n){const s=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[s,o]}function XE(e){return e.props.axis==="both"||e.props.axis==="x"}function JE(e){return e.props.axis==="both"||e.props.axis==="y"}function ZE(e,t,n){const s=typeof t=="number"?(0,js.getTouch)(e,t):null;if(typeof t=="number"&&!s)return null;const o=$u(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,js.offsetXYFromParent)(s||e,l,n.props.scale)}function QE(e,t,n){const s=!(0,tn.isNum)(e.lastX),o=$u(e);return s?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function ek(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function tk(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function $u(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var da={},fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.default=nk;function nk(){}Object.defineProperty(da,"__esModule",{value:!0});da.default=void 0;var tc=qy(b),$t=Vu(ua),rk=Vu(Gc),Dt=dt,mr=Nn,nc=Vn,Xs=Vu(fa);function Vu(e){return e&&e.__esModule?e:{default:e}}function qy(e,t){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(qy=function(o,l){if(!l&&o&&o.__esModule)return o;var c,d,f={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return f;if(c=l?s:n){if(c.has(o))return c.get(o);c.set(o,f)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?c(f,h,d):f[h]=o[h]);return f})(e,t)}function Vt(e,t,n){return(t=sk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sk(e){var t=ik(e,"string");return typeof t=="symbol"?t:t+""}function ik(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Pn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let gr=Pn.mouse,ha=class extends tc.Component{constructor(){super(...arguments),Vt(this,"dragging",!1),Vt(this,"lastX",NaN),Vt(this,"lastY",NaN),Vt(this,"touchIdentifier",null),Vt(this,"mounted",!1),Vt(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:s}=n;if(this.props.disabled||!(t.target instanceof s.defaultView.Node)||this.props.handle&&!(0,Dt.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Dt.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,Dt.getTouchIdentifier)(t);this.touchIdentifier=o;const l=(0,mr.getControlPosition)(t,o,this);if(l==null)return;const{x:c,y:d}=l,f=(0,mr.createCoreData)(this,c,d);(0,Xs.default)("DraggableCore: handleDragStart: %j",f),(0,Xs.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Dt.addUserSelectStyles)(s),this.dragging=!0,this.lastX=c,this.lastY=d,(0,Dt.addEvent)(s,gr.move,this.handleDrag),(0,Dt.addEvent)(s,gr.stop,this.handleDragStop))}),Vt(this,"handleDrag",t=>{const n=(0,mr.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:s,y:o}=n;if(Array.isArray(this.props.grid)){let d=s-this.lastX,f=o-this.lastY;if([d,f]=(0,mr.snapToGrid)(this.props.grid,d,f),!d&&!f)return;s=this.lastX+d,o=this.lastY+f}const l=(0,mr.createCoreData)(this,s,o);if((0,Xs.default)("DraggableCore: handleDrag: %j",l),this.props.onDrag(t,l)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=s,this.lastY=o}),Vt(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,mr.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:s,y:o}=n;if(Array.isArray(this.props.grid)){let f=s-this.lastX||0,h=o-this.lastY||0;[f,h]=(0,mr.snapToGrid)(this.props.grid,f,h),s=this.lastX+f,o=this.lastY+h}const l=(0,mr.createCoreData)(this,s,o);if(this.props.onStop(t,l)===!1||this.mounted===!1)return!1;const d=this.findDOMNode();d&&this.props.enableUserSelectHack&&(0,Dt.scheduleRemoveUserSelectStyles)(d.ownerDocument),(0,Xs.default)("DraggableCore: handleDragStop: %j",l),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,d&&((0,Xs.default)("DraggableCore: Removing handlers"),(0,Dt.removeEvent)(d.ownerDocument,gr.move,this.handleDrag),(0,Dt.removeEvent)(d.ownerDocument,gr.stop,this.handleDragStop))}),Vt(this,"onMouseDown",t=>(gr=Pn.mouse,this.handleDragStart(t))),Vt(this,"onMouseUp",t=>(gr=Pn.mouse,this.handleDragStop(t))),Vt(this,"onTouchStart",t=>(gr=Pn.touch,this.handleDragStart(t))),Vt(this,"onTouchEnd",t=>(gr=Pn.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Dt.addEvent)(t,Pn.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Dt.removeEvent)(n,Pn.mouse.move,this.handleDrag),(0,Dt.removeEvent)(n,Pn.touch.move,this.handleDrag),(0,Dt.removeEvent)(n,Pn.mouse.stop,this.handleDragStop),(0,Dt.removeEvent)(n,Pn.touch.stop,this.handleDragStop),(0,Dt.removeEvent)(t,Pn.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Dt.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,s;return(t=this.props)!=null&&t.nodeRef?(s=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:s.current:rk.default.findDOMNode(this)}render(){return tc.cloneElement(tc.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};da.default=ha;Vt(ha,"displayName","DraggableCore");Vt(ha,"propTypes",{allowAnyClick:$t.default.bool,allowMobileScroll:$t.default.bool,children:$t.default.node.isRequired,disabled:$t.default.bool,enableUserSelectHack:$t.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:$t.default.arrayOf($t.default.number),handle:$t.default.string,cancel:$t.default.string,nodeRef:$t.default.object,onStart:$t.default.func,onDrag:$t.default.func,onStop:$t.default.func,onMouseDown:$t.default.func,scale:$t.default.number,className:nc.dontSetMe,style:nc.dontSetMe,transform:nc.dontSetMe});Vt(ha,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=g(b),n=p(ua),s=p(Gc),o=TE,l=dt,c=Nn,d=Vn,f=p(da),h=p(fa);function p(P){return P&&P.__esModule?P:{default:P}}function g(P,R){if(typeof WeakMap=="function")var D=new WeakMap,j=new WeakMap;return(g=function(E,O){if(!O&&E&&E.__esModule)return E;var z,$,B={__proto__:null,default:E};if(E===null||typeof E!="object"&&typeof E!="function")return B;if(z=O?j:D){if(z.has(E))return z.get(E);z.set(E,B)}for(const K in E)K!=="default"&&{}.hasOwnProperty.call(E,K)&&(($=(z=Object.defineProperty)&&Object.getOwnPropertyDescriptor(E,K))&&($.get||$.set)?z(B,K,$):B[K]=E[K]);return B})(P,R)}function x(){return x=Object.assign?Object.assign.bind():function(P){for(var R=1;R<arguments.length;R++){var D=arguments[R];for(var j in D)({}).hasOwnProperty.call(D,j)&&(P[j]=D[j])}return P},x.apply(null,arguments)}function v(P,R,D){return(R=S(R))in P?Object.defineProperty(P,R,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[R]=D,P}function S(P){var R=T(P,"string");return typeof R=="symbol"?R:R+""}function T(P,R){if(typeof P!="object"||!P)return P;var D=P[Symbol.toPrimitive];if(D!==void 0){var j=D.call(P,R);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(P)}class k extends t.Component{static getDerivedStateFromProps(R,D){let{position:j}=R,{prevPropsPosition:E}=D;return j&&(!E||j.x!==E.x||j.y!==E.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:j,prevPropsPosition:E}),{x:j.x,y:j.y,prevPropsPosition:{...j}}):null}constructor(R){super(R),v(this,"onDragStart",(D,j)=>{if((0,h.default)("Draggable: onDragStart: %j",j),this.props.onStart(D,(0,c.createDraggableData)(this,j))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(D,j)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",j);const E=(0,c.createDraggableData)(this,j),O={x:E.x,y:E.y,slackX:0,slackY:0};if(this.props.bounds){const{x:$,y:B}=O;O.x+=this.state.slackX,O.y+=this.state.slackY;const[K,J]=(0,c.getBoundPosition)(this,O.x,O.y);O.x=K,O.y=J,O.slackX=this.state.slackX+($-O.x),O.slackY=this.state.slackY+(B-O.y),E.x=O.x,E.y=O.y,E.deltaX=O.x-this.state.x,E.deltaY=O.y-this.state.y}if(this.props.onDrag(D,E)===!1)return!1;this.setState(O)}),v(this,"onDragStop",(D,j)=>{if(!this.state.dragging||this.props.onStop(D,(0,c.createDraggableData)(this,j))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",j);const O={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:$,y:B}=this.props.position;O.x=$,O.y=B}this.setState(O)}),this.state={dragging:!1,dragged:!1,x:R.position?R.position.x:R.defaultPosition.x,y:R.position?R.position.y:R.defaultPosition.y,prevPropsPosition:{...R.position},slackX:0,slackY:0,isElementSVG:!1},R.position&&!(R.onDrag||R.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var R,D;return((D=(R=this.props)==null?void 0:R.nodeRef)==null?void 0:D.current)??s.default.findDOMNode(this)}render(){const{axis:R,bounds:D,children:j,defaultPosition:E,defaultClassName:O,defaultClassNameDragging:z,defaultClassNameDragged:$,position:B,positionOffset:K,scale:J,...Le}=this.props;let ee={},ce=null;const ue=!!!B||this.state.dragging,ne=B||E,Y={x:(0,c.canDragX)(this)&&ue?this.state.x:ne.x,y:(0,c.canDragY)(this)&&ue?this.state.y:ne.y};this.state.isElementSVG?ce=(0,l.createSVGTransform)(Y,K):ee=(0,l.createCSSTransform)(Y,K);const G=(0,o.clsx)(j.props.className||"",O,{[z]:this.state.dragging,[$]:this.state.dragged});return t.createElement(f.default,x({},Le,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(j),{className:G,style:{...j.props.style,...ee},transform:ce}))}}e.default=k,v(k,"displayName","Draggable"),v(k,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),v(k,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Fy);const{default:Yy,DraggableCore:ok}=Fy;ca.exports=Yy;ca.exports.default=Yy;ca.exports.DraggableCore=ok;var ak=ca.exports,Nu={};Nu.__esModule=!0;Nu.cloneElement=hk;var lk=ck(b);function ck(e){return e&&e.__esModule?e:{default:e}}function Jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jp(Object(n),!0).forEach(function(s){uk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uk(e,t,n){return t=dk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dk(e){var t=fk(e,"string");return typeof t=="symbol"?t:String(t)}function fk(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hk(e,t){return t.style&&e.props.style&&(t.style=Zp(Zp({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),lk.default.cloneElement(e,t)}var ki={};ki.__esModule=!0;ki.resizableProps=void 0;var Pe=pk(ua);function pk(e){return e&&e.__esModule?e:{default:e}}var mk={axis:Pe.default.oneOf(["both","x","y","none"]),className:Pe.default.string,children:Pe.default.element.isRequired,draggableOpts:Pe.default.shape({allowAnyClick:Pe.default.bool,cancel:Pe.default.string,children:Pe.default.node,disabled:Pe.default.bool,enableUserSelectHack:Pe.default.bool,offsetParent:Pe.default.node,grid:Pe.default.arrayOf(Pe.default.number),handle:Pe.default.string,nodeRef:Pe.default.object,onStart:Pe.default.func,onDrag:Pe.default.func,onStop:Pe.default.func,onMouseDown:Pe.default.func,scale:Pe.default.number}),height:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var o=n[0];if(o.axis==="both"||o.axis==="y"){var l;return(l=Pe.default.number).isRequired.apply(l,n)}return Pe.default.number.apply(Pe.default,n)},handle:Pe.default.oneOfType([Pe.default.node,Pe.default.func]),handleSize:Pe.default.arrayOf(Pe.default.number),lockAspectRatio:Pe.default.bool,maxConstraints:Pe.default.arrayOf(Pe.default.number),minConstraints:Pe.default.arrayOf(Pe.default.number),onResizeStop:Pe.default.func,onResizeStart:Pe.default.func,onResize:Pe.default.func,resizeHandles:Pe.default.arrayOf(Pe.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Pe.default.number,width:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var o=n[0];if(o.axis==="both"||o.axis==="x"){var l;return(l=Pe.default.number).isRequired.apply(l,n)}return Pe.default.number.apply(Pe.default,n)}};ki.resizableProps=mk;Ei.__esModule=!0;Ei.default=void 0;var Js=wk(b),gk=ak,yk=Nu,xk=ki,vk=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Xy(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Xy=function(o){return o?n:t})(e)}function wk(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Xy(t);if(n&&n.has(e))return n.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var c=o?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(s,l,c):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vc.apply(this,arguments)}function _k(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qp(Object(n),!0).forEach(function(s){bk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bk(e,t,n){return t=Sk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sk(e){var t=jk(e,"string");return typeof t=="symbol"?t:String(t)}function jk(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ck(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Nc(e,t)}function Nc(e,t){return Nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Nc(e,t)}var Bu=function(e){Ck(t,e);function t(){for(var s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return s=e.call.apply(e,[this].concat(l))||this,s.handleRefs={},s.lastHandleRect=null,s.slack=null,s}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(o,l){var c=this.props,d=c.minConstraints,f=c.maxConstraints,h=c.lockAspectRatio;if(!d&&!f&&!h)return[o,l];if(h){var p=this.props.width/this.props.height,g=o-this.props.width,x=l-this.props.height;Math.abs(g)>Math.abs(x*p)?l=o/p:o=l*p}var v=o,S=l,T=this.slack||[0,0],k=T[0],P=T[1];return o+=k,l+=P,d&&(o=Math.max(d[0],o),l=Math.max(d[1],l)),f&&(o=Math.min(f[0],o),l=Math.min(f[1],l)),this.slack=[k+(v-o),P+(S-l)],[o,l]},n.resizeHandler=function(o,l){var c=this;return function(d,f){var h=f.node,p=f.deltaX,g=f.deltaY;o==="onResizeStart"&&c.resetData();var x=(c.props.axis==="both"||c.props.axis==="x")&&l!=="n"&&l!=="s",v=(c.props.axis==="both"||c.props.axis==="y")&&l!=="e"&&l!=="w";if(!(!x&&!v)){var S=l[0],T=l[l.length-1],k=h.getBoundingClientRect();if(c.lastHandleRect!=null){if(T==="w"){var P=k.left-c.lastHandleRect.left;p+=P}if(S==="n"){var R=k.top-c.lastHandleRect.top;g+=R}}c.lastHandleRect=k,T==="w"&&(p=-p),S==="n"&&(g=-g);var D=c.props.width+(x?p/c.props.transformScale:0),j=c.props.height+(v?g/c.props.transformScale:0),E=c.runConstraints(D,j);D=E[0],j=E[1];var O=D!==c.props.width||j!==c.props.height,z=typeof c.props[o]=="function"?c.props[o]:null,$=o==="onResize"&&!O;z&&!$&&(d.persist==null||d.persist(),z(d,{node:h,size:{width:D,height:j},handle:l})),o==="onResizeStop"&&c.resetData()}}},n.renderResizeHandle=function(o,l){var c=this.props.handle;if(!c)return Js.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:l});if(typeof c=="function")return c(o,l);var d=typeof c.type=="string",f=rc({ref:l},d?{}:{handleAxis:o});return Js.cloneElement(c,f)},n.render=function(){var o=this,l=this.props,c=l.children,d=l.className,f=l.draggableOpts;l.width,l.height,l.handle,l.handleSize,l.lockAspectRatio,l.axis,l.minConstraints,l.maxConstraints,l.onResize,l.onResizeStop,l.onResizeStart;var h=l.resizeHandles;l.transformScale;var p=_k(l,vk);return(0,yk.cloneElement)(c,rc(rc({},p),{},{className:(d?d+" ":"")+"react-resizable",children:[].concat(c.props.children,h.map(function(g){var x,v=(x=o.handleRefs[g])!=null?x:o.handleRefs[g]=Js.createRef();return Js.createElement(gk.DraggableCore,Vc({},f,{nodeRef:v,key:"resizableHandle-"+g,onStop:o.resizeHandler("onResizeStop",g),onStart:o.resizeHandler("onResizeStart",g),onDrag:o.resizeHandler("onResize",g)}),o.renderResizeHandle(g,v))}))}))},t}(Js.Component);Ei.default=Bu;Bu.propTypes=xk.resizableProps;Bu.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var pa={};pa.__esModule=!0;pa.default=void 0;var sc=Ek(b),Tk=Jy(ua),Pk=Jy(Ei),Rk=ki,Ak=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function Jy(e){return e&&e.__esModule?e:{default:e}}function Zy(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Zy=function(o){return o?n:t})(e)}function Ek(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Zy(t);if(n&&n.has(e))return n.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var c=o?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(s,l,c):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bc.apply(this,arguments)}function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(s){kk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kk(e,t,n){return t=Dk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dk(e){var t=Ik(e,"string");return typeof t=="symbol"?t:String(t)}function Ik(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mk(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Lk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Uc(e,t)}function Uc(e,t){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Uc(e,t)}var Qy=function(e){Lk(t,e);function t(){for(var s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return s=e.call.apply(e,[this].concat(l))||this,s.state={width:s.props.width,height:s.props.height,propsWidth:s.props.width,propsHeight:s.props.height},s.onResize=function(d,f){var h=f.size;s.props.onResize?(d.persist==null||d.persist(),s.setState(h,function(){return s.props.onResize&&s.props.onResize(d,f)})):s.setState(h)},s}t.getDerivedStateFromProps=function(o,l){return l.propsWidth!==o.width||l.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var n=t.prototype;return n.render=function(){var o=this.props,l=o.handle,c=o.handleSize;o.onResize;var d=o.onResizeStart,f=o.onResizeStop,h=o.draggableOpts,p=o.minConstraints,g=o.maxConstraints,x=o.lockAspectRatio,v=o.axis;o.width,o.height;var S=o.resizeHandles,T=o.style,k=o.transformScale,P=Mk(o,Ak);return sc.createElement(Pk.default,{axis:v,draggableOpts:h,handle:l,handleSize:c,height:this.state.height,lockAspectRatio:x,maxConstraints:g,minConstraints:p,onResizeStart:d,onResize:this.onResize,onResizeStop:f,resizeHandles:S,transformScale:k,width:this.state.width},sc.createElement("div",Bc({},P,{style:Ho(Ho({},T),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(sc.Component);pa.default=Qy;Qy.propTypes=Ho(Ho({},Rk.resizableProps),{},{children:Tk.default.element});Fu.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Ok=Fu.exports.Resizable=Ei.default;Fu.exports.ResizableBox=pa.default;const Fk=e=>{const{onResize:t,width:n,...s}=e;return n?a.jsx(Ok,{width:n,height:0,handle:a.jsx("span",{className:"react-resizable-handle",onClick:o=>{o.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:a.jsx("th",{...s})}):a.jsx("th",{...s})};var Go={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Go.exports;(function(e,t){(function(){var n,s="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",g=1,x=2,v=4,S=1,T=2,k=1,P=2,R=4,D=8,j=16,E=32,O=64,z=128,$=256,B=512,K=30,J="...",Le=800,ee=16,ce=1,je=2,ue=3,ne=1/0,Y=9007199254740991,G=17976931348623157e292,Z=NaN,oe=4294967295,pe=oe-1,Ke=oe>>>1,Je=[["ary",z],["bind",k],["bindKey",P],["curry",D],["curryRight",j],["flip",B],["partial",E],["partialRight",O],["rearg",$]],qe="[object Arguments]",yt="[object Array]",wt="[object AsyncFunction]",U="[object Boolean]",le="[object Date]",Ae="[object DOMException]",ft="[object Error]",Oe="[object Function]",$e="[object GeneratorFunction]",Ve="[object Map]",jt="[object Number]",_n="[object Null]",I="[object Object]",X="[object Promise]",xe="[object Proxy]",Ne="[object RegExp]",fe="[object Set]",We="[object String]",Be="[object Symbol]",De="[object Undefined]",on="[object WeakMap]",_t="[object WeakSet]",ir="[object ArrayBuffer]",Bn="[object DataView]",Gr="[object Float32Array]",Kr="[object Float64Array]",qr="[object Int8Array]",Yr="[object Int16Array]",ya="[object Int32Array]",xa="[object Uint8Array]",va="[object Uint8ClampedArray]",wa="[object Uint16Array]",_a="[object Uint32Array]",cx=/\b__p \+= '';/g,ux=/\b(__p \+=) '' \+/g,dx=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wu=/&(?:amp|lt|gt|quot|#39);/g,Hu=/[&<>"']/g,fx=RegExp(Wu.source),hx=RegExp(Hu.source),px=/<%-([\s\S]+?)%>/g,mx=/<%([\s\S]+?)%>/g,Gu=/<%=([\s\S]+?)%>/g,gx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yx=/^\w*$/,xx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ba=/[\\^$.*+?()[\]{}|]/g,vx=RegExp(ba.source),Sa=/^\s+/,wx=/\s/,_x=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bx=/\{\n\/\* \[wrapped with (.+)\] \*/,Sx=/,? & /,jx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cx=/[()=,{}\[\]\/\s]/,Tx=/\\(\\)?/g,Px=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ku=/\w*$/,Rx=/^[-+]0x[0-9a-f]+$/i,Ax=/^0b[01]+$/i,Ex=/^\[object .+?Constructor\]$/,kx=/^0o[0-7]+$/i,Dx=/^(?:0|[1-9]\d*)$/,Ix=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Di=/($^)/,Mx=/['\n\r\u2028\u2029\\]/g,Ii="\\ud800-\\udfff",Lx="\\u0300-\\u036f",Ox="\\ufe20-\\ufe2f",Fx="\\u20d0-\\u20ff",qu=Lx+Ox+Fx,Yu="\\u2700-\\u27bf",Xu="a-z\\xdf-\\xf6\\xf8-\\xff",zx="\\xac\\xb1\\xd7\\xf7",$x="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vx="\\u2000-\\u206f",Nx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ju="A-Z\\xc0-\\xd6\\xd8-\\xde",Zu="\\ufe0e\\ufe0f",Qu=zx+$x+Vx+Nx,ja="['’]",Bx="["+Ii+"]",ed="["+Qu+"]",Mi="["+qu+"]",td="\\d+",Ux="["+Yu+"]",nd="["+Xu+"]",rd="[^"+Ii+Qu+td+Yu+Xu+Ju+"]",Ca="\\ud83c[\\udffb-\\udfff]",Wx="(?:"+Mi+"|"+Ca+")",sd="[^"+Ii+"]",Ta="(?:\\ud83c[\\udde6-\\uddff]){2}",Pa="[\\ud800-\\udbff][\\udc00-\\udfff]",Xr="["+Ju+"]",id="\\u200d",od="(?:"+nd+"|"+rd+")",Hx="(?:"+Xr+"|"+rd+")",ad="(?:"+ja+"(?:d|ll|m|re|s|t|ve))?",ld="(?:"+ja+"(?:D|LL|M|RE|S|T|VE))?",cd=Wx+"?",ud="["+Zu+"]?",Gx="(?:"+id+"(?:"+[sd,Ta,Pa].join("|")+")"+ud+cd+")*",Kx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dd=ud+cd+Gx,Yx="(?:"+[Ux,Ta,Pa].join("|")+")"+dd,Xx="(?:"+[sd+Mi+"?",Mi,Ta,Pa,Bx].join("|")+")",Jx=RegExp(ja,"g"),Zx=RegExp(Mi,"g"),Ra=RegExp(Ca+"(?="+Ca+")|"+Xx+dd,"g"),Qx=RegExp([Xr+"?"+nd+"+"+ad+"(?="+[ed,Xr,"$"].join("|")+")",Hx+"+"+ld+"(?="+[ed,Xr+od,"$"].join("|")+")",Xr+"?"+od+"+"+ad,Xr+"+"+ld,qx,Kx,td,Yx].join("|"),"g"),ev=RegExp("["+id+Ii+qu+Zu+"]"),tv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rv=-1,Qe={};Qe[Gr]=Qe[Kr]=Qe[qr]=Qe[Yr]=Qe[ya]=Qe[xa]=Qe[va]=Qe[wa]=Qe[_a]=!0,Qe[qe]=Qe[yt]=Qe[ir]=Qe[U]=Qe[Bn]=Qe[le]=Qe[ft]=Qe[Oe]=Qe[Ve]=Qe[jt]=Qe[I]=Qe[Ne]=Qe[fe]=Qe[We]=Qe[on]=!1;var Ze={};Ze[qe]=Ze[yt]=Ze[ir]=Ze[Bn]=Ze[U]=Ze[le]=Ze[Gr]=Ze[Kr]=Ze[qr]=Ze[Yr]=Ze[ya]=Ze[Ve]=Ze[jt]=Ze[I]=Ze[Ne]=Ze[fe]=Ze[We]=Ze[Be]=Ze[xa]=Ze[va]=Ze[wa]=Ze[_a]=!0,Ze[ft]=Ze[Oe]=Ze[on]=!1;var sv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},iv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ov={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},av={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lv=parseFloat,cv=parseInt,fd=typeof gs=="object"&&gs&&gs.Object===Object&&gs,uv=typeof self=="object"&&self&&self.Object===Object&&self,Ct=fd||uv||Function("return this")(),Aa=t&&!t.nodeType&&t,Sr=Aa&&!0&&e&&!e.nodeType&&e,hd=Sr&&Sr.exports===Aa,Ea=hd&&fd.process,an=function(){try{var M=Sr&&Sr.require&&Sr.require("util").types;return M||Ea&&Ea.binding&&Ea.binding("util")}catch{}}(),pd=an&&an.isArrayBuffer,md=an&&an.isDate,gd=an&&an.isMap,yd=an&&an.isRegExp,xd=an&&an.isSet,vd=an&&an.isTypedArray;function Yt(M,V,F){switch(F.length){case 0:return M.call(V);case 1:return M.call(V,F[0]);case 2:return M.call(V,F[0],F[1]);case 3:return M.call(V,F[0],F[1],F[2])}return M.apply(V,F)}function dv(M,V,F,re){for(var _e=-1,Ue=M==null?0:M.length;++_e<Ue;){var xt=M[_e];V(re,xt,F(xt),M)}return re}function ln(M,V){for(var F=-1,re=M==null?0:M.length;++F<re&&V(M[F],F,M)!==!1;);return M}function fv(M,V){for(var F=M==null?0:M.length;F--&&V(M[F],F,M)!==!1;);return M}function wd(M,V){for(var F=-1,re=M==null?0:M.length;++F<re;)if(!V(M[F],F,M))return!1;return!0}function or(M,V){for(var F=-1,re=M==null?0:M.length,_e=0,Ue=[];++F<re;){var xt=M[F];V(xt,F,M)&&(Ue[_e++]=xt)}return Ue}function Li(M,V){var F=M==null?0:M.length;return!!F&&Jr(M,V,0)>-1}function ka(M,V,F){for(var re=-1,_e=M==null?0:M.length;++re<_e;)if(F(V,M[re]))return!0;return!1}function tt(M,V){for(var F=-1,re=M==null?0:M.length,_e=Array(re);++F<re;)_e[F]=V(M[F],F,M);return _e}function ar(M,V){for(var F=-1,re=V.length,_e=M.length;++F<re;)M[_e+F]=V[F];return M}function Da(M,V,F,re){var _e=-1,Ue=M==null?0:M.length;for(re&&Ue&&(F=M[++_e]);++_e<Ue;)F=V(F,M[_e],_e,M);return F}function hv(M,V,F,re){var _e=M==null?0:M.length;for(re&&_e&&(F=M[--_e]);_e--;)F=V(F,M[_e],_e,M);return F}function Ia(M,V){for(var F=-1,re=M==null?0:M.length;++F<re;)if(V(M[F],F,M))return!0;return!1}var pv=Ma("length");function mv(M){return M.split("")}function gv(M){return M.match(jx)||[]}function _d(M,V,F){var re;return F(M,function(_e,Ue,xt){if(V(_e,Ue,xt))return re=Ue,!1}),re}function Oi(M,V,F,re){for(var _e=M.length,Ue=F+(re?1:-1);re?Ue--:++Ue<_e;)if(V(M[Ue],Ue,M))return Ue;return-1}function Jr(M,V,F){return V===V?Rv(M,V,F):Oi(M,bd,F)}function yv(M,V,F,re){for(var _e=F-1,Ue=M.length;++_e<Ue;)if(re(M[_e],V))return _e;return-1}function bd(M){return M!==M}function Sd(M,V){var F=M==null?0:M.length;return F?Oa(M,V)/F:Z}function Ma(M){return function(V){return V==null?n:V[M]}}function La(M){return function(V){return M==null?n:M[V]}}function jd(M,V,F,re,_e){return _e(M,function(Ue,xt,Ye){F=re?(re=!1,Ue):V(F,Ue,xt,Ye)}),F}function xv(M,V){var F=M.length;for(M.sort(V);F--;)M[F]=M[F].value;return M}function Oa(M,V){for(var F,re=-1,_e=M.length;++re<_e;){var Ue=V(M[re]);Ue!==n&&(F=F===n?Ue:F+Ue)}return F}function Fa(M,V){for(var F=-1,re=Array(M);++F<M;)re[F]=V(F);return re}function vv(M,V){return tt(V,function(F){return[F,M[F]]})}function Cd(M){return M&&M.slice(0,Ad(M)+1).replace(Sa,"")}function Xt(M){return function(V){return M(V)}}function za(M,V){return tt(V,function(F){return M[F]})}function Ms(M,V){return M.has(V)}function Td(M,V){for(var F=-1,re=M.length;++F<re&&Jr(V,M[F],0)>-1;);return F}function Pd(M,V){for(var F=M.length;F--&&Jr(V,M[F],0)>-1;);return F}function wv(M,V){for(var F=M.length,re=0;F--;)M[F]===V&&++re;return re}var _v=La(sv),bv=La(iv);function Sv(M){return"\\"+av[M]}function jv(M,V){return M==null?n:M[V]}function Zr(M){return ev.test(M)}function Cv(M){return tv.test(M)}function Tv(M){for(var V,F=[];!(V=M.next()).done;)F.push(V.value);return F}function $a(M){var V=-1,F=Array(M.size);return M.forEach(function(re,_e){F[++V]=[_e,re]}),F}function Rd(M,V){return function(F){return M(V(F))}}function lr(M,V){for(var F=-1,re=M.length,_e=0,Ue=[];++F<re;){var xt=M[F];(xt===V||xt===p)&&(M[F]=p,Ue[_e++]=F)}return Ue}function Fi(M){var V=-1,F=Array(M.size);return M.forEach(function(re){F[++V]=re}),F}function Pv(M){var V=-1,F=Array(M.size);return M.forEach(function(re){F[++V]=[re,re]}),F}function Rv(M,V,F){for(var re=F-1,_e=M.length;++re<_e;)if(M[re]===V)return re;return-1}function Av(M,V,F){for(var re=F+1;re--;)if(M[re]===V)return re;return re}function Qr(M){return Zr(M)?kv(M):pv(M)}function bn(M){return Zr(M)?Dv(M):mv(M)}function Ad(M){for(var V=M.length;V--&&wx.test(M.charAt(V)););return V}var Ev=La(ov);function kv(M){for(var V=Ra.lastIndex=0;Ra.test(M);)++V;return V}function Dv(M){return M.match(Ra)||[]}function Iv(M){return M.match(Qx)||[]}var Mv=function M(V){V=V==null?Ct:es.defaults(Ct.Object(),V,es.pick(Ct,nv));var F=V.Array,re=V.Date,_e=V.Error,Ue=V.Function,xt=V.Math,Ye=V.Object,Va=V.RegExp,Lv=V.String,cn=V.TypeError,zi=F.prototype,Ov=Ue.prototype,ts=Ye.prototype,$i=V["__core-js_shared__"],Vi=Ov.toString,Ge=ts.hasOwnProperty,Fv=0,Ed=function(){var r=/[^.]+$/.exec($i&&$i.keys&&$i.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Ni=ts.toString,zv=Vi.call(Ye),$v=Ct._,Vv=Va("^"+Vi.call(Ge).replace(ba,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bi=hd?V.Buffer:n,cr=V.Symbol,Ui=V.Uint8Array,kd=Bi?Bi.allocUnsafe:n,Wi=Rd(Ye.getPrototypeOf,Ye),Dd=Ye.create,Id=ts.propertyIsEnumerable,Hi=zi.splice,Md=cr?cr.isConcatSpreadable:n,Ls=cr?cr.iterator:n,jr=cr?cr.toStringTag:n,Gi=function(){try{var r=Ar(Ye,"defineProperty");return r({},"",{}),r}catch{}}(),Nv=V.clearTimeout!==Ct.clearTimeout&&V.clearTimeout,Bv=re&&re.now!==Ct.Date.now&&re.now,Uv=V.setTimeout!==Ct.setTimeout&&V.setTimeout,Ki=xt.ceil,qi=xt.floor,Na=Ye.getOwnPropertySymbols,Wv=Bi?Bi.isBuffer:n,Ld=V.isFinite,Hv=zi.join,Gv=Rd(Ye.keys,Ye),vt=xt.max,Et=xt.min,Kv=re.now,qv=V.parseInt,Od=xt.random,Yv=zi.reverse,Ba=Ar(V,"DataView"),Os=Ar(V,"Map"),Ua=Ar(V,"Promise"),ns=Ar(V,"Set"),Fs=Ar(V,"WeakMap"),zs=Ar(Ye,"create"),Yi=Fs&&new Fs,rs={},Xv=Er(Ba),Jv=Er(Os),Zv=Er(Ua),Qv=Er(ns),e0=Er(Fs),Xi=cr?cr.prototype:n,$s=Xi?Xi.valueOf:n,Fd=Xi?Xi.toString:n;function w(r){if(lt(r)&&!Se(r)&&!(r instanceof Me)){if(r instanceof un)return r;if(Ge.call(r,"__wrapped__"))return $f(r)}return new un(r)}var ss=function(){function r(){}return function(i){if(!rt(i))return{};if(Dd)return Dd(i);r.prototype=i;var u=new r;return r.prototype=n,u}}();function Ji(){}function un(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=n}w.templateSettings={escape:px,evaluate:mx,interpolate:Gu,variable:"",imports:{_:w}},w.prototype=Ji.prototype,w.prototype.constructor=w,un.prototype=ss(Ji.prototype),un.prototype.constructor=un;function Me(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function t0(){var r=new Me(this.__wrapped__);return r.__actions__=Bt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Bt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Bt(this.__views__),r}function n0(){if(this.__filtered__){var r=new Me(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function r0(){var r=this.__wrapped__.value(),i=this.__dir__,u=Se(r),m=i<0,y=u?r.length:0,_=mw(0,y,this.__views__),C=_.start,A=_.end,L=A-C,W=m?A:C-1,H=this.__iteratees__,q=H.length,te=0,ae=Et(L,this.__takeCount__);if(!u||!m&&y==L&&ae==L)return lf(r,this.__actions__);var me=[];e:for(;L--&&te<ae;){W+=i;for(var Re=-1,ge=r[W];++Re<q;){var Ie=H[Re],Fe=Ie.iteratee,Qt=Ie.type,zt=Fe(ge);if(Qt==je)ge=zt;else if(!zt){if(Qt==ce)continue e;break e}}me[te++]=ge}return me}Me.prototype=ss(Ji.prototype),Me.prototype.constructor=Me;function Cr(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function s0(){this.__data__=zs?zs(null):{},this.size=0}function i0(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function o0(r){var i=this.__data__;if(zs){var u=i[r];return u===f?n:u}return Ge.call(i,r)?i[r]:n}function a0(r){var i=this.__data__;return zs?i[r]!==n:Ge.call(i,r)}function l0(r,i){var u=this.__data__;return this.size+=this.has(r)?0:1,u[r]=zs&&i===n?f:i,this}Cr.prototype.clear=s0,Cr.prototype.delete=i0,Cr.prototype.get=o0,Cr.prototype.has=a0,Cr.prototype.set=l0;function Un(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function c0(){this.__data__=[],this.size=0}function u0(r){var i=this.__data__,u=Zi(i,r);if(u<0)return!1;var m=i.length-1;return u==m?i.pop():Hi.call(i,u,1),--this.size,!0}function d0(r){var i=this.__data__,u=Zi(i,r);return u<0?n:i[u][1]}function f0(r){return Zi(this.__data__,r)>-1}function h0(r,i){var u=this.__data__,m=Zi(u,r);return m<0?(++this.size,u.push([r,i])):u[m][1]=i,this}Un.prototype.clear=c0,Un.prototype.delete=u0,Un.prototype.get=d0,Un.prototype.has=f0,Un.prototype.set=h0;function Wn(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var m=r[i];this.set(m[0],m[1])}}function p0(){this.size=0,this.__data__={hash:new Cr,map:new(Os||Un),string:new Cr}}function m0(r){var i=uo(this,r).delete(r);return this.size-=i?1:0,i}function g0(r){return uo(this,r).get(r)}function y0(r){return uo(this,r).has(r)}function x0(r,i){var u=uo(this,r),m=u.size;return u.set(r,i),this.size+=u.size==m?0:1,this}Wn.prototype.clear=p0,Wn.prototype.delete=m0,Wn.prototype.get=g0,Wn.prototype.has=y0,Wn.prototype.set=x0;function Tr(r){var i=-1,u=r==null?0:r.length;for(this.__data__=new Wn;++i<u;)this.add(r[i])}function v0(r){return this.__data__.set(r,f),this}function w0(r){return this.__data__.has(r)}Tr.prototype.add=Tr.prototype.push=v0,Tr.prototype.has=w0;function Sn(r){var i=this.__data__=new Un(r);this.size=i.size}function _0(){this.__data__=new Un,this.size=0}function b0(r){var i=this.__data__,u=i.delete(r);return this.size=i.size,u}function S0(r){return this.__data__.get(r)}function j0(r){return this.__data__.has(r)}function C0(r,i){var u=this.__data__;if(u instanceof Un){var m=u.__data__;if(!Os||m.length<o-1)return m.push([r,i]),this.size=++u.size,this;u=this.__data__=new Wn(m)}return u.set(r,i),this.size=u.size,this}Sn.prototype.clear=_0,Sn.prototype.delete=b0,Sn.prototype.get=S0,Sn.prototype.has=j0,Sn.prototype.set=C0;function zd(r,i){var u=Se(r),m=!u&&kr(r),y=!u&&!m&&pr(r),_=!u&&!m&&!y&&ls(r),C=u||m||y||_,A=C?Fa(r.length,Lv):[],L=A.length;for(var W in r)(i||Ge.call(r,W))&&!(C&&(W=="length"||y&&(W=="offset"||W=="parent")||_&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||qn(W,L)))&&A.push(W);return A}function $d(r){var i=r.length;return i?r[el(0,i-1)]:n}function T0(r,i){return fo(Bt(r),Pr(i,0,r.length))}function P0(r){return fo(Bt(r))}function Wa(r,i,u){(u!==n&&!jn(r[i],u)||u===n&&!(i in r))&&Hn(r,i,u)}function Vs(r,i,u){var m=r[i];(!(Ge.call(r,i)&&jn(m,u))||u===n&&!(i in r))&&Hn(r,i,u)}function Zi(r,i){for(var u=r.length;u--;)if(jn(r[u][0],i))return u;return-1}function R0(r,i,u,m){return ur(r,function(y,_,C){i(m,y,u(y),C)}),m}function Vd(r,i){return r&&Mn(i,bt(i),r)}function A0(r,i){return r&&Mn(i,Wt(i),r)}function Hn(r,i,u){i=="__proto__"&&Gi?Gi(r,i,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[i]=u}function Ha(r,i){for(var u=-1,m=i.length,y=F(m),_=r==null;++u<m;)y[u]=_?n:Cl(r,i[u]);return y}function Pr(r,i,u){return r===r&&(u!==n&&(r=r<=u?r:u),i!==n&&(r=r>=i?r:i)),r}function dn(r,i,u,m,y,_){var C,A=i&g,L=i&x,W=i&v;if(u&&(C=y?u(r,m,y,_):u(r)),C!==n)return C;if(!rt(r))return r;var H=Se(r);if(H){if(C=yw(r),!A)return Bt(r,C)}else{var q=kt(r),te=q==Oe||q==$e;if(pr(r))return df(r,A);if(q==I||q==qe||te&&!y){if(C=L||te?{}:Ef(r),!A)return L?ow(r,A0(C,r)):iw(r,Vd(C,r))}else{if(!Ze[q])return y?r:{};C=xw(r,q,A)}}_||(_=new Sn);var ae=_.get(r);if(ae)return ae;_.set(r,C),ih(r)?r.forEach(function(ge){C.add(dn(ge,i,u,ge,r,_))}):rh(r)&&r.forEach(function(ge,Ie){C.set(Ie,dn(ge,i,u,Ie,r,_))});var me=W?L?dl:ul:L?Wt:bt,Re=H?n:me(r);return ln(Re||r,function(ge,Ie){Re&&(Ie=ge,ge=r[Ie]),Vs(C,Ie,dn(ge,i,u,Ie,r,_))}),C}function E0(r){var i=bt(r);return function(u){return Nd(u,r,i)}}function Nd(r,i,u){var m=u.length;if(r==null)return!m;for(r=Ye(r);m--;){var y=u[m],_=i[y],C=r[y];if(C===n&&!(y in r)||!_(C))return!1}return!0}function Bd(r,i,u){if(typeof r!="function")throw new cn(c);return Ks(function(){r.apply(n,u)},i)}function Ns(r,i,u,m){var y=-1,_=Li,C=!0,A=r.length,L=[],W=i.length;if(!A)return L;u&&(i=tt(i,Xt(u))),m?(_=ka,C=!1):i.length>=o&&(_=Ms,C=!1,i=new Tr(i));e:for(;++y<A;){var H=r[y],q=u==null?H:u(H);if(H=m||H!==0?H:0,C&&q===q){for(var te=W;te--;)if(i[te]===q)continue e;L.push(H)}else _(i,q,m)||L.push(H)}return L}var ur=gf(In),Ud=gf(Ka,!0);function k0(r,i){var u=!0;return ur(r,function(m,y,_){return u=!!i(m,y,_),u}),u}function Qi(r,i,u){for(var m=-1,y=r.length;++m<y;){var _=r[m],C=i(_);if(C!=null&&(A===n?C===C&&!Zt(C):u(C,A)))var A=C,L=_}return L}function D0(r,i,u,m){var y=r.length;for(u=Te(u),u<0&&(u=-u>y?0:y+u),m=m===n||m>y?y:Te(m),m<0&&(m+=y),m=u>m?0:ah(m);u<m;)r[u++]=i;return r}function Wd(r,i){var u=[];return ur(r,function(m,y,_){i(m,y,_)&&u.push(m)}),u}function Tt(r,i,u,m,y){var _=-1,C=r.length;for(u||(u=ww),y||(y=[]);++_<C;){var A=r[_];i>0&&u(A)?i>1?Tt(A,i-1,u,m,y):ar(y,A):m||(y[y.length]=A)}return y}var Ga=yf(),Hd=yf(!0);function In(r,i){return r&&Ga(r,i,bt)}function Ka(r,i){return r&&Hd(r,i,bt)}function eo(r,i){return or(i,function(u){return Yn(r[u])})}function Rr(r,i){i=fr(i,r);for(var u=0,m=i.length;r!=null&&u<m;)r=r[Ln(i[u++])];return u&&u==m?r:n}function Gd(r,i,u){var m=i(r);return Se(r)?m:ar(m,u(r))}function Ot(r){return r==null?r===n?De:_n:jr&&jr in Ye(r)?pw(r):Pw(r)}function qa(r,i){return r>i}function I0(r,i){return r!=null&&Ge.call(r,i)}function M0(r,i){return r!=null&&i in Ye(r)}function L0(r,i,u){return r>=Et(i,u)&&r<vt(i,u)}function Ya(r,i,u){for(var m=u?ka:Li,y=r[0].length,_=r.length,C=_,A=F(_),L=1/0,W=[];C--;){var H=r[C];C&&i&&(H=tt(H,Xt(i))),L=Et(H.length,L),A[C]=!u&&(i||y>=120&&H.length>=120)?new Tr(C&&H):n}H=r[0];var q=-1,te=A[0];e:for(;++q<y&&W.length<L;){var ae=H[q],me=i?i(ae):ae;if(ae=u||ae!==0?ae:0,!(te?Ms(te,me):m(W,me,u))){for(C=_;--C;){var Re=A[C];if(!(Re?Ms(Re,me):m(r[C],me,u)))continue e}te&&te.push(me),W.push(ae)}}return W}function O0(r,i,u,m){return In(r,function(y,_,C){i(m,u(y),_,C)}),m}function Bs(r,i,u){i=fr(i,r),r=Mf(r,i);var m=r==null?r:r[Ln(hn(i))];return m==null?n:Yt(m,r,u)}function Kd(r){return lt(r)&&Ot(r)==qe}function F0(r){return lt(r)&&Ot(r)==ir}function z0(r){return lt(r)&&Ot(r)==le}function Us(r,i,u,m,y){return r===i?!0:r==null||i==null||!lt(r)&&!lt(i)?r!==r&&i!==i:$0(r,i,u,m,Us,y)}function $0(r,i,u,m,y,_){var C=Se(r),A=Se(i),L=C?yt:kt(r),W=A?yt:kt(i);L=L==qe?I:L,W=W==qe?I:W;var H=L==I,q=W==I,te=L==W;if(te&&pr(r)){if(!pr(i))return!1;C=!0,H=!1}if(te&&!H)return _||(_=new Sn),C||ls(r)?Pf(r,i,u,m,y,_):fw(r,i,L,u,m,y,_);if(!(u&S)){var ae=H&&Ge.call(r,"__wrapped__"),me=q&&Ge.call(i,"__wrapped__");if(ae||me){var Re=ae?r.value():r,ge=me?i.value():i;return _||(_=new Sn),y(Re,ge,u,m,_)}}return te?(_||(_=new Sn),hw(r,i,u,m,y,_)):!1}function V0(r){return lt(r)&&kt(r)==Ve}function Xa(r,i,u,m){var y=u.length,_=y,C=!m;if(r==null)return!_;for(r=Ye(r);y--;){var A=u[y];if(C&&A[2]?A[1]!==r[A[0]]:!(A[0]in r))return!1}for(;++y<_;){A=u[y];var L=A[0],W=r[L],H=A[1];if(C&&A[2]){if(W===n&&!(L in r))return!1}else{var q=new Sn;if(m)var te=m(W,H,L,r,i,q);if(!(te===n?Us(H,W,S|T,m,q):te))return!1}}return!0}function qd(r){if(!rt(r)||bw(r))return!1;var i=Yn(r)?Vv:Ex;return i.test(Er(r))}function N0(r){return lt(r)&&Ot(r)==Ne}function B0(r){return lt(r)&&kt(r)==fe}function U0(r){return lt(r)&&xo(r.length)&&!!Qe[Ot(r)]}function Yd(r){return typeof r=="function"?r:r==null?Ht:typeof r=="object"?Se(r)?Zd(r[0],r[1]):Jd(r):xh(r)}function Ja(r){if(!Gs(r))return Gv(r);var i=[];for(var u in Ye(r))Ge.call(r,u)&&u!="constructor"&&i.push(u);return i}function W0(r){if(!rt(r))return Tw(r);var i=Gs(r),u=[];for(var m in r)m=="constructor"&&(i||!Ge.call(r,m))||u.push(m);return u}function Za(r,i){return r<i}function Xd(r,i){var u=-1,m=Ut(r)?F(r.length):[];return ur(r,function(y,_,C){m[++u]=i(y,_,C)}),m}function Jd(r){var i=hl(r);return i.length==1&&i[0][2]?Df(i[0][0],i[0][1]):function(u){return u===r||Xa(u,r,i)}}function Zd(r,i){return ml(r)&&kf(i)?Df(Ln(r),i):function(u){var m=Cl(u,r);return m===n&&m===i?Tl(u,r):Us(i,m,S|T)}}function to(r,i,u,m,y){r!==i&&Ga(i,function(_,C){if(y||(y=new Sn),rt(_))H0(r,i,C,u,to,m,y);else{var A=m?m(yl(r,C),_,C+"",r,i,y):n;A===n&&(A=_),Wa(r,C,A)}},Wt)}function H0(r,i,u,m,y,_,C){var A=yl(r,u),L=yl(i,u),W=C.get(L);if(W){Wa(r,u,W);return}var H=_?_(A,L,u+"",r,i,C):n,q=H===n;if(q){var te=Se(L),ae=!te&&pr(L),me=!te&&!ae&&ls(L);H=L,te||ae||me?Se(A)?H=A:ht(A)?H=Bt(A):ae?(q=!1,H=df(L,!0)):me?(q=!1,H=ff(L,!0)):H=[]:qs(L)||kr(L)?(H=A,kr(A)?H=lh(A):(!rt(A)||Yn(A))&&(H=Ef(L))):q=!1}q&&(C.set(L,H),y(H,L,m,_,C),C.delete(L)),Wa(r,u,H)}function Qd(r,i){var u=r.length;if(u)return i+=i<0?u:0,qn(i,u)?r[i]:n}function ef(r,i,u){i.length?i=tt(i,function(_){return Se(_)?function(C){return Rr(C,_.length===1?_[0]:_)}:_}):i=[Ht];var m=-1;i=tt(i,Xt(he()));var y=Xd(r,function(_,C,A){var L=tt(i,function(W){return W(_)});return{criteria:L,index:++m,value:_}});return xv(y,function(_,C){return sw(_,C,u)})}function G0(r,i){return tf(r,i,function(u,m){return Tl(r,m)})}function tf(r,i,u){for(var m=-1,y=i.length,_={};++m<y;){var C=i[m],A=Rr(r,C);u(A,C)&&Ws(_,fr(C,r),A)}return _}function K0(r){return function(i){return Rr(i,r)}}function Qa(r,i,u,m){var y=m?yv:Jr,_=-1,C=i.length,A=r;for(r===i&&(i=Bt(i)),u&&(A=tt(r,Xt(u)));++_<C;)for(var L=0,W=i[_],H=u?u(W):W;(L=y(A,H,L,m))>-1;)A!==r&&Hi.call(A,L,1),Hi.call(r,L,1);return r}function nf(r,i){for(var u=r?i.length:0,m=u-1;u--;){var y=i[u];if(u==m||y!==_){var _=y;qn(y)?Hi.call(r,y,1):rl(r,y)}}return r}function el(r,i){return r+qi(Od()*(i-r+1))}function q0(r,i,u,m){for(var y=-1,_=vt(Ki((i-r)/(u||1)),0),C=F(_);_--;)C[m?_:++y]=r,r+=u;return C}function tl(r,i){var u="";if(!r||i<1||i>Y)return u;do i%2&&(u+=r),i=qi(i/2),i&&(r+=r);while(i);return u}function Ee(r,i){return xl(If(r,i,Ht),r+"")}function Y0(r){return $d(cs(r))}function X0(r,i){var u=cs(r);return fo(u,Pr(i,0,u.length))}function Ws(r,i,u,m){if(!rt(r))return r;i=fr(i,r);for(var y=-1,_=i.length,C=_-1,A=r;A!=null&&++y<_;){var L=Ln(i[y]),W=u;if(L==="__proto__"||L==="constructor"||L==="prototype")return r;if(y!=C){var H=A[L];W=m?m(H,L,A):n,W===n&&(W=rt(H)?H:qn(i[y+1])?[]:{})}Vs(A,L,W),A=A[L]}return r}var rf=Yi?function(r,i){return Yi.set(r,i),r}:Ht,J0=Gi?function(r,i){return Gi(r,"toString",{configurable:!0,enumerable:!1,value:Rl(i),writable:!0})}:Ht;function Z0(r){return fo(cs(r))}function fn(r,i,u){var m=-1,y=r.length;i<0&&(i=-i>y?0:y+i),u=u>y?y:u,u<0&&(u+=y),y=i>u?0:u-i>>>0,i>>>=0;for(var _=F(y);++m<y;)_[m]=r[m+i];return _}function Q0(r,i){var u;return ur(r,function(m,y,_){return u=i(m,y,_),!u}),!!u}function no(r,i,u){var m=0,y=r==null?m:r.length;if(typeof i=="number"&&i===i&&y<=Ke){for(;m<y;){var _=m+y>>>1,C=r[_];C!==null&&!Zt(C)&&(u?C<=i:C<i)?m=_+1:y=_}return y}return nl(r,i,Ht,u)}function nl(r,i,u,m){var y=0,_=r==null?0:r.length;if(_===0)return 0;i=u(i);for(var C=i!==i,A=i===null,L=Zt(i),W=i===n;y<_;){var H=qi((y+_)/2),q=u(r[H]),te=q!==n,ae=q===null,me=q===q,Re=Zt(q);if(C)var ge=m||me;else W?ge=me&&(m||te):A?ge=me&&te&&(m||!ae):L?ge=me&&te&&!ae&&(m||!Re):ae||Re?ge=!1:ge=m?q<=i:q<i;ge?y=H+1:_=H}return Et(_,pe)}function sf(r,i){for(var u=-1,m=r.length,y=0,_=[];++u<m;){var C=r[u],A=i?i(C):C;if(!u||!jn(A,L)){var L=A;_[y++]=C===0?0:C}}return _}function of(r){return typeof r=="number"?r:Zt(r)?Z:+r}function Jt(r){if(typeof r=="string")return r;if(Se(r))return tt(r,Jt)+"";if(Zt(r))return Fd?Fd.call(r):"";var i=r+"";return i=="0"&&1/r==-ne?"-0":i}function dr(r,i,u){var m=-1,y=Li,_=r.length,C=!0,A=[],L=A;if(u)C=!1,y=ka;else if(_>=o){var W=i?null:uw(r);if(W)return Fi(W);C=!1,y=Ms,L=new Tr}else L=i?[]:A;e:for(;++m<_;){var H=r[m],q=i?i(H):H;if(H=u||H!==0?H:0,C&&q===q){for(var te=L.length;te--;)if(L[te]===q)continue e;i&&L.push(q),A.push(H)}else y(L,q,u)||(L!==A&&L.push(q),A.push(H))}return A}function rl(r,i){return i=fr(i,r),r=Mf(r,i),r==null||delete r[Ln(hn(i))]}function af(r,i,u,m){return Ws(r,i,u(Rr(r,i)),m)}function ro(r,i,u,m){for(var y=r.length,_=m?y:-1;(m?_--:++_<y)&&i(r[_],_,r););return u?fn(r,m?0:_,m?_+1:y):fn(r,m?_+1:0,m?y:_)}function lf(r,i){var u=r;return u instanceof Me&&(u=u.value()),Da(i,function(m,y){return y.func.apply(y.thisArg,ar([m],y.args))},u)}function sl(r,i,u){var m=r.length;if(m<2)return m?dr(r[0]):[];for(var y=-1,_=F(m);++y<m;)for(var C=r[y],A=-1;++A<m;)A!=y&&(_[y]=Ns(_[y]||C,r[A],i,u));return dr(Tt(_,1),i,u)}function cf(r,i,u){for(var m=-1,y=r.length,_=i.length,C={};++m<y;){var A=m<_?i[m]:n;u(C,r[m],A)}return C}function il(r){return ht(r)?r:[]}function ol(r){return typeof r=="function"?r:Ht}function fr(r,i){return Se(r)?r:ml(r,i)?[r]:zf(He(r))}var ew=Ee;function hr(r,i,u){var m=r.length;return u=u===n?m:u,!i&&u>=m?r:fn(r,i,u)}var uf=Nv||function(r){return Ct.clearTimeout(r)};function df(r,i){if(i)return r.slice();var u=r.length,m=kd?kd(u):new r.constructor(u);return r.copy(m),m}function al(r){var i=new r.constructor(r.byteLength);return new Ui(i).set(new Ui(r)),i}function tw(r,i){var u=i?al(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}function nw(r){var i=new r.constructor(r.source,Ku.exec(r));return i.lastIndex=r.lastIndex,i}function rw(r){return $s?Ye($s.call(r)):{}}function ff(r,i){var u=i?al(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}function hf(r,i){if(r!==i){var u=r!==n,m=r===null,y=r===r,_=Zt(r),C=i!==n,A=i===null,L=i===i,W=Zt(i);if(!A&&!W&&!_&&r>i||_&&C&&L&&!A&&!W||m&&C&&L||!u&&L||!y)return 1;if(!m&&!_&&!W&&r<i||W&&u&&y&&!m&&!_||A&&u&&y||!C&&y||!L)return-1}return 0}function sw(r,i,u){for(var m=-1,y=r.criteria,_=i.criteria,C=y.length,A=u.length;++m<C;){var L=hf(y[m],_[m]);if(L){if(m>=A)return L;var W=u[m];return L*(W=="desc"?-1:1)}}return r.index-i.index}function pf(r,i,u,m){for(var y=-1,_=r.length,C=u.length,A=-1,L=i.length,W=vt(_-C,0),H=F(L+W),q=!m;++A<L;)H[A]=i[A];for(;++y<C;)(q||y<_)&&(H[u[y]]=r[y]);for(;W--;)H[A++]=r[y++];return H}function mf(r,i,u,m){for(var y=-1,_=r.length,C=-1,A=u.length,L=-1,W=i.length,H=vt(_-A,0),q=F(H+W),te=!m;++y<H;)q[y]=r[y];for(var ae=y;++L<W;)q[ae+L]=i[L];for(;++C<A;)(te||y<_)&&(q[ae+u[C]]=r[y++]);return q}function Bt(r,i){var u=-1,m=r.length;for(i||(i=F(m));++u<m;)i[u]=r[u];return i}function Mn(r,i,u,m){var y=!u;u||(u={});for(var _=-1,C=i.length;++_<C;){var A=i[_],L=m?m(u[A],r[A],A,u,r):n;L===n&&(L=r[A]),y?Hn(u,A,L):Vs(u,A,L)}return u}function iw(r,i){return Mn(r,pl(r),i)}function ow(r,i){return Mn(r,Rf(r),i)}function so(r,i){return function(u,m){var y=Se(u)?dv:R0,_=i?i():{};return y(u,r,he(m,2),_)}}function is(r){return Ee(function(i,u){var m=-1,y=u.length,_=y>1?u[y-1]:n,C=y>2?u[2]:n;for(_=r.length>3&&typeof _=="function"?(y--,_):n,C&&Ft(u[0],u[1],C)&&(_=y<3?n:_,y=1),i=Ye(i);++m<y;){var A=u[m];A&&r(i,A,m,_)}return i})}function gf(r,i){return function(u,m){if(u==null)return u;if(!Ut(u))return r(u,m);for(var y=u.length,_=i?y:-1,C=Ye(u);(i?_--:++_<y)&&m(C[_],_,C)!==!1;);return u}}function yf(r){return function(i,u,m){for(var y=-1,_=Ye(i),C=m(i),A=C.length;A--;){var L=C[r?A:++y];if(u(_[L],L,_)===!1)break}return i}}function aw(r,i,u){var m=i&k,y=Hs(r);function _(){var C=this&&this!==Ct&&this instanceof _?y:r;return C.apply(m?u:this,arguments)}return _}function xf(r){return function(i){i=He(i);var u=Zr(i)?bn(i):n,m=u?u[0]:i.charAt(0),y=u?hr(u,1).join(""):i.slice(1);return m[r]()+y}}function os(r){return function(i){return Da(gh(mh(i).replace(Jx,"")),r,"")}}function Hs(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var u=ss(r.prototype),m=r.apply(u,i);return rt(m)?m:u}}function lw(r,i,u){var m=Hs(r);function y(){for(var _=arguments.length,C=F(_),A=_,L=as(y);A--;)C[A]=arguments[A];var W=_<3&&C[0]!==L&&C[_-1]!==L?[]:lr(C,L);if(_-=W.length,_<u)return Sf(r,i,io,y.placeholder,n,C,W,n,n,u-_);var H=this&&this!==Ct&&this instanceof y?m:r;return Yt(H,this,C)}return y}function vf(r){return function(i,u,m){var y=Ye(i);if(!Ut(i)){var _=he(u,3);i=bt(i),u=function(A){return _(y[A],A,y)}}var C=r(i,u,m);return C>-1?y[_?i[C]:C]:n}}function wf(r){return Kn(function(i){var u=i.length,m=u,y=un.prototype.thru;for(r&&i.reverse();m--;){var _=i[m];if(typeof _!="function")throw new cn(c);if(y&&!C&&co(_)=="wrapper")var C=new un([],!0)}for(m=C?m:u;++m<u;){_=i[m];var A=co(_),L=A=="wrapper"?fl(_):n;L&&gl(L[0])&&L[1]==(z|D|E|$)&&!L[4].length&&L[9]==1?C=C[co(L[0])].apply(C,L[3]):C=_.length==1&&gl(_)?C[A]():C.thru(_)}return function(){var W=arguments,H=W[0];if(C&&W.length==1&&Se(H))return C.plant(H).value();for(var q=0,te=u?i[q].apply(this,W):H;++q<u;)te=i[q].call(this,te);return te}})}function io(r,i,u,m,y,_,C,A,L,W){var H=i&z,q=i&k,te=i&P,ae=i&(D|j),me=i&B,Re=te?n:Hs(r);function ge(){for(var Ie=arguments.length,Fe=F(Ie),Qt=Ie;Qt--;)Fe[Qt]=arguments[Qt];if(ae)var zt=as(ge),en=wv(Fe,zt);if(m&&(Fe=pf(Fe,m,y,ae)),_&&(Fe=mf(Fe,_,C,ae)),Ie-=en,ae&&Ie<W){var pt=lr(Fe,zt);return Sf(r,i,io,ge.placeholder,u,Fe,pt,A,L,W-Ie)}var Cn=q?u:this,Jn=te?Cn[r]:r;return Ie=Fe.length,A?Fe=Rw(Fe,A):me&&Ie>1&&Fe.reverse(),H&&L<Ie&&(Fe.length=L),this&&this!==Ct&&this instanceof ge&&(Jn=Re||Hs(Jn)),Jn.apply(Cn,Fe)}return ge}function _f(r,i){return function(u,m){return O0(u,r,i(m),{})}}function oo(r,i){return function(u,m){var y;if(u===n&&m===n)return i;if(u!==n&&(y=u),m!==n){if(y===n)return m;typeof u=="string"||typeof m=="string"?(u=Jt(u),m=Jt(m)):(u=of(u),m=of(m)),y=r(u,m)}return y}}function ll(r){return Kn(function(i){return i=tt(i,Xt(he())),Ee(function(u){var m=this;return r(i,function(y){return Yt(y,m,u)})})})}function ao(r,i){i=i===n?" ":Jt(i);var u=i.length;if(u<2)return u?tl(i,r):i;var m=tl(i,Ki(r/Qr(i)));return Zr(i)?hr(bn(m),0,r).join(""):m.slice(0,r)}function cw(r,i,u,m){var y=i&k,_=Hs(r);function C(){for(var A=-1,L=arguments.length,W=-1,H=m.length,q=F(H+L),te=this&&this!==Ct&&this instanceof C?_:r;++W<H;)q[W]=m[W];for(;L--;)q[W++]=arguments[++A];return Yt(te,y?u:this,q)}return C}function bf(r){return function(i,u,m){return m&&typeof m!="number"&&Ft(i,u,m)&&(u=m=n),i=Xn(i),u===n?(u=i,i=0):u=Xn(u),m=m===n?i<u?1:-1:Xn(m),q0(i,u,m,r)}}function lo(r){return function(i,u){return typeof i=="string"&&typeof u=="string"||(i=pn(i),u=pn(u)),r(i,u)}}function Sf(r,i,u,m,y,_,C,A,L,W){var H=i&D,q=H?C:n,te=H?n:C,ae=H?_:n,me=H?n:_;i|=H?E:O,i&=~(H?O:E),i&R||(i&=-4);var Re=[r,i,y,ae,q,me,te,A,L,W],ge=u.apply(n,Re);return gl(r)&&Lf(ge,Re),ge.placeholder=m,Of(ge,r,i)}function cl(r){var i=xt[r];return function(u,m){if(u=pn(u),m=m==null?0:Et(Te(m),292),m&&Ld(u)){var y=(He(u)+"e").split("e"),_=i(y[0]+"e"+(+y[1]+m));return y=(He(_)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return i(u)}}var uw=ns&&1/Fi(new ns([,-0]))[1]==ne?function(r){return new ns(r)}:kl;function jf(r){return function(i){var u=kt(i);return u==Ve?$a(i):u==fe?Pv(i):vv(i,r(i))}}function Gn(r,i,u,m,y,_,C,A){var L=i&P;if(!L&&typeof r!="function")throw new cn(c);var W=m?m.length:0;if(W||(i&=-97,m=y=n),C=C===n?C:vt(Te(C),0),A=A===n?A:Te(A),W-=y?y.length:0,i&O){var H=m,q=y;m=y=n}var te=L?n:fl(r),ae=[r,i,u,m,y,H,q,_,C,A];if(te&&Cw(ae,te),r=ae[0],i=ae[1],u=ae[2],m=ae[3],y=ae[4],A=ae[9]=ae[9]===n?L?0:r.length:vt(ae[9]-W,0),!A&&i&(D|j)&&(i&=-25),!i||i==k)var me=aw(r,i,u);else i==D||i==j?me=lw(r,i,A):(i==E||i==(k|E))&&!y.length?me=cw(r,i,u,m):me=io.apply(n,ae);var Re=te?rf:Lf;return Of(Re(me,ae),r,i)}function Cf(r,i,u,m){return r===n||jn(r,ts[u])&&!Ge.call(m,u)?i:r}function Tf(r,i,u,m,y,_){return rt(r)&&rt(i)&&(_.set(i,r),to(r,i,n,Tf,_),_.delete(i)),r}function dw(r){return qs(r)?n:r}function Pf(r,i,u,m,y,_){var C=u&S,A=r.length,L=i.length;if(A!=L&&!(C&&L>A))return!1;var W=_.get(r),H=_.get(i);if(W&&H)return W==i&&H==r;var q=-1,te=!0,ae=u&T?new Tr:n;for(_.set(r,i),_.set(i,r);++q<A;){var me=r[q],Re=i[q];if(m)var ge=C?m(Re,me,q,i,r,_):m(me,Re,q,r,i,_);if(ge!==n){if(ge)continue;te=!1;break}if(ae){if(!Ia(i,function(Ie,Fe){if(!Ms(ae,Fe)&&(me===Ie||y(me,Ie,u,m,_)))return ae.push(Fe)})){te=!1;break}}else if(!(me===Re||y(me,Re,u,m,_))){te=!1;break}}return _.delete(r),_.delete(i),te}function fw(r,i,u,m,y,_,C){switch(u){case Bn:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case ir:return!(r.byteLength!=i.byteLength||!_(new Ui(r),new Ui(i)));case U:case le:case jt:return jn(+r,+i);case ft:return r.name==i.name&&r.message==i.message;case Ne:case We:return r==i+"";case Ve:var A=$a;case fe:var L=m&S;if(A||(A=Fi),r.size!=i.size&&!L)return!1;var W=C.get(r);if(W)return W==i;m|=T,C.set(r,i);var H=Pf(A(r),A(i),m,y,_,C);return C.delete(r),H;case Be:if($s)return $s.call(r)==$s.call(i)}return!1}function hw(r,i,u,m,y,_){var C=u&S,A=ul(r),L=A.length,W=ul(i),H=W.length;if(L!=H&&!C)return!1;for(var q=L;q--;){var te=A[q];if(!(C?te in i:Ge.call(i,te)))return!1}var ae=_.get(r),me=_.get(i);if(ae&&me)return ae==i&&me==r;var Re=!0;_.set(r,i),_.set(i,r);for(var ge=C;++q<L;){te=A[q];var Ie=r[te],Fe=i[te];if(m)var Qt=C?m(Fe,Ie,te,i,r,_):m(Ie,Fe,te,r,i,_);if(!(Qt===n?Ie===Fe||y(Ie,Fe,u,m,_):Qt)){Re=!1;break}ge||(ge=te=="constructor")}if(Re&&!ge){var zt=r.constructor,en=i.constructor;zt!=en&&"constructor"in r&&"constructor"in i&&!(typeof zt=="function"&&zt instanceof zt&&typeof en=="function"&&en instanceof en)&&(Re=!1)}return _.delete(r),_.delete(i),Re}function Kn(r){return xl(If(r,n,Bf),r+"")}function ul(r){return Gd(r,bt,pl)}function dl(r){return Gd(r,Wt,Rf)}var fl=Yi?function(r){return Yi.get(r)}:kl;function co(r){for(var i=r.name+"",u=rs[i],m=Ge.call(rs,i)?u.length:0;m--;){var y=u[m],_=y.func;if(_==null||_==r)return y.name}return i}function as(r){var i=Ge.call(w,"placeholder")?w:r;return i.placeholder}function he(){var r=w.iteratee||Al;return r=r===Al?Yd:r,arguments.length?r(arguments[0],arguments[1]):r}function uo(r,i){var u=r.__data__;return _w(i)?u[typeof i=="string"?"string":"hash"]:u.map}function hl(r){for(var i=bt(r),u=i.length;u--;){var m=i[u],y=r[m];i[u]=[m,y,kf(y)]}return i}function Ar(r,i){var u=jv(r,i);return qd(u)?u:n}function pw(r){var i=Ge.call(r,jr),u=r[jr];try{r[jr]=n;var m=!0}catch{}var y=Ni.call(r);return m&&(i?r[jr]=u:delete r[jr]),y}var pl=Na?function(r){return r==null?[]:(r=Ye(r),or(Na(r),function(i){return Id.call(r,i)}))}:Dl,Rf=Na?function(r){for(var i=[];r;)ar(i,pl(r)),r=Wi(r);return i}:Dl,kt=Ot;(Ba&&kt(new Ba(new ArrayBuffer(1)))!=Bn||Os&&kt(new Os)!=Ve||Ua&&kt(Ua.resolve())!=X||ns&&kt(new ns)!=fe||Fs&&kt(new Fs)!=on)&&(kt=function(r){var i=Ot(r),u=i==I?r.constructor:n,m=u?Er(u):"";if(m)switch(m){case Xv:return Bn;case Jv:return Ve;case Zv:return X;case Qv:return fe;case e0:return on}return i});function mw(r,i,u){for(var m=-1,y=u.length;++m<y;){var _=u[m],C=_.size;switch(_.type){case"drop":r+=C;break;case"dropRight":i-=C;break;case"take":i=Et(i,r+C);break;case"takeRight":r=vt(r,i-C);break}}return{start:r,end:i}}function gw(r){var i=r.match(bx);return i?i[1].split(Sx):[]}function Af(r,i,u){i=fr(i,r);for(var m=-1,y=i.length,_=!1;++m<y;){var C=Ln(i[m]);if(!(_=r!=null&&u(r,C)))break;r=r[C]}return _||++m!=y?_:(y=r==null?0:r.length,!!y&&xo(y)&&qn(C,y)&&(Se(r)||kr(r)))}function yw(r){var i=r.length,u=new r.constructor(i);return i&&typeof r[0]=="string"&&Ge.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function Ef(r){return typeof r.constructor=="function"&&!Gs(r)?ss(Wi(r)):{}}function xw(r,i,u){var m=r.constructor;switch(i){case ir:return al(r);case U:case le:return new m(+r);case Bn:return tw(r,u);case Gr:case Kr:case qr:case Yr:case ya:case xa:case va:case wa:case _a:return ff(r,u);case Ve:return new m;case jt:case We:return new m(r);case Ne:return nw(r);case fe:return new m;case Be:return rw(r)}}function vw(r,i){var u=i.length;if(!u)return r;var m=u-1;return i[m]=(u>1?"& ":"")+i[m],i=i.join(u>2?", ":" "),r.replace(_x,`{
/* [wrapped with `+i+`] */
`)}function ww(r){return Se(r)||kr(r)||!!(Md&&r&&r[Md])}function qn(r,i){var u=typeof r;return i=i??Y,!!i&&(u=="number"||u!="symbol"&&Dx.test(r))&&r>-1&&r%1==0&&r<i}function Ft(r,i,u){if(!rt(u))return!1;var m=typeof i;return(m=="number"?Ut(u)&&qn(i,u.length):m=="string"&&i in u)?jn(u[i],r):!1}function ml(r,i){if(Se(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||Zt(r)?!0:yx.test(r)||!gx.test(r)||i!=null&&r in Ye(i)}function _w(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function gl(r){var i=co(r),u=w[i];if(typeof u!="function"||!(i in Me.prototype))return!1;if(r===u)return!0;var m=fl(u);return!!m&&r===m[0]}function bw(r){return!!Ed&&Ed in r}var Sw=$i?Yn:Il;function Gs(r){var i=r&&r.constructor,u=typeof i=="function"&&i.prototype||ts;return r===u}function kf(r){return r===r&&!rt(r)}function Df(r,i){return function(u){return u==null?!1:u[r]===i&&(i!==n||r in Ye(u))}}function jw(r){var i=go(r,function(m){return u.size===h&&u.clear(),m}),u=i.cache;return i}function Cw(r,i){var u=r[1],m=i[1],y=u|m,_=y<(k|P|z),C=m==z&&u==D||m==z&&u==$&&r[7].length<=i[8]||m==(z|$)&&i[7].length<=i[8]&&u==D;if(!(_||C))return r;m&k&&(r[2]=i[2],y|=u&k?0:R);var A=i[3];if(A){var L=r[3];r[3]=L?pf(L,A,i[4]):A,r[4]=L?lr(r[3],p):i[4]}return A=i[5],A&&(L=r[5],r[5]=L?mf(L,A,i[6]):A,r[6]=L?lr(r[5],p):i[6]),A=i[7],A&&(r[7]=A),m&z&&(r[8]=r[8]==null?i[8]:Et(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=y,r}function Tw(r){var i=[];if(r!=null)for(var u in Ye(r))i.push(u);return i}function Pw(r){return Ni.call(r)}function If(r,i,u){return i=vt(i===n?r.length-1:i,0),function(){for(var m=arguments,y=-1,_=vt(m.length-i,0),C=F(_);++y<_;)C[y]=m[i+y];y=-1;for(var A=F(i+1);++y<i;)A[y]=m[y];return A[i]=u(C),Yt(r,this,A)}}function Mf(r,i){return i.length<2?r:Rr(r,fn(i,0,-1))}function Rw(r,i){for(var u=r.length,m=Et(i.length,u),y=Bt(r);m--;){var _=i[m];r[m]=qn(_,u)?y[_]:n}return r}function yl(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var Lf=Ff(rf),Ks=Uv||function(r,i){return Ct.setTimeout(r,i)},xl=Ff(J0);function Of(r,i,u){var m=i+"";return xl(r,vw(m,Aw(gw(m),u)))}function Ff(r){var i=0,u=0;return function(){var m=Kv(),y=ee-(m-u);if(u=m,y>0){if(++i>=Le)return arguments[0]}else i=0;return r.apply(n,arguments)}}function fo(r,i){var u=-1,m=r.length,y=m-1;for(i=i===n?m:i;++u<i;){var _=el(u,y),C=r[_];r[_]=r[u],r[u]=C}return r.length=i,r}var zf=jw(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(xx,function(u,m,y,_){i.push(y?_.replace(Tx,"$1"):m||u)}),i});function Ln(r){if(typeof r=="string"||Zt(r))return r;var i=r+"";return i=="0"&&1/r==-ne?"-0":i}function Er(r){if(r!=null){try{return Vi.call(r)}catch{}try{return r+""}catch{}}return""}function Aw(r,i){return ln(Je,function(u){var m="_."+u[0];i&u[1]&&!Li(r,m)&&r.push(m)}),r.sort()}function $f(r){if(r instanceof Me)return r.clone();var i=new un(r.__wrapped__,r.__chain__);return i.__actions__=Bt(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function Ew(r,i,u){(u?Ft(r,i,u):i===n)?i=1:i=vt(Te(i),0);var m=r==null?0:r.length;if(!m||i<1)return[];for(var y=0,_=0,C=F(Ki(m/i));y<m;)C[_++]=fn(r,y,y+=i);return C}function kw(r){for(var i=-1,u=r==null?0:r.length,m=0,y=[];++i<u;){var _=r[i];_&&(y[m++]=_)}return y}function Dw(){var r=arguments.length;if(!r)return[];for(var i=F(r-1),u=arguments[0],m=r;m--;)i[m-1]=arguments[m];return ar(Se(u)?Bt(u):[u],Tt(i,1))}var Iw=Ee(function(r,i){return ht(r)?Ns(r,Tt(i,1,ht,!0)):[]}),Mw=Ee(function(r,i){var u=hn(i);return ht(u)&&(u=n),ht(r)?Ns(r,Tt(i,1,ht,!0),he(u,2)):[]}),Lw=Ee(function(r,i){var u=hn(i);return ht(u)&&(u=n),ht(r)?Ns(r,Tt(i,1,ht,!0),n,u):[]});function Ow(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Te(i),fn(r,i<0?0:i,m)):[]}function Fw(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Te(i),i=m-i,fn(r,0,i<0?0:i)):[]}function zw(r,i){return r&&r.length?ro(r,he(i,3),!0,!0):[]}function $w(r,i){return r&&r.length?ro(r,he(i,3),!0):[]}function Vw(r,i,u,m){var y=r==null?0:r.length;return y?(u&&typeof u!="number"&&Ft(r,i,u)&&(u=0,m=y),D0(r,i,u,m)):[]}function Vf(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=u==null?0:Te(u);return y<0&&(y=vt(m+y,0)),Oi(r,he(i,3),y)}function Nf(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=m-1;return u!==n&&(y=Te(u),y=u<0?vt(m+y,0):Et(y,m-1)),Oi(r,he(i,3),y,!0)}function Bf(r){var i=r==null?0:r.length;return i?Tt(r,1):[]}function Nw(r){var i=r==null?0:r.length;return i?Tt(r,ne):[]}function Bw(r,i){var u=r==null?0:r.length;return u?(i=i===n?1:Te(i),Tt(r,i)):[]}function Uw(r){for(var i=-1,u=r==null?0:r.length,m={};++i<u;){var y=r[i];m[y[0]]=y[1]}return m}function Uf(r){return r&&r.length?r[0]:n}function Ww(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=u==null?0:Te(u);return y<0&&(y=vt(m+y,0)),Jr(r,i,y)}function Hw(r){var i=r==null?0:r.length;return i?fn(r,0,-1):[]}var Gw=Ee(function(r){var i=tt(r,il);return i.length&&i[0]===r[0]?Ya(i):[]}),Kw=Ee(function(r){var i=hn(r),u=tt(r,il);return i===hn(u)?i=n:u.pop(),u.length&&u[0]===r[0]?Ya(u,he(i,2)):[]}),qw=Ee(function(r){var i=hn(r),u=tt(r,il);return i=typeof i=="function"?i:n,i&&u.pop(),u.length&&u[0]===r[0]?Ya(u,n,i):[]});function Yw(r,i){return r==null?"":Hv.call(r,i)}function hn(r){var i=r==null?0:r.length;return i?r[i-1]:n}function Xw(r,i,u){var m=r==null?0:r.length;if(!m)return-1;var y=m;return u!==n&&(y=Te(u),y=y<0?vt(m+y,0):Et(y,m-1)),i===i?Av(r,i,y):Oi(r,bd,y,!0)}function Jw(r,i){return r&&r.length?Qd(r,Te(i)):n}var Zw=Ee(Wf);function Wf(r,i){return r&&r.length&&i&&i.length?Qa(r,i):r}function Qw(r,i,u){return r&&r.length&&i&&i.length?Qa(r,i,he(u,2)):r}function e_(r,i,u){return r&&r.length&&i&&i.length?Qa(r,i,n,u):r}var t_=Kn(function(r,i){var u=r==null?0:r.length,m=Ha(r,i);return nf(r,tt(i,function(y){return qn(y,u)?+y:y}).sort(hf)),m});function n_(r,i){var u=[];if(!(r&&r.length))return u;var m=-1,y=[],_=r.length;for(i=he(i,3);++m<_;){var C=r[m];i(C,m,r)&&(u.push(C),y.push(m))}return nf(r,y),u}function vl(r){return r==null?r:Yv.call(r)}function r_(r,i,u){var m=r==null?0:r.length;return m?(u&&typeof u!="number"&&Ft(r,i,u)?(i=0,u=m):(i=i==null?0:Te(i),u=u===n?m:Te(u)),fn(r,i,u)):[]}function s_(r,i){return no(r,i)}function i_(r,i,u){return nl(r,i,he(u,2))}function o_(r,i){var u=r==null?0:r.length;if(u){var m=no(r,i);if(m<u&&jn(r[m],i))return m}return-1}function a_(r,i){return no(r,i,!0)}function l_(r,i,u){return nl(r,i,he(u,2),!0)}function c_(r,i){var u=r==null?0:r.length;if(u){var m=no(r,i,!0)-1;if(jn(r[m],i))return m}return-1}function u_(r){return r&&r.length?sf(r):[]}function d_(r,i){return r&&r.length?sf(r,he(i,2)):[]}function f_(r){var i=r==null?0:r.length;return i?fn(r,1,i):[]}function h_(r,i,u){return r&&r.length?(i=u||i===n?1:Te(i),fn(r,0,i<0?0:i)):[]}function p_(r,i,u){var m=r==null?0:r.length;return m?(i=u||i===n?1:Te(i),i=m-i,fn(r,i<0?0:i,m)):[]}function m_(r,i){return r&&r.length?ro(r,he(i,3),!1,!0):[]}function g_(r,i){return r&&r.length?ro(r,he(i,3)):[]}var y_=Ee(function(r){return dr(Tt(r,1,ht,!0))}),x_=Ee(function(r){var i=hn(r);return ht(i)&&(i=n),dr(Tt(r,1,ht,!0),he(i,2))}),v_=Ee(function(r){var i=hn(r);return i=typeof i=="function"?i:n,dr(Tt(r,1,ht,!0),n,i)});function w_(r){return r&&r.length?dr(r):[]}function __(r,i){return r&&r.length?dr(r,he(i,2)):[]}function b_(r,i){return i=typeof i=="function"?i:n,r&&r.length?dr(r,n,i):[]}function wl(r){if(!(r&&r.length))return[];var i=0;return r=or(r,function(u){if(ht(u))return i=vt(u.length,i),!0}),Fa(i,function(u){return tt(r,Ma(u))})}function Hf(r,i){if(!(r&&r.length))return[];var u=wl(r);return i==null?u:tt(u,function(m){return Yt(i,n,m)})}var S_=Ee(function(r,i){return ht(r)?Ns(r,i):[]}),j_=Ee(function(r){return sl(or(r,ht))}),C_=Ee(function(r){var i=hn(r);return ht(i)&&(i=n),sl(or(r,ht),he(i,2))}),T_=Ee(function(r){var i=hn(r);return i=typeof i=="function"?i:n,sl(or(r,ht),n,i)}),P_=Ee(wl);function R_(r,i){return cf(r||[],i||[],Vs)}function A_(r,i){return cf(r||[],i||[],Ws)}var E_=Ee(function(r){var i=r.length,u=i>1?r[i-1]:n;return u=typeof u=="function"?(r.pop(),u):n,Hf(r,u)});function Gf(r){var i=w(r);return i.__chain__=!0,i}function k_(r,i){return i(r),r}function ho(r,i){return i(r)}var D_=Kn(function(r){var i=r.length,u=i?r[0]:0,m=this.__wrapped__,y=function(_){return Ha(_,r)};return i>1||this.__actions__.length||!(m instanceof Me)||!qn(u)?this.thru(y):(m=m.slice(u,+u+(i?1:0)),m.__actions__.push({func:ho,args:[y],thisArg:n}),new un(m,this.__chain__).thru(function(_){return i&&!_.length&&_.push(n),_}))});function I_(){return Gf(this)}function M_(){return new un(this.value(),this.__chain__)}function L_(){this.__values__===n&&(this.__values__=oh(this.value()));var r=this.__index__>=this.__values__.length,i=r?n:this.__values__[this.__index__++];return{done:r,value:i}}function O_(){return this}function F_(r){for(var i,u=this;u instanceof Ji;){var m=$f(u);m.__index__=0,m.__values__=n,i?y.__wrapped__=m:i=m;var y=m;u=u.__wrapped__}return y.__wrapped__=r,i}function z_(){var r=this.__wrapped__;if(r instanceof Me){var i=r;return this.__actions__.length&&(i=new Me(this)),i=i.reverse(),i.__actions__.push({func:ho,args:[vl],thisArg:n}),new un(i,this.__chain__)}return this.thru(vl)}function $_(){return lf(this.__wrapped__,this.__actions__)}var V_=so(function(r,i,u){Ge.call(r,u)?++r[u]:Hn(r,u,1)});function N_(r,i,u){var m=Se(r)?wd:k0;return u&&Ft(r,i,u)&&(i=n),m(r,he(i,3))}function B_(r,i){var u=Se(r)?or:Wd;return u(r,he(i,3))}var U_=vf(Vf),W_=vf(Nf);function H_(r,i){return Tt(po(r,i),1)}function G_(r,i){return Tt(po(r,i),ne)}function K_(r,i,u){return u=u===n?1:Te(u),Tt(po(r,i),u)}function Kf(r,i){var u=Se(r)?ln:ur;return u(r,he(i,3))}function qf(r,i){var u=Se(r)?fv:Ud;return u(r,he(i,3))}var q_=so(function(r,i,u){Ge.call(r,u)?r[u].push(i):Hn(r,u,[i])});function Y_(r,i,u,m){r=Ut(r)?r:cs(r),u=u&&!m?Te(u):0;var y=r.length;return u<0&&(u=vt(y+u,0)),vo(r)?u<=y&&r.indexOf(i,u)>-1:!!y&&Jr(r,i,u)>-1}var X_=Ee(function(r,i,u){var m=-1,y=typeof i=="function",_=Ut(r)?F(r.length):[];return ur(r,function(C){_[++m]=y?Yt(i,C,u):Bs(C,i,u)}),_}),J_=so(function(r,i,u){Hn(r,u,i)});function po(r,i){var u=Se(r)?tt:Xd;return u(r,he(i,3))}function Z_(r,i,u,m){return r==null?[]:(Se(i)||(i=i==null?[]:[i]),u=m?n:u,Se(u)||(u=u==null?[]:[u]),ef(r,i,u))}var Q_=so(function(r,i,u){r[u?0:1].push(i)},function(){return[[],[]]});function eb(r,i,u){var m=Se(r)?Da:jd,y=arguments.length<3;return m(r,he(i,4),u,y,ur)}function tb(r,i,u){var m=Se(r)?hv:jd,y=arguments.length<3;return m(r,he(i,4),u,y,Ud)}function nb(r,i){var u=Se(r)?or:Wd;return u(r,yo(he(i,3)))}function rb(r){var i=Se(r)?$d:Y0;return i(r)}function sb(r,i,u){(u?Ft(r,i,u):i===n)?i=1:i=Te(i);var m=Se(r)?T0:X0;return m(r,i)}function ib(r){var i=Se(r)?P0:Z0;return i(r)}function ob(r){if(r==null)return 0;if(Ut(r))return vo(r)?Qr(r):r.length;var i=kt(r);return i==Ve||i==fe?r.size:Ja(r).length}function ab(r,i,u){var m=Se(r)?Ia:Q0;return u&&Ft(r,i,u)&&(i=n),m(r,he(i,3))}var lb=Ee(function(r,i){if(r==null)return[];var u=i.length;return u>1&&Ft(r,i[0],i[1])?i=[]:u>2&&Ft(i[0],i[1],i[2])&&(i=[i[0]]),ef(r,Tt(i,1),[])}),mo=Bv||function(){return Ct.Date.now()};function cb(r,i){if(typeof i!="function")throw new cn(c);return r=Te(r),function(){if(--r<1)return i.apply(this,arguments)}}function Yf(r,i,u){return i=u?n:i,i=r&&i==null?r.length:i,Gn(r,z,n,n,n,n,i)}function Xf(r,i){var u;if(typeof i!="function")throw new cn(c);return r=Te(r),function(){return--r>0&&(u=i.apply(this,arguments)),r<=1&&(i=n),u}}var _l=Ee(function(r,i,u){var m=k;if(u.length){var y=lr(u,as(_l));m|=E}return Gn(r,m,i,u,y)}),Jf=Ee(function(r,i,u){var m=k|P;if(u.length){var y=lr(u,as(Jf));m|=E}return Gn(i,m,r,u,y)});function Zf(r,i,u){i=u?n:i;var m=Gn(r,D,n,n,n,n,n,i);return m.placeholder=Zf.placeholder,m}function Qf(r,i,u){i=u?n:i;var m=Gn(r,j,n,n,n,n,n,i);return m.placeholder=Qf.placeholder,m}function eh(r,i,u){var m,y,_,C,A,L,W=0,H=!1,q=!1,te=!0;if(typeof r!="function")throw new cn(c);i=pn(i)||0,rt(u)&&(H=!!u.leading,q="maxWait"in u,_=q?vt(pn(u.maxWait)||0,i):_,te="trailing"in u?!!u.trailing:te);function ae(pt){var Cn=m,Jn=y;return m=y=n,W=pt,C=r.apply(Jn,Cn),C}function me(pt){return W=pt,A=Ks(Ie,i),H?ae(pt):C}function Re(pt){var Cn=pt-L,Jn=pt-W,vh=i-Cn;return q?Et(vh,_-Jn):vh}function ge(pt){var Cn=pt-L,Jn=pt-W;return L===n||Cn>=i||Cn<0||q&&Jn>=_}function Ie(){var pt=mo();if(ge(pt))return Fe(pt);A=Ks(Ie,Re(pt))}function Fe(pt){return A=n,te&&m?ae(pt):(m=y=n,C)}function Qt(){A!==n&&uf(A),W=0,m=L=y=A=n}function zt(){return A===n?C:Fe(mo())}function en(){var pt=mo(),Cn=ge(pt);if(m=arguments,y=this,L=pt,Cn){if(A===n)return me(L);if(q)return uf(A),A=Ks(Ie,i),ae(L)}return A===n&&(A=Ks(Ie,i)),C}return en.cancel=Qt,en.flush=zt,en}var ub=Ee(function(r,i){return Bd(r,1,i)}),db=Ee(function(r,i,u){return Bd(r,pn(i)||0,u)});function fb(r){return Gn(r,B)}function go(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new cn(c);var u=function(){var m=arguments,y=i?i.apply(this,m):m[0],_=u.cache;if(_.has(y))return _.get(y);var C=r.apply(this,m);return u.cache=_.set(y,C)||_,C};return u.cache=new(go.Cache||Wn),u}go.Cache=Wn;function yo(r){if(typeof r!="function")throw new cn(c);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function hb(r){return Xf(2,r)}var pb=ew(function(r,i){i=i.length==1&&Se(i[0])?tt(i[0],Xt(he())):tt(Tt(i,1),Xt(he()));var u=i.length;return Ee(function(m){for(var y=-1,_=Et(m.length,u);++y<_;)m[y]=i[y].call(this,m[y]);return Yt(r,this,m)})}),bl=Ee(function(r,i){var u=lr(i,as(bl));return Gn(r,E,n,i,u)}),th=Ee(function(r,i){var u=lr(i,as(th));return Gn(r,O,n,i,u)}),mb=Kn(function(r,i){return Gn(r,$,n,n,n,i)});function gb(r,i){if(typeof r!="function")throw new cn(c);return i=i===n?i:Te(i),Ee(r,i)}function yb(r,i){if(typeof r!="function")throw new cn(c);return i=i==null?0:vt(Te(i),0),Ee(function(u){var m=u[i],y=hr(u,0,i);return m&&ar(y,m),Yt(r,this,y)})}function xb(r,i,u){var m=!0,y=!0;if(typeof r!="function")throw new cn(c);return rt(u)&&(m="leading"in u?!!u.leading:m,y="trailing"in u?!!u.trailing:y),eh(r,i,{leading:m,maxWait:i,trailing:y})}function vb(r){return Yf(r,1)}function wb(r,i){return bl(ol(i),r)}function _b(){if(!arguments.length)return[];var r=arguments[0];return Se(r)?r:[r]}function bb(r){return dn(r,v)}function Sb(r,i){return i=typeof i=="function"?i:n,dn(r,v,i)}function jb(r){return dn(r,g|v)}function Cb(r,i){return i=typeof i=="function"?i:n,dn(r,g|v,i)}function Tb(r,i){return i==null||Nd(r,i,bt(i))}function jn(r,i){return r===i||r!==r&&i!==i}var Pb=lo(qa),Rb=lo(function(r,i){return r>=i}),kr=Kd(function(){return arguments}())?Kd:function(r){return lt(r)&&Ge.call(r,"callee")&&!Id.call(r,"callee")},Se=F.isArray,Ab=pd?Xt(pd):F0;function Ut(r){return r!=null&&xo(r.length)&&!Yn(r)}function ht(r){return lt(r)&&Ut(r)}function Eb(r){return r===!0||r===!1||lt(r)&&Ot(r)==U}var pr=Wv||Il,kb=md?Xt(md):z0;function Db(r){return lt(r)&&r.nodeType===1&&!qs(r)}function Ib(r){if(r==null)return!0;if(Ut(r)&&(Se(r)||typeof r=="string"||typeof r.splice=="function"||pr(r)||ls(r)||kr(r)))return!r.length;var i=kt(r);if(i==Ve||i==fe)return!r.size;if(Gs(r))return!Ja(r).length;for(var u in r)if(Ge.call(r,u))return!1;return!0}function Mb(r,i){return Us(r,i)}function Lb(r,i,u){u=typeof u=="function"?u:n;var m=u?u(r,i):n;return m===n?Us(r,i,n,u):!!m}function Sl(r){if(!lt(r))return!1;var i=Ot(r);return i==ft||i==Ae||typeof r.message=="string"&&typeof r.name=="string"&&!qs(r)}function Ob(r){return typeof r=="number"&&Ld(r)}function Yn(r){if(!rt(r))return!1;var i=Ot(r);return i==Oe||i==$e||i==wt||i==xe}function nh(r){return typeof r=="number"&&r==Te(r)}function xo(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Y}function rt(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function lt(r){return r!=null&&typeof r=="object"}var rh=gd?Xt(gd):V0;function Fb(r,i){return r===i||Xa(r,i,hl(i))}function zb(r,i,u){return u=typeof u=="function"?u:n,Xa(r,i,hl(i),u)}function $b(r){return sh(r)&&r!=+r}function Vb(r){if(Sw(r))throw new _e(l);return qd(r)}function Nb(r){return r===null}function Bb(r){return r==null}function sh(r){return typeof r=="number"||lt(r)&&Ot(r)==jt}function qs(r){if(!lt(r)||Ot(r)!=I)return!1;var i=Wi(r);if(i===null)return!0;var u=Ge.call(i,"constructor")&&i.constructor;return typeof u=="function"&&u instanceof u&&Vi.call(u)==zv}var jl=yd?Xt(yd):N0;function Ub(r){return nh(r)&&r>=-Y&&r<=Y}var ih=xd?Xt(xd):B0;function vo(r){return typeof r=="string"||!Se(r)&&lt(r)&&Ot(r)==We}function Zt(r){return typeof r=="symbol"||lt(r)&&Ot(r)==Be}var ls=vd?Xt(vd):U0;function Wb(r){return r===n}function Hb(r){return lt(r)&&kt(r)==on}function Gb(r){return lt(r)&&Ot(r)==_t}var Kb=lo(Za),qb=lo(function(r,i){return r<=i});function oh(r){if(!r)return[];if(Ut(r))return vo(r)?bn(r):Bt(r);if(Ls&&r[Ls])return Tv(r[Ls]());var i=kt(r),u=i==Ve?$a:i==fe?Fi:cs;return u(r)}function Xn(r){if(!r)return r===0?r:0;if(r=pn(r),r===ne||r===-ne){var i=r<0?-1:1;return i*G}return r===r?r:0}function Te(r){var i=Xn(r),u=i%1;return i===i?u?i-u:i:0}function ah(r){return r?Pr(Te(r),0,oe):0}function pn(r){if(typeof r=="number")return r;if(Zt(r))return Z;if(rt(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=rt(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=Cd(r);var u=Ax.test(r);return u||kx.test(r)?cv(r.slice(2),u?2:8):Rx.test(r)?Z:+r}function lh(r){return Mn(r,Wt(r))}function Yb(r){return r?Pr(Te(r),-Y,Y):r===0?r:0}function He(r){return r==null?"":Jt(r)}var Xb=is(function(r,i){if(Gs(i)||Ut(i)){Mn(i,bt(i),r);return}for(var u in i)Ge.call(i,u)&&Vs(r,u,i[u])}),ch=is(function(r,i){Mn(i,Wt(i),r)}),wo=is(function(r,i,u,m){Mn(i,Wt(i),r,m)}),Jb=is(function(r,i,u,m){Mn(i,bt(i),r,m)}),Zb=Kn(Ha);function Qb(r,i){var u=ss(r);return i==null?u:Vd(u,i)}var eS=Ee(function(r,i){r=Ye(r);var u=-1,m=i.length,y=m>2?i[2]:n;for(y&&Ft(i[0],i[1],y)&&(m=1);++u<m;)for(var _=i[u],C=Wt(_),A=-1,L=C.length;++A<L;){var W=C[A],H=r[W];(H===n||jn(H,ts[W])&&!Ge.call(r,W))&&(r[W]=_[W])}return r}),tS=Ee(function(r){return r.push(n,Tf),Yt(uh,n,r)});function nS(r,i){return _d(r,he(i,3),In)}function rS(r,i){return _d(r,he(i,3),Ka)}function sS(r,i){return r==null?r:Ga(r,he(i,3),Wt)}function iS(r,i){return r==null?r:Hd(r,he(i,3),Wt)}function oS(r,i){return r&&In(r,he(i,3))}function aS(r,i){return r&&Ka(r,he(i,3))}function lS(r){return r==null?[]:eo(r,bt(r))}function cS(r){return r==null?[]:eo(r,Wt(r))}function Cl(r,i,u){var m=r==null?n:Rr(r,i);return m===n?u:m}function uS(r,i){return r!=null&&Af(r,i,I0)}function Tl(r,i){return r!=null&&Af(r,i,M0)}var dS=_f(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=Ni.call(i)),r[i]=u},Rl(Ht)),fS=_f(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=Ni.call(i)),Ge.call(r,i)?r[i].push(u):r[i]=[u]},he),hS=Ee(Bs);function bt(r){return Ut(r)?zd(r):Ja(r)}function Wt(r){return Ut(r)?zd(r,!0):W0(r)}function pS(r,i){var u={};return i=he(i,3),In(r,function(m,y,_){Hn(u,i(m,y,_),m)}),u}function mS(r,i){var u={};return i=he(i,3),In(r,function(m,y,_){Hn(u,y,i(m,y,_))}),u}var gS=is(function(r,i,u){to(r,i,u)}),uh=is(function(r,i,u,m){to(r,i,u,m)}),yS=Kn(function(r,i){var u={};if(r==null)return u;var m=!1;i=tt(i,function(_){return _=fr(_,r),m||(m=_.length>1),_}),Mn(r,dl(r),u),m&&(u=dn(u,g|x|v,dw));for(var y=i.length;y--;)rl(u,i[y]);return u});function xS(r,i){return dh(r,yo(he(i)))}var vS=Kn(function(r,i){return r==null?{}:G0(r,i)});function dh(r,i){if(r==null)return{};var u=tt(dl(r),function(m){return[m]});return i=he(i),tf(r,u,function(m,y){return i(m,y[0])})}function wS(r,i,u){i=fr(i,r);var m=-1,y=i.length;for(y||(y=1,r=n);++m<y;){var _=r==null?n:r[Ln(i[m])];_===n&&(m=y,_=u),r=Yn(_)?_.call(r):_}return r}function _S(r,i,u){return r==null?r:Ws(r,i,u)}function bS(r,i,u,m){return m=typeof m=="function"?m:n,r==null?r:Ws(r,i,u,m)}var fh=jf(bt),hh=jf(Wt);function SS(r,i,u){var m=Se(r),y=m||pr(r)||ls(r);if(i=he(i,4),u==null){var _=r&&r.constructor;y?u=m?new _:[]:rt(r)?u=Yn(_)?ss(Wi(r)):{}:u={}}return(y?ln:In)(r,function(C,A,L){return i(u,C,A,L)}),u}function jS(r,i){return r==null?!0:rl(r,i)}function CS(r,i,u){return r==null?r:af(r,i,ol(u))}function TS(r,i,u,m){return m=typeof m=="function"?m:n,r==null?r:af(r,i,ol(u),m)}function cs(r){return r==null?[]:za(r,bt(r))}function PS(r){return r==null?[]:za(r,Wt(r))}function RS(r,i,u){return u===n&&(u=i,i=n),u!==n&&(u=pn(u),u=u===u?u:0),i!==n&&(i=pn(i),i=i===i?i:0),Pr(pn(r),i,u)}function AS(r,i,u){return i=Xn(i),u===n?(u=i,i=0):u=Xn(u),r=pn(r),L0(r,i,u)}function ES(r,i,u){if(u&&typeof u!="boolean"&&Ft(r,i,u)&&(i=u=n),u===n&&(typeof i=="boolean"?(u=i,i=n):typeof r=="boolean"&&(u=r,r=n)),r===n&&i===n?(r=0,i=1):(r=Xn(r),i===n?(i=r,r=0):i=Xn(i)),r>i){var m=r;r=i,i=m}if(u||r%1||i%1){var y=Od();return Et(r+y*(i-r+lv("1e-"+((y+"").length-1))),i)}return el(r,i)}var kS=os(function(r,i,u){return i=i.toLowerCase(),r+(u?ph(i):i)});function ph(r){return Pl(He(r).toLowerCase())}function mh(r){return r=He(r),r&&r.replace(Ix,_v).replace(Zx,"")}function DS(r,i,u){r=He(r),i=Jt(i);var m=r.length;u=u===n?m:Pr(Te(u),0,m);var y=u;return u-=i.length,u>=0&&r.slice(u,y)==i}function IS(r){return r=He(r),r&&hx.test(r)?r.replace(Hu,bv):r}function MS(r){return r=He(r),r&&vx.test(r)?r.replace(ba,"\\$&"):r}var LS=os(function(r,i,u){return r+(u?"-":"")+i.toLowerCase()}),OS=os(function(r,i,u){return r+(u?" ":"")+i.toLowerCase()}),FS=xf("toLowerCase");function zS(r,i,u){r=He(r),i=Te(i);var m=i?Qr(r):0;if(!i||m>=i)return r;var y=(i-m)/2;return ao(qi(y),u)+r+ao(Ki(y),u)}function $S(r,i,u){r=He(r),i=Te(i);var m=i?Qr(r):0;return i&&m<i?r+ao(i-m,u):r}function VS(r,i,u){r=He(r),i=Te(i);var m=i?Qr(r):0;return i&&m<i?ao(i-m,u)+r:r}function NS(r,i,u){return u||i==null?i=0:i&&(i=+i),qv(He(r).replace(Sa,""),i||0)}function BS(r,i,u){return(u?Ft(r,i,u):i===n)?i=1:i=Te(i),tl(He(r),i)}function US(){var r=arguments,i=He(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var WS=os(function(r,i,u){return r+(u?"_":"")+i.toLowerCase()});function HS(r,i,u){return u&&typeof u!="number"&&Ft(r,i,u)&&(i=u=n),u=u===n?oe:u>>>0,u?(r=He(r),r&&(typeof i=="string"||i!=null&&!jl(i))&&(i=Jt(i),!i&&Zr(r))?hr(bn(r),0,u):r.split(i,u)):[]}var GS=os(function(r,i,u){return r+(u?" ":"")+Pl(i)});function KS(r,i,u){return r=He(r),u=u==null?0:Pr(Te(u),0,r.length),i=Jt(i),r.slice(u,u+i.length)==i}function qS(r,i,u){var m=w.templateSettings;u&&Ft(r,i,u)&&(i=n),r=He(r),i=wo({},i,m,Cf);var y=wo({},i.imports,m.imports,Cf),_=bt(y),C=za(y,_),A,L,W=0,H=i.interpolate||Di,q="__p += '",te=Va((i.escape||Di).source+"|"+H.source+"|"+(H===Gu?Px:Di).source+"|"+(i.evaluate||Di).source+"|$","g"),ae="//# sourceURL="+(Ge.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rv+"]")+`
`;r.replace(te,function(ge,Ie,Fe,Qt,zt,en){return Fe||(Fe=Qt),q+=r.slice(W,en).replace(Mx,Sv),Ie&&(A=!0,q+=`' +
__e(`+Ie+`) +
'`),zt&&(L=!0,q+=`';
`+zt+`;
__p += '`),Fe&&(q+=`' +
((__t = (`+Fe+`)) == null ? '' : __t) +
'`),W=en+ge.length,ge}),q+=`';
`;var me=Ge.call(i,"variable")&&i.variable;if(!me)q=`with (obj) {
`+q+`
}
`;else if(Cx.test(me))throw new _e(d);q=(L?q.replace(cx,""):q).replace(ux,"$1").replace(dx,"$1;"),q="function("+(me||"obj")+`) {
`+(me?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+q+`return __p
}`;var Re=yh(function(){return Ue(_,ae+"return "+q).apply(n,C)});if(Re.source=q,Sl(Re))throw Re;return Re}function YS(r){return He(r).toLowerCase()}function XS(r){return He(r).toUpperCase()}function JS(r,i,u){if(r=He(r),r&&(u||i===n))return Cd(r);if(!r||!(i=Jt(i)))return r;var m=bn(r),y=bn(i),_=Td(m,y),C=Pd(m,y)+1;return hr(m,_,C).join("")}function ZS(r,i,u){if(r=He(r),r&&(u||i===n))return r.slice(0,Ad(r)+1);if(!r||!(i=Jt(i)))return r;var m=bn(r),y=Pd(m,bn(i))+1;return hr(m,0,y).join("")}function QS(r,i,u){if(r=He(r),r&&(u||i===n))return r.replace(Sa,"");if(!r||!(i=Jt(i)))return r;var m=bn(r),y=Td(m,bn(i));return hr(m,y).join("")}function ej(r,i){var u=K,m=J;if(rt(i)){var y="separator"in i?i.separator:y;u="length"in i?Te(i.length):u,m="omission"in i?Jt(i.omission):m}r=He(r);var _=r.length;if(Zr(r)){var C=bn(r);_=C.length}if(u>=_)return r;var A=u-Qr(m);if(A<1)return m;var L=C?hr(C,0,A).join(""):r.slice(0,A);if(y===n)return L+m;if(C&&(A+=L.length-A),jl(y)){if(r.slice(A).search(y)){var W,H=L;for(y.global||(y=Va(y.source,He(Ku.exec(y))+"g")),y.lastIndex=0;W=y.exec(H);)var q=W.index;L=L.slice(0,q===n?A:q)}}else if(r.indexOf(Jt(y),A)!=A){var te=L.lastIndexOf(y);te>-1&&(L=L.slice(0,te))}return L+m}function tj(r){return r=He(r),r&&fx.test(r)?r.replace(Wu,Ev):r}var nj=os(function(r,i,u){return r+(u?" ":"")+i.toUpperCase()}),Pl=xf("toUpperCase");function gh(r,i,u){return r=He(r),i=u?n:i,i===n?Cv(r)?Iv(r):gv(r):r.match(i)||[]}var yh=Ee(function(r,i){try{return Yt(r,n,i)}catch(u){return Sl(u)?u:new _e(u)}}),rj=Kn(function(r,i){return ln(i,function(u){u=Ln(u),Hn(r,u,_l(r[u],r))}),r});function sj(r){var i=r==null?0:r.length,u=he();return r=i?tt(r,function(m){if(typeof m[1]!="function")throw new cn(c);return[u(m[0]),m[1]]}):[],Ee(function(m){for(var y=-1;++y<i;){var _=r[y];if(Yt(_[0],this,m))return Yt(_[1],this,m)}})}function ij(r){return E0(dn(r,g))}function Rl(r){return function(){return r}}function oj(r,i){return r==null||r!==r?i:r}var aj=wf(),lj=wf(!0);function Ht(r){return r}function Al(r){return Yd(typeof r=="function"?r:dn(r,g))}function cj(r){return Jd(dn(r,g))}function uj(r,i){return Zd(r,dn(i,g))}var dj=Ee(function(r,i){return function(u){return Bs(u,r,i)}}),fj=Ee(function(r,i){return function(u){return Bs(r,u,i)}});function El(r,i,u){var m=bt(i),y=eo(i,m);u==null&&!(rt(i)&&(y.length||!m.length))&&(u=i,i=r,r=this,y=eo(i,bt(i)));var _=!(rt(u)&&"chain"in u)||!!u.chain,C=Yn(r);return ln(y,function(A){var L=i[A];r[A]=L,C&&(r.prototype[A]=function(){var W=this.__chain__;if(_||W){var H=r(this.__wrapped__),q=H.__actions__=Bt(this.__actions__);return q.push({func:L,args:arguments,thisArg:r}),H.__chain__=W,H}return L.apply(r,ar([this.value()],arguments))})}),r}function hj(){return Ct._===this&&(Ct._=$v),this}function kl(){}function pj(r){return r=Te(r),Ee(function(i){return Qd(i,r)})}var mj=ll(tt),gj=ll(wd),yj=ll(Ia);function xh(r){return ml(r)?Ma(Ln(r)):K0(r)}function xj(r){return function(i){return r==null?n:Rr(r,i)}}var vj=bf(),wj=bf(!0);function Dl(){return[]}function Il(){return!1}function _j(){return{}}function bj(){return""}function Sj(){return!0}function jj(r,i){if(r=Te(r),r<1||r>Y)return[];var u=oe,m=Et(r,oe);i=he(i),r-=oe;for(var y=Fa(m,i);++u<r;)i(u);return y}function Cj(r){return Se(r)?tt(r,Ln):Zt(r)?[r]:Bt(zf(He(r)))}function Tj(r){var i=++Fv;return He(r)+i}var Pj=oo(function(r,i){return r+i},0),Rj=cl("ceil"),Aj=oo(function(r,i){return r/i},1),Ej=cl("floor");function kj(r){return r&&r.length?Qi(r,Ht,qa):n}function Dj(r,i){return r&&r.length?Qi(r,he(i,2),qa):n}function Ij(r){return Sd(r,Ht)}function Mj(r,i){return Sd(r,he(i,2))}function Lj(r){return r&&r.length?Qi(r,Ht,Za):n}function Oj(r,i){return r&&r.length?Qi(r,he(i,2),Za):n}var Fj=oo(function(r,i){return r*i},1),zj=cl("round"),$j=oo(function(r,i){return r-i},0);function Vj(r){return r&&r.length?Oa(r,Ht):0}function Nj(r,i){return r&&r.length?Oa(r,he(i,2)):0}return w.after=cb,w.ary=Yf,w.assign=Xb,w.assignIn=ch,w.assignInWith=wo,w.assignWith=Jb,w.at=Zb,w.before=Xf,w.bind=_l,w.bindAll=rj,w.bindKey=Jf,w.castArray=_b,w.chain=Gf,w.chunk=Ew,w.compact=kw,w.concat=Dw,w.cond=sj,w.conforms=ij,w.constant=Rl,w.countBy=V_,w.create=Qb,w.curry=Zf,w.curryRight=Qf,w.debounce=eh,w.defaults=eS,w.defaultsDeep=tS,w.defer=ub,w.delay=db,w.difference=Iw,w.differenceBy=Mw,w.differenceWith=Lw,w.drop=Ow,w.dropRight=Fw,w.dropRightWhile=zw,w.dropWhile=$w,w.fill=Vw,w.filter=B_,w.flatMap=H_,w.flatMapDeep=G_,w.flatMapDepth=K_,w.flatten=Bf,w.flattenDeep=Nw,w.flattenDepth=Bw,w.flip=fb,w.flow=aj,w.flowRight=lj,w.fromPairs=Uw,w.functions=lS,w.functionsIn=cS,w.groupBy=q_,w.initial=Hw,w.intersection=Gw,w.intersectionBy=Kw,w.intersectionWith=qw,w.invert=dS,w.invertBy=fS,w.invokeMap=X_,w.iteratee=Al,w.keyBy=J_,w.keys=bt,w.keysIn=Wt,w.map=po,w.mapKeys=pS,w.mapValues=mS,w.matches=cj,w.matchesProperty=uj,w.memoize=go,w.merge=gS,w.mergeWith=uh,w.method=dj,w.methodOf=fj,w.mixin=El,w.negate=yo,w.nthArg=pj,w.omit=yS,w.omitBy=xS,w.once=hb,w.orderBy=Z_,w.over=mj,w.overArgs=pb,w.overEvery=gj,w.overSome=yj,w.partial=bl,w.partialRight=th,w.partition=Q_,w.pick=vS,w.pickBy=dh,w.property=xh,w.propertyOf=xj,w.pull=Zw,w.pullAll=Wf,w.pullAllBy=Qw,w.pullAllWith=e_,w.pullAt=t_,w.range=vj,w.rangeRight=wj,w.rearg=mb,w.reject=nb,w.remove=n_,w.rest=gb,w.reverse=vl,w.sampleSize=sb,w.set=_S,w.setWith=bS,w.shuffle=ib,w.slice=r_,w.sortBy=lb,w.sortedUniq=u_,w.sortedUniqBy=d_,w.split=HS,w.spread=yb,w.tail=f_,w.take=h_,w.takeRight=p_,w.takeRightWhile=m_,w.takeWhile=g_,w.tap=k_,w.throttle=xb,w.thru=ho,w.toArray=oh,w.toPairs=fh,w.toPairsIn=hh,w.toPath=Cj,w.toPlainObject=lh,w.transform=SS,w.unary=vb,w.union=y_,w.unionBy=x_,w.unionWith=v_,w.uniq=w_,w.uniqBy=__,w.uniqWith=b_,w.unset=jS,w.unzip=wl,w.unzipWith=Hf,w.update=CS,w.updateWith=TS,w.values=cs,w.valuesIn=PS,w.without=S_,w.words=gh,w.wrap=wb,w.xor=j_,w.xorBy=C_,w.xorWith=T_,w.zip=P_,w.zipObject=R_,w.zipObjectDeep=A_,w.zipWith=E_,w.entries=fh,w.entriesIn=hh,w.extend=ch,w.extendWith=wo,El(w,w),w.add=Pj,w.attempt=yh,w.camelCase=kS,w.capitalize=ph,w.ceil=Rj,w.clamp=RS,w.clone=bb,w.cloneDeep=jb,w.cloneDeepWith=Cb,w.cloneWith=Sb,w.conformsTo=Tb,w.deburr=mh,w.defaultTo=oj,w.divide=Aj,w.endsWith=DS,w.eq=jn,w.escape=IS,w.escapeRegExp=MS,w.every=N_,w.find=U_,w.findIndex=Vf,w.findKey=nS,w.findLast=W_,w.findLastIndex=Nf,w.findLastKey=rS,w.floor=Ej,w.forEach=Kf,w.forEachRight=qf,w.forIn=sS,w.forInRight=iS,w.forOwn=oS,w.forOwnRight=aS,w.get=Cl,w.gt=Pb,w.gte=Rb,w.has=uS,w.hasIn=Tl,w.head=Uf,w.identity=Ht,w.includes=Y_,w.indexOf=Ww,w.inRange=AS,w.invoke=hS,w.isArguments=kr,w.isArray=Se,w.isArrayBuffer=Ab,w.isArrayLike=Ut,w.isArrayLikeObject=ht,w.isBoolean=Eb,w.isBuffer=pr,w.isDate=kb,w.isElement=Db,w.isEmpty=Ib,w.isEqual=Mb,w.isEqualWith=Lb,w.isError=Sl,w.isFinite=Ob,w.isFunction=Yn,w.isInteger=nh,w.isLength=xo,w.isMap=rh,w.isMatch=Fb,w.isMatchWith=zb,w.isNaN=$b,w.isNative=Vb,w.isNil=Bb,w.isNull=Nb,w.isNumber=sh,w.isObject=rt,w.isObjectLike=lt,w.isPlainObject=qs,w.isRegExp=jl,w.isSafeInteger=Ub,w.isSet=ih,w.isString=vo,w.isSymbol=Zt,w.isTypedArray=ls,w.isUndefined=Wb,w.isWeakMap=Hb,w.isWeakSet=Gb,w.join=Yw,w.kebabCase=LS,w.last=hn,w.lastIndexOf=Xw,w.lowerCase=OS,w.lowerFirst=FS,w.lt=Kb,w.lte=qb,w.max=kj,w.maxBy=Dj,w.mean=Ij,w.meanBy=Mj,w.min=Lj,w.minBy=Oj,w.stubArray=Dl,w.stubFalse=Il,w.stubObject=_j,w.stubString=bj,w.stubTrue=Sj,w.multiply=Fj,w.nth=Jw,w.noConflict=hj,w.noop=kl,w.now=mo,w.pad=zS,w.padEnd=$S,w.padStart=VS,w.parseInt=NS,w.random=ES,w.reduce=eb,w.reduceRight=tb,w.repeat=BS,w.replace=US,w.result=wS,w.round=zj,w.runInContext=M,w.sample=rb,w.size=ob,w.snakeCase=WS,w.some=ab,w.sortedIndex=s_,w.sortedIndexBy=i_,w.sortedIndexOf=o_,w.sortedLastIndex=a_,w.sortedLastIndexBy=l_,w.sortedLastIndexOf=c_,w.startCase=GS,w.startsWith=KS,w.subtract=$j,w.sum=Vj,w.sumBy=Nj,w.template=qS,w.times=jj,w.toFinite=Xn,w.toInteger=Te,w.toLength=ah,w.toLower=YS,w.toNumber=pn,w.toSafeInteger=Yb,w.toString=He,w.toUpper=XS,w.trim=JS,w.trimEnd=ZS,w.trimStart=QS,w.truncate=ej,w.unescape=tj,w.uniqueId=Tj,w.upperCase=nj,w.upperFirst=Pl,w.each=Kf,w.eachRight=qf,w.first=Uf,El(w,function(){var r={};return In(w,function(i,u){Ge.call(w.prototype,u)||(r[u]=i)}),r}(),{chain:!1}),w.VERSION=s,ln(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){w[r].placeholder=w}),ln(["drop","take"],function(r,i){Me.prototype[r]=function(u){u=u===n?1:vt(Te(u),0);var m=this.__filtered__&&!i?new Me(this):this.clone();return m.__filtered__?m.__takeCount__=Et(u,m.__takeCount__):m.__views__.push({size:Et(u,oe),type:r+(m.__dir__<0?"Right":"")}),m},Me.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}}),ln(["filter","map","takeWhile"],function(r,i){var u=i+1,m=u==ce||u==ue;Me.prototype[r]=function(y){var _=this.clone();return _.__iteratees__.push({iteratee:he(y,3),type:u}),_.__filtered__=_.__filtered__||m,_}}),ln(["head","last"],function(r,i){var u="take"+(i?"Right":"");Me.prototype[r]=function(){return this[u](1).value()[0]}}),ln(["initial","tail"],function(r,i){var u="drop"+(i?"":"Right");Me.prototype[r]=function(){return this.__filtered__?new Me(this):this[u](1)}}),Me.prototype.compact=function(){return this.filter(Ht)},Me.prototype.find=function(r){return this.filter(r).head()},Me.prototype.findLast=function(r){return this.reverse().find(r)},Me.prototype.invokeMap=Ee(function(r,i){return typeof r=="function"?new Me(this):this.map(function(u){return Bs(u,r,i)})}),Me.prototype.reject=function(r){return this.filter(yo(he(r)))},Me.prototype.slice=function(r,i){r=Te(r);var u=this;return u.__filtered__&&(r>0||i<0)?new Me(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),i!==n&&(i=Te(i),u=i<0?u.dropRight(-i):u.take(i-r)),u)},Me.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Me.prototype.toArray=function(){return this.take(oe)},In(Me.prototype,function(r,i){var u=/^(?:filter|find|map|reject)|While$/.test(i),m=/^(?:head|last)$/.test(i),y=w[m?"take"+(i=="last"?"Right":""):i],_=m||/^find/.test(i);y&&(w.prototype[i]=function(){var C=this.__wrapped__,A=m?[1]:arguments,L=C instanceof Me,W=A[0],H=L||Se(C),q=function(Ie){var Fe=y.apply(w,ar([Ie],A));return m&&te?Fe[0]:Fe};H&&u&&typeof W=="function"&&W.length!=1&&(L=H=!1);var te=this.__chain__,ae=!!this.__actions__.length,me=_&&!te,Re=L&&!ae;if(!_&&H){C=Re?C:new Me(this);var ge=r.apply(C,A);return ge.__actions__.push({func:ho,args:[q],thisArg:n}),new un(ge,te)}return me&&Re?r.apply(this,A):(ge=this.thru(q),me?m?ge.value()[0]:ge.value():ge)})}),ln(["pop","push","shift","sort","splice","unshift"],function(r){var i=zi[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",m=/^(?:pop|shift)$/.test(r);w.prototype[r]=function(){var y=arguments;if(m&&!this.__chain__){var _=this.value();return i.apply(Se(_)?_:[],y)}return this[u](function(C){return i.apply(Se(C)?C:[],y)})}}),In(Me.prototype,function(r,i){var u=w[i];if(u){var m=u.name+"";Ge.call(rs,m)||(rs[m]=[]),rs[m].push({name:i,func:u})}}),rs[io(n,P).name]=[{name:"wrapper",func:n}],Me.prototype.clone=t0,Me.prototype.reverse=n0,Me.prototype.value=r0,w.prototype.at=D_,w.prototype.chain=I_,w.prototype.commit=M_,w.prototype.next=L_,w.prototype.plant=F_,w.prototype.reverse=z_,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=$_,w.prototype.first=w.prototype.head,Ls&&(w.prototype[Ls]=O_),w},es=Mv();Sr?((Sr.exports=es)._=es,Aa._=es):Ct._=es}).call(gs)})(Go,Go.exports);var tm=Go.exports;const nm=(e,t)=>{const n=Math.round(e/100)*100,s=Math.round(t/100)*100;return`${n}x${s}`};function zk(e,t){const[n,s]=b.useState(t),[o,l]=b.useState({width:window.innerWidth,height:window.innerHeight});b.useEffect(()=>{c()},[o,e]),b.useEffect(()=>{const p=tm.debounce(()=>{l({width:window.innerWidth,height:window.innerHeight})},300);return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),p.cancel()}},[]);const c=async()=>{try{const p=nm(o.width,o.height),g=await fetch(`/api/config/column-widths?table=${e}&size=${p}`);if(g.ok){const x=await g.json();x.widths&&s({...t,...x.widths})}}catch(p){console.warn("Failed to load column width preferences:",p)}},d=b.useCallback(tm.debounce(async p=>{try{const g=nm(o.width,o.height);await fetch("/api/config/column-widths",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({table:e,size:g,widths:p,window_width:o.width,window_height:o.height})})}catch(g){console.warn("Failed to save column width preferences:",g)}},1e3),[e,o]),f=b.useCallback((p,g)=>{s(x=>{const v={...x,[p]:g};return d(v),v})},[d]),h=b.useCallback(()=>{s(t),d(t)},[t,d]);return{columnWidths:n,setColumnWidth:f,resetWidths:h}}const $k={title:{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},fontSize:36,fontWeight:700,marginBottom:8,lineHeight:1.2},subtitle:{fontSize:15,color:"#8c8c8c",fontWeight:400},statCards:{total:{gradientColors:["#434343","#000000"],delay:0,pulse:!1},running:{gradientColors:["#1890ff","#096dd9"],delay:.1},finished:{gradientColors:["#52c41a","#389e0d"],delay:.2,pulse:!1},failed:{gradientColors:["#ff4d4f","#cf1322"],delay:.3,pulse:!1}},filterCard:{animation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5}},borderRadius:16,background:"rgba(255,255,255,0.7)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.3)",boxShadow:"0 4px 20px rgba(0,0,0,0.06)",padding:20},tableContainer:{animation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6}},borderRadius:16,boxShadow:"0 4px 20px rgba(0,0,0,0.06)"}},Vk={statusLight:{size:12,colors:{online:"#52c41a",offline:"#ff4d4f",connecting:"#faad14"},pulseAnimation:{boxShadow:["0 0 0 0 rgba(82, 196, 26, 0.7)","0 0 0 10px rgba(82, 196, 26, 0)"],transition:{duration:1.5,ease:"easeOut"}}}},Nk={fancyStatCard:{entrance:{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.25,.1,.25,1]}},hover:{y:-6,scale:1.03,transition:{duration:.2}},tap:{scale:.98},pulse:{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,ease:"easeInOut"}},shimmer:{animate:{left:["100%","200%"]},transition:{duration:2.5,repeatDelay:5,ease:"linear"}},style:{borderRadius:16,minHeight:140,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",iconSize:140,iconOpacity:.12,iconPosition:{right:-30,top:-30},titleFontSize:14,titleFontWeight:500,titleLetterSpacing:"0.5px",titleColor:"rgba(255,255,255,0.95)",titleMarginBottom:12,valueFontSize:40,valueFontWeight:700,valueColor:"#fff",valueTextShadow:"0 2px 8px rgba(0,0,0,0.15)"}},statusBadge:{entrance:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20}},pulse:{boxShadow:["0 0 0 0 rgba(22, 119, 255, 0.4)","0 0 0 8px rgba(22, 119, 255, 0)"],transition:{duration:1.5,ease:"easeOut"}},style:{fontSize:13,padding:"6px 16px",borderRadius:16,fontWeight:500},statuses:{running:{gradientColors:["#1677ff","#4096ff"],pulse:!0},finished:{gradientColors:["#52c41a","#73d13d"],pulse:!1},failed:{gradientColors:["#ff4d4f","#ff7875"],pulse:!1},interrupted:{gradientColors:["#faad14","#ffc53d"],pulse:!1}}},emptyState:{animation:{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5}},illustrationFloat:{animate:{y:[0,-8,0]},transition:{duration:3,ease:"easeInOut"}},svg:{width:200,height:200,circleStroke:"#91caff",circleStrokeWidth:2,circleDashArray:"10 5",circleRadius:80,circleRotationDuration:30,dotCount:6,dotRadius:2,dotFill:"#1677ff",dotOpacity:.4,dotFloatDistance:-8,dotFloatDuration:1.5,dotStaggerDelay:.15},style:{padding:"80px 40px",maxWidth:500,titleFontSize:24,titleFontWeight:600,titleColor:"#262626",titleMarginTop:32,titleMarginBottom:12,titleLineHeight:1.3,descriptionFontSize:15,descriptionColor:"#8c8c8c",descriptionLineHeight:1.6,descriptionMarginBottom:32,descriptionMaxWidth:400,buttonHeight:48,buttonPadding:"0 32px",buttonFontSize:15,buttonFontWeight:500,buttonBorderRadius:8,buttonShadow:"0 4px 16px rgba(22, 119, 255, 0.3)",buttonGradient:["#667eea","#764ba2"]},buttonHover:{scale:1.05},buttonTap:{scale:.95}}},Bk={gradients:{primary:["#667eea","#764ba2"],success:["#56ab2f","#a8e063"],warning:["#f12711","#f5af19"],info:["#4facfe","#00f2fe"]}},ze=$k,Uu=Nk,Fr=Bk,En=({title:e,value:t,icon:n,gradientColors:[s,o],delay:l=0,pulse:c=!1,onClick:d,formattedValue:f,subtitle:h})=>{const p=Uu.fancyStatCard,g=Iy(0),x=eE(g,S=>Math.floor(S).toLocaleString());b.useEffect(()=>wE(g,t,{duration:.5,ease:[0,.2,.5,1]}).stop,[t,g]);const v={...p.entrance.transition,delay:l};return a.jsx(st.div,{initial:p.entrance.initial,animate:p.entrance.animate,transition:v,whileHover:p.hover,whileTap:d?p.tap:{},onClick:d,style:{cursor:d?"pointer":"default",height:"100%"},children:a.jsxs(ie,{bordered:!1,style:{background:`linear-gradient(135deg, ${s}, ${o})`,borderRadius:p.style.borderRadius,overflow:"hidden",position:"relative",height:"100%",minHeight:p.style.minHeight,boxShadow:p.style.boxShadow},bodyStyle:{padding:24,position:"relative",zIndex:1},children:[a.jsx("div",{style:{position:"absolute",right:p.style.iconPosition.right,top:p.style.iconPosition.top,fontSize:p.style.iconSize,opacity:p.style.iconOpacity,color:"#fff",pointerEvents:"none"},children:n}),c&&a.jsx(st.div,{style:{position:"absolute",top:"-50%",right:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%)",pointerEvents:"none"},animate:p.pulse.animate,transition:{...p.pulse.transition,repeat:1/0}}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{color:p.style.titleColor,fontSize:p.style.titleFontSize,fontWeight:p.style.titleFontWeight,marginBottom:p.style.titleMarginBottom,letterSpacing:p.style.titleLetterSpacing},children:e}),a.jsx("div",{style:{color:p.style.valueColor,fontSize:p.style.valueFontSize,fontWeight:p.style.valueFontWeight,lineHeight:1,fontVariantNumeric:"tabular-nums",textShadow:p.style.valueTextShadow},children:f!==void 0?a.jsx("span",{children:f}):a.jsx(st.span,{children:x})}),h&&a.jsx("div",{style:{color:"rgba(255, 255, 255, 0.85)",fontSize:12,marginTop:8,fontWeight:400},children:h})]}),a.jsx(st.div,{style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)",pointerEvents:"none"},animate:p.shimmer.animate,transition:{...p.shimmer.transition,repeat:1/0}})]})})},Uk=({title:e,description:t,actionText:n,onAction:s,type:o="no-data"})=>{const l=Uu.emptyState,c=l.svg,d=l.style,f=()=>a.jsxs("svg",{width:c.width,height:c.height,viewBox:"0 0 200 200",fill:"none",children:[a.jsx(st.circle,{cx:"100",cy:"100",r:c.circleRadius,stroke:c.circleStroke,strokeWidth:c.circleStrokeWidth,strokeDasharray:c.circleDashArray,fill:"none",initial:{rotate:0},animate:{rotate:360},transition:{duration:c.circleRotationDuration,repeat:1/0,ease:"linear"}}),a.jsxs(st.g,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},children:[a.jsx("rect",{x:"70",y:"85",width:"60",height:"45",rx:"4",fill:"#91caff",opacity:"0.8"}),a.jsx("path",{d:"M70 85 L70 80 Q70 75 75 75 L95 75 L100 80 L125 80 Q130 80 130 85 Z",fill:"#69b1ff"}),a.jsxs(st.g,{animate:{x:[0,3,0],y:[0,-3,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[a.jsx("circle",{cx:"125",cy:"125",r:"12",fill:"none",stroke:"#1677ff",strokeWidth:"2.5"}),a.jsx("line",{x1:"133",y1:"133",x2:"143",y2:"143",stroke:"#1677ff",strokeWidth:"2.5",strokeLinecap:"round"})]})]}),[...Array(c.dotCount)].map((h,p)=>a.jsx(st.circle,{cx:60+p*20,cy:40,r:c.dotRadius,fill:c.dotFill,opacity:c.dotOpacity,animate:{y:[0,c.dotFloatDistance,0],opacity:[c.dotOpacity,c.dotOpacity*2,c.dotOpacity]},transition:{duration:c.dotFloatDuration,repeat:1/0,delay:p*c.dotStaggerDelay,ease:"easeInOut"}},p))]});return a.jsxs(st.div,{initial:l.animation.initial,animate:l.animation.animate,transition:l.animation.transition,style:{padding:d.padding,textAlign:"center",maxWidth:d.maxWidth,margin:"0 auto"},children:[a.jsx(st.div,{animate:l.illustrationFloat.animate,transition:{...l.illustrationFloat.transition,repeat:1/0},children:a.jsx(f,{})}),a.jsx("h2",{style:{marginTop:d.titleMarginTop,marginBottom:d.titleMarginBottom,fontSize:d.titleFontSize,fontWeight:d.titleFontWeight,color:d.titleColor,lineHeight:d.titleLineHeight},children:e}),a.jsx("p",{style:{color:d.descriptionColor,fontSize:d.descriptionFontSize,lineHeight:d.descriptionLineHeight,marginBottom:d.descriptionMarginBottom,maxWidth:d.descriptionMaxWidth,margin:`0 auto ${d.descriptionMarginBottom}px`},children:t}),n&&s&&a.jsx(st.div,{whileHover:l.buttonHover,whileTap:l.buttonTap,children:a.jsx(de,{type:"primary",size:"large",icon:a.jsx(ui,{}),onClick:s,style:{borderRadius:d.buttonBorderRadius,height:d.buttonHeight,padding:d.buttonPadding,fontSize:d.buttonFontSize,fontWeight:d.buttonFontWeight,boxShadow:d.buttonShadow,background:`linear-gradient(135deg, ${d.buttonGradient[0]}, ${d.buttonGradient[1]})`,border:"none"},children:n})})]})},rm={running:a.jsx(Jc,{spin:!0}),finished:a.jsx(wr,{}),failed:a.jsx(Br,{}),interrupted:a.jsx(Qo,{})},Wk=({status:e})=>{const t=e.toLowerCase(),n=Uu.statusBadge,s=n.statuses[t]||n.statuses.interrupted,o=rm[t]||rm.interrupted;return a.jsx(st.div,{initial:n.entrance.initial,animate:n.entrance.animate,transition:n.entrance.transition,style:{display:"inline-block"},children:a.jsx(st.div,{animate:s.pulse?{boxShadow:n.pulse.boxShadow}:{},transition:{...n.pulse.transition,repeat:s.pulse?1/0:0},style:{display:"inline-block",borderRadius:n.style.borderRadius},children:a.jsx(Ce,{icon:o,style:{fontSize:n.style.fontSize,padding:n.style.padding,borderRadius:n.style.borderRadius,fontWeight:n.style.fontWeight,background:`linear-gradient(135deg, ${s.gradientColors[0]}, ${s.gradientColors[1]})`,border:"none",color:"#fff",margin:0},children:e.charAt(0).toUpperCase()+e.slice(1)})})})},Hk=()=>{const[e,t]=b.useState(!1),n=()=>{t(!0),setTimeout(()=>t(!1),2e3)},s=e?a.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:9999},children:[[...Array(20)].map((o,l)=>{const c=["#1677ff","#52c41a","#faad14","#ff4d4f","#13c2c2"],d=typeof window<"u"?window.innerWidth/2:500,f=typeof window<"u"?window.innerHeight/2:300,h=l/20*2*Math.PI,p=200+Math.random()*200,g=d+Math.cos(h)*p,x=f+Math.sin(h)*p-200;return a.jsx(st.div,{style:{position:"absolute",left:d,top:f,width:8+Math.random()*8,height:8+Math.random()*8,background:c[l%c.length],borderRadius:"50%"},initial:{x:0,y:0,opacity:1,scale:0},animate:{x:g-d,y:x-f,opacity:[1,1,0],scale:[0,1,.5],rotate:Math.random()*720},transition:{duration:1.5,ease:[.25,.1,.25,1]}},l)}),a.jsx(st.div,{style:{position:"absolute",left:"50%",top:"50%",width:100,height:100,marginLeft:-50,marginTop:-50,borderRadius:"50%",background:"radial-gradient(circle, rgba(82, 196, 26, 0.4), transparent)"},initial:{scale:0,opacity:1},animate:{scale:3,opacity:0},transition:{duration:.6,ease:"easeOut"}})]}):null;return{trigger:n,ConfettiComponent:s}},Gk={initial:{opacity:0,y:24,scale:.96},animate:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.1,.25,1],when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-24,scale:.96,transition:{duration:.3,ease:[.25,.1,.25,1]}}},Kk=({children:e})=>{const t=Am();return a.jsx(CP,{mode:"wait",children:a.jsx(st.div,{variants:Gk,initial:"initial",animate:"animate",exit:"exit",children:e},t.pathname)})},qk=({children:e,staggerDelay:t=.08})=>a.jsx(st.div,{variants:{animate:{transition:{staggerChildren:t}}},initial:"initial",animate:"animate",children:e}),Ro=({children:e})=>a.jsx(st.div,{variants:{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},children:e}),Tn=e=>{if(e==null)return"";const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t},Yk=()=>{const{t:e,i18n:t}=Xe(),n=Si(),{settings:s,setSettings:o}=na(),[l,c]=b.useState([]),[d,f]=b.useState(!1),[h,p]=b.useState([]),[g,x]=b.useState(""),[v,S]=b.useState("all"),[T,k]=b.useState("all"),[P,R]=b.useState([]),[D,j]=b.useState({total:0,running:0,finished:0,failed:0}),[E,O]=b.useState(null),z=s.autoRefresh,$=I=>{o({...s,autoRefresh:I})},B={project:120,name:100,run_id:280,status:100,created:210,best_metric:200,artifacts_created:120,actions:120},{columnWidths:K,setColumnWidth:J}=zk("experiments",B),[Le,ee]=b.useState({}),[ce,je]=b.useState(10),[ue,ne]=b.useState(!1),[Y,G]=b.useState(!1),[Z,oe]=b.useState(!1),pe=b.useCallback(I=>(X,{size:xe})=>{J(I,xe.width)},[J]),[Ke,Je]=b.useState(!1),{trigger:qe,ConfettiComponent:yt}=Hk();b.useEffect(()=>{const I=localStorage.getItem("experiment_preferences");if(I)try{const X=JSON.parse(I);X.pageSize&&je(X.pageSize)}catch{}},[]);const wt=b.useCallback(()=>{localStorage.setItem("experiment_preferences",JSON.stringify({pageSize:ce}))},[ce]);b.useEffect(()=>{wt()},[wt]);const U=b.useCallback(async(I=!0)=>{I&&f(!0);try{const X=await fetch("/api/runs");if(!X.ok)throw new Error(`HTTP ${X.status}: ${X.statusText}`);const xe=await X.json(),Ne=Array.isArray(xe)?xe:xe.runs||[],fe=Ne.map(De=>{const on=De.created_time?new Date(De.created_time*1e3):new Date;return{run_id:De.id||De.run_id,project:De.project||"default",name:De.name||"unnamed",status:De.status||"unknown",created:on.toISOString(),summary:De.summary||{},pid:De.pid,best_metric_value:De.best_metric_value,best_metric_name:De.best_metric_name,artifacts_created_count:De.artifacts_created_count||0,artifacts_used_count:De.artifacts_used_count||0}});c(fe);const We=[...new Set(fe.map(De=>De.project))];R(We);const Be={total:fe.length,running:fe.filter(De=>De.status==="running").length,finished:fe.filter(De=>De.status==="finished").length,failed:fe.filter(De=>De.status==="failed").length};j(Be),!I&&fe.length>Ne.length&&Jj.info({message:e("experiments.new_runs")||"New runs detected",description:`${fe.length-Ne.length} new run(s) added`,placement:"bottomRight"})}catch{I&&Q.error(e("experiments.fetch_failed")||"Failed to fetch runs")}I&&f(!1)},[l.length,e]);b.useEffect(()=>{U(!0)},[]),b.useEffect(()=>{if(z){const I=window.setInterval(()=>{U(!1)},s.refreshInterval*1e3);O(I)}else E&&(window.clearInterval(E),O(null));return()=>{E&&window.clearInterval(E)}},[z,s.refreshInterval]);const le=b.useCallback(()=>{if(h.length===0){Q.warning(e("experiments.select_one_delete")||"Please select at least one run to delete");return}An.confirm({title:e("experiments.move_to_bin_title")||"Move to Recycle Bin",content:a.jsxs("div",{children:[a.jsx("p",{children:e("experiments.soft_delete_confirm_content",{count:h.length})||`Move ${h.length} selected runs to recycle bin?`}),a.jsx("p",{style:{color:"#1677ff",fontWeight:500},children:e("experiments.soft_delete_note")||"Files will be preserved and can be restored later."})]}),okText:e("experiments.move_to_bin")||"Move to Bin",okType:"primary",cancelText:e("experiments.cancel")||"Cancel",okButtonProps:{loading:ue},onOk:async()=>{ne(!0);try{const I=await $1(h);p([]),I.deleted_count>0?(qe(),Q.success(e("experiments.soft_delete_success",{count:I.deleted_count})||`Moved ${I.deleted_count} runs to recycle bin`),await U(!1)):Q.warning("No runs were moved to recycle bin")}catch{Q.error(e("experiments.delete_failed")||"Failed to move runs to recycle bin")}finally{ne(!1)}}})},[h,e,ue,U]),Ae=async()=>{if(h.length===0){Q.warning(e("experiments.select_one")||"Please select at least one run to export");return}const I=l.filter(X=>h.includes(X.run_id));try{const X={export_time:new Date().toISOString(),total_runs:I.length,runs:I.map(Be=>({run_id:Be.run_id,project:Be.project,name:Be.name,status:Be.status,created:Be.created,summary:Be.summary}))},xe=JSON.stringify(X,null,2),Ne=new Blob([xe],{type:"application/json"}),fe=URL.createObjectURL(Ne),We=document.createElement("a");We.href=fe,We.download=`runicorn_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(We),We.click(),document.body.removeChild(We),URL.revokeObjectURL(fe),Q.success(e("experiments.export_success",{count:I.length})||`Successfully exported ${I.length} runs`)}catch{Q.error(e("experiments.export_failed")||"Failed to export runs")}},ft=async()=>{oe(!0);try{const I=await z1();I.updated>0?(Q.success(`Updated ${I.updated} experiment statuses`),U(!1)):Q.info("All experiment statuses are up to date")}catch{Q.error("Failed to check experiment statuses")}finally{oe(!1)}},Oe=async()=>{if(h.length===0){Q.warning(e("experiments.select_one")||"Please select at least one run to export");return}G(!0);const I=l.filter(X=>h.includes(X.run_id));try{const X=["Run ID","Project","Experiment Name","Status","Created Time","Final Loss","Learning Rate","Batch Size","Epochs","Best Metric Value","Best Metric Name"],xe=I.map(_t=>{var ir,Bn,Gr,Kr,qr,Yr;return[Tn(_t.run_id),Tn(_t.project),Tn(_t.name),Tn(_t.status),Tn(new Date(_t.created).toLocaleString()),Tn(((Bn=(ir=_t.summary)==null?void 0:ir.final_loss)==null?void 0:Bn.toFixed(6))||""),Tn(((Gr=_t.summary)==null?void 0:Gr.learning_rate)||""),Tn(((Kr=_t.summary)==null?void 0:Kr.batch_size)||""),Tn(((qr=_t.summary)==null?void 0:qr.total_epochs)||""),Tn(((Yr=_t.best_metric_value)==null?void 0:Yr.toFixed(4))||""),Tn(_t.best_metric_name||"")]}),fe="\uFEFF"+[X.join(","),...xe.map(_t=>_t.join(","))].join(`
`),We=new Blob([fe],{type:"text/csv;charset=utf-8;"}),Be=URL.createObjectURL(We),De=document.createElement("a");De.href=Be;const on=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);De.download=`runicorn_experiments_${on}.csv`,document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(Be),Q.success(e("experiments.export_success",{count:I.length})||`Successfully exported ${I.length} runs`)}catch{Q.error(e("experiments.export_failed")||"Failed to export runs")}finally{G(!1)}},$e=[{key:"json",icon:a.jsx(Zj,{}),label:e("experiments.export_json")||"Export as JSON",onClick:Ae},{key:"csv",icon:a.jsx(Qj,{}),label:e("experiments.export_csv")||"Export as CSV",onClick:Oe}],Ve=()=>{if(h.length<2){Q.warning(e("experiments.select_multiple")||"Please select at least 2 runs to compare");return}const I=h[0];n(`/runs/${I}`),Q.info(e("experiments.compare_hint")||"Use the comparison feature in the run detail page")},jt=b.useMemo(()=>l.filter(I=>{var We;const X=g.toLowerCase(),xe=g===""||I.run_id.toLowerCase().includes(X)||I.name.toLowerCase().includes(X)||I.project.toLowerCase().includes(X)||((We=I.summary)==null?void 0:We.tags)&&I.summary.tags.some(Be=>Be.toLowerCase().includes(X)),Ne=v==="all"||I.project===v,fe=T==="all"||I.status===T;return xe&&Ne&&fe}),[l,g,v,T]),_n=b.useMemo(()=>[{title:e("table.project"),dataIndex:"project",key:"project",sorter:(I,X)=>I.project.localeCompare(X.project),render:I=>a.jsx(Ce,{color:"blue",children:I}),width:K.project,onHeaderCell:()=>({width:K.project,onResize:pe("project")})},{title:e("table.name"),dataIndex:"name",key:"name",width:K.name,sorter:(I,X)=>I.name.localeCompare(X.name),render:(I,X)=>a.jsx(it,{title:`${X.project}/${I}`,children:a.jsx("strong",{children:I})}),onHeaderCell:()=>({width:K.name,onResize:pe("name")})},{title:e("table.run_id"),dataIndex:"run_id",key:"run_id",width:K.run_id,render:I=>a.jsx("code",{style:{fontSize:"11px",wordBreak:"break-all"},children:I}),onHeaderCell:()=>({width:K.run_id,onResize:pe("run_id")})},{title:e("table.status"),dataIndex:"status",key:"status",width:K.status,sorter:(I,X)=>I.status.localeCompare(X.status),onHeaderCell:()=>({width:K.status,onResize:pe("status")}),render:(I,X)=>a.jsx(Wk,{status:I})},{title:e("table.created"),dataIndex:"created",key:"created",width:K.created,sorter:(I,X)=>new Date(I.created).getTime()-new Date(X.created).getTime(),render:I=>{const X=new Date(I),xe=t.language==="zh"?"zh-CN":"en-US";return a.jsx("span",{style:{fontSize:"13px",whiteSpace:"nowrap"},children:X.toLocaleString(xe,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})},onHeaderCell:()=>({width:K.created,onResize:pe("created")})},{title:e("experiments.best_metric")||"Best Metric",key:"best_metric",width:K.best_metric,onHeaderCell:()=>({width:K.best_metric,onResize:pe("best_metric")}),render:(I,X)=>{const xe=X.best_metric_value,Ne=X.best_metric_name;return xe!=null&&Ne?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("span",{style:{fontSize:"13px",color:"#666",fontWeight:500},children:Ne}),a.jsx("span",{style:{fontSize:"16px",fontWeight:700,color:"#1677ff"},children:xe.toFixed(4)})]}):"-"}},{title:e("experiments.artifacts_created")||"Artifacts",key:"artifacts_created",width:K.artifacts_created,onHeaderCell:()=>({width:K.artifacts_created,onResize:pe("artifacts_created")}),render:(I,X)=>{const xe=X.artifacts_created_count||0;return xe===0?a.jsx("span",{style:{color:"#999"},children:"-"}):a.jsx(it,{title:e("experiments.artifacts_created_tip",{count:xe}),children:a.jsx(zo,{count:xe,style:{backgroundColor:"#52c41a"}})})}},{title:e("table.actions"),key:"actions",width:K.actions,onHeaderCell:()=>({width:K.actions,onResize:pe("actions")}),render:(I,X)=>a.jsxs(N,{size:"small",children:[a.jsx(it,{title:e("table.view"),children:a.jsx(de,{type:"link",icon:a.jsx(Zc,{}),onClick:()=>n(`/runs/${X.run_id}`)})}),a.jsx(it,{title:e("experiments.delete")||"Delete",children:a.jsx(de,{type:"link",danger:!0,icon:a.jsx(fi,{}),onClick:()=>{p([X.run_id]),le()}})})]})}],[e,n,K,pe,le]);return d&&l.length===0?a.jsx(_C,{}):a.jsxs(a.Fragment,{children:[yt,a.jsxs(st.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:24},children:[a.jsxs(st.div,{initial:ze.title.initial,animate:ze.title.animate,transition:ze.title.transition,style:{marginBottom:36},children:[a.jsx("h1",{style:{fontSize:ze.title.fontSize,fontWeight:ze.title.fontWeight,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:ze.title.marginBottom,lineHeight:ze.title.lineHeight},children:e("menu.experiments")}),a.jsx("p",{style:{color:ze.subtitle.color,fontSize:ze.subtitle.fontSize,margin:0,fontWeight:ze.subtitle.fontWeight},children:e("experiments.subtitle")})]}),a.jsx(qk,{children:a.jsxs(At,{gutter:[16,16],style:{marginBottom:32},children:[a.jsx(ke,{xs:24,sm:12,lg:6,children:a.jsx(Ro,{children:a.jsx(En,{title:e("experiments.total_runs")||"Total Runs",value:D.total,icon:a.jsx(qc,{}),gradientColors:ze.statCards.total.gradientColors,delay:ze.statCards.total.delay,pulse:ze.statCards.total.pulse})})}),a.jsx(ke,{xs:24,sm:12,lg:6,children:a.jsx(Ro,{children:a.jsx(En,{title:e("experiments.running")||"Running",value:D.running,icon:a.jsx(Mt,{}),gradientColors:ze.statCards.running.gradientColors,delay:ze.statCards.running.delay,pulse:D.running>0})})}),a.jsx(ke,{xs:24,sm:12,lg:6,children:a.jsx(Ro,{children:a.jsx(En,{title:e("experiments.finished")||"Finished",value:D.finished,icon:a.jsx(wr,{}),gradientColors:ze.statCards.finished.gradientColors,delay:ze.statCards.finished.delay,pulse:ze.statCards.finished.pulse})})}),a.jsx(ke,{xs:24,sm:12,lg:6,children:a.jsx(Ro,{children:a.jsx(En,{title:e("experiments.failed")||"Failed",value:D.failed,icon:a.jsx(Br,{}),gradientColors:ze.statCards.failed.gradientColors,delay:ze.statCards.failed.delay,pulse:ze.statCards.failed.pulse})})})]})}),a.jsx(st.div,{initial:ze.filterCard.animation.initial,animate:ze.filterCard.animation.animate,transition:ze.filterCard.animation.transition,children:a.jsx(ie,{bordered:!1,style:{borderRadius:ze.filterCard.borderRadius,marginBottom:20,background:ze.filterCard.background,backdropFilter:ze.filterCard.backdropFilter,border:ze.filterCard.border,boxShadow:ze.filterCard.boxShadow},bodyStyle:{padding:ze.filterCard.padding},children:a.jsxs(N,{style:{width:"100%",justifyContent:"space-between"},children:[a.jsxs(N,{children:[a.jsx(nn,{placeholder:e("experiments.search_placeholder")||"Search runs...",prefix:a.jsx(Em,{}),value:g,onChange:I=>x(I.target.value),style:{width:200}}),a.jsxs(gt,{value:v,onChange:S,style:{width:150},children:[a.jsx(gt.Option,{value:"all",children:e("runs.filter.all")}),P.map(I=>a.jsx(gt.Option,{value:I,children:I},I))]}),a.jsxs(gt,{value:T,onChange:k,style:{width:120},children:[a.jsx(gt.Option,{value:"all",children:e("runs.filter.all")}),a.jsx(gt.Option,{value:"running",children:e("experiments.running")||"Running"}),a.jsx(gt.Option,{value:"finished",children:e("experiments.finished")||"Finished"}),a.jsx(gt.Option,{value:"failed",children:e("experiments.failed")||"Failed"})]}),a.jsx(de,{icon:z?a.jsx(Jc,{spin:!0}):a.jsx(Ps,{}),onClick:()=>U(!0),loading:d,children:e(z?"runs.refreshing":"runs.refresh")}),a.jsx(it,{title:e("experiments.check_status_tooltip")||"Check if running experiments are still alive",children:a.jsx(de,{icon:a.jsx(e1,{}),onClick:ft,loading:Z,type:"dashed",children:e("experiments.check_status")||"Check Status"})}),a.jsx($o,{checked:z,onChange:I=>$(I.target.checked),children:e("experiments.auto_refresh")||"Auto-refresh"}),a.jsx(it,{title:e("recycle_bin.tooltip")||"View and restore deleted experiments",children:a.jsx(de,{icon:a.jsx(cc,{}),onClick:()=>Je(!0),type:"dashed",children:e("recycle_bin.title")||"Recycle Bin"})})]}),a.jsx(N,{children:h.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs(de,{icon:a.jsx(Qc,{}),onClick:Ve,disabled:h.length<2,children:[e("experiments.compare")||"Compare"," (",h.length,")"]}),a.jsx(t1,{menu:{items:$e},trigger:["click"],children:a.jsxs(de,{icon:a.jsx(Kc,{}),children:[e("experiments.export")||"Export"," (",h.length,") ",a.jsx(n1,{})]})}),a.jsxs(de,{danger:!0,icon:a.jsx(fi,{}),onClick:le,children:[e("experiments.delete")||"Delete"," (",h.length,")"]})]})})]})})}),a.jsx(st.div,{initial:ze.tableContainer.animation.initial,animate:ze.tableContainer.animation.animate,transition:ze.tableContainer.animation.transition,children:a.jsx(ie,{bordered:!1,style:{borderRadius:ze.tableContainer.borderRadius,overflow:"hidden",boxShadow:ze.tableContainer.boxShadow},bodyStyle:{padding:0},children:a.jsx(xr,{className:"enhanced-table",components:{header:{cell:Fk}},rowSelection:{selectedRowKeys:h,onChange:I=>p(I),getCheckboxProps:I=>({disabled:ue})},columns:_n,dataSource:jt,rowKey:"run_id",loading:d,pagination:{pageSize:ce,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:(I,X)=>je(X),showTotal:(I,X)=>e("experiments.table_total",{from:X[0],to:X[1],total:I})||`${X[0]}-${X[1]} of ${I} items`},scroll:{x:1200},size:"middle",onChange:(I,X,xe)=>{ee(xe)},locale:{emptyText:a.jsx(Uk,{title:e("experiments.no_runs")||"No experiments yet",description:e("experiments.no_runs_desc")||"Start tracking your ML experiments with Runicorn SDK. Check out the quickstart guide to begin.",actionText:e("experiments.view_quickstart")||"View Quickstart Guide",onAction:()=>window.open("https://github.com/runicorn/runicorn#quick-start","_blank")})}})})}),a.jsx(_E,{open:Ke,onClose:()=>Je(!1),onRestore:()=>U(!1)})]})]})},{Text:Fn,Title:Xk}=we,Jk=()=>{const{t:e}=Xe(),t=Si(),[n,s]=b.useState([]),[o,l]=b.useState(!1),[c,d]=b.useState(""),[f,h]=b.useState("all"),[p,g]=b.useState(null),x=b.useCallback(async(j=!0)=>{j&&l(!0);try{const O=await U1(f==="all"?void 0:f);s(O||[])}catch{Q.error(e("Failed to fetch artifacts"))}finally{j&&l(!1)}},[f,e]),v=b.useCallback(async()=>{try{const j=await zm();g(j)}catch{}},[]);b.useEffect(()=>{x(),v()},[x,v]);const S=n.filter(j=>{if(!c)return!0;const E=c.toLowerCase();return j.name.toLowerCase().includes(E)||j.type.toLowerCase().includes(E)});n.length,n.filter(j=>j.type==="model").length,n.filter(j=>j.type==="dataset").length,n.reduce((j,E)=>j+E.size_bytes,0);const T=j=>{if(j===0)return"0 B";const E=1024,O=["B","KB","MB","GB","TB"],z=Math.floor(Math.log(j)/Math.log(E));return(j/Math.pow(E,z)).toFixed(2)+" "+O[z]},k=j=>new Date(j*1e3).toLocaleString(),P=j=>{const E={style:{fontSize:16}};switch(j){case"model":return a.jsx(qt,{...E});case"dataset":return a.jsx(s1,{...E});case"config":return a.jsx(dc,{...E});case"code":return a.jsx(lc,{...E});default:return a.jsx(di,{...E})}},R=j=>{switch(j){case"model":return se.colors.primary;case"dataset":return se.colors.success;case"config":return se.colors.warning;case"code":return se.colors.info;default:return"#8c8c8c"}},D=[{title:e("artifacts.type"),dataIndex:"type",key:"type",width:100,render:j=>a.jsx(it,{title:e(`artifacts.type.${j}`),children:a.jsx(Ce,{icon:P(j),color:R(j),children:e(`artifacts.type.${j}`)})}),filters:[{text:e("artifacts.type.model"),value:"model"},{text:e("artifacts.type.dataset"),value:"dataset"},{text:e("artifacts.type.config"),value:"config"},{text:e("artifacts.type.code"),value:"code"},{text:e("artifacts.type.custom"),value:"custom"}],onFilter:(j,E)=>E.type===j},{title:e("Name"),dataIndex:"name",key:"name",render:(j,E)=>a.jsxs(N,{direction:"vertical",size:0,children:[a.jsx(Fn,{strong:!0,style:{fontSize:se.typography.fontSize.md},children:j}),a.jsxs(N,{size:"small",children:[a.jsx(Fn,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:e("artifacts.latest_version",{version:E.latest_version})}),a.jsx(Fn,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:"•"}),a.jsx(Fn,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:e("artifacts.versions_count",{count:E.num_versions})})]})]})},{title:e("artifacts.size"),dataIndex:"size_bytes",key:"size",width:120,render:j=>T(j),sorter:(j,E)=>j.size_bytes-E.size_bytes},{title:e("artifacts.updated"),dataIndex:"updated_at",key:"updated",width:180,render:j=>k(j),sorter:(j,E)=>j.updated_at-E.updated_at,defaultSortOrder:"descend"},{title:e("artifacts.aliases"),dataIndex:"aliases",key:"aliases",width:150,render:j=>a.jsxs(N,{size:4,wrap:!0,children:[Object.keys(j).slice(0,3).map(E=>a.jsx(Ce,{color:"blue",style:{fontSize:se.typography.fontSize.xs},children:E},E)),Object.keys(j).length>3&&a.jsxs(Ce,{style:{fontSize:se.typography.fontSize.xs},children:["+",Object.keys(j).length-3]})]})},{title:e("table.actions"),key:"actions",width:200,render:(j,E)=>a.jsx(N,{size:"small",children:a.jsx(it,{title:e("artifacts.view_versions"),children:a.jsx(de,{size:"small",icon:a.jsx(Zc,{}),onClick:()=>t(`/artifacts/${E.name}`),children:e("View")})})})}];return o&&n.length===0?a.jsx(bC,{rows:8}):a.jsx("div",{style:{padding:se.spacing.lg},children:a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(Xk,{level:2,style:{marginBottom:se.spacing.sm},children:e("artifacts.title")}),a.jsx(Fn,{type:"secondary",children:e("artifacts.description")})]}),p&&a.jsxs(At,{gutter:[se.spacing.md,se.spacing.md],children:[a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(En,{title:e("artifacts.stats.total"),value:p.total_artifacts||0,icon:a.jsx(qt,{}),gradientColors:Fr.gradients.primary})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(En,{title:e("artifacts.stats.total_versions"),value:p.total_versions||0,icon:a.jsx(uc,{}),gradientColors:Fr.gradients.info})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(En,{title:e("artifacts.stats.total_size"),value:p.total_size_bytes||0,formattedValue:T(p.total_size_bytes||0),icon:a.jsx(r1,{}),gradientColors:Fr.gradients.success})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(En,{title:e("artifacts.stats.dedup_saved"),value:p.space_saved_bytes||0,formattedValue:p.dedup_enabled?T(p.space_saved_bytes||0):"N/A",subtitle:p.dedup_enabled&&p.dedup_ratio?`${(p.dedup_ratio*100).toFixed(1)}% saved`:void 0,icon:a.jsx(di,{}),gradientColors:Fr.gradients.warning})})]}),a.jsx(ie,{size:"small",children:a.jsxs(N,{wrap:!0,children:[a.jsx(nn,{placeholder:e("artifacts.search_placeholder"),prefix:a.jsx(Em,{}),value:c,onChange:j=>d(j.target.value),style:{width:300},allowClear:!0}),a.jsx(gt,{value:f,onChange:h,style:{width:150},options:[{label:e("artifacts.type.all"),value:"all"},{label:e("artifacts.type.model"),value:"model"},{label:e("artifacts.type.dataset"),value:"dataset"},{label:e("artifacts.type.config"),value:"config"},{label:e("artifacts.type.code"),value:"code"},{label:e("artifacts.type.custom"),value:"custom"}]}),a.jsx(de,{icon:a.jsx(Ps,{spin:o}),onClick:()=>{x(),v()},loading:o,children:e("runs.refresh")})]})}),p&&p.by_type&&Object.keys(p.by_type).length>0&&a.jsx(sn,{message:a.jsxs(N,{children:[a.jsx(Fn,{children:"Type Distribution:"}),Object.entries(p.by_type).map(([j,E])=>a.jsx(zo,{count:E.count,showZero:!0,color:R(j),overflowCount:9999,style:{marginLeft:8},children:a.jsx(Ce,{icon:P(j),children:e(`artifacts.type.${j}`)})},j))]}),type:"info",showIcon:!1,style:{marginBottom:se.spacing.md}}),a.jsx(ie,{children:a.jsx(xr,{dataSource:S,columns:D,rowKey:"name",loading:o,pagination:{pageSize:10,showTotal:(j,E)=>e("experiments.table_total",{from:E[0],to:E[1],total:j}),showSizeChanger:!0,showQuickJumper:!0},locale:{emptyText:a.jsx(ot,{image:ot.PRESENTED_IMAGE_SIMPLE,description:a.jsxs(N,{direction:"vertical",size:"small",children:[a.jsx(Fn,{type:"secondary",children:e("artifacts.no_artifacts")}),a.jsx(Fn,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:e("artifacts.create_first")})]})})}})}),n.length===0&&!o&&a.jsx(ie,{title:a.jsxs(N,{children:[a.jsx(lc,{}),a.jsx("span",{children:"Quick Start Guide"})]}),children:a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(Fn,{strong:!0,children:"1. Save a model as artifact:"}),a.jsx("pre",{style:{background:"#f5f5f5",padding:se.spacing.md,borderRadius:se.borderRadius.md,marginTop:se.spacing.sm},children:`import runicorn as rn

run = rn.init(project="my_project")

# Create artifact
artifact = rn.Artifact("my-model", type="model")
artifact.add_file("model.pth")
artifact.add_metadata({"accuracy": 0.95})

# Save with version control
run.log_artifact(artifact)  # → v1
run.finish()`})]}),a.jsxs("div",{children:[a.jsx(Fn,{strong:!0,children:"2. Use a saved artifact:"}),a.jsx("pre",{style:{background:"#f5f5f5",padding:se.spacing.md,borderRadius:se.borderRadius.md,marginTop:se.spacing.sm},children:`import runicorn as rn

run = rn.init(project="inference")

# Load latest version
artifact = run.use_artifact("my-model:latest")
model_path = artifact.download()

# Use the model...
run.finish()`})]})]})})]})})},{Text:Ir}=we,Zk=({data:e})=>{const{t}=Xe(),{token:n}=tr.useToken(),s=b.useMemo(()=>{if(!e||!e.nodes||e.nodes.length===0)return null;const l=e.nodes.map(d=>{const f=d.node_type==="artifact",h=d.node_id===e.root_artifact;return{id:d.node_id,name:d.label,symbol:f?"roundRect":"circle",symbolSize:h?[120,60]:f?[100,50]:40,label:{show:!0,fontSize:h?14:12,fontWeight:h?"bold":"normal"},itemStyle:{color:f?h?se.colors.primary:se.colors.info:se.colors.success,borderColor:h?se.colors.primary:"#fff",borderWidth:h?3:1},category:f?0:1}}),c=e.edges.map(d=>({source:d.source,target:d.target,label:{show:!0,formatter:d.edge_type,fontSize:10},lineStyle:{color:d.edge_type==="produces"?se.colors.success:se.colors.info,width:2,type:d.edge_type==="produces"?"solid":"dashed"},symbol:["none","arrow"],symbolSize:8}));return{title:{text:t("artifact.lineage.title"),left:"center",textStyle:{fontSize:se.typography.fontSize.lg,fontWeight:se.typography.fontWeight.semibold}},tooltip:{trigger:"item",formatter:d=>{if(d.dataType==="node"){const f=e.nodes.find(h=>h.node_id===d.data.id);if(f){const h=f.node_type==="artifact";let p=`<b>${f.label}</b><br/>`;if(p+=`Type: ${t(h?"artifact.lineage.node.artifact":"artifact.lineage.node.run")}<br/>`,f.metadata.size){const g=o(f.metadata.size);p+=`Size: ${g}<br/>`}return p}}else if(d.dataType==="edge")return`${d.data.label.formatter}`;return d.name}},legend:{data:[{name:t("artifact.lineage.node.artifact"),icon:"roundRect"},{name:t("artifact.lineage.node.run"),icon:"circle"}],bottom:0},series:[{type:"graph",layout:"force",data:l,links:c,categories:[{name:t("artifact.lineage.node.artifact")},{name:t("artifact.lineage.node.run")}],roam:!0,label:{show:!0,position:"inside",formatter:"{b}"},force:{repulsion:400,edgeLength:[120,180],gravity:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]}},[e,t]),o=l=>{if(l===0)return"0 B";const c=1024,d=["B","KB","MB","GB","TB"],f=Math.floor(Math.log(l)/Math.log(c));return(l/Math.pow(c,f)).toFixed(2)+" "+d[f]};return s?a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsx(ie,{size:"small",children:a.jsxs(N,{split:a.jsx("span",{style:{margin:"0 12px",color:n.colorBorder},children:"•"}),children:[a.jsxs(N,{size:"small",children:[a.jsx(qt,{style:{color:se.colors.info}}),a.jsx(Ir,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:t("artifact.lineage.node.artifact")})]}),a.jsxs(N,{size:"small",children:[a.jsx(Mt,{style:{color:se.colors.success}}),a.jsx(Ir,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:t("artifact.lineage.node.run")})]}),a.jsxs(N,{size:"small",children:[a.jsx(wh,{style:{color:se.colors.info}}),a.jsx(Ir,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:t("artifact.lineage.edge.uses")})]}),a.jsxs(N,{size:"small",children:[a.jsx(wh,{style:{color:se.colors.success}}),a.jsx(Ir,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:t("artifact.lineage.edge.produces")})]})]})}),a.jsx(ie,{children:a.jsx(xs,{option:s,style:{height:500},opts:{renderer:"canvas"}})}),a.jsx(ie,{size:"small",children:a.jsxs(N,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs(Ir,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:[a.jsxs("b",{children:[t("Summary"),":"]})," ",e.nodes.length," nodes, ",e.edges.length," edges"]}),a.jsxs(Ir,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:["• Artifacts: ",e.nodes.filter(l=>l.node_type==="artifact").length]}),a.jsxs(Ir,{type:"secondary",style:{fontSize:se.typography.fontSize.xs},children:["• Runs: ",e.nodes.filter(l=>l.node_type==="run").length]})]})})]}):a.jsx(ot,{image:ot.PRESENTED_IMAGE_SIMPLE,description:t("artifact.lineage.no_dependencies")})},Qk=e=>{switch(e){case"finished":return a.jsx(wr,{style:{color:"#52c41a"}});case"failed":return a.jsx(Br,{style:{color:"#ff4d4f"}});case"running":return a.jsx(Mt,{style:{color:"#1890ff"}});default:return a.jsx(Qo,{style:{color:"#d9d9d9"}})}};function eD({artifactName:e,artifactType:t,version:n}){const{t:s}=Xe(),o=Si(),[l,c]=b.useState(!1),[d,f]=b.useState(null);b.useEffect(()=>{h()},[e,n]);const h=async()=>{c(!0);try{const g=new URLSearchParams;n&&g.append("version",n.toString()),t&&g.append("type",t);const x=await fetch(`/api/artifacts/${e}/training-metrics?${g}`);if(!x.ok){if(x.status===404){f(null);return}throw new Error(`Failed to load training metrics: ${x.statusText}`)}const v=await x.json();f(v)}catch{Q.error(s("Failed to load training metrics"))}finally{c(!1)}};if(l)return a.jsx(ie,{children:a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(kn,{size:"large"})})});if(!d)return a.jsx(ie,{children:a.jsx(ot,{image:ot.PRESENTED_IMAGE_SIMPLE,description:s("artifact.training.no_data")})});const p=Object.entries(d.metrics).filter(([g,x])=>typeof x=="number").slice(0,6);return a.jsxs(ie,{title:a.jsxs(N,{children:[a.jsx(i1,{}),s("artifact.training.title")]}),extra:a.jsx(de,{type:"primary",onClick:()=>o(`/runs/${d.run_id}`),children:s("artifact.training.view_run")}),children:[a.jsxs(be,{bordered:!0,column:2,style:{marginBottom:16},children:[a.jsx(be.Item,{label:s("artifact.training.run_name"),children:a.jsxs(N,{children:[Qk(d.status),a.jsx("a",{onClick:()=>o(`/runs/${d.run_id}`),children:d.run_name})]})}),a.jsx(be.Item,{label:s("artifact.training.project"),children:a.jsx(Ce,{children:d.project})}),a.jsx(be.Item,{label:s("artifact.training.status"),children:a.jsx(Ce,{color:d.status==="finished"?"success":"error",children:s(`status.${d.status}`)})}),a.jsx(be.Item,{label:s("artifact.training.duration"),children:d.duration_seconds?Wm(d.duration_seconds*1e3):"-"}),a.jsx(be.Item,{label:s("artifact.training.created_at"),span:2,children:Vo(d.created_at)})]}),p.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h4",{children:s("artifact.training.key_metrics")}),a.jsx(At,{gutter:16,children:p.map(([g,x])=>a.jsx(ke,{span:8,style:{marginBottom:16},children:a.jsx(Gt,{title:g,value:x,precision:typeof x=="number"&&x<1?4:2})},g))})]})]})}const{Option:tD}=gt;function nD({artifactName:e,artifactType:t}){const{t:n}=Xe(),[s,o]=b.useState(!1),[l,c]=b.useState([]),[d,f]=b.useState([]),[h,p]=b.useState([]);b.useEffect(()=>{g()},[e]);const g=async()=>{o(!0);try{const v=new URLSearchParams;t&&v.append("type",t);const S=await fetch(`/api/artifacts/${e}/performance-history?${v}`);if(!S.ok)throw new Error(`Failed to load performance history: ${S.statusText}`);const T=await S.json();c(T);const k=new Set;T.forEach(D=>{Object.keys(D.metrics).forEach(j=>k.add(j))});const P=Array.from(k).sort();f(P);const R=P.slice(0,3);p(R)}catch{Q.error(n("Failed to load performance history"))}finally{o(!1)}},x=b.useMemo(()=>{if(!l.length||!h.length)return null;const v=l.filter(T=>T.status==="finished").map(T=>`v${T.version}`),S=h.map(T=>({name:T,type:"line",smooth:!0,symbol:"circle",symbolSize:8,data:l.filter(k=>k.status==="finished").map(k=>k.metrics[T]||0)}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:h,top:0},grid:{left:"10%",right:"10%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:v},yAxis:{type:"value",name:n("artifact.performance.metrics")},series:S}},[l,h,n]);return s?a.jsx(ie,{children:a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx(kn,{size:"large"})})}):l.length===0?a.jsx(ie,{children:a.jsx(ot,{image:ot.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.no_data")})}):a.jsx(ie,{title:a.jsxs(N,{children:[a.jsx(Qc,{}),n("artifact.performance.title")]}),extra:a.jsx(gt,{mode:"multiple",style:{width:300},placeholder:n("artifact.performance.select_metrics"),value:h,onChange:p,maxTagCount:3,children:d.map(v=>a.jsx(tD,{value:v,children:v},v))}),children:x?a.jsx("div",{style:{height:400},children:a.jsx(Bm,{option:x,style:{height:"100%",width:"100%"}})}):a.jsx(ot,{image:ot.PRESENTED_IMAGE_SIMPLE,description:n("artifact.performance.select_metrics_hint")})})}const{Text:ic,Title:Ao,Paragraph:rD}=we,{TabPane:ds}=Es,sD=()=>{var Y;const{name:e}=Rm(),t=Si(),{t:n}=Xe(),[s,o]=b.useState(!1),[l,c]=b.useState(null),[d,f]=b.useState(null),[h,p]=b.useState([]),[g,x]=b.useState(null),[v,S]=b.useState(null),[T,k]=b.useState(!1),[P,R]=b.useState(!1),[D,j]=b.useState(!1),[E,O]=b.useState(null),[z,$]=b.useState(!1),B=G=>{if(G===0)return"0 B";const Z=1024,oe=["B","KB","MB","GB","TB"],pe=Math.floor(Math.log(G)/Math.log(Z));return(G/Math.pow(Z,pe)).toFixed(2)+" "+oe[pe]},K=G=>new Date(G*1e3).toLocaleString(),J=b.useCallback(async()=>{if(e)try{const G=await W1(e);p(G||[]),!l&&G&&G.length>0&&c(G[G.length-1].version)}catch{Q.error(n("Failed to fetch versions"))}},[e,l,n]),Le=b.useCallback(async()=>{if(!(!e||!l)){o(!0);try{const G=await H1(e,l);f(G)}catch{Q.error(n("Failed to fetch artifact details"))}finally{o(!1)}}},[e,l,n]),ee=b.useCallback(async()=>{if(!(!e||!l))try{const G=await G1(e,l);x(G)}catch{}},[e,l]),ce=b.useCallback(async()=>{if(!(!e||!l)){k(!0);try{const G=await K1(e,l,void 0,3);S(G)}catch{}finally{k(!1)}}},[e,l]);b.useEffect(()=>{J()},[J]),b.useEffect(()=>{l&&(Le(),ee())},[Le,ee]);const je=async G=>{An.confirm({title:n("artifacts.delete_confirm",{name:e,version:G}),content:n("artifacts.delete_warning"),okText:n("artifacts.delete"),okType:"danger",cancelText:n("experiments.cancel"),onOk:async()=>{try{if(await q1(e,G),Q.success(n("Deleted successfully")),J(),G===l){const Z=h.filter(oe=>oe.version!==G);Z.length>0?c(Z[Z.length-1].version):t("/artifacts")}}catch{Q.error(n("Delete failed"))}}})};if(s&&!d)return a.jsx(Hm,{});if(!d)return a.jsx(ie,{children:a.jsx(ot,{description:n("artifact.detail.title",{name:e})})});h.map(G=>({label:`v${G.version} (${K(G.created_at)})`,value:G.version}));const ue=[{title:n("artifact.files.name"),dataIndex:"path",key:"path",render:(G,Z)=>a.jsxs(N,{direction:"vertical",size:0,children:[a.jsx(ic,{strong:!0,children:G}),Z.absolute_path&&a.jsx(it,{title:n("Click to copy path"),children:a.jsx(ic,{code:!0,copyable:{text:Z.absolute_path},style:{fontSize:se.typography.fontSize.xs},children:Z.absolute_path})})]})},{title:n("artifact.files.size"),dataIndex:"size",key:"size",width:120,render:G=>B(G)},{title:n("artifact.files.hash"),dataIndex:"digest",key:"digest",width:200,render:G=>{var Z;return a.jsx(it,{title:G,children:a.jsxs(ic,{code:!0,style:{fontSize:se.typography.fontSize.xs},children:[(Z=G.split(":")[1])==null?void 0:Z.substring(0,16),"..."]})})}}],ne=[{title:n("artifact.versions.version"),dataIndex:"version",key:"version",width:100,render:G=>a.jsxs(Ce,{color:G===l?"blue":"default",children:["v",G]})},{title:n("artifact.versions.date"),dataIndex:"created_at",key:"created_at",render:G=>K(G)},{title:n("artifact.versions.run"),dataIndex:"created_by_run",key:"created_by_run",render:G=>a.jsx(it,{title:"Click to view run",children:a.jsxs(de,{type:"link",size:"small",onClick:()=>t(`/runs/${G}`),children:[G.substring(0,16),"..."]})})},{title:n("artifact.versions.size"),dataIndex:"size_bytes",key:"size",width:120,render:G=>B(G)},{title:n("artifact.versions.files"),dataIndex:"num_files",key:"num_files",width:80},{title:n("Aliases"),dataIndex:"aliases",key:"aliases",render:G=>a.jsx(N,{size:4,wrap:!0,children:G.map(Z=>a.jsx(Ce,{color:"blue",style:{fontSize:se.typography.fontSize.xs},children:Z},Z))})},{title:n("artifact.versions.actions"),key:"actions",width:150,render:(G,Z)=>a.jsxs(N,{size:"small",children:[a.jsx(de,{size:"small",type:Z.version===l?"primary":"default",onClick:()=>c(Z.version),children:n("View")}),a.jsx(de,{size:"small",danger:!0,icon:a.jsx(fi,{}),onClick:()=>je(Z.version)})]})}];return a.jsx("div",{style:{padding:se.spacing.lg},children:a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsx(de,{icon:a.jsx(o1,{}),onClick:()=>t("/artifacts"),children:n("Back to Artifacts")}),a.jsx(ie,{children:a.jsxs(N,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs(N,{children:[a.jsx(Ao,{level:2,style:{margin:0},children:n("artifact.detail.title",{name:e})}),a.jsx(Ce,{color:se.colors.primary,children:n("artifact.detail.version",{version:l})}),a.jsx(Ce,{icon:a.jsx(qt,{}),children:n(`artifacts.type.${d.type}`)})]}),d.description&&a.jsx(rD,{type:"secondary",children:d.description})]})}),a.jsxs(At,{gutter:[se.spacing.md,se.spacing.md],children:[a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(ie,{children:a.jsx(Gt,{title:n("artifact.detail.size"),value:B(d.size_bytes),prefix:a.jsx(qt,{})})})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(ie,{children:a.jsx(Gt,{title:n("artifact.detail.files_count"),value:d.num_files,prefix:a.jsx(dc,{})})})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(ie,{children:a.jsx(Gt,{title:n("Total Versions"),value:h.length,prefix:a.jsx(uc,{})})})}),a.jsx(ke,{xs:24,sm:12,md:6,children:a.jsx(ie,{children:a.jsx(Gt,{title:n("artifact.detail.created_at"),value:K(d.created_at),valueStyle:{fontSize:se.typography.fontSize.sm},prefix:a.jsx(Qo,{})})})})]}),a.jsx(ie,{children:a.jsxs(Es,{defaultActiveKey:"info",children:[a.jsxs(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(ea,{})," ",n("Info")]}),children:[a.jsxs(be,{bordered:!0,column:2,size:"small",children:[a.jsx(be.Item,{label:n("artifact.detail.type"),children:n(`artifacts.type.${d.type}`)}),a.jsx(be.Item,{label:n("artifact.detail.status"),children:a.jsx(Ce,{color:"success",children:d.status})}),a.jsx(be.Item,{label:n("artifact.detail.created_by"),children:a.jsx(de,{type:"link",size:"small",onClick:()=>t(`/runs/${d.created_by_run}`),children:d.created_by_run})}),a.jsx(be.Item,{label:n("artifact.detail.created_at"),children:K(d.created_at)}),a.jsx(be.Item,{label:n("artifact.detail.size"),children:B(d.size_bytes)}),a.jsxs(be.Item,{label:n("artifact.detail.files_count"),children:[d.num_files," files, ",d.num_references," references"]})]}),d.metadata&&Object.keys(d.metadata).length>0&&a.jsxs("div",{style:{marginTop:se.spacing.lg},children:[a.jsx(Ao,{level:5,children:n("artifact.detail.metadata")}),a.jsx(ie,{size:"small",children:a.jsx("pre",{style:{margin:0,fontSize:se.typography.fontSize.sm},children:JSON.stringify(d.metadata,null,2)})})]}),d.tags&&d.tags.length>0&&a.jsxs("div",{style:{marginTop:se.spacing.md},children:[a.jsx(Ao,{level:5,children:n("artifact.detail.tags")}),a.jsx(N,{size:[8,8],wrap:!0,children:d.tags.map(G=>a.jsx(Ce,{icon:a.jsx(a1,{}),color:"blue",children:G},G))})]})]},"info"),a.jsxs(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(dc,{})," ",n("artifact.files.title")," (",((Y=g==null?void 0:g.files)==null?void 0:Y.length)||0,")"]}),children:[a.jsx(xr,{dataSource:(g==null?void 0:g.files)||[],columns:ue,rowKey:"path",size:"small",pagination:!1,locale:{emptyText:a.jsx(ot,{image:ot.PRESENTED_IMAGE_SIMPLE,description:n("artifact.files.no_files")})}}),(g==null?void 0:g.references)&&g.references.length>0&&a.jsxs("div",{style:{marginTop:se.spacing.lg},children:[a.jsx(Ao,{level:5,children:n("artifact.references.title")}),a.jsx(xr,{dataSource:g.references,columns:[{title:n("artifact.references.uri"),dataIndex:"uri",key:"uri"},{title:n("artifact.references.checksum"),dataIndex:"checksum",key:"checksum",render:G=>G||"-"}],size:"small",pagination:!1})]})]},"files"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(uc,{})," ",n("artifact.versions.title")," (",h.length,")"]}),children:a.jsx(xr,{dataSource:h,columns:ne,rowKey:"version",size:"small",pagination:{pageSize:10}})},"versions"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Mt,{})," ",n("artifact.training.tab")]}),children:a.jsx(eD,{artifactName:e,artifactType:d==null?void 0:d.type,version:l})},"training"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(Qc,{})," ",n("artifact.performance.tab")]}),children:a.jsx(nD,{artifactName:e,artifactType:d==null?void 0:d.type})},"performance"),a.jsx(ds,{tab:a.jsxs(a.Fragment,{children:[a.jsx(l1,{})," ",n("artifact.lineage.title")]}),children:a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsx(sn,{message:n("artifact.lineage.description"),type:"info",showIcon:!0,closable:!0}),!v&&!T&&a.jsx(de,{onClick:ce,children:n("Load Lineage Graph")}),T&&a.jsx(ie,{loading:!0}),v&&a.jsx(Zk,{data:v})]})},"lineage")]})})]})})};function iD({onSubmit:e,onTest:t,onCancel:n,loading:s=!1,initialValues:o}){const{t:l}=Xe(),[c]=Pt.useForm(),[d,f]=b.useState((o==null?void 0:o.authMethod)||"password"),[h,p]=b.useState(!1),g=async v=>{console.log("Form values:",{...v,password:v.password?"***":void 0,savePassword:v.savePassword});const S={host:v.host,port:v.port||22,username:v.username,authMethod:v.authMethod,password:v.password,privateKeyPath:v.privateKeyPath,passphrase:v.passphrase,remoteRoot:v.remoteRoot,localPort:v.localPort,remotePort:v.remotePort||23300,saveName:v.saveName,savePassword:v.savePassword||!1};console.log("Config to submit:",{...S,password:S.password?"***":void 0});try{await e(S),Q.success(l("remote.message.connectSuccess")),c.resetFields()}catch(T){Q.error(T instanceof Error?T.message:l("remote.message.connectFailed"))}},x=async()=>{try{const v=await c.validateFields(),S={host:v.host,port:v.port||22,username:v.username,authMethod:v.authMethod,password:v.password,privateKeyPath:v.privateKeyPath,passphrase:v.passphrase,remoteRoot:v.remoteRoot,localPort:v.localPort,remotePort:v.remotePort||23300};t&&(await t(S),Q.success(l("remote.message.testSuccess")))}catch(v){v instanceof Error&&Q.error(v.message)}};return a.jsxs(Pt,{form:c,layout:"vertical",initialValues:{port:22,remotePort:23300,authMethod:"password",...o},onFinish:g,children:[a.jsx(Pt.Item,{label:l("remote.form.host"),name:"host",rules:[{required:!0,message:"Please enter host address"}],children:a.jsx(nn,{placeholder:l("remote.form.hostPlaceholder")})}),a.jsxs(At,{gutter:16,children:[a.jsx(ke,{span:12,children:a.jsx(Pt.Item,{label:l("remote.form.port"),name:"port",children:a.jsx(fc,{min:1,max:65535,style:{width:"100%"}})})}),a.jsx(ke,{span:12,children:a.jsx(Pt.Item,{label:l("remote.form.username"),name:"username",rules:[{required:!0,message:"Please enter username"}],children:a.jsx(nn,{placeholder:l("remote.form.usernamePlaceholder")})})})]}),a.jsx(Pt.Item,{label:l("remote.form.authMethod"),name:"authMethod",children:a.jsxs(Cs.Group,{onChange:v=>f(v.target.value),children:[a.jsx(Cs,{value:"password",children:l("remote.form.passwordAuth")}),a.jsx(Cs,{value:"key",children:l("remote.form.keyAuth")})]})}),d==="password"?a.jsx(Pt.Item,{label:l("remote.form.password"),name:"password",rules:[{required:!0,message:"Please enter password"}],children:a.jsx(nn.Password,{})}):a.jsxs(a.Fragment,{children:[a.jsx(Pt.Item,{label:l("remote.form.privateKey"),name:"privateKeyPath",rules:[{required:!0,message:"Please enter private key path"}],children:a.jsx(nn,{placeholder:l("remote.form.privateKeyPlaceholder")})}),a.jsx(Pt.Item,{label:l("remote.form.passphrase"),name:"passphrase",children:a.jsx(nn.Password,{})})]}),a.jsx(Pt.Item,{children:a.jsxs(N,{direction:"vertical",children:[a.jsx($o,{checked:h,onChange:v=>p(v.target.checked),children:l("remote.form.saveConfig")}),h&&d==="password"&&a.jsx(Pt.Item,{name:"savePassword",valuePropName:"checked",initialValue:!1,noStyle:!0,children:a.jsx($o,{style:{marginLeft:24},children:l("remote.form.savePassword")})})]})}),h&&a.jsx(Pt.Item,{label:l("remote.form.saveName"),name:"saveName",children:a.jsx(nn,{placeholder:l("remote.form.saveNamePlaceholder")})}),a.jsx(Pt.Item,{children:a.jsxs(N,{children:[a.jsx(de,{type:"primary",htmlType:"submit",loading:s,size:"large",children:l("remote.form.connectButton")}),t&&a.jsx(de,{onClick:x,children:l("remote.form.testConnection")}),n&&a.jsx(de,{onClick:n,children:l("remote.form.cancel")})]})})]})}var ex={exports:{}};(function(e,t){(function(n,s){e.exports=s()})(gs,function(){return function(n,s,o){n=n||{};var l=s.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(h,p,g,x){return l.fromToBase(h,p,g,x)}o.en.relativeTime=c,l.fromToBase=function(h,p,g,x,v){for(var S,T,k,P=g.$locale().relativeTime||c,R=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],D=R.length,j=0;j<D;j+=1){var E=R[j];E.d&&(S=x?o(h).diff(g,E.d,!0):g.diff(h,E.d,!0));var O=(n.rounding||Math.round)(Math.abs(S));if(k=S>0,O<=E.r||!E.r){O<=1&&j>0&&(E=R[j-1]);var z=P[E.l];v&&(O=v(""+O)),T=typeof z=="string"?z.replace("%d",O):z(O,p,E.l,k);break}}if(p)return T;var $=k?P.future:P.past;return typeof $=="function"?$(T):$.replace("%s",T)},l.to=function(h,p){return d(h,p,this,!0)},l.from=function(h,p){return d(h,p,this)};var f=function(h){return h.$u?o.utc():o()};l.toNow=function(h){return this.to(f(this),h)},l.fromNow=function(h){return this.from(f(this),h)}}})})(ex);var oD=ex.exports;const aD=Bj(oD),lD=({status:e,label:t})=>{const n=Vk.statusLight,s=n.colors[e],o=e==="online"||e==="connecting";return a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[a.jsx(st.div,{style:{width:n.size,height:n.size,borderRadius:"50%",background:s,position:"relative"},animate:o?{boxShadow:n.pulseAnimation.boxShadow}:{},transition:{...n.pulseAnimation.transition,repeat:o?1/0:0}}),t&&a.jsx("span",{style:{fontSize:13,color:"#595959"},children:t})]})};km.extend(aD);const{Text:oc}=we,cD={connecting:"Establishing connection...",running:"Remote Viewer is running and accessible",stopping:"Stopping Remote Viewer...",stopped:"Remote Viewer has been stopped",error:"An error occurred"};function uD({session:e,onOpen:t,onStop:n,onDisconnect:s}){const{t:o}=Xe(),l=()=>{const f=`http://localhost:${e.localPort}`;window.open(f,"_blank"),t==null||t(e)},c=async()=>{if(n)try{await n(e)}catch{}},d=()=>{An.confirm({title:o("remote.message.confirmDisconnect"),content:`${e.host}:${e.remotePort}`,onOk:async()=>{s&&await s(e)}})};return a.jsxs(ie,{title:a.jsxs(N,{children:[a.jsx(hi,{}),a.jsx(oc,{strong:!0,children:e.host}),a.jsx(lD,{status:e.status==="running"?"online":e.status==="connecting"||e.status==="stopping"?"connecting":"offline",label:o(`remote.status.${e.status}`)})]}),extra:a.jsxs(N,{children:[a.jsx(de,{type:"primary",icon:a.jsx(Dm,{}),onClick:l,disabled:e.status!=="running",children:o("remote.session.open")}),a.jsx(de,{icon:a.jsx(c1,{}),onClick:c,disabled:e.status!=="running",children:o("remote.session.stop")}),a.jsx(de,{danger:!0,icon:a.jsx(u1,{}),onClick:d,children:o("remote.session.disconnect")})]}),style:{marginBottom:16},children:[a.jsxs(be,{column:2,size:"small",children:[a.jsx(be.Item,{label:o("remote.session.localAccess"),children:a.jsxs("a",{href:`http://localhost:${e.localPort}`,target:"_blank",rel:"noopener noreferrer",children:["http://localhost:",e.localPort]})}),a.jsx(be.Item,{label:o("remote.session.remotePath"),children:a.jsx(oc,{code:!0,children:e.remoteRoot})}),a.jsx(be.Item,{label:o("remote.session.sshPort"),children:e.sshPort}),a.jsx(be.Item,{label:o("remote.session.remotePort"),children:e.remotePort}),a.jsx(be.Item,{label:o("remote.session.remotePid"),children:e.remotePid||"N/A"}),a.jsx(be.Item,{label:o("remote.session.startedAt"),children:km(e.startedAt).fromNow()})]}),a.jsx(sn,{type:e.status==="running"?"success":e.status==="error"?"error":"info",message:cD[e.status]||e.status,description:e.error,showIcon:!0,style:{marginTop:16}}),a.jsx("div",{style:{marginTop:16,color:"#888",fontSize:"12px"},children:a.jsxs(oc,{type:"secondary",children:["Session ID: ",e.sessionId]})})]})}const{Text:fs}=we;function dD({connections:e,onQuickStart:t,onConnect:n,onEdit:s,onDelete:o,loading:l=!1}){const{t:c}=Xe(),d=async p=>{try{await t(p),Q.success(c("remote.message.viewerStarted"))}catch(g){Q.error(g instanceof Error?g.message:c("remote.message.viewerStartFailed"))}},f=async p=>{if(n)try{await n(p)}catch(g){Q.error(g instanceof Error?g.message:c("remote.message.connectFailed"))}},h=p=>{An.confirm({title:c("remote.message.confirmDelete"),content:p.name,okText:c("remote.saved.delete"),okButtonProps:{danger:!0},onOk:()=>{o(p.id),Q.success(c("remote.message.configDeleted"))}})};return e.length===0?a.jsx(ie,{title:c("remote.saved.title"),children:a.jsx(ot,{description:a.jsxs(N,{direction:"vertical",children:[a.jsx(fs,{type:"secondary",children:c("remote.saved.empty")}),a.jsx(fs,{type:"secondary",style:{fontSize:"12px"},children:c("remote.saved.emptyHint")})]})})}):a.jsx(ie,{title:c("remote.saved.title"),children:a.jsx(vr,{dataSource:e,loading:l,renderItem:p=>a.jsx(vr.Item,{actions:[a.jsx(de,{type:"primary",icon:a.jsx(Mt,{}),onClick:()=>d(p),size:"small",children:c("remote.saved.quickStart")},"quickstart"),n&&a.jsx(de,{icon:a.jsx(Dm,{}),onClick:()=>f(p),size:"small",children:c("remote.saved.connectOnly")},"connect"),a.jsx(de,{danger:!0,icon:a.jsx(fi,{}),onClick:()=>h(p),size:"small",children:c("remote.saved.delete")},"delete")].filter(Boolean),children:a.jsx(vr.Item.Meta,{avatar:a.jsx(d1,{icon:a.jsx(hi,{}),style:{backgroundColor:"#1677ff"}}),title:a.jsx(fs,{strong:!0,children:p.name}),description:a.jsxs(N,{direction:"vertical",size:0,children:[a.jsxs(fs,{type:"secondary",children:[p.username,"@",p.host,":",p.port]}),a.jsx(fs,{type:"secondary",code:!0,style:{fontSize:"12px"},children:p.remoteRoot}),a.jsx(fs,{type:"secondary",style:{fontSize:"11px"},children:p.authMethod==="password"?"Password Auth":`Key Auth (${p.privateKeyPath})`})]})})})})})}const ma="/api/config";async function tx(){const e=await fetch(`${ma}/dismissed-alerts`);if(!e.ok)throw new Error("Failed to get dismissed alerts");return(await e.json()).dismissed_alerts||[]}async function fD(e){if(!(await fetch(`${ma}/dismissed-alerts/dismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:e})})).ok)throw new Error("Failed to dismiss alert")}async function hD(e){if(!(await fetch(`${ma}/dismissed-alerts/undismiss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:e})})).ok)throw new Error("Failed to undismiss alert")}async function pD(){if(!(await fetch(`${ma}/dismissed-alerts/clear`,{method:"POST"})).ok)throw new Error("Failed to clear dismissed alerts")}function Ko({alertId:e,showDismissOption:t=!0,onDismiss:n,...s}){const{t:o}=Xe(),[l,c]=b.useState(!0),[d,f]=b.useState(!1),[h,p]=b.useState(!1);b.useEffect(()=>{(async()=>{try{(await tx()).includes(e)&&(p(!0),c(!1))}catch(v){console.error("Failed to check dismissed alerts:",v)}})()},[e]);const g=async()=>{if(c(!1),d)try{await fD(e),p(!0),n==null||n()}catch(x){console.error("Failed to dismiss alert:",x)}};return h||!l?null:a.jsx(sn,{...s,closable:!0,onClose:g,action:t?a.jsx("div",{style:{marginTop:-4},children:a.jsx($o,{checked:d,onChange:x=>f(x.target.checked),onClick:x=>x.stopPropagation(),children:a.jsx("span",{style:{fontSize:"12px"},children:o("common.dontShowAgain")})})}):void 0})}const{Text:sm,Title:VI}=we;function mD({config:e,sshConfig:t,onConfirm:n,onCancel:s,loading:o=!1}){const{t:l}=Xe(),[c]=Pt.useForm(),d=async()=>{const f=await c.validateFields();n(f.remoteRoot,f.localPort)};return a.jsxs(ie,{title:a.jsxs(N,{children:[a.jsx(wr,{style:{color:"#52c41a"}}),a.jsx("span",{children:l("remote.config.title")})]}),children:[a.jsx(sn,{message:l("remote.config.connected"),description:`${t.username}@${t.host}:${t.port}`,type:"success",showIcon:!0,style:{marginBottom:16}}),a.jsxs(be,{column:2,size:"small",bordered:!0,style:{marginBottom:16},children:[a.jsx(be.Item,{label:l("remote.config.pythonVersion"),children:a.jsx(sm,{code:!0,children:e.pythonVersion})}),a.jsx(be.Item,{label:l("remote.config.runicornVersion"),children:a.jsx(Ce,{color:"blue",children:e.runicornVersion})}),a.jsx(be.Item,{label:l("remote.config.storageRoot"),span:2,children:a.jsxs(N,{children:[a.jsx(sm,{code:!0,children:e.defaultStorageRoot}),e.storageRootExists?a.jsx(Ce,{icon:a.jsx(wr,{}),color:"success",children:l("remote.config.exists")}):a.jsx(Ce,{icon:a.jsx(Br,{}),color:"warning",children:l("remote.config.notExists")})]})}),a.jsx(be.Item,{label:l("remote.config.suggestedPort"),children:e.suggestedRemotePort})]}),!e.storageRootExists&&a.jsx(Ko,{alertId:"remote.config.pathNotExists",message:l("remote.config.pathNotExistsWarning"),description:l("remote.config.pathNotExistsHint"),type:"warning",showIcon:!0,style:{marginBottom:16}}),a.jsxs(Pt,{form:c,layout:"vertical",initialValues:{remoteRoot:e.defaultStorageRoot,localPort:t.localPort,remotePort:e.suggestedRemotePort},children:[a.jsx(Pt.Item,{label:l("remote.config.confirmStorageRoot"),name:"remoteRoot",rules:[{required:!0,message:"Please enter remote storage root"}],children:a.jsx(nn,{placeholder:"/data/runicorn"})}),a.jsx(Pt.Item,{label:l("remote.form.localPort"),name:"localPort",help:l("remote.form.localPortHelp"),children:a.jsx(nn,{type:"number",placeholder:"23301"})})]}),a.jsxs(N,{style:{marginTop:16},children:[a.jsx(de,{type:"primary",icon:a.jsx(Mt,{}),onClick:d,loading:o,size:"large",children:l("remote.config.startViewer")}),a.jsx(de,{onClick:s,disabled:o,children:l("remote.form.cancel")})]})]})}const Hr="/api/remote";async function gD(){const e=await fetch("/api/health");if(!e.ok)throw new Error("Failed to get local version");return(await e.json()).version||"unknown"}async function Fo(e){const t=await fetch(`${Hr}/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e.host,port:e.port,username:e.username,password:e.password,private_key_path:e.privateKeyPath,passphrase:e.passphrase,use_agent:!0})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to connect to remote server")}return t.json()}async function ys(e,t=22,n){const s=await fetch(`${Hr}/disconnect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e,port:t,username:n})});if(!s.ok){const o=await s.json();throw new Error(o.detail||"Failed to disconnect")}}async function im(e){const t=await fetch(`${Hr}/viewer/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e.host,port:e.port,username:e.username,password:e.password,private_key_path:e.privateKeyPath,passphrase:e.passphrase,use_agent:!0,remote_root:e.remoteRoot,local_port:e.localPort,remote_port:e.remotePort||23300,conda_env:e.condaEnv})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to start Remote Viewer")}return t.json()}async function om(e){const t=await fetch(`${Hr}/viewer/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to stop Remote Viewer")}}async function yD(){const e=await fetch(`${Hr}/viewer/sessions`);if(!e.ok)throw new Error("Failed to list Remote Viewer sessions");const t=await e.json();return t.sessions||t}async function xD(e){try{return await Fo(e),await ys(e.host,e.port,e.username),{success:!0,responseTime:0}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Connection test failed"}}}async function am(e){const t=await fetch(`${Hr}/conda-envs?connection_id=${encodeURIComponent(e)}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to list conda environments")}return t.json()}async function qo(e,t="system"){const n=await fetch(`${Hr}/config?connection_id=${encodeURIComponent(e)}&conda_env=${encodeURIComponent(t)}`);if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to get remote configuration")}return n.json()}const{Text:Zn,Title:NI}=we;function vD({envs:e,connectionId:t,onSelect:n,onCancel:s,loading:o=!1}){const{t:l}=Xe(),[c,d]=b.useState(()=>{var T;const S=e.find(k=>k.isDefault);return(S==null?void 0:S.name)||((T=e[0])==null?void 0:T.name)||"system"}),[f,h]=b.useState(""),[p,g]=b.useState(()=>{const S={};return e.forEach(T=>{S[T.name]={loading:!0}}),S}),x=(S,T)=>{const k=S.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),P=T.replace(/_dev.*$/,"").replace(/\.dev.*$/,""),R=E=>{const O=E.split(".").map(z=>parseInt(z)||0);return{major:O[0]||0,minor:O[1]||0,patch:O[2]||0}},D=R(k),j=R(P);return D.major===0&&D.minor<5?"too_old":D.major!==j.major||D.minor!==j.minor?"mismatch":"ok"};b.useEffect(()=>{(async()=>{try{const T=await gD();h(T)}catch(T){console.error("Failed to get local version:",T),h("unknown")}})()},[]),b.useEffect(()=>{if(!f)return;(async()=>{for(let k=0;k<e.length;k+=3){const P=e.slice(k,k+3);await Promise.all(P.map(async R=>{try{const D=await qo(t,R.name),j=D.runicornVersion?x(D.runicornVersion,f):void 0;g(E=>({...E,[R.name]:{pythonVersion:D.pythonVersion,runicornVersion:D.runicornVersion,versionStatus:j,loading:!1,error:!1}}))}catch{g(j=>({...j,[R.name]:{loading:!1,error:!0}}))}}))}})()},[e,t,f]);const v=async()=>{let S=p[c];if(!S||S.loading){const T=An.info({title:l("remote.env.detecting"),content:a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx(kn,{size:"large"}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.detectingEnvironment",{env:c})})]}),okButtonProps:{style:{display:"none"}},closable:!1,maskClosable:!1});try{const k=await qo(t,c),P=k.runicornVersion&&f?x(k.runicornVersion,f):void 0;S={pythonVersion:k.pythonVersion,runicornVersion:k.runicornVersion,versionStatus:P,loading:!1,error:!1},g(R=>({...R,[c]:S}))}catch{S={loading:!1,error:!0},g(P=>({...P,[c]:S}))}finally{T.destroy()}}if(!S||S.error){An.error({title:l("remote.env.detectFailed"),content:l("remote.env.detectFailedMessage"),okText:l("remote.form.cancel")});return}if(!S.runicornVersion){const T=c==="system"?"# System Python, no activation needed":`conda activate ${c}`;An.warning({title:l("remote.env.runicornNotInstalledTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.runicornNotInstalledMessage")}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.installInstructions")}),a.jsxs("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:[a.jsxs("div",{style:{color:"#999"},children:["# ",l("remote.env.activateCommand")]}),a.jsx("div",{children:T}),a.jsxs("div",{style:{marginTop:8,color:"#999"},children:["# ",l("remote.env.installCommand")]}),a.jsx("div",{children:"pip install runicorn"})]})]}),okText:l("remote.form.cancel")});return}if(S.versionStatus==="too_old"){An.error({title:l("remote.env.versionTooOldTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.versionTooOldMessage",{version:S.runicornVersion})}),a.jsx("p",{style:{marginTop:16},children:l("remote.env.upgradeInstructions")}),a.jsx("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"13px",lineHeight:"1.5"},children:a.jsx("div",{children:"pip install --upgrade runicorn"})})]}),okText:l("remote.form.cancel")});return}if(S.versionStatus==="mismatch"){An.warning({title:l("remote.env.versionMismatchTitle"),width:600,content:a.jsxs("div",{children:[a.jsx("p",{children:l("remote.env.versionMismatchMessage")}),a.jsxs("div",{style:{marginTop:16,padding:"12px",background:"#fff7e6",borderRadius:"4px"},children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[l("remote.env.localVersion"),":"]})," ",f]}),a.jsxs("div",{style:{marginTop:4},children:[a.jsxs("strong",{children:[l("remote.env.remoteVersion"),":"]})," ",S.runicornVersion]})]}),a.jsx("p",{style:{marginTop:16,color:"#faad14"},children:l("remote.env.versionMismatchWarning")})]}),okText:l("remote.env.continueAnyway"),cancelText:l("remote.form.cancel"),onOk:()=>{n(c)}});return}n(c)};return e.length===0?a.jsxs(ie,{title:l("remote.env.title"),children:[a.jsx(ot,{description:l("remote.env.noEnvs")}),a.jsx(de,{onClick:s,style:{marginTop:16},children:l("remote.form.cancel")})]}):a.jsxs(ie,{title:a.jsxs(N,{children:[a.jsx(wr,{style:{color:"#52c41a"}}),a.jsx("span",{children:l("remote.env.title")})]}),children:[a.jsx(Ko,{alertId:"remote.env.selectHint",message:l("remote.env.selectHint"),description:l("remote.env.selectDescription"),type:"info",showIcon:!0,style:{marginBottom:16}}),a.jsx(Cs.Group,{value:c,onChange:S=>d(S.target.value),style:{width:"100%"},children:a.jsx(vr,{dataSource:e,size:"small",renderItem:S=>{const T=p[S.name]||{loading:!0},k=()=>S.type==="conda"?a.jsx(Ce,{color:"green",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"conda"}):S.type==="system"?a.jsx(Ce,{style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"system"}):S.type==="venv"?a.jsx(Ce,{color:"orange",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:"venv"}):null;return a.jsx(vr.Item,{style:{cursor:"pointer",background:c===S.name?"#f0f5ff":"transparent",padding:"6px 12px",borderRadius:"4px",marginBottom:"2px",minHeight:"auto"},onClick:()=>d(S.name),children:a.jsxs(At,{style:{width:"100%"},align:"middle",children:[a.jsx(ke,{flex:"none",style:{marginRight:12},children:a.jsx(Cs,{value:S.name})}),a.jsx(ke,{flex:"auto",children:a.jsxs("div",{style:{lineHeight:"1.2"},children:[a.jsx("div",{children:a.jsxs(N,{size:4,children:[a.jsx(Zn,{strong:!0,style:{fontSize:"14px",lineHeight:"1.2"},children:S.name}),k(),S.isDefault&&a.jsx(Ce,{color:"blue",style:{fontSize:"10px",padding:"0 3px",lineHeight:"14px"},children:l("remote.env.default")})]})}),a.jsx("div",{style:{marginTop:"2px"},children:a.jsx(Zn,{type:"secondary",code:!0,style:{fontSize:"11px",lineHeight:"1.2"},children:S.path})})]})}),a.jsx(ke,{flex:"none",style:{textAlign:"right",minWidth:140},children:a.jsxs("div",{style:{lineHeight:"1.2"},children:[a.jsx("div",{children:T.loading?a.jsx(kn,{indicator:a.jsx(_h,{style:{fontSize:12}})}):T.error?a.jsxs(Zn,{type:"danger",style:{fontSize:"11px"},children:[a.jsx(Br,{})," ",l("remote.env.detectFailed")]}):a.jsx(Zn,{type:"secondary",style:{fontSize:"11px"},children:T.pythonVersion||"N/A"})}),a.jsx("div",{style:{marginTop:"2px"},children:T.loading?a.jsx(kn,{indicator:a.jsx(_h,{style:{fontSize:12}})}):T.error?a.jsx(Zn,{type:"danger",style:{fontSize:"11px"},children:"N/A"}):T.runicornVersion?T.versionStatus==="too_old"?a.jsxs(Zn,{type:"danger",style:{fontSize:"11px"},children:[a.jsx(Br,{})," Runicorn ",T.runicornVersion]}):T.versionStatus==="mismatch"?a.jsxs(Zn,{type:"warning",style:{fontSize:"11px"},children:[a.jsx(Ml,{})," Runicorn ",T.runicornVersion]}):a.jsxs(Zn,{type:"success",style:{fontSize:"11px"},children:["Runicorn ",T.runicornVersion]}):a.jsxs(Zn,{type:"warning",style:{fontSize:"11px"},children:[a.jsx(Ml,{})," ",l("remote.env.runicornNotInstalled")]})})]})})]})})}})}),a.jsx(Ko,{alertId:"remote.env.checkRunicorn",type:"warning",message:l("remote.env.checkRunicorn"),description:l("remote.env.checkRunicornHint"),icon:a.jsx(Ml,{}),style:{marginTop:16,marginBottom:16}}),a.jsxs(N,{style:{marginTop:16},children:[a.jsx(de,{type:"primary",icon:a.jsx(f1,{}),onClick:v,loading:o,size:"large",children:l("remote.env.continue")}),a.jsx(de,{onClick:s,disabled:o,children:l("remote.form.cancel")})]})]})}function wD(){const[e,t]=b.useState([]),[n,s]=b.useState(!1),[o,l]=b.useState(null),c=b.useCallback(async()=>{s(!0),l(null);try{const d=await yD();t(d)}catch(d){l(d instanceof Error?d.message:"Failed to fetch sessions")}finally{s(!1)}},[]);return b.useEffect(()=>{c();const d=setInterval(c,5e3);return()=>clearInterval(d)},[c]),{sessions:e,loading:n,error:o,refetch:c}}const Eo="/api/remote/connections/saved";function _D(){return`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function lm(e){const t={...e};return Object.keys(t).forEach(n=>{t[n]===void 0&&delete t[n]}),t}function bD(){const[e,t]=b.useState([]),[n,s]=b.useState(!1);b.useEffect(()=>{(async()=>{try{s(!0);const h=await fetch(Eo);if(h.ok){const p=await h.json();t(p.connections||[])}}catch(h){console.error("Failed to load saved connections:",h)}finally{s(!1)}})()},[]);const o=b.useCallback(async(f,h)=>{const p={id:_D(),name:f.saveName||`${f.username}@${f.host}`,host:f.host,port:f.port,username:f.username,authMethod:f.authMethod,password:f.password||void 0,privateKeyPath:f.privateKeyPath,condaEnv:h,remoteRoot:f.remoteRoot,localPort:f.localPort,remotePort:f.remotePort,createdAt:Date.now()};console.log("Creating new connection:",{name:p.name,hasPassword:!!p.password,hasRemoteRoot:!!p.remoteRoot,condaEnv:p.condaEnv});const g=[...e,lm(p)];try{if(!(await fetch(Eo,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw new Error("Failed to save connections");t(g)}catch(x){throw console.error("Failed to save connection:",x),x}return p.id},[e]),l=b.useCallback(async(f,h)=>{const p=e.map(g=>g.id===f?lm({...g,...h}):g);console.log("Updating connection:",{id:f,updates:h});try{if(!(await fetch(Eo,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok)throw new Error("Failed to update connection");t(p)}catch(g){throw console.error("Failed to update connection:",g),g}},[e]),c=b.useCallback(async f=>{const h=e.filter(p=>p.id!==f);try{if(!(await fetch(Eo,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)throw new Error("Failed to delete connection");t(h)}catch(p){throw console.error("Failed to delete connection:",p),p}},[e]),d=b.useCallback(f=>e.find(h=>h.id===f),[e]);return{connections:e,loading:n,saveConnection:o,updateConnection:l,deleteConnection:c,getConnection:d}}const{Title:SD,Paragraph:jD,Text:yn}=we;function CD(){const{t:e}=Xe(),[t,n]=b.useState(!1),[s,o]=b.useState(!1),[l,c]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(null),[v,S]=b.useState(null),[T,k]=b.useState(!1),[P,R]=b.useState(null),[D,j]=b.useState("connect"),[E,O]=b.useState(""),{sessions:z,refetch:$}=wD(),{connections:B,saveConnection:K,updateConnection:J,deleteConnection:Le}=bD(),ee=async U=>{n(!0),o(!1);try{await Fo(U),n(!1),o(!0),Q.success(e("remote.message.connectSuccess")),c(!0);const le=`${U.username}@${U.host}:${U.port}`,Ae=await am(le);if(x({connectionId:le,config:U,condaEnvs:Ae.envs||[],selectedEnv:void 0,remoteConfig:void 0}),U.saveName){const ft=U.savePassword&&U.authMethod==="password",Oe=ft?U:{...U,password:void 0};console.log("Saving connection:",{saveName:U.saveName,savePassword:U.savePassword,authMethod:U.authMethod,hasPassword:!!U.password,shouldSavePassword:ft});const $e=await K(Oe);S($e),Q.success(e("remote.message.configSaved"))}}catch(le){Q.error(le instanceof Error?le.message:e("remote.message.connectFailed")),o(!1),await ys(U.host,U.port,U.username).catch(()=>{})}finally{n(!1),c(!1)}},ce=async U=>{if(g){f(!0);try{const le=await qo(g.connectionId,U);x({...g,selectedEnv:U,remoteConfig:le}),v&&J(v,{condaEnv:U})}catch(le){throw Q.error(le instanceof Error?le.message:e("remote.config.fetchFailed")),le}finally{f(!1)}}},je=async(U,le)=>{if(!(!g||!g.remoteConfig)){p(!0);try{const Ae={...g.config,remoteRoot:U,localPort:le,remotePort:g.remoteConfig.suggestedRemotePort,condaEnv:g.selectedEnv};v&&await J(v,{remoteRoot:U,localPort:le,remotePort:g.remoteConfig.suggestedRemotePort}),await im(Ae),await $(),Q.success(e("remote.message.viewerStarted")),x(null),S(null),o(!1)}catch(Ae){throw Q.error(Ae instanceof Error?Ae.message:e("remote.message.viewerStartFailed")),Ae}finally{p(!1)}}},ue=async()=>{if(!g)return;const{host:U,port:le,username:Ae}=g.config;await ys(U,le,Ae),x(null),o(!1),c(!1),f(!1),S(null),Q.info(e("remote.message.cancelled"))},ne=async U=>{try{const le=await xD(U);if(le.success)Q.success({content:a.jsxs("div",{children:[a.jsx("div",{children:e("remote.message.testSuccess")}),le.pythonVersion&&a.jsxs("div",{style:{fontSize:"12px",marginTop:4},children:["Python ",le.pythonVersion]})]}),duration:3});else throw new Error(le.error||"Connection test failed")}catch(le){throw Q.error(le instanceof Error?le.message:e("remote.message.testFailed")),le}},Y=async U=>{if(U.authMethod==="password"&&!U.password){R(U),j("connect"),k(!0);return}await G(U,U.password)},G=async(U,le)=>{n(!0),o(!1);try{const Ae={host:U.host,port:U.port,username:U.username,authMethod:U.authMethod,password:le||U.password,privateKeyPath:U.privateKeyPath,remoteRoot:U.remoteRoot||"",localPort:U.localPort,remotePort:U.remotePort};await Fo(Ae),n(!1),o(!0),Q.success(e("remote.message.connectSuccess")),c(!0);const ft=`${Ae.username}@${Ae.host}:${Ae.port}`,Oe=await am(ft);x({connectionId:ft,config:Ae,condaEnvs:Oe.envs||[],selectedEnv:U.condaEnv,remoteConfig:void 0})}catch(Ae){throw Q.error(Ae instanceof Error?Ae.message:e("remote.message.connectFailed")),o(!1),await ys(U.host,U.port,U.username).catch(()=>{}),Ae}finally{n(!1),c(!1)}},Z=async U=>{if(!U.condaEnv||!U.remoteRoot){Q.warning(e("remote.message.incompleteConfig"));return}if(U.authMethod==="password"&&!U.password){R(U),j("quickstart"),k(!0);return}await oe(U,U.password)},oe=async(U,le)=>{n(!0),o(!1),c(!0),f(!0);try{const Ae={host:U.host,port:U.port,username:U.username,authMethod:U.authMethod,password:le||U.password,privateKeyPath:U.privateKeyPath,remoteRoot:U.remoteRoot,localPort:U.localPort,remotePort:U.remotePort};await Fo(Ae),n(!1),o(!0),Q.success(e("remote.message.connectSuccess"));const ft=`${Ae.username}@${Ae.host}:${Ae.port}`,Oe=await qo(ft,U.condaEnv),$e={...Ae,remoteRoot:U.remoteRoot,remotePort:Oe.suggestedRemotePort,condaEnv:U.condaEnv};await im($e),await $(),Q.success(e("remote.message.viewerStarted"))}catch(Ae){throw Q.error(Ae instanceof Error?Ae.message:e("remote.message.viewerStartFailed")),o(!1),await ys(U.host,U.port,U.username).catch(()=>{}),Ae}finally{n(!1),c(!1),f(!1)}},pe=async U=>{try{await om(U.sessionId),await $(),g||(o(!1),S(null)),Q.success(e("remote.message.viewerStopped"))}catch(le){throw Q.error(le instanceof Error?le.message:e("remote.message.viewerStopFailed")),le}},Ke=async U=>{try{await om(U.sessionId),await ys(U.host,U.sshPort||22,U.username||"user"),await $(),g||(o(!1),S(null)),Q.success(e("remote.message.disconnected"))}catch(le){throw Q.error(le instanceof Error?le.message:e("remote.message.disconnectFailed")),le}},Je=z.filter(U=>U.status!=="stopped"),qe=new Set(z.map(U=>U.host)).size,yt=async()=>{if(!P||!E){Q.warning(e("remote.form.password")+" "+e("remote.form.required"));return}try{D==="connect"?await G(P,E):await oe(P,E),k(!1),O(""),R(null)}catch{}},wt=()=>{k(!1),O(""),R(null)};return a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:24},children:[a.jsxs(SD,{level:2,children:[a.jsx(hi,{})," ",e("remote.title")]}),a.jsx(jD,{type:"secondary",children:e("remote.subtitle")})]}),a.jsx(Ko,{alertId:"remote.intro",type:"info",message:e("remote.help.architecture"),description:e("remote.help.advantages"),showIcon:!0,style:{marginBottom:24}}),a.jsxs(At,{gutter:16,style:{marginBottom:24},children:[a.jsx(ke,{span:8,children:a.jsx(En,{title:e("remote.stats.activeSessions"),value:Je.length,icon:a.jsx(Mt,{}),gradientColors:Fr.gradients.primary})}),a.jsx(ke,{span:8,children:a.jsx(En,{title:e("remote.stats.savedConfigs"),value:B.length,icon:a.jsx(h1,{}),gradientColors:Fr.gradients.info})}),a.jsx(ke,{span:8,children:a.jsx(En,{title:e("remote.stats.connectedServers"),value:qe,icon:a.jsx(hi,{}),gradientColors:Fr.gradients.success})})]}),a.jsxs(At,{gutter:24,children:[a.jsx(ke,{xs:24,lg:12,children:g?g.remoteConfig?a.jsx(kn,{spinning:d,tip:e("remote.config.fetchingConfig"),children:a.jsx(mD,{config:g.remoteConfig,sshConfig:g.config,onConfirm:je,onCancel:ue,loading:h})}):a.jsx(kn,{spinning:l,tip:e("remote.env.fetching"),children:a.jsx(vD,{envs:g.condaEnvs||[],connectionId:g.connectionId,onSelect:ce,onCancel:ue,loading:d})}):a.jsxs(a.Fragment,{children:[a.jsx(ie,{title:e("remote.form.title"),style:{marginBottom:24},children:s&&l?a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"large",children:[a.jsx(sn,{message:e("remote.message.connectSuccess"),description:e("remote.env.fetching"),type:"success",showIcon:!0,icon:a.jsx(wr,{})}),a.jsx("div",{style:{textAlign:"center",padding:"24px 0"},children:a.jsx(kn,{size:"large",tip:e("remote.env.detectingEnvironments")})})]}):a.jsx(iD,{onSubmit:ee,onTest:ne,loading:t})}),!s&&!l&&a.jsx(dD,{connections:B,onQuickStart:Z,onConnect:Y,onDelete:Le,loading:t})]})}),a.jsx(ke,{xs:24,lg:12,children:a.jsx(ie,{title:a.jsxs(N,{children:[e("remote.session.title"),Je.length>0&&a.jsxs(yn,{type:"secondary",children:["(",Je.length,")"]})]}),children:Je.length===0?a.jsx(ot,{description:a.jsxs(N,{direction:"vertical",children:[a.jsx(yn,{type:"secondary",children:e("remote.session.noActiveSessions")}),a.jsx(yn,{type:"secondary",style:{fontSize:"12px"},children:e("remote.session.startNewConnection")})]}),style:{margin:"40px 0"}}):Je.map(U=>a.jsx(uD,{session:U,onStop:pe,onDisconnect:Ke},U.sessionId))})})]}),a.jsx(ie,{title:e("remote.help.title"),style:{marginTop:24},children:a.jsxs(N,{direction:"vertical",children:[a.jsx(yn,{children:e("remote.help.step1")}),a.jsx(yn,{children:e("remote.help.step2")}),a.jsx(yn,{children:e("remote.help.step3")}),a.jsx(yn,{children:e("remote.help.step4")}),a.jsx(yn,{children:e("remote.help.step5")}),a.jsx(yn,{children:e("remote.help.step6")})]})}),a.jsx(An,{title:e("remote.form.enterPassword"),open:T,onOk:yt,onCancel:wt,okText:e("remote.form.connectButton"),cancelText:e("remote.form.cancel"),confirmLoading:t,centered:!0,width:400,children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsxs(yn,{children:[e("remote.form.connectionTo"),": ",a.jsx(yn,{strong:!0,children:P==null?void 0:P.name})]}),a.jsxs(yn,{type:"secondary",children:[P==null?void 0:P.username,"@",P==null?void 0:P.host]}),a.jsx(nn.Password,{placeholder:e("remote.form.password"),value:E,onChange:U=>O(U.target.value),onPressEnter:yt,autoFocus:!0,size:"large"})]})})]})}const TD=120;function PD(){const{t:e}=Xe(),[t,n]=b.useState(null),[s,o]=b.useState(""),[l,c]=b.useState(!1),d=b.useRef([]),[f,h]=b.useState(0),p=b.useRef(null),[g,x]=b.useState([]);b.useEffect(()=>{let B;const K=async()=>{if(!l)try{const J=await Fm();if(!(J!=null&&J.available)){n(!1),o((J==null?void 0:J.reason)||e("gpu.not_available"));return}n(!0);const Le={ts:J.ts||Date.now()/1e3,gpus:J.gpus||[]},ee=d.current.slice();for(ee.push(Le);ee.length>TD;)ee.shift();d.current=ee,h(ce=>ce+1)}catch(J){n(!1),o((J==null?void 0:J.message)||e("gpu.not_available"))}};return K(),B=setInterval(K,2e3),()=>clearInterval(B)},[l]);const{times:v,gpuNames:S,seriesUtil:T,seriesMem:k,seriesPower:P,seriesTemp:R}=b.useMemo(()=>{const B=d.current,K=B.map(Y=>new Date((Y.ts||0)*1e3).toLocaleTimeString()),J=B.reduce((Y,G)=>{var Z;return Math.max(Y,((Z=G.gpus)==null?void 0:Z.length)||0)},0),Le=[];for(let Y=0;Y<J;Y++){const G=B.find(Z=>Z.gpus&&Z.gpus[Y]);Le.push(G?`GPU${G.gpus[Y].index} ${G.gpus[Y].name}`:`GPU${Y}`)}const ee=Y=>new Array(J).fill(0).map((G,Z)=>({name:Le[Z]||`GPU${Z}`,type:"line",smooth:!0,showSymbol:!1,connectNulls:!0,data:B.map(oe=>{const pe=oe.gpus&&oe.gpus[Z]?Y(oe.gpus[Z]):null;return pe==null?null:Number(pe)})})),ce=ee(Y=>Y.util_gpu),je=ee(Y=>Y.mem_used_pct),ue=ee(Y=>Y.power_w),ne=ee(Y=>Y.temp_c);return{times:K,gpuNames:Le,seriesUtil:ce,seriesMem:je,seriesPower:ue,seriesTemp:ne}},[f]),D=b.useMemo(()=>{const B=d.current[d.current.length-1],K={utilAvg:0,memAvg:0,powerNow:0,powerMax:0,tempMax:0};if(!B||!B.gpus||B.gpus.length===0)return K;const J=B.gpus,Le=J.length,ee=je=>je.reduce((ue,ne)=>ue+(Number.isFinite(ne)?ne:0),0),ce={util:J.map(je=>Number(je.util_gpu??0)),mem:J.map(je=>Number(je.mem_used_pct??0)),pwr:J.map(je=>Number(je.power_w??0)),pmax:J.map(je=>Number(je.power_limit_w??0)),temp:J.map(je=>Number(je.temp_c??0))};return K.utilAvg=Math.round(ee(ce.util)/Le),K.memAvg=Math.round(ee(ce.mem)/Le),K.powerNow=Math.round(ee(ce.pwr)),K.powerMax=Math.round(ee(ce.pmax)),K.tempMax=Math.max(...ce.temp),K},[f]),j={left:48,right:16,top:40,bottom:40},E=b.useMemo(()=>({title:{text:e("gpu.chart.util")},tooltip:{trigger:"axis"},legend:{data:T.map(B=>B.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:0,max:100},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:T}),[v,T,e]),O=b.useMemo(()=>({title:{text:e("gpu.chart.mem")},tooltip:{trigger:"axis"},legend:{data:k.map(B=>B.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:0,max:100},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:k}),[v,k,e]),z=b.useMemo(()=>({title:{text:e("gpu.chart.power")},tooltip:{trigger:"axis"},legend:{data:P.map(B=>B.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:"dataMin",scale:!0},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:P}),[v,P,e]),$=b.useMemo(()=>({title:{text:e("gpu.chart.temp")},tooltip:{trigger:"axis"},legend:{data:R.map(B=>B.name)},xAxis:{type:"category",data:v},yAxis:{type:"value",min:"dataMin",scale:!0},grid:j,dataZoom:[{type:"inside",throttle:50},{type:"slider",height:18,bottom:8}],series:R}),[v,R,e]);return t===!1?a.jsx(sn,{type:"warning",showIcon:!0,message:e("gpu.not_available"),description:s||void 0}):a.jsxs("div",{ref:p,style:{position:"relative"},children:[a.jsxs(N,{align:"center",style:{marginBottom:8},children:[a.jsx(we.Text,{type:"secondary",children:e("polling.every2s")}),a.jsxs("span",{style:{marginLeft:12},children:[e("pause")," ",a.jsx(It,{checked:l,onChange:c})]})]}),a.jsx(Xc,{activeKey:g,onChange:B=>{x(B),setTimeout(()=>{try{window.dispatchEvent(new Event("resize"))}catch{}},350)},items:[{key:"util",label:e("gpu.chart.util"),children:a.jsx(xs,{option:E,style:{height:260,width:"100%"}})},{key:"mem",label:e("gpu.chart.mem"),children:a.jsx(xs,{option:O,style:{height:260,width:"100%"}})},{key:"power",label:e("gpu.chart.power"),children:a.jsx(xs,{option:z,style:{height:260,width:"100%"}})},{key:"temp",label:e("gpu.chart.temp"),children:a.jsx(xs,{option:$,style:{height:260,width:"100%"}})}]}),t&&g.indexOf("power")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:12,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Mt,{style:{marginRight:6}}),e("gpu.power")," ",D.powerNow,D.powerMax?`/${D.powerMax}`:""," W"]}),t&&g.indexOf("util")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:44,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(ji,{style:{marginRight:6}}),e("gpu.util")," ",D.utilAvg,"%"]}),t&&g.indexOf("mem")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:76,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(qt,{style:{marginRight:6}}),e("gpu.mem")," ",D.memAvg,"%"]}),t&&g.indexOf("temp")===-1&&a.jsxs("div",{style:{position:"absolute",right:12,top:108,background:"rgba(0,0,0,0.55)",color:"#fff",borderRadius:8,padding:"4px 8px",pointerEvents:"none"},children:[a.jsx(Zo,{style:{marginRight:6}}),e("gpu.temp")," ",D.tempMax,"°C"]})]})}const{Text:Zs,Title:RD}=we,AD=({cpu:e,loading:t=!1})=>{const{t:n}=Xe(),{token:s}=tr.useToken(),o=l=>l<60?s.colorSuccess:l<80?s.colorWarning:s.colorError;return a.jsx(ie,{loading:t,children:a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(At,{gutter:16,align:"middle",children:[a.jsx(ke,{span:12,children:a.jsx(Gt,{title:a.jsxs(N,{children:[a.jsx(Mt,{style:{color:o(e.percent)}}),a.jsx("span",{children:n("system.cpu_overall","Overall CPU Usage")})]}),value:e.percent,precision:1,suffix:"%",valueStyle:{color:o(e.percent)}})}),a.jsx(ke,{span:12,children:a.jsxs(N,{direction:"vertical",size:4,children:[a.jsxs(Zs,{type:"secondary",children:[n("system.cpu_cores","Cores"),": ",e.count," (",e.logical_count," ",n("system.logical","logical"),")"]}),e.frequency&&a.jsxs(Zs,{type:"secondary",children:[n("system.frequency","Freq"),": ",Math.round(e.frequency.current)," MHz"]}),e.load_avg&&a.jsxs(Zs,{type:"secondary",children:["Load: ",e.load_avg.map(l=>l.toFixed(2)).join(", ")]})]})})]}),a.jsx(er,{percent:Math.round(e.percent),strokeColor:o(e.percent),style:{marginTop:16}})]}),e.per_core&&e.per_core.length>0&&a.jsxs("div",{children:[a.jsx(RD,{level:5,style:{marginBottom:16},children:n("system.cpu_per_core","Per-Core Utilization")}),a.jsx(At,{gutter:[16,16],children:e.per_core.map((l,c)=>a.jsx(ke,{xs:24,sm:12,md:8,lg:6,children:a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[a.jsxs(Zs,{strong:!0,children:["Core ",c]}),a.jsxs(Zs,{children:[Math.round(l),"%"]})]}),a.jsx(er,{percent:Math.round(l),strokeColor:o(l),size:"small",showInfo:!1})]})},c))})]}),e.frequency&&a.jsxs(At,{gutter:16,children:[a.jsx(ke,{span:8,children:a.jsx(Gt,{title:n("system.freq_current","Current Freq"),value:e.frequency.current,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})}),a.jsx(ke,{span:8,children:a.jsx(Gt,{title:n("system.freq_min","Min Freq"),value:e.frequency.min,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})}),a.jsx(ke,{span:8,children:a.jsx(Gt,{title:n("system.freq_max","Max Freq"),value:e.frequency.max,precision:0,suffix:"MHz",valueStyle:{fontSize:16}})})]})]})})},{Text:hs,Title:BI}=we,ED=({memory:e,disk:t,loading:n=!1})=>{const{t:s}=Xe(),{token:o}=tr.useToken(),l=d=>d<60?o.colorSuccess:d<80?o.colorWarning:o.colorError,c=(d,f=1)=>{if(d===0)return"0 B";const h=1024,p=f<0?0:f,g=["B","KB","MB","GB","TB"],x=Math.floor(Math.log(d)/Math.log(h));return parseFloat((d/Math.pow(h,x)).toFixed(p))+" "+g[x]};return a.jsx(ie,{loading:n,children:a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsxs(At,{gutter:16,align:"middle",children:[a.jsx(ke,{span:12,children:a.jsx(Gt,{title:a.jsxs(N,{children:[a.jsx(qt,{style:{color:l(e.percent)}}),a.jsx("span",{children:s("system.memory","Memory")})]}),value:c(e.used),suffix:`/ ${c(e.total)}`,valueStyle:{color:l(e.percent),fontSize:20}})}),a.jsx(ke,{span:12,children:a.jsxs(N,{direction:"vertical",size:4,children:[a.jsxs(hs,{type:"secondary",children:[s("system.available","Available"),": ",c(e.available)]}),a.jsxs(hs,{type:"secondary",children:[s("system.used_percent","Used"),": ",Math.round(e.percent),"%"]})]})})]}),a.jsx(er,{percent:Math.round(e.percent),strokeColor:l(e.percent),style:{marginTop:16}}),e.swap_total>0&&a.jsxs("div",{style:{marginTop:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[a.jsx(hs,{strong:!0,children:s("system.swap","Swap")}),a.jsxs(hs,{children:[c(e.swap_used)," / ",c(e.swap_total)]})]}),a.jsx(er,{percent:Math.round(e.swap_percent),strokeColor:l(e.swap_percent),size:"small"})]})]}),a.jsx(zr,{style:{margin:0}}),a.jsxs("div",{children:[a.jsxs(At,{gutter:16,align:"middle",children:[a.jsx(ke,{span:12,children:a.jsx(Gt,{title:a.jsxs(N,{children:[a.jsx(p1,{style:{color:l(t.percent)}}),a.jsxs("span",{children:[s("system.disk","Disk")," (",t.path,")"]})]}),value:c(t.used),suffix:`/ ${c(t.total)}`,valueStyle:{color:l(t.percent),fontSize:20}})}),a.jsx(ke,{span:12,children:a.jsxs(N,{direction:"vertical",size:4,children:[a.jsxs(hs,{type:"secondary",children:[s("system.free","Free"),": ",c(t.free)]}),a.jsxs(hs,{type:"secondary",children:[s("system.used_percent","Used"),": ",Math.round(t.percent),"%"]})]})})]}),a.jsx(er,{percent:Math.round(t.percent),strokeColor:l(t.percent),style:{marginTop:16}})]})]})})},{Title:kD,Text:cm}=we;function DD(){const{t:e}=Xe(),{settings:t}=na(),[n,s]=b.useState([]),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,h]=b.useState(!0),[p,g]=b.useState(null),[x,v]=b.useState(!0);b.useEffect(()=>{let T;const k=async()=>{try{const P=await Fm();if(!(P!=null&&P.available)){l(!1),d((P==null?void 0:P.reason)||e("gpu.not_available")),h(!1);return}l(!0),s(P.gpus||[]),h(!1)}catch(P){l(!1),d((P==null?void 0:P.message)||e("gpu.not_available")),h(!1)}};return k(),T=setInterval(k,2e3),()=>clearInterval(T)},[e]),b.useEffect(()=>{let T;const k=async()=>{try{const P=await D1();P!=null&&P.available&&g(P),v(!1)}catch{v(!1)}};return k(),T=setInterval(k,2e3),()=>clearInterval(T)},[]);const S=[];return t.showCpuTab!==!1&&(p!=null&&p.cpu)&&p.cpu.percent!==void 0&&S.push({key:"cpu",label:a.jsxs("span",{children:[a.jsx(Mt,{}),e("performance.tab_cpu","CPU")]}),children:a.jsx(AD,{cpu:p.cpu,loading:x})}),t.showMemoryDiskTab!==!1&&(p!=null&&p.memory)&&(p!=null&&p.disk)&&S.push({key:"memory-disk",label:a.jsxs("span",{children:[a.jsx(qt,{}),e("performance.tab_memory_disk","Memory & Disk")]}),children:a.jsx(ED,{memory:p.memory,disk:p.disk,loading:x})}),t.showGpuMetricsTab!==!1&&o&&n.length>0&&S.push({key:"gpu-metrics",label:a.jsxs("span",{children:[a.jsx(Zo,{}),e("performance.tab_gpu_metrics","GPU Metrics")]}),children:a.jsx(Gm,{gpus:n,loading:f})}),t.showGpuTelemetryTab!==!1&&o&&S.push({key:"gpu-telemetry",label:a.jsxs("span",{children:[a.jsx(Mt,{}),e("performance.tab_gpu_telemetry","GPU Telemetry")]}),children:a.jsx(ie,{children:a.jsx(PD,{})})}),a.jsxs(N,{direction:"vertical",size:"large",style:{width:"100%"},children:[a.jsx(ie,{children:a.jsxs(N,{direction:"vertical",size:"small",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(N,{children:[a.jsxs(kD,{level:3,style:{margin:0},children:[a.jsx(ji,{})," ",e("performance.title")]}),a.jsx(it,{title:e("performance.polling_hint","Auto-polling every 2 seconds"),children:a.jsx(Ce,{color:"processing",children:"Real-time"})})]}),(p==null?void 0:p.platform)&&a.jsxs(cm,{type:"secondary",children:[p.platform.system," ",p.platform.release]})]}),a.jsx(cm,{type:"secondary",children:e("performance.desc","Real-time system performance monitoring (CPU, Memory, Disk, GPU)")})]})}),S.length>0?a.jsx(Es,{items:S,defaultActiveKey:"cpu",size:"large",destroyInactiveTabPane:!0}):a.jsx(ie,{children:a.jsx(ot,{description:e("performance.no_tabs","No monitoring tabs enabled. Please enable tabs in Settings.")})}),o===!1&&t.showGpuMetricsTab!==!1&&a.jsx(sn,{type:"info",message:e("gpu.not_available"),description:c||e("gpu.no_nvidia_smi"),showIcon:!0})]})}const{Text:ps,Title:ID}=we;function MD(){const{t:e}=Xe(),[t,n]=b.useState(!0),[s,o]=b.useState(null),l=async()=>{n(!0);try{const[d,f,h]=await Promise.all([Om(),eu(),zm().catch(()=>({total_artifacts:0}))]);o({health:d,config:f,artifacts:h})}catch(d){console.error("Failed to load system info:",d),Q.error("Failed to load system information")}finally{n(!1)}};b.useEffect(()=>{l()},[]);const c=()=>{var p,g,x,v,S,T,k,P,R,D;if(!s)return;const d=s.config.config_file||"Not available",f=s.config.config_file?s.config.config_file.replace("config.json","rate_limits.json"):"Not available",h=`
Runicorn System Information
===========================

Version Information:
- Runicorn: ${s.health.version}
- Status: ${s.health.status}

Storage Configuration:
- Storage Root: ${s.config.storage||s.config.user_root_dir||"Not configured"}

Configuration Files:
- Main Config: ${d}
- Rate Limit Config: ${f}

Cache Statistics:
- Enabled: ${((p=s.health.cache)==null?void 0:p.enabled)||"N/A"}
- Hit Rate: ${((g=s.health.cache)==null?void 0:g.hit_rate)||"N/A"}
- Hits: ${((x=s.health.cache)==null?void 0:x.hits)||0}
- Misses: ${((v=s.health.cache)==null?void 0:v.misses)||0}
- Size: ${((S=s.health.cache)==null?void 0:S.size)||0}/${((T=s.health.cache)==null?void 0:T.max_size)||0}

Artifacts Statistics:
- Total Artifacts: ${((k=s.artifacts)==null?void 0:k.total_artifacts)||0}
- Total Versions: ${((P=s.artifacts)==null?void 0:P.total_versions)||0}
- Deduplication: ${(R=s.artifacts)!=null&&R.dedup_enabled?"Enabled":"Disabled"}
- Space Saved: ${(D=s.artifacts)!=null&&D.dedup_ratio?(s.artifacts.dedup_ratio*100).toFixed(1)+"%":"N/A"}

Generated: ${new Date().toLocaleString()}
`.trim();navigator.clipboard.writeText(h).then(()=>{Q.success(e("settings.system_info.copied"))}).catch(()=>{Q.error(e("settings.system_info.copy_failed"))})};return t||!s?a.jsxs("div",{style:{padding:24,textAlign:"center"},children:[a.jsx(kn,{size:"large"}),a.jsx("div",{style:{marginTop:16},children:a.jsx(ps,{type:"secondary",children:e("settings.system_info.loading")})})]}):a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%",padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(ID,{level:4,style:{margin:0},children:[a.jsx(ea,{})," ",e("settings.system_info.title")]}),a.jsxs(N,{children:[a.jsx(de,{icon:a.jsx(Ps,{}),onClick:l,size:"small",children:e("settings.system_info.refresh")}),a.jsx(de,{icon:a.jsx(m1,{}),onClick:c,size:"small",children:e("settings.system_info.copy_all")})]})]}),a.jsx(ie,{size:"small",title:e("settings.system_info.version_info"),children:a.jsxs(be,{column:1,size:"small",children:[a.jsx(be.Item,{label:e("settings.system_info.runicorn_version"),children:a.jsx(Ce,{color:"blue",children:s.health.version})}),a.jsx(be.Item,{label:e("settings.system_info.api_status"),children:a.jsx(Ce,{color:s.health.status==="ok"?"green":"red",children:s.health.status.toUpperCase()})})]})}),a.jsx(ie,{size:"small",title:e("settings.system_info.storage_config"),children:a.jsx(be,{column:1,size:"small",children:a.jsx(be.Item,{label:e("settings.system_info.storage_root"),children:a.jsx(ps,{code:!0,copyable:!0,children:s.config.storage||s.config.user_root_dir||"Not configured"})})})}),a.jsx(ie,{size:"small",title:e("settings.system_info.config_files"),children:a.jsxs(be,{column:1,size:"small",children:[a.jsx(be.Item,{label:e("settings.system_info.config_file"),children:a.jsx(ps,{code:!0,copyable:!0,style:{fontSize:12},children:s.config.config_file||"Not available"})}),a.jsx(be.Item,{label:e("settings.system_info.rate_limit_config"),children:a.jsx(ps,{code:!0,copyable:!0,style:{fontSize:12},children:s.config.config_file?s.config.config_file.replace("config.json","rate_limits.json"):"Not available"})})]})}),s.health.cache&&a.jsx(ie,{size:"small",title:e("settings.system_info.cache_stats"),children:a.jsxs(be,{column:2,size:"small",children:[a.jsx(be.Item,{label:e("settings.system_info.cache_status"),children:a.jsx(Ce,{color:s.health.cache.enabled?"green":"default",children:s.health.cache.enabled?"Enabled":"Disabled"})}),a.jsx(be.Item,{label:e("settings.system_info.hit_rate"),children:a.jsx(ps,{strong:!0,children:s.health.cache.hit_rate})}),a.jsx(be.Item,{label:e("settings.system_info.hits"),children:s.health.cache.hits}),a.jsx(be.Item,{label:e("settings.system_info.misses"),children:s.health.cache.misses}),a.jsxs(be.Item,{label:e("settings.system_info.cache_size"),children:[s.health.cache.size," / ",s.health.cache.max_size]})]})}),s.artifacts&&s.artifacts.total_artifacts>0&&a.jsx(ie,{size:"small",title:e("settings.system_info.artifacts_stats"),children:a.jsxs(be,{column:2,size:"small",children:[a.jsx(be.Item,{label:e("settings.system_info.total_artifacts"),children:s.artifacts.total_artifacts}),a.jsx(be.Item,{label:e("settings.system_info.total_versions"),children:s.artifacts.total_versions}),a.jsx(be.Item,{label:e("settings.system_info.deduplication"),children:a.jsx(Ce,{color:s.artifacts.dedup_enabled?"green":"default",children:s.artifacts.dedup_enabled?"Enabled":"Disabled"})}),s.artifacts.dedup_enabled&&s.artifacts.dedup_ratio&&a.jsx(be.Item,{label:e("settings.system_info.space_saved"),children:a.jsxs(ps,{type:"success",strong:!0,children:[(s.artifacts.dedup_ratio*100).toFixed(1),"%"]})})]})})]})}const LD={"remote.intro":{zh:"Remote Viewer 架构介绍",en:"Remote Viewer Architecture Intro"},"remote.env.selectHint":{zh:"远程环境选择提示",en:"Remote Environment Selection Hint"},"remote.env.checkRunicorn":{zh:"Runicorn版本检查提示",en:"Runicorn Version Check Hint"},"remote.config.pathNotExists":{zh:"存储路径不存在提示",en:"Storage Path Not Exists Hint"}};function OD(){const{t:e,i18n:t}=Xe(),[n,s]=b.useState([]),[o,l]=b.useState(!1),c=async()=>{l(!0);try{const p=await tx();s(p)}catch{Q.error(e("settings.failedToLoadDismissedAlerts"))}finally{l(!1)}};b.useEffect(()=>{c()},[]);const d=async p=>{try{await hD(p),Q.success(e("settings.alertRestored")),c()}catch{Q.error(e("settings.failedToRestoreAlert"))}},f=async()=>{try{await pD(),Q.success(e("settings.allAlertsRestored")),s([])}catch{Q.error(e("settings.failedToClearAlerts"))}},h=p=>{const g=LD[p];return g?t.language==="zh"?g.zh:g.en:p};return a.jsx(ie,{title:e("settings.dismissedAlerts"),extra:n.length>0&&a.jsx(de,{icon:a.jsx(Ps,{}),onClick:f,size:"small",children:e("settings.restoreAll")}),children:n.length===0?a.jsx(ot,{image:ot.PRESENTED_IMAGE_SIMPLE,description:e("settings.noDismissedAlerts")}):a.jsx(vr,{dataSource:n,loading:o,renderItem:p=>a.jsx(vr.Item,{actions:[a.jsx(it,{title:e("settings.restoreAlert"),children:a.jsx(de,{type:"text",icon:a.jsx(Zc,{}),onClick:()=>d(p)})})],children:a.jsx(vr.Item.Meta,{title:h(p),description:a.jsx("span",{style:{fontSize:"12px",color:"#999"},children:p})})})})})}const FD=[{label:"Aurora",value:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)"},{label:"Sunset",value:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)"},{label:"Ocean",value:"linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)"},{label:"Forest",value:"linear-gradient(135deg, #a8e063 0%, #56ab2f 100%)"}];function zD({open:e,onClose:t,value:n,onChange:s}){const{t:o}=Xe(),{token:l}=tr.useToken(),c=j=>s({...n,...j});o("settings.appearance.density_compact"),o("settings.appearance.density_default"),o("settings.appearance.density_loose");const[d,f]=b.useState(""),[h,p]=b.useState(""),[g,x]=b.useState(!1),[v,S]=b.useState(!1);b.useEffect(()=>{let j=!0;return e&&eu().then(({user_root_dir:E,storage:O})=>{j&&(f(E||""),p(O||""))}).catch(()=>{}),()=>{j=!1}},[e]);const T=async()=>{if(!d||d.trim().length<2){Q.warning(o("settings.messages.enter_valid_path"));return}try{x(!0);const j=await O1(d.trim());p(j.storage),Q.success(o("settings.messages.updated"))}catch(j){Q.error(typeof(j==null?void 0:j.message)=="string"?j.message:o("settings.messages.update_failed"))}finally{x(!1)}},k=()=>a.jsx(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:a.jsx(ie,{size:"small",title:a.jsxs(N,{children:[a.jsx(di,{}),o("settings.cards.theme")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.theme.mode")}),a.jsx(Cs.Group,{value:n.themeMode,onChange:j=>c({themeMode:j.target.value}),options:[{label:o("settings.theme.light"),value:"light"},{label:o("settings.theme.dark"),value:"dark"},{label:o("settings.theme.auto"),value:"auto"}],optionType:"button",style:{width:"100%",marginTop:8}})]}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.appearance.primary_color")}),a.jsx("div",{style:{marginTop:8},children:a.jsx(Sh,{value:n.accentColor,onChange:j=>c({accentColor:j.toHexString()}),showText:!0,format:"hex"})})]}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.appearance.density")}),a.jsx(Ll,{value:n.density,onChange:j=>c({density:j}),options:[{label:o("settings.appearance.density_compact"),value:"compact"},{label:o("settings.appearance.density_default"),value:"default"},{label:o("settings.appearance.density_loose"),value:"loose"}],style:{width:"100%",marginTop:8}})]})]})})}),P=()=>a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(ie,{size:"small",title:a.jsxs(N,{children:[a.jsx(bh,{}),o("settings.cards.background")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.type.label")}),a.jsx(Ll,{value:n.backgroundType,onChange:j=>c({backgroundType:j}),options:[{label:o("background.type.image"),value:"image"},{label:o("background.type.gradient"),value:"gradient"},{label:o("background.type.color"),value:"color"}],style:{width:"100%",marginTop:8}})]}),n.backgroundType==="image"&&a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.image_url")}),a.jsx(nn,{placeholder:o("background.image_url.placeholder"),value:n.backgroundImageUrl,onChange:j=>c({backgroundImageUrl:j.target.value}),style:{marginTop:8}}),n.backgroundImageUrl&&a.jsx("div",{style:{border:"1px solid #eee",borderRadius:6,overflow:"hidden",marginTop:8},children:a.jsx("img",{src:n.backgroundImageUrl,style:{width:"100%",display:"block",maxHeight:120,objectFit:"cover"},alt:o("background.image_preview")})})]}),n.backgroundType==="gradient"&&a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.gradient_presets")}),a.jsx(Ll,{value:n.backgroundGradient,onChange:j=>c({backgroundGradient:j}),options:FD,style:{width:"100%",marginTop:8}})]}),n.backgroundType==="color"&&a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.color")}),a.jsx("div",{style:{marginTop:8},children:a.jsx(Sh,{value:n.backgroundColor,onChange:j=>c({backgroundColor:j.toHexString()}),showText:!0,format:"hex"})})]}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.opacity")}),a.jsx(Do,{min:0,max:1,step:.01,value:n.backgroundOpacity,onChange:j=>c({backgroundOpacity:Array.isArray(j)?j[0]:j}),marks:{0:"0%",.5:"50%",1:"100%"},style:{marginTop:8}})]})]})}),a.jsx(ie,{size:"small",title:a.jsxs(N,{children:[a.jsx(Mt,{}),o("settings.cards.visual_effects")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.glass")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.glass.desc")})]}),a.jsx(It,{checked:n.glass,onChange:j=>c({glass:j})})]}),n.glass&&a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("background.blur")}),a.jsx(Do,{min:0,max:30,step:1,value:n.backgroundBlur,onChange:j=>c({backgroundBlur:Array.isArray(j)?j[0]:j}),marks:{0:"0px",15:"15px",30:"30px"},style:{marginTop:8}})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.animations")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.animations.ui_desc")})]}),a.jsx(It,{checked:n.animationsEnabled,onChange:j=>c({animationsEnabled:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.chart_animations")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.animations.chart_desc")})]}),a.jsx(It,{checked:n.enableChartAnimations,onChange:j=>c({enableChartAnimations:j})})]})]})})]}),R=()=>a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(ie,{size:"small",title:a.jsxs(N,{children:[a.jsx(qt,{}),o("settings.cards.storage")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsx(sn,{type:"info",message:o("settings.data.current_storage",{path:h||o("settings.data.not_configured")||"Not configured"}),style:{marginBottom:12}}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.data.user_root.label")}),a.jsx(nn,{placeholder:o("settings.data.user_root.placeholder"),value:d,onChange:j=>f(j.target.value),style:{marginTop:8}}),a.jsx(we.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0 8px 0"},children:o("settings.data.note")}),a.jsx(de,{loading:g,type:"primary",onClick:T,block:!0,children:o("settings.data.save")})]})]})}),a.jsx(ie,{size:"small",title:a.jsxs(N,{children:[a.jsx(Kc,{}),o("settings.cards.import_export")]}),children:a.jsx(N,{direction:"vertical",style:{width:"100%"},children:a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("offline_import.title")}),a.jsx(we.Paragraph,{type:"secondary",style:{fontSize:"12px",margin:"4px 0"},children:o("offline_import.desc")}),a.jsx(y1.Dragger,{accept:".zip,.tar.gz,.tgz",multiple:!1,showUploadList:!1,disabled:v,beforeUpload:async j=>{try{S(!0);const E=await F1(j),O=((E==null?void 0:E.new_run_ids)||[]).length;Q.success(o("offline_import.success",{count:O}))}catch(E){Q.error(typeof(E==null?void 0:E.message)=="string"?E.message:o("offline_import.failed"))}finally{S(!1)}return!1},style:{padding:"12px"},children:a.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[a.jsx("div",{style:{marginBottom:4,fontSize:"14px"},children:o("offline_import.drag")}),a.jsx("div",{style:{fontSize:"11px",color:l.colorTextSecondary},children:o("offline_import.supports")}),v&&a.jsx("div",{style:{marginTop:4,color:l.colorPrimary,fontSize:"12px"},children:o("offline_import.importing")})]})})]})})}),a.jsx(OD,{})]}),D=()=>a.jsxs(N,{direction:"vertical",style:{width:"100%"},size:"middle",children:[a.jsx(ie,{size:"small",title:a.jsxs(N,{children:[a.jsx(Mt,{}),o("settings.cards.performance")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.auto_refresh")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.auto_refresh.desc")})]}),a.jsx(It,{checked:n.autoRefresh,onChange:j=>c({autoRefresh:j})})]}),n.autoRefresh&&a.jsx("div",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.refresh_interval")}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[a.jsx(fc,{min:1,max:60,value:n.refreshInterval,onChange:j=>c({refreshInterval:j||5}),style:{width:80}}),a.jsx("span",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.units.seconds")})]})]})}),a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.charts.default_height")}),a.jsx(Do,{min:200,max:600,step:20,value:n.defaultChartHeight,onChange:j=>c({defaultChartHeight:Array.isArray(j)?j[0]:j}),marks:{200:"200px",300:"300px",400:"400px",600:"600px"},style:{marginTop:8}})]}),a.jsx("div",{children:a.jsxs("div",{style:{marginTop:8},children:[a.jsx(we.Text,{strong:!0,children:o("settings.charts.max_points")}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[a.jsx(fc,{min:100,max:1e4,step:100,value:n.maxDataPoints,onChange:j=>c({maxDataPoints:j||1e3}),style:{width:120}}),a.jsx("span",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.units.points")})]})]})})]})}),a.jsx(ie,{size:"small",title:a.jsxs(N,{children:[a.jsx(x1,{}),o("settings.cards.advanced")]}),children:a.jsxs(N,{direction:"vertical",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.charts.grid_lines")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.grid_lines.desc")})]}),a.jsx(It,{checked:n.showGridLines,onChange:j=>c({showGridLines:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(we.Text,{strong:!0,children:o("settings.performance.sounds")}),a.jsx("div",{style:{fontSize:"12px",color:l.colorTextSecondary},children:o("settings.sounds.desc")})]}),a.jsx(It,{checked:n.enableSounds,onChange:j=>c({enableSounds:j})})]}),a.jsx(zr,{style:{margin:"16px 0"}}),a.jsx(we.Text,{strong:!0,style:{display:"block",marginBottom:12},children:o("settings.performance.tabs_title","Performance Monitor Tabs")}),a.jsxs(N,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(we.Text,{children:o("settings.performance.show_cpu_tab","Show CPU Tab")}),a.jsx(It,{checked:n.showCpuTab,onChange:j=>c({showCpuTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(we.Text,{children:o("settings.performance.show_memory_disk_tab","Show Memory & Disk Tab")}),a.jsx(It,{checked:n.showMemoryDiskTab,onChange:j=>c({showMemoryDiskTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(we.Text,{children:o("settings.performance.show_gpu_metrics_tab","Show GPU Metrics Tab")}),a.jsx(It,{checked:n.showGpuMetricsTab,onChange:j=>c({showGpuMetricsTab:j})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(we.Text,{children:o("settings.performance.show_gpu_telemetry_tab","Show GPU Telemetry Tab")}),a.jsx(It,{checked:n.showGpuTelemetryTab,onChange:j=>c({showGpuTelemetryTab:j})})]})]})]})})]});return a.jsx(g1,{title:a.jsxs(N,{children:[a.jsx(Yc,{}),a.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:o("settings.drawer.title")})]}),width:600,open:e,onClose:t,destroyOnClose:!0,styles:{body:{padding:"16px"}},children:a.jsx(Es,{defaultActiveKey:"appearance",items:[{key:"appearance",label:a.jsxs(N,{children:[a.jsx(di,{}),a.jsx("span",{children:o("settings.tabs.appearance")})]}),children:k()},{key:"layout",label:a.jsxs(N,{children:[a.jsx(bh,{}),a.jsx("span",{children:o("settings.tabs.layout")})]}),children:P()},{key:"data",label:a.jsxs(N,{children:[a.jsx(qt,{}),a.jsx("span",{children:o("settings.tabs.data")})]}),children:R()},{key:"performance",label:a.jsxs(N,{children:[a.jsx(Mt,{}),a.jsx("span",{children:o("settings.tabs.performance")})]}),children:D()},{key:"system_info",label:a.jsxs(N,{children:[a.jsx(ea,{}),a.jsx("span",{children:o("settings.tabs.system_info")})]}),children:a.jsx(MD,{})}],tabPosition:"top",size:"small"})})}const{Header:$D,Content:VD,Footer:ND}=Im;function BD(){var E;const e=Am(),n=[e.pathname.startsWith("/performance")?"performance":e.pathname.startsWith("/remote")?"remote":e.pathname.startsWith("/artifacts")?"artifacts":(e.pathname.startsWith("/runs/"),"experiments")],{t:s,i18n:o}=Xe(),l={themeMode:"auto",accentColor:"#1677ff",density:"default",glass:!0,backgroundType:"gradient",backgroundImageUrl:"",backgroundGradient:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",backgroundColor:"#0b1220",backgroundOpacity:.9,backgroundBlur:8,autoRefresh:!0,refreshInterval:5,animationsEnabled:!0,enableSounds:!1,defaultChartHeight:320,showGridLines:!0,enableChartAnimations:!0,maxDataPoints:1e3,showCpuTab:!0,showMemoryDiskTab:!0,showGpuMetricsTab:!0,showGpuTelemetryTab:!0},[c,d]=b.useState(()=>{try{const O=localStorage.getItem("ui_settings");return O?{...l,...JSON.parse(O)}:l}catch{return l}});b.useEffect(()=>{try{localStorage.setItem("ui_settings",JSON.stringify(c))}catch{}},[c]);const[f,h]=b.useState(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);b.useEffect(()=>{if(!window.matchMedia)return;const O=window.matchMedia("(prefers-color-scheme: dark)"),z=$=>h($.matches);try{O.addEventListener("change",z)}catch{O.addListener(z)}return()=>{try{O.removeEventListener("change",z)}catch{O.removeListener(z)}}},[]);const p=c.themeMode==="dark"||c.themeMode==="auto"&&f,g=b.useMemo(()=>{const O=[p?tr.darkAlgorithm:tr.defaultAlgorithm];return c.density==="compact"&&O.push(tr.compactAlgorithm),O},[p,c.density]),x=b.useMemo(()=>{const O={colorPrimary:c.accentColor};return c.density==="loose"&&(O.borderRadius=10,O.padding=16),O},[c.accentColor,c.density]),v=b.useMemo(()=>{const O={position:"fixed",inset:0,zIndex:0,pointerEvents:"none",opacity:c.backgroundOpacity,transition:"background 0.3s ease"};return c.backgroundType==="image"&&c.backgroundImageUrl?(O.backgroundImage=`url(${c.backgroundImageUrl})`,O.backgroundSize="cover",O.backgroundRepeat="no-repeat",O.backgroundPosition="center center"):c.backgroundType==="gradient"?O.backgroundImage=c.backgroundGradient:O.background=c.backgroundColor,O},[c.backgroundType,c.backgroundImageUrl,c.backgroundGradient,c.backgroundColor,c.backgroundOpacity]),S=b.useMemo(()=>{const O={borderRadius:8,transition:c.animationsEnabled?"all 0.3s ease":"none"};return c.glass?{...O,background:p?"rgba(0,0,0,0.25)":"rgba(255,255,255,0.6)",backdropFilter:`blur(${c.backgroundBlur}px)`,WebkitBackdropFilter:`blur(${c.backgroundBlur}px)`,boxShadow:p?"0 4px 30px rgba(0,0,0,0.3)":"0 4px 30px rgba(0,0,0,0.1)"}:{...O,background:p?"#111a2c":"#fff"}},[c.glass,c.backgroundBlur,c.animationsEnabled,p]),[T,k]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const O=await eu();(!O.user_root_dir||O.user_root_dir.trim()==="")&&k(!0)}catch{}})()},[]);const[P,R]=b.useState("loading"),[D,j]=b.useState(0);return b.useEffect(()=>{let O=!0;const z=async()=>{try{await Om(),O&&(R("ok"),j(0))}catch{O&&j(K=>{const J=K+1;return J>=2&&R("down"),J})}};z();const $=(c.autoRefresh?c.refreshInterval:5)*1e3,B=setInterval(z,$);return()=>{O=!1,clearInterval(B)}},[c.autoRefresh,c.refreshInterval]),a.jsx(v1,{theme:{algorithm:g,token:{...x,motion:c.animationsEnabled}},children:a.jsxs(hC,{value:{settings:c,setSettings:d},children:[a.jsx("div",{style:v}),a.jsxs(Im,{style:{minHeight:"100vh",position:"relative",zIndex:1,background:"transparent",transition:c.animationsEnabled?"all 0.3s ease":"none"},children:[a.jsxs($D,{style:{display:"flex",alignItems:"center"},children:[a.jsx("div",{style:{color:"#fff",fontWeight:700,marginRight:24},children:s("app.title")}),a.jsx(w1,{theme:"dark",mode:"horizontal",selectedKeys:n,items:[{key:"experiments",icon:a.jsx(qc,{}),label:a.jsx(_o,{to:"/",children:s("menu.experiments")})},{key:"artifacts",icon:a.jsx(qt,{}),label:a.jsx(_o,{to:"/artifacts",children:s("menu.artifacts")})},{key:"performance",icon:a.jsx(ji,{}),label:a.jsx(_o,{to:"/performance",children:s("menu.performance")})},{key:"remote",icon:a.jsx(hi,{}),label:a.jsx(_o,{to:"/remote",children:s("menu.remote")})}],style:{flex:1,minWidth:0}}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[P==="ok"&&a.jsx(Ce,{color:"green",children:s("tag.api_ok")}),P==="loading"&&a.jsx(Ce,{color:"processing",children:s("tag.api_loading")}),P==="down"&&a.jsx(Ce,{children:s("tag.api_down")}),a.jsx(gt,{size:"small",value:(E=o.language)!=null&&E.startsWith("zh")?"zh":"en",onChange:O=>o.changeLanguage(O),style:{width:88},options:[{value:"en",label:"EN"},{value:"zh",label:"中文"}]}),a.jsx(de,{type:"link",icon:a.jsx(Yc,{style:{color:"#fff"}}),onClick:()=>k(!0)})]})]}),a.jsx(VD,{style:{padding:"24px"},children:a.jsx("div",{style:{...S,padding:24,minHeight:360},children:a.jsx(Kk,{children:a.jsxs(Uj,{children:[a.jsx(us,{path:"/",element:a.jsx(Yk,{})}),a.jsx(us,{path:"/runs/:id",element:a.jsx(CC,{})}),a.jsx(us,{path:"/artifacts",element:a.jsx(Jk,{})}),a.jsx(us,{path:"/artifacts/:name",element:a.jsx(sD,{})}),a.jsx(us,{path:"/performance",element:a.jsx(DD,{})}),a.jsx(us,{path:"/remote",element:a.jsx(CD,{})})]})})})}),a.jsxs(ND,{style:{textAlign:"center"},children:[" ",new Date().getFullYear()," ",s("app.title")]})]}),a.jsx(zD,{open:T,onClose:()=>k(!1),value:c,onChange:d})]})})}const ve=e=>typeof e=="string",Qs=()=>{let e,t;const n=new Promise((s,o)=>{e=s,t=o});return n.resolve=e,n.reject=t,n},um=e=>e==null?"":""+e,UD=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},WD=/###/g,dm=e=>e&&e.indexOf("###")>-1?e.replace(WD,"."):e,fm=e=>!e||ve(e),ci=(e,t,n)=>{const s=ve(t)?t.split("."):t;let o=0;for(;o<s.length-1;){if(fm(e))return{};const l=dm(s[o]);!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={},++o}return fm(e)?{}:{obj:e,k:dm(s[o])}},hm=(e,t,n)=>{const{obj:s,k:o}=ci(e,t,Object);if(s!==void 0||t.length===1){s[o]=n;return}let l=t[t.length-1],c=t.slice(0,t.length-1),d=ci(e,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=ci(e,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=n},HD=(e,t,n,s)=>{const{obj:o,k:l}=ci(e,t,Object);o[l]=o[l]||[],o[l].push(n)},Yo=(e,t)=>{const{obj:n,k:s}=ci(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},GD=(e,t,n)=>{const s=Yo(e,n);return s!==void 0?s:Yo(t,n)},nx=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?ve(e[s])||e[s]instanceof String||ve(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):nx(e[s],t[s],n):e[s]=t[s]);return e},ms=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var KD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qD=e=>ve(e)?e.replace(/[&<>"'\/]/g,t=>KD[t]):e;class YD{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const XD=[" ",",","?","!",";"],JD=new YD(20),ZD=(e,t,n)=>{t=t||"",n=n||"";const s=XD.filter(c=>t.indexOf(c)<0&&n.indexOf(c)<0);if(s.length===0)return!0;const o=JD.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!o.test(e);if(!l){const c=e.indexOf(n);c>0&&!o.test(e.substring(0,c))&&(l=!0)}return l},Wc=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(n);let o=e;for(let l=0;l<s.length;){if(!o||typeof o!="object")return;let c,d="";for(let f=l;f<s.length;++f)if(f!==l&&(d+=n),d+=s[f],c=o[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&f<s.length-1)continue;l+=f-l+1;break}o=c}return o},_i=e=>e==null?void 0:e.replace("_","-"),QD={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,s;(s=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||s.call(n,console,t)}};class Xo{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||QD,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,o){return o&&!this.debug?null:(ve(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Xo(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Xo(this.logger,t)}}var zn=new Xo;class ga{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(n)||0;this.observers[s].set(n,o+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o.apply(o,[t,...n])})}}class pm extends ga{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s,o={}){var h,p;const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;t.indexOf(".")>-1?d=t.split("."):(d=[t,n],s&&(Array.isArray(s)?d.push(...s):ve(s)&&l?d.push(...s.split(l)):d.push(s)));const f=Yo(this.data,d);return!f&&!n&&!s&&t.indexOf(".")>-1&&(t=d[0],n=d[1],s=d.slice(2).join(".")),f||!c||!ve(s)?f:Wc((p=(h=this.data)==null?void 0:h[t])==null?void 0:p[n],s,l)}addResource(t,n,s,o,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[t,n];s&&(d=d.concat(c?s.split(c):s)),t.indexOf(".")>-1&&(d=t.split("."),o=n,n=d[1]),this.addNamespaces(n),hm(this.data,d,o),l.silent||this.emit("added",t,n,s,o)}addResources(t,n,s,o={silent:!1}){for(const l in s)(ve(s[l])||Array.isArray(s[l]))&&this.addResource(t,n,l,s[l],{silent:!0});o.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,o,l,c={silent:!1,skipCopy:!1}){let d=[t,n];t.indexOf(".")>-1&&(d=t.split("."),o=s,s=n,n=d[1]),this.addNamespaces(n);let f=Yo(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?nx(f,s,l):f={...f,...s},hm(this.data,d,f),c.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var rx={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,o){return e.forEach(l=>{var c;t=((c=this.processors[l])==null?void 0:c.process(t,n,s,o))??t}),t}};const sx=Symbol("i18next/PATH_KEY");function eI(){const e=[],t=Object.create(null);let n;return t.get=(s,o)=>{var l;return(l=n==null?void 0:n.revoke)==null||l.call(n),o===sx?e:(e.push(o),n=Proxy.revocable(s,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function Hc(e,t){const{[sx]:n}=e(eI());return n.join((t==null?void 0:t.keySeparator)??".")}const mm={},gm=e=>!ve(e)&&typeof e!="boolean"&&typeof e!="number";class Jo extends ga{constructor(t,n={}){super(),UD(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=zn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const s={...n};if(t==null)return!1;const o=this.resolve(t,s);return(o==null?void 0:o.res)!==void 0}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const c=s&&t.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!ZD(t,s,o);if(c&&!d){const f=t.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:t,namespaces:ve(l)?[l]:l};const h=t.split(s);(s!==o||s===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),t=h.join(o)}return{key:t,namespaces:ve(l)?[l]:l}}translate(t,n,s){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),t==null)return"";typeof t=="function"&&(t=Hc(t,{...this.options,...o})),Array.isArray(t)||(t=[String(t)]);const l=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(t[t.length-1],o),h=f[f.length-1];let p=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=o.lng||this.language,x=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return x?l?{res:`${h}${p}${d}`,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(o)}:`${h}${p}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(o)}:d;const v=this.resolve(t,o);let S=v==null?void 0:v.res;const T=(v==null?void 0:v.usedKey)||d,k=(v==null?void 0:v.exactUsedKey)||d,P=["[object Number]","[object Function]","[object RegExp]"],R=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,j=o.count!==void 0&&!ve(o.count),E=Jo.hasDefaultValue(o),O=j?this.pluralResolver.getSuffix(g,o.count,o):"",z=o.ordinal&&j?this.pluralResolver.getSuffix(g,o.count,{ordinal:!1}):"",$=j&&!o.ordinal&&o.count===0,B=$&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${O}`]||o[`defaultValue${z}`]||o.defaultValue;let K=S;D&&!S&&E&&(K=B);const J=gm(K),Le=Object.prototype.toString.apply(K);if(D&&K&&J&&P.indexOf(Le)<0&&!(ve(R)&&Array.isArray(K))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ee=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,K,{...o,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(v.res=ee,v.usedParams=this.getUsedParamsDetails(o),v):ee}if(c){const ee=Array.isArray(K),ce=ee?[]:{},je=ee?k:T;for(const ue in K)if(Object.prototype.hasOwnProperty.call(K,ue)){const ne=`${je}${c}${ue}`;E&&!S?ce[ue]=this.translate(ne,{...o,defaultValue:gm(B)?B[ue]:void 0,joinArrays:!1,ns:f}):ce[ue]=this.translate(ne,{...o,joinArrays:!1,ns:f}),ce[ue]===ne&&(ce[ue]=K[ue])}S=ce}}else if(D&&ve(R)&&Array.isArray(S))S=S.join(R),S&&(S=this.extendTranslation(S,t,o,s));else{let ee=!1,ce=!1;!this.isValidLookup(S)&&E&&(ee=!0,S=B),this.isValidLookup(S)||(ce=!0,S=d);const ue=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ce?void 0:S,ne=E&&B!==S&&this.options.updateMissing;if(ce||ee||ne){if(this.logger.log(ne?"updateKey":"missingKey",g,h,d,ne?B:S),c){const oe=this.resolve(d,{...o,keySeparator:!1});oe&&oe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let oe=0;oe<G.length;oe++)Y.push(G[oe]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(o.lng||this.language):Y.push(o.lng||this.language);const Z=(oe,pe,Ke)=>{var qe;const Je=E&&Ke!==S?Ke:ue;this.options.missingKeyHandler?this.options.missingKeyHandler(oe,h,pe,Je,ne,o):(qe=this.backendConnector)!=null&&qe.saveMissing&&this.backendConnector.saveMissing(oe,h,pe,Je,ne,o),this.emit("missingKey",oe,h,pe,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?Y.forEach(oe=>{const pe=this.pluralResolver.getSuffixes(oe,o);$&&o[`defaultValue${this.options.pluralSeparator}zero`]&&pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&pe.push(`${this.options.pluralSeparator}zero`),pe.forEach(Ke=>{Z([oe],d+Ke,o[`defaultValue${Ke}`]||B)})}):Z(Y,d,B))}S=this.extendTranslation(S,t,o,v,s),ce&&S===d&&this.options.appendNamespaceToMissingKey&&(S=`${h}${p}${d}`),(ce||ee)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${d}`:d,ee?S:void 0,o))}return l?(v.res=S,v.usedParams=this.getUsedParamsDetails(o),v):S}extendTranslation(t,n,s,o,l){var f,h;if((f=this.i18nFormat)!=null&&f.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=ve(t)&&(((h=s==null?void 0:s.interpolation)==null?void 0:h.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const v=t.match(this.interpolator.nestingRegexp);g=v&&v.length}let x=s.replace&&!ve(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),t=this.interpolator.interpolate(t,x,s.lng||this.language||o.usedLng,s),p){const v=t.match(this.interpolator.nestingRegexp),S=v&&v.length;g<S&&(s.nest=!1)}!s.lng&&o&&o.res&&(s.lng=this.language||o.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>(l==null?void 0:l[0])===v[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=ve(c)?[c]:c;return t!=null&&(d!=null&&d.length)&&s.applyPostProcessor!==!1&&(t=rx.handle(d,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,n={}){let s,o,l,c,d;return ve(t)&&(t=[t]),t.forEach(f=>{if(this.isValidLookup(s))return;const h=this.extractFromKey(f,n),p=h.key;o=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const x=n.count!==void 0&&!ve(n.count),v=x&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(ve(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(k=>{var P,R;this.isValidLookup(s)||(d=k,!mm[`${T[0]}-${k}`]&&((P=this.utils)!=null&&P.hasLoadedNamespace)&&!((R=this.utils)!=null&&R.hasLoadedNamespace(d))&&(mm[`${T[0]}-${k}`]=!0,this.logger.warn(`key "${o}" for languages "${T.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(D=>{var O;if(this.isValidLookup(s))return;c=D;const j=[p];if((O=this.i18nFormat)!=null&&O.addLookupKeys)this.i18nFormat.addLookupKeys(j,p,D,k,n);else{let z;x&&(z=this.pluralResolver.getSuffix(D,n.count,n));const $=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&z.indexOf(B)===0&&j.push(p+z.replace(B,this.options.pluralSeparator)),j.push(p+z),v&&j.push(p+$)),S){const K=`${p}${this.options.contextSeparator||"_"}${n.context}`;j.push(K),x&&(n.ordinal&&z.indexOf(B)===0&&j.push(K+z.replace(B,this.options.pluralSeparator)),j.push(K+z),v&&j.push(K+$))}}let E;for(;E=j.pop();)this.isValidLookup(s)||(l=E,s=this.getResource(D,k,E,n))}))})}),{res:s,usedKey:o,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s,o={}){var l;return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(t,n,s,o):this.resourceStore.getResource(t,n,s,o)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!ve(t.replace);let o=s?t.replace:t;if(s&&typeof t.count<"u"&&(o.count=t.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const l of n)delete o[l]}return o}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}class ym{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zn.create("languageUtils")}getScriptPartFromCode(t){if(t=_i(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=_i(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ve(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const o=this.getScriptPartFromCode(s);if(this.isSupportedCode(o))return n=o;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ve(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),o=[],l=c=>{c&&(this.isSupportedCode(c)?o.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return ve(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(t))):ve(t)&&l(this.formatLanguageCode(t)),s.forEach(c=>{o.indexOf(c)<0&&l(this.formatLanguageCode(c))}),o}}const xm={zero:0,one:1,two:2,few:3,many:4,other:5},vm={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tI{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=zn.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const s=_i(t==="dev"?"en":t),o=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(s,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),vm;if(!t.match(/-|_/))return vm;const f=this.languageUtils.getLanguagePartFromCode(t);c=this.getRule(f,n)}return this.pluralRulesCache[l]=c,c}needsPlural(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,s={}){return this.getSuffixes(t,s).map(o=>`${n}${o}`)}getSuffixes(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((o,l)=>xm[o]-xm[l]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(t,n,s={}){const o=this.getRule(t,s);return o?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,s))}}const wm=(e,t,n,s=".",o=!0)=>{let l=GD(e,t,n);return!l&&o&&ve(n)&&(l=Wc(e,n,s),l===void 0&&(l=Wc(t,n,s))),l},ac=e=>e.replace(/\$/g,"$$$$");class nI{constructor(t={}){var n;this.logger=zn.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(s=>s),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:o,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:f,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:x,nestingPrefixEscaped:v,nestingSuffix:S,nestingSuffixEscaped:T,nestingOptionsSeparator:k,maxReplaces:P,alwaysFormat:R}=t.interpolation;this.escape=n!==void 0?n:qD,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?ms(l):c||"{{",this.suffix=d?ms(d):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=x?ms(x):v||ms("$t("),this.nestingSuffix=S?ms(S):T||ms(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=P||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,s,o){var v;let l,c,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=S=>{if(S.indexOf(this.formatSeparator)<0){const R=wm(n,f,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,s,{...o,...n,interpolationkey:S}):R}const T=S.split(this.formatSeparator),k=T.shift().trim(),P=T.join(this.formatSeparator).trim();return this.format(wm(n,f,k,this.options.keySeparator,this.options.ignoreJSONStructure),P,s,{...o,...n,interpolationkey:k})};this.resetRegExp();const p=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((v=o==null?void 0:o.interpolation)==null?void 0:v.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>ac(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?ac(this.escape(S)):ac(S)}].forEach(S=>{for(d=0;l=S.regex.exec(t);){const T=l[1].trim();if(c=h(T),c===void 0)if(typeof p=="function"){const P=p(t,l,o);c=ve(P)?P:""}else if(o&&Object.prototype.hasOwnProperty.call(o,T))c="";else if(g){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${t}`),c="";else!ve(c)&&!this.useRawValueToEscape&&(c=um(c));const k=S.safeValue(c);if(t=t.replace(l[0],k),g?(S.regex.lastIndex+=c.length,S.regex.lastIndex-=l[0].length):S.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),t}nest(t,n,s={}){let o,l,c;const d=(f,h)=>{const p=this.nestingOptionsSeparator;if(f.indexOf(p)<0)return f;const g=f.split(new RegExp(`${p}[ ]*{`));let x=`{${g[1]}`;f=g[0],x=this.interpolate(x,c);const v=x.match(/'/g),S=x.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!S||S.length%2!==0)&&(x=x.replace(/'/g,'"'));try{c=JSON.parse(x),h&&(c={...h,...c})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,T),`${f}${p}${x}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,f};for(;o=this.nestingRegexp.exec(t);){let f=[];c={...s},c=c.replace&&!ve(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const h=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(h!==-1&&(f=o[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),o[1]=o[1].slice(0,h)),l=n(d.call(this,o[1].trim(),c),c),l&&o[0]===t&&!ve(l))return l;ve(l)||(l=um(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${t}`),l=""),f.length&&(l=f.reduce((p,g)=>this.format(p,g,s.lng,{...s,interpolationkey:o[1].trim()}),l.trim())),t=t.replace(o[0],l),this.regexp.lastIndex=0}return t}}const rI=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);t==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):t==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(c=>{if(c){const[d,...f]=c.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),p=d.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:t,formatOptions:n}},_m=e=>{const t={};return(n,s,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const c=s+JSON.stringify(l);let d=t[c];return d||(d=e(_i(s),o),t[c]=d),d(n)}},sI=e=>(t,n,s)=>e(_i(n),s)(t);class iI{constructor(t={}){this.logger=zn.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?_m:sI;this.formats={number:s((o,l)=>{const c=new Intl.NumberFormat(o,{...l});return d=>c.format(d)}),currency:s((o,l)=>{const c=new Intl.NumberFormat(o,{...l,style:"currency"});return d=>c.format(d)}),datetime:s((o,l)=>{const c=new Intl.DateTimeFormat(o,{...l});return d=>c.format(d)}),relativetime:s((o,l)=>{const c=new Intl.RelativeTimeFormat(o,{...l});return d=>c.format(d,l.range||"day")}),list:s((o,l)=>{const c=new Intl.ListFormat(o,{...l});return d=>c.format(d)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=_m(n)}format(t,n,s,o={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(f=>f.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,f)=>{var g;const{formatName:h,formatOptions:p}=rI(f);if(this.formats[h]){let x=d;try{const v=((g=o==null?void 0:o.formatParams)==null?void 0:g[o.interpolationkey])||{},S=v.locale||v.lng||o.locale||o.lng||s;x=this.formats[h](d,S,{...p,...o,...v})}catch(v){this.logger.warn(v)}return x}else this.logger.warn(`there was no format function for ${h}`);return d},t)}}const oI=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class aI extends ga{constructor(t,n,s,o={}){var l,c;super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=zn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(c=(l=this.backend)==null?void 0:l.init)==null||c.call(l,s,o.backend,o)}queueLoad(t,n,s,o){const l={},c={},d={},f={};return t.forEach(h=>{let p=!0;n.forEach(g=>{const x=`${h}|${g}`;!s.reload&&this.store.hasResourceBundle(h,g)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?c[x]===void 0&&(c[x]=!0):(this.state[x]=1,p=!1,c[x]===void 0&&(c[x]=!0),l[x]===void 0&&(l[x]=!0),f[g]===void 0&&(f[g]=!0)))}),p||(d[h]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(t,n,s){const o=t.split("|"),l=o[0],c=o[1];n&&this.emit("failedLoading",l,c,n),!n&&s&&this.store.addResourceBundle(l,c,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const d={};this.queue.forEach(f=>{HD(f.loaded,[l],c),oI(f,t),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{d[h]||(d[h]={});const p=f.loaded[h];p.length&&p.forEach(g=>{d[h][g]===void 0&&(d[h][g]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(t,n,s,o=0,l=this.retryTimeout,c){if(!t.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:o,wait:l,callback:c});return}this.readingCalls++;const d=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,o+1,l*2,c)},l);return}c(h,p)},f=this.backend[s].bind(this.backend);if(f.length===2){try{const h=f(t,n);h&&typeof h.then=="function"?h.then(p=>d(null,p)).catch(d):d(null,h)}catch(h){d(h)}return}return f(t,n,d)}prepareLoading(t,n,s={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();ve(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ve(n)&&(n=[n]);const l=this.queueLoad(t,n,s,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t,n=""){const s=t.split("|"),o=s[0],l=s[1];this.read(o,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${l} for language ${o} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${l} for language ${o}`,d),this.loaded(t,c,d)})}saveMissing(t,n,s,o,l,c={},d=()=>{}){var f,h,p,g,x;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((x=this.backend)!=null&&x.create){const v={...c,isUpdate:l},S=this.backend.create.bind(this.backend);if(S.length<6)try{let T;S.length===5?T=S(t,n,s,o,v):T=S(t,n,s,o),T&&typeof T.then=="function"?T.then(k=>d(null,k)).catch(d):d(null,T)}catch(T){d(T)}else S(t,n,s,o,d,v)}!t||!t[0]||this.store.addResource(t[0],n,s,o)}}}const bm=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ve(e[1])&&(t.defaultValue=e[1]),ve(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Sm=e=>{var t,n;return ve(e.ns)&&(e.ns=[e.ns]),ve(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ve(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},ko=()=>{},lI=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class bi extends ga{constructor(t={},n){if(super(),this.options=Sm(t),this.services={},this.logger=zn,this.modules={external:[]},lI(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(ve(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=bm();this.options={...s,...this.options,...Sm(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?zn.init(o(this.modules.logger),this.options):zn.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=iI;const p=new ym(this.options);this.store=new pm(this.options.resources,this.options);const g=this.services;g.logger=zn,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new tI(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=o(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new nI(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new aI(o(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.languageDetector&&(g.languageDetector=o(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=o(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Jo(this.services,this.options),this.translator.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ko),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const d=Qs(),f=()=>{const h=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(g),n(p,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(t,n=ko){var l,c;let s=n;const o=ve(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const d=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&d.indexOf(g)<0&&d.push(g)})};o?f(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),(c=(l=this.options.preload)==null?void 0:l.forEach)==null||c.call(l,h=>f(h)),this.services.backendConnector.load(d,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(h)})}else s(null)}reloadResources(t,n,s){const o=Qs();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=ko),this.services.backendConnector.reload(t,n,l=>{o.resolve(),s(l)}),o}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&rx.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const s=Qs();this.emit("languageChanging",t);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,f)=>{f?this.isLanguageChangingTo===t&&(o(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,s.resolve((...h)=>this.t(...h)),n&&n(d,(...h)=>this.t(...h))},c=d=>{var p,g;!t&&!d&&this.services.languageDetector&&(d=[]);const f=ve(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(ve(d)?[d]:d);h&&(this.language||o(h),this.translator.language||this.translator.changeLanguage(h),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,h)),this.loadResources(h,x=>{l(x,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),s}getFixedT(t,n,s){const o=(l,c,...d)=>{let f;typeof c!="object"?f=this.options.overloadTranslationOptionHandler([l,c].concat(d)):f={...c},f.lng=f.lng||o.lng,f.lngs=f.lngs||o.lngs,f.ns=f.ns||o.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||s||o.keyPrefix);const h=this.options.keySeparator||".";let p;return f.keyPrefix&&Array.isArray(l)?p=l.map(g=>(typeof g=="function"&&(g=Hc(g,{...this.options,...c})),`${f.keyPrefix}${h}${g}`)):(typeof l=="function"&&(l=Hc(l,{...this.options,...c})),p=f.keyPrefix?`${f.keyPrefix}${h}${l}`:l),this.t(p,f)};return ve(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=s,o}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,f)=>{const h=this.services.backendConnector.state[`${d}|${f}`];return h===-1||h===0||h===2};if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,t)&&(!o||c(l,t)))}loadNamespaces(t,n){const s=Qs();return this.options.ns?(ve(t)&&(t=[t]),t.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=Qs();ve(t)&&(t=[t]);const o=this.options.preload||[],l=t.filter(c=>o.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=o.concat(l),this.loadResources(c=>{s.resolve(),n&&n(c)}),s):(n&&n(),Promise.resolve())}dir(t){var o,l;if(t||(t=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const c=new Intl.Locale(t);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((l=this.services)==null?void 0:l.languageUtils)||new ym(bm());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new bi(t,n)}cloneInstance(t={},n=ko){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const o={...this.options,...t,isClone:!0},l=new bi(o);if((t.debug!==void 0||t.prefix!==void 0)&&(l.logger=l.logger.clone(t)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const d=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((p,g)=>(p[g]={...f[h][g]},p),f[h]),f),{});l.store=new pm(d,o),l.services.resourceStore=l.store}return l.translator=new Jo(l.services,o),l.translator.on("*",(d,...f)=>{l.emit(d,...f)}),l.init(o,n),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Lt=bi.createInstance();Lt.createInstance=bi.createInstance;Lt.createInstance;Lt.dir;Lt.init;Lt.loadResources;Lt.reloadResources;Lt.use;Lt.changeLanguage;Lt.getFixedT;Lt.t;Lt.exists;Lt.setDefaultNamespace;Lt.hasLoadedNamespace;Lt.loadNamespaces;Lt.loadLanguages;var ix=[],cI=ix.forEach,uI=ix.slice;function dI(e){return cI.call(uI.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var jm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,fI=function(t,n,s){var o=s||{};o.path=o.path||"/";var l=encodeURIComponent(n),c="".concat(t,"=").concat(l);if(o.maxAge>0){var d=o.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+="; Max-Age=".concat(Math.floor(d))}if(o.domain){if(!jm.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain=".concat(o.domain)}if(o.path){if(!jm.test(o.path))throw new TypeError("option path is invalid");c+="; Path=".concat(o.path)}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+="; Expires=".concat(o.expires.toUTCString())}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite){var f=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(f){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c},Cm={create:function(t,n,s,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+s*60*1e3)),o&&(l.domain=o),document.cookie=fI(t,encodeURIComponent(n),l)},read:function(t){for(var n="".concat(t,"="),s=document.cookie.split(";"),o=0;o<s.length;o++){for(var l=s[o];l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(n)===0)return l.substring(n.length,l.length)}return null},remove:function(t){this.create(t,"",-1)}},hI={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var s=Cm.read(t.lookupCookie);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&Cm.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},pI={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));for(var o=s.substring(1),l=o.split("&"),c=0;c<l.length;c++){var d=l[c].indexOf("=");if(d>0){var f=l[c].substring(0,d);f===t.lookupQuerystring&&(n=l[c].substring(d+1))}}}return n}},ei=null,Tm=function(){if(ei!==null)return ei;try{ei=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{ei=!1}return ei},mI={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&Tm()){var s=window.localStorage.getItem(t.lookupLocalStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&Tm()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},ti=null,Pm=function(){if(ti!==null)return ti;try{ti=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ti=!1}return ti},gI={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&Pm()){var s=window.sessionStorage.getItem(t.lookupSessionStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&Pm()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},yI={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var s=0;s<navigator.languages.length;s++)n.push(navigator.languages[s]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},xI={name:"htmlTag",lookup:function(t){var n,s=t.htmlTag||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},vI={name:"path",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(s instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof s[t.lookupFromPathIndex]!="string")return;n=s[t.lookupFromPathIndex].replace("/","")}else n=s[0].replace("/","")}return n}},wI={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,s=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}},ox=!1;try{document.cookie,ox=!0}catch{}var ax=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ox||ax.splice(1,1);function _I(){return{order:ax,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var lx=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b1(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return _1(e,[{key:"init",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=dI(s,this.options||{},_I()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(l){return l.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(hI),this.addDetector(pI),this.addDetector(mI),this.addDetector(gI),this.addDetector(yI),this.addDetector(xI),this.addDetector(vI),this.addDetector(wI)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var s=this;n||(n=this.options.order);var o=[];return n.forEach(function(l){if(s.detectors[l]){var c=s.detectors[l].lookup(s.options);c&&typeof c=="string"&&(c=[c]),c&&(o=o.concat(c))}}),o=o.map(function(l){return s.options.convertDetectedLanguage(l)}),this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}},{key:"cacheUserLanguage",value:function(n,s){var o=this;s||(s=this.options.caches),s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||s.forEach(function(l){o.detectors[l]&&o.detectors[l].cacheUserLanguage(n,o.options)}))}}])}();lx.type="languageDetector";const bI={"app.title":"Runicorn Viewer","menu.runs":"Runs","menu.experiments":"Experiments","menu.comparison":"Comparison","menu.artifacts":"Artifacts","menu.performance":"Performance Monitor","menu.remote":"Remote","tag.api_ok":"API OK","tag.api_loading":"API…","tag.api_down":"API DOWN","table.project":"Project","table.name":"Name","table.run_id":"Run ID","table.status":"Status","table.best_metric":"Best Metric","table.pid":"PID","table.created":"Created","table.actions":"Actions","table.view":"View","table.duration":"Duration",pause:"Pause",Info:"Info",View:"View","Load Lineage Graph":"Load Lineage Graph",actions:"Actions",view:"View",edit:"Edit","common.dontShowAgain":"Don't show again",delete:"Delete",download:"Download",upload:"Upload",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close"},SI={"experiments.title":"Experiments","experiments.subtitle":"Track, compare, and analyze your experiments with metrics and logs","experiments.total_runs":"Total Runs","experiments.running":"Running","experiments.finished":"Finished","experiments.failed":"Failed","experiments.interrupted":"Interrupted","experiments.best_metric":"Best Metric","experiments.artifacts_created":"Artifacts","experiments.artifacts_created_tip":"{{count}} artifacts created","experiments.search_placeholder":"Search by name or ID...","experiments.compare":"Compare","experiments.export":"Export","experiments.delete":"Delete","experiments.cancel":"Cancel","experiments.fetch_failed":"Failed to fetch runs","experiments.delete_confirm_title":"Delete Runs","experiments.delete_confirm_content":"Delete {{count}} selected runs? This cannot be undone.","experiments.delete_success":"Successfully deleted {{count}} runs","experiments.delete_failed":"Failed to delete runs","experiments.export_started":"Exporting runs...","experiments.select_multiple":"Please select at least 2 runs to compare","experiments.compare_hint":"Use the comparison feature in the run detail page","experiments.select_one":"Please select at least one run to export","experiments.export_success":"Successfully exported {{count}} runs","experiments.export_failed":"Failed to export runs","experiments.export_json":"Export as JSON","experiments.export_csv":"Export as CSV","experiments.auto_refresh":"Auto-refresh","experiments.check_status":"Check Status","experiments.check_status_tooltip":"Check if running experiments are still alive and update their status","experiments.move_to_bin_title":"Move to Recycle Bin","experiments.soft_delete_confirm_content":"Move {{count}} selected runs to recycle bin?","experiments.soft_delete_note":"Files will be preserved and can be restored later.","experiments.move_to_bin":"Move to Bin","experiments.soft_delete_success":"Moved {{count}} runs to recycle bin","experiments.new_runs":"New runs detected","experiments.select_one_delete":"Please select at least one run to delete","experiments.delete_warning":"This cannot be undone!","experiments.no_runs":"No experiments found","experiments.table_total":"{{from}}-{{to}} of {{total}} items","runs.refresh":"Refresh","runs.auto_refresh_hint":"Auto refresh every 5s","runs.auto_refresh":"Auto Refresh","runs.filter.project":"Project:","runs.filter.name":"Name:","runs.filter.all":"All","runs.refreshing":"Refreshing...","run.title":"Run {{id}}","run.descriptions.status":"Status","run.descriptions.pid":"PID","run.descriptions.project":"Project","run.descriptions.name":"Name","run.descriptions.dir":"Run Dir","run.descriptions.logs":"Logs","run.descriptions.metrics":"Metrics Events","run.load_failed":"Failed to load run details","run.metrics_failed":"Failed to load metrics","run.stats.duration":"Duration","run.stats.total_steps":"Total Steps","run.stats.artifacts":"Artifacts","run.more_details":"More Details (Paths, Logs)","run.descriptions.run_id":"Run ID","run.descriptions.run_dir":"Run Dir","run.descriptions.log_file":"Log File","run.updated":"Updated: {{time}}","run.refresh":"Refresh","run.refreshed":"Refreshed","metrics.title":"Metrics","metrics.more_columns":"More Columns","metrics.more_columns_tooltip":"Display charts in multiple columns for better comparison","metrics.none":"No step metrics yet.","logs.title":"Live Logs","logs.status.connected":"Connected","logs.status.connecting":"Connecting...","logs.status.disconnected":"Disconnected","logs.status.retry_in":"retry in {{sec}}s","logs.tooltip.autoscroll":"Automatically scroll to the latest line","logs.autoscroll":"Auto Scroll","logs.tooltip.filter_tqdm":"Hide tqdm progress frames to reduce noise","logs.filter_tqdm":"Filter tqdm","logs.clear":"Clear","logs.copy":"Copy","logs.copied":"Copied logs to clipboard","logs.copy_failed":"Copy failed","gpu.util":"Util","gpu.mem":"Memory","gpu.power":"Power","gpu.temp":"Temp","gpu.chart.util":"GPU Utilization %","gpu.chart.mem":"Memory Used %","gpu.chart.power":"Power (W)","gpu.chart.temp":"Temperature (°C)","gpu.not_available":"GPU telemetry not available","gpu.title":"GPU Telemetry","gpu.detail":"GPUs: {{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"Polling every 2s","gpu.monitor_title":"GPU Monitor","gpu.monitor_desc":"Real-time GPU metrics and performance telemetry","gpu.telemetry_charts":"GPU Telemetry","gpu.history_2min":"Last 2 minutes","gpu.no_nvidia_smi":"nvidia-smi not found","gpu.polling_every_2s":"Auto-polling every 2 seconds","system.title":"System Metrics","system.cpu":"CPU","system.memory":"Memory","system.disk":"Disk","system.cpu_cores":"Cores","system.logical":"logical","system.frequency":"Freq","system.available":"Available","system.swap":"Swap","system.free":"Free","system.used_percent":"Used","system.cpu_overall":"Overall CPU Usage","system.cpu_per_core":"Per-Core Utilization","system.freq_current":"Current Freq","system.freq_min":"Min Freq","system.freq_max":"Max Freq","performance.title":"Performance Monitor","performance.desc":"Real-time system performance monitoring (CPU, Memory, Disk, GPU)","performance.polling_hint":"Auto-polling every 2 seconds","performance.tab_cpu":"CPU","performance.tab_memory_disk":"Memory & Disk","performance.tab_gpu_metrics":"GPU Metrics","performance.tab_gpu_telemetry":"GPU Telemetry","performance.no_tabs":"No monitoring tabs enabled. Please enable tabs in Settings.","compare.title":"Compare Runs (Same Experiment)","compare.select.runs":"Runs:","compare.select.runs.placeholder":"Select runs to overlay","compare.select.metrics":"Metrics:","compare.select.metrics.placeholder":"Select metric keys","compare.stepx":"Step X:","compare.refresh":"Refresh","compare.tip":"Select one or more runs and metrics to overlay.","comparison.select_runs":"Select Runs","comparison.select_runs_placeholder":"Choose runs to compare","comparison.select_metrics":"Select Metrics","comparison.select_metrics_placeholder":"Choose metrics to display","comparison.refresh":"Refresh","comparison.x_axis":"X-Axis","comparison.fetch_failed":"Failed to fetch runs","comparison.load_failed":"Failed to load metrics","comparison.loading":"Loading metrics...","comparison.no_runs_selected":"Select runs to start comparison","comparison.no_metrics_selected":"No metrics available or selected","comparison.need_multiple":"Please select at least 2 runs for comparison","comparison.best_results":"Best Results","comparison.info_title":"Cross-Experiment Comparison","comparison.info_desc":"Compare runs across different projects and experiments. For comparing runs within the same experiment, use the comparison feature in the run detail page.","recycle_bin.title":"Recycle Bin","recycle_bin.tooltip":"View and restore deleted experiments","recycle_bin.description":"Recycle Bin contains soft-deleted experiments. Files are preserved and can be restored.","recycle_bin.original_status":"Original Status","recycle_bin.deleted_at":"Deleted At","recycle_bin.restore_single":"Restore this run","recycle_bin.restore_selected":"Restore Selected","recycle_bin.empty_bin":"Empty Bin","recycle_bin.empty_confirm_title":"Empty Recycle Bin","recycle_bin.empty_confirm_desc":"This will permanently delete all runs in recycle bin. This cannot be undone!","recycle_bin.empty_confirm":"Yes, Delete All","recycle_bin.fetch_failed":"Failed to load recycle bin","recycle_bin.select_to_restore":"Please select runs to restore","recycle_bin.restore_success":"Restored {{count}} runs","recycle_bin.restore_failed":"Failed to restore runs","recycle_bin.empty_success":"Permanently deleted {{count}} runs","recycle_bin.empty_failed":"Failed to empty recycle bin","recycle_bin.empty_state":"Recycle bin is empty","recycle_bin.selection_info":"{{count}} runs selected for restoration","recycle_bin.table_total":"{{from}}-{{to}} of {{total}} items"},jI={"menu.artifacts":"Artifacts","artifacts.title":"Artifacts","artifacts.description":"Version-controlled models, datasets, and files","artifacts.type.all":"All Types","artifacts.type.model":"Models","artifacts.type.dataset":"Datasets","artifacts.type.config":"Configs","artifacts.type.code":"Code","artifacts.type.custom":"Custom","artifacts.search_placeholder":"Search artifacts...","artifacts.no_artifacts":"No artifacts found","artifacts.create_first":"Create your first artifact by logging it from your training code","artifacts.latest_version":"Latest: v{{version}}","artifacts.versions_count":"{{count}} versions","artifacts.size":"Size","artifacts.files":"Files","artifacts.created":"Created","artifacts.updated":"Updated","artifacts.aliases":"Aliases","artifacts.view_versions":"View Versions","artifacts.download":"Download","artifacts.delete":"Delete","artifacts.delete_confirm":"Delete artifact {{name}}:v{{version}}?","artifacts.delete_warning":"This action cannot be undone!","artifacts.stats.total":"Total Artifacts","artifacts.stats.total_versions":"Total Versions","artifacts.stats.total_size":"Total Size","artifacts.stats.dedup_saved":"Space Saved (Dedup)","artifact.detail.title":"Artifact: {{name}}","artifact.detail.version":"Version {{version}}","artifact.detail.type":"Type","artifact.detail.status":"Status","artifact.detail.created_by":"Created By","artifact.detail.created_at":"Created At","artifact.detail.size":"Size","artifact.detail.files_count":"Files","artifact.detail.description":"Description","artifact.detail.metadata":"Metadata","artifact.detail.tags":"Tags","artifact.detail.no_description":"No description provided","artifact.detail.no_metadata":"No metadata","artifact.detail.no_tags":"No tags","artifact.detail.storage_path":"Storage Path","artifact.versions.title":"Version History","artifact.versions.current":"Current Version","artifact.versions.all":"All Versions","artifact.versions.compare":"Compare Versions","artifact.versions.version":"Version","artifact.versions.date":"Date","artifact.versions.run":"Run","artifact.versions.size":"Size","artifact.versions.files":"Files","artifact.versions.actions":"Actions","artifact.files.title":"Files","artifact.files.name":"Name","artifact.files.size":"Size","artifact.files.hash":"Hash","artifact.files.download_file":"Download File","artifact.files.no_files":"No files in this artifact","artifact.references.title":"External References","artifact.references.uri":"URI","artifact.references.checksum":"Checksum","artifact.references.no_references":"No external references","artifact.lineage.title":"Lineage Graph","artifact.lineage.description":"Shows how this artifact was created and how it is used","artifact.lineage.upstream":"Upstream Dependencies","artifact.lineage.downstream":"Downstream Usage","artifact.lineage.no_dependencies":"No dependencies found","artifact.lineage.loading":"Loading lineage graph...","artifact.lineage.error":"Failed to load lineage graph","artifact.lineage.node.artifact":"Artifact","artifact.lineage.node.run":"Run","artifact.lineage.edge.uses":"uses","artifact.lineage.edge.produces":"produces","artifact.training.tab":"Training History","artifact.training.title":"Training Information","artifact.training.no_data":"No training information available","artifact.training.view_run":"View Training Run","artifact.training.run_name":"Run Name","artifact.training.project":"Project","artifact.training.status":"Status","artifact.training.duration":"Duration","artifact.training.created_at":"Created At","artifact.training.key_metrics":"Key Metrics","artifact.performance.tab":"Performance","artifact.performance.title":"Performance History","artifact.performance.no_data":"No performance data available","artifact.performance.select_metrics":"Select metrics to display","artifact.performance.select_metrics_hint":"Please select metrics to display","artifact.performance.metrics":"Metrics","artifacts.stage":"Stage","artifacts.stage.experimental":"Experimental","artifacts.stage.staging":"Staging","artifacts.stage.production":"Production","artifacts.stage.archived":"Archived"},CI={"remote.title":"Remote Viewer","remote.subtitle":"Connect to remote server via SSH and start Viewer","remote.form.title":"Step 1: Connect to Remote Server","remote.form.connectButton":"Connect to Server","remote.form.host":"Remote Host","remote.form.hostPlaceholder":"192.168.1.100 or server.example.com","remote.form.port":"SSH Port","remote.form.username":"Username","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"Authentication Method","remote.form.password":"Password","remote.form.passwordAuth":"Password","remote.form.keyAuth":"Private Key","remote.form.privateKey":"Private Key Path","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"Passphrase (optional)","remote.form.remoteRoot":"Remote Storage Path","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"Local Port","remote.form.localPortHelp":"Leave empty to auto-assign","remote.form.remotePort":"Remote Port","remote.form.saveConfig":"Save this connection","remote.form.savePassword":"Also save password (insecure, use with caution)","remote.form.saveName":"Configuration Name","remote.form.saveNamePlaceholder":"GPU Server - Lab","remote.form.browse":"Browse...","remote.form.connect":"Connect and Start Viewer","remote.form.testConnection":"Test Connection","remote.form.cancel":"Cancel","remote.form.enterPassword":"Enter Password","remote.form.connectionTo":"Connection to","remote.form.required":"is required","remote.session.title":"Active Sessions","remote.session.noActiveSessions":"No active sessions","remote.session.startNewConnection":"Start a new connection to begin","remote.session.localAccess":"Local Access","remote.session.remotePath":"Remote Path","remote.session.sshPort":"SSH Port","remote.session.remotePort":"Remote Viewer Port","remote.session.remotePid":"Remote PID","remote.session.startedAt":"Started At","remote.session.open":"Open Viewer","remote.session.stop":"Stop","remote.session.disconnect":"Disconnect","remote.session.reconnect":"Reconnect","remote.status.connecting":"Connecting...","remote.status.running":"Running","remote.status.stopping":"Stopping...","remote.status.stopped":"Stopped","remote.status.error":"Error","remote.status.disconnected":"Disconnected","remote.saved.title":"Saved Connections","remote.saved.quickStart":"Quick Start","remote.saved.connectOnly":"Connect Only","remote.saved.edit":"Edit","remote.saved.delete":"Delete","remote.saved.empty":"No saved connections","remote.saved.emptyHint":"Save frequently used connection configs for quick access","remote.message.connectSuccess":"SSH connected successfully","remote.message.connectFailed":"Failed to connect via SSH","remote.message.viewerStarted":"Remote Viewer started successfully!","remote.message.viewerStartFailed":"Failed to start Remote Viewer","remote.message.viewerStopped":"Remote Viewer stopped","remote.message.viewerStopFailed":"Failed to stop Remote Viewer","remote.message.disconnected":"Disconnected","remote.message.disconnectFailed":"Failed to disconnect","remote.message.testSuccess":"Connection test successful","remote.message.testFailed":"Connection test failed","remote.message.configSaved":"Configuration saved","remote.message.configDeleted":"Configuration deleted","remote.message.confirmDelete":"Are you sure you want to delete this connection?","remote.message.confirmDisconnect":"Are you sure you want to disconnect? This will stop the remote Viewer.","remote.message.sessionLost":"Session disconnected. Reconnect?","remote.message.passwordNotSaved":"Password not saved, please re-enter password","remote.message.incompleteConfig":"Incomplete connection config, please reconfigure","remote.message.cancelled":"Cancelled","remote.error.sshAuthFailed":"SSH authentication failed. Please check username and password","remote.error.remotePathNotFound":"Remote path does not exist","remote.error.portInUse":"Local port is already in use","remote.error.connectionTimeout":"Connection timeout","remote.error.invalidConfig":"Invalid configuration","remote.error.unknown":"Unknown error","remote.help.title":"Help","remote.help.step1":"1. Fill in SSH connection info for remote server","remote.help.step2":"2. Choose authentication method (password or key)","remote.help.step3":"3. Specify remote storage path","remote.help.step4":'4. Click "Connect and Start Viewer"',"remote.help.step5":"5. Wait for Remote Viewer to start","remote.help.step6":'6. Click "Open Viewer" to access in new window',"remote.help.architecture":"Remote Viewer uses a VSCode Remote-like architecture, running Viewer on remote server and accessing via SSH tunnel.","remote.help.advantages":"Advantages: Real-time access, no sync needed, saves storage","remote.stats.activeSessions":"Active Sessions","remote.stats.savedConfigs":"Saved Configs","remote.stats.connectedServers":"Connected Servers","remote.env.title":"Select Conda Environment","remote.env.selectHint":"Multiple Python environments detected","remote.env.selectDescription":"Please select the conda environment you want to use. The system will check if runicorn is installed in that environment.","remote.env.default":"Default","remote.env.system":"System","remote.env.checkRunicorn":"Will check runicorn installation","remote.env.checkRunicornHint":"If runicorn is not installed in the selected environment, you will be prompted to install it.","remote.env.continue":"Continue","remote.env.detecting":"Detecting Environment","remote.env.detectingEnvironment":"Detecting {{env}} environment, please wait...","remote.env.detectFailed":"Detection failed","remote.env.detectFailedMessage":"Unable to detect Python and Runicorn versions in this environment. Please check network connection or environment configuration.","remote.env.runicornNotInstalled":"Not installed","remote.env.runicornNotInstalledTitle":"Runicorn Not Installed","remote.env.runicornNotInstalledMessage":"The selected environment does not have Runicorn installed, cannot start Remote Viewer.","remote.env.installInstructions":"Please install Runicorn on the remote server:","remote.env.activateCommand":"Activate environment","remote.env.installCommand":"Install Runicorn","remote.env.versionTooOldTitle":"Runicorn Version Too Old","remote.env.versionTooOldMessage":"The remote Runicorn version is {{version}}, which is below 0.5.0 and does not support Remote Viewer.","remote.env.upgradeInstructions":"Please upgrade to the latest version:","remote.env.versionMismatchTitle":"Runicorn Version Mismatch","remote.env.versionMismatchMessage":"Local and remote Runicorn versions do not match, which may cause functionality issues or degraded experience.","remote.env.localVersion":"Local Version","remote.env.remoteVersion":"Remote Version","remote.env.versionMismatchWarning":"It is recommended to keep versions consistent for the best experience, but you can still continue.","remote.env.continueAnyway":"Continue Anyway","remote.env.noEnvs":"No Python environments detected","remote.env.fetching":"Detecting conda environments...","remote.env.detectingEnvironments":"Detecting Python environments, please wait...","remote.config.title":"Step 3: Confirm Server Configuration","remote.config.connected":"SSH Connected Successfully","remote.config.pythonVersion":"Python Version","remote.config.runicornVersion":"Runicorn Version","remote.config.storageRoot":"Storage Root","remote.config.exists":"Exists","remote.config.notExists":"Not Exists","remote.config.suggestedPort":"Suggested Port","remote.config.confirmStorageRoot":"Confirm Remote Storage Root","remote.config.startViewer":"Start Remote Viewer","remote.config.pathNotExistsWarning":"Storage path does not exist","remote.config.pathNotExistsHint":"The directory will be created automatically on first use","remote.config.fetchingConfig":"Fetching server configuration...","remote.config.fetchFailed":"Failed to fetch server configuration"},TI={"settings.system_info.title":"System Information","settings.system_info.refresh":"Refresh","settings.system_info.copy_all":"Copy All","settings.system_info.copied":"System information copied to clipboard","settings.system_info.copy_failed":"Failed to copy to clipboard","settings.system_info.loading":"Loading system information...","settings.system_info.version_info":"Version Information","settings.system_info.runicorn_version":"Runicorn Version","settings.system_info.api_status":"API Status","settings.system_info.storage_config":"Storage Configuration","settings.system_info.storage_root":"Storage Root","settings.system_info.config_files":"Configuration Files","settings.system_info.config_file":"Main Config","settings.system_info.rate_limit_config":"Rate Limit Config","settings.system_info.cache_stats":"Cache Statistics","settings.system_info.cache_status":"Status","settings.system_info.hit_rate":"Hit Rate","settings.system_info.hits":"Hits","settings.system_info.misses":"Misses","settings.system_info.cache_size":"Cache Size","settings.system_info.artifacts_stats":"Artifacts Statistics","settings.system_info.total_artifacts":"Total Artifacts","settings.system_info.total_versions":"Total Versions","settings.system_info.deduplication":"Deduplication","settings.system_info.space_saved":"Space Saved","settings.system_info.help_text":'This information is useful for debugging and support. Click "Copy All" to copy all details to clipboard.',"settings.drawer.title":"Settings","settings.theme.title":"Theme","settings.theme.mode":"Mode","settings.theme.light":"Light","settings.theme.dark":"Dark","settings.theme.auto":"Follow System","settings.appearance.primary_color":"Primary Color","settings.appearance.density":"Density","settings.appearance.density_compact":"Compact (high info density)","settings.appearance.density_default":"Default","settings.appearance.density_loose":"Loose (more whitespace)","settings.glass":"Glass effect","settings.glass.on":"On","settings.glass.off":"Off","settings.performance.auto_refresh":"Auto Refresh","settings.performance.refresh_interval":"Refresh Interval","settings.performance.animations":"UI Animations","settings.performance.chart_animations":"Chart Animations","settings.performance.sounds":"Sound Notifications","settings.charts.default_height":"Default Chart Height","settings.charts.grid_lines":"Show Grid Lines","settings.charts.max_points":"Max Data Points","settings.animations.ui_desc":"Page transitions, hover effects, modal animations","settings.animations.chart_desc":"Chart data loading animations, smooth transitions","settings.units.seconds":"seconds","settings.units.points":"points","settings.units.pixels":"px","settings.data.not_configured":"Not configured","settings.auto_refresh.desc":"Automatically refresh experiment data","settings.grid_lines.desc":"Display grid lines in charts for better readability","settings.sounds.desc":"Play notification sounds for alerts and status changes","settings.glass.desc":"Glass morphism effect with background blur","settings.tabs.appearance":"Appearance","settings.tabs.layout":"Layout","settings.tabs.data":"Data","settings.tabs.performance":"Performance","settings.tabs.system_info":"System Info","settings.cards.theme":"Theme","settings.cards.background":"Background","settings.cards.visual_effects":"Visual Effects","settings.cards.storage":"Storage Settings","settings.cards.import_export":"Import & Export","settings.cards.performance":"Performance","settings.cards.advanced":"Advanced","settings.data.title":"Data Directory","settings.data.current_storage":"Current storage: {{path}}","settings.data.user_root.label":"User root directory (lower priority than env RUNICORN_DIR)","settings.data.user_root.placeholder":"e.g. D:\\RunicornData","settings.data.note":"Saved to user config and takes effect immediately. If RUNICORN_DIR is set, it has higher priority.","settings.data.save":"Save Data Directory","settings.messages.enter_valid_path":"Please enter a valid absolute path (e.g. D:\\RunicornData)","settings.messages.updated":"User root updated","settings.messages.update_failed":"Update failed","background.title":"Background","background.type.label":"Background Type","background.type.image":"Image","background.type.gradient":"Gradient","background.type.color":"Color","background.image_url":"Image URL","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"Background preview","background.gradient_presets":"Gradient presets","background.color":"Background color","background.opacity":"Opacity","background.blur":"Blur","offline_import.title":"Offline Import (zip / tar.gz)","offline_import.desc":"Import runs exported from offline Linux servers into the local storage for viewing.","offline_import.drag":"Drag file here or click to select","offline_import.supports":"Supports .zip / .tar.gz (internal layout: project/name/runs/<run_id>)","offline_import.importing":"Importing…","offline_import.success":"Imported {{count}} new runs.","offline_import.failed":"Import failed","remote_moved.title":"Remote Sync","remote_moved.tip":'Remote live sync has moved to a dedicated page. Use the top "Remote" menu or click to open.',"chart.controls.title":"Chart Controls","chart.log_y":"Log Scale Y","chart.log_y_tooltip":"Use logarithmic y-axis (hides non-positive values)","chart.auto_scale":"Auto Scale Y","chart.auto_scale_tooltip":"Dynamic y-axis (do not force start at 0)","chart.smooth":"Smoothing","chart.smooth_tooltip":"Exponential moving average smoothing","chart.x_axis":"X Axis","chart.x_axis_tooltip":"X-axis source column","chart.export_csv":"Export CSV","chart.y_axis_controls":"Y-Axis","chart.linear":"Linear","chart.log":"Log","chart.auto":"Auto","chart.fixed":"Fixed","chart.off":"Off","remote.title":"Remote Sync (SSH)","remote.desc":"Establish SSH connection to a Linux server, browse and choose a remote directory as data source, mirror to local storage and visualize on the Runs page.","remote.connect.title":"Connect to server","remote.placeholder.host":"Host, e.g. 10.0.0.2","remote.placeholder.port":"Port","remote.placeholder.user":"Username","remote.placeholder.password":"Password (optional)","remote.placeholder.pkey":"Private key content (optional)","remote.placeholder.pkey_path":"Or private key path (optional, e.g. ~/.ssh/id_rsa)","remote.connect.button":"Connect","remote.connected":"Connected: {{user}}@{{host}}:{{port}}","remote.disconnect":"Disconnect","remote.choose.title":"Choose remote directory","remote.current_dir":"Current:","remote.up":"Up","remote.refresh":"Refresh","remote.empty":"Empty or no permission","remote.interval.suffix":"sec","remote.sync_dir":"Sync this directory","remote.tip":"Select project/name/runs (new) or runs (legacy) instead of a specific <run_id>.","remote.tasks.title":"Sync Tasks","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"Stop","remote.tasks.none":"No tasks","remote.to_runs":"After syncing, go to the Runs page for visualization.","remote.msg.fill_host_user":"Please fill host and username","remote.msg.ssh_connected":"SSH connected","remote.msg.connect_failed":"Connection failed","remote.msg.dir_failed":"Failed to list directory","remote.msg.need_connect":"Please connect SSH first","remote.msg.need_path":"Please choose a remote directory","remote.msg.started":"Live sync started","remote.msg.start_failed":"Failed to start","remote.msg.mirror_configured":"Mirror mode configured successfully","settings.performance.tabs_title":"Performance Monitor Tabs","settings.performance.show_cpu_tab":"Show CPU Tab","settings.performance.show_memory_disk_tab":"Show Memory & Disk Tab","settings.performance.show_gpu_metrics_tab":"Show GPU Metrics Tab","settings.performance.show_gpu_telemetry_tab":"Show GPU Telemetry Tab","settings.dismissedAlerts":"Dismissed Alerts","settings.noDismissedAlerts":"No dismissed alerts","settings.restoreAlert":"Restore","settings.restoreAll":"Restore All","settings.alertRestored":"Alert restored","settings.allAlertsRestored":"All alerts restored","settings.failedToLoadDismissedAlerts":"Failed to load dismissed alerts","settings.failedToRestoreAlert":"Failed to restore alert","settings.failedToClearAlerts":"Failed to clear alerts"},PI={...bI,...SI,...jI,...CI,...TI},RI={"app.title":"Runicorn 查看器","menu.runs":"运行","menu.experiments":"实验管理","menu.comparison":"对比分析","menu.artifacts":"模型仓库","menu.performance":"性能监控","menu.remote":"远程","tag.api_ok":"API 正常","tag.api_loading":"API…","tag.api_down":"API 不可用","table.project":"项目","table.name":"实验","table.run_id":"运行 ID","table.status":"状态","table.best_metric":"最佳指标","table.pid":"PID","table.created":"创建时间","table.actions":"操作","table.view":"查看","table.duration":"耗时",pause:"暂停",Info:"信息",View:"查看","Load Lineage Graph":"加载血缘关系图",actions:"操作",view:"查看",edit:"编辑","common.dontShowAgain":"不再提示",delete:"删除",download:"下载",upload:"上传",save:"保存",cancel:"取消",confirm:"确认",close:"关闭"},AI={"experiments.title":"实验管理","experiments.subtitle":"追踪、对比和分析您的实验指标与日志","experiments.total_runs":"总运行数","experiments.running":"运行中","experiments.finished":"已完成","experiments.failed":"失败","experiments.interrupted":"已中断","experiments.best_metric":"最佳指标","experiments.artifacts_created":"产出模型","experiments.artifacts_created_tip":"创建了 {{count}} 个模型","experiments.artifacts_used":"使用模型","experiments.search_placeholder":"搜索实验名称或ID...","experiments.compare":"对比","experiments.export":"导出","experiments.delete":"删除","experiments.cancel":"取消","experiments.fetch_failed":"获取运行列表失败","experiments.delete_confirm_title":"删除运行","experiments.delete_confirm_content":"确定要删除选中的 {{count}} 个运行吗？此操作无法撤销。","experiments.delete_success":"成功删除 {{count}} 个运行","experiments.delete_failed":"删除失败","experiments.export_started":"正在导出运行数据...","experiments.select_multiple":"请至少选择2个运行进行对比","experiments.compare_hint":"请使用运行详情页面的对比功能","experiments.select_one":"请至少选择一个运行进行导出","experiments.export_success":"成功导出 {{count}} 个运行","experiments.export_failed":"导出失败","experiments.export_json":"导出为 JSON","experiments.export_csv":"导出为 CSV","experiments.auto_refresh":"自动刷新","experiments.check_status":"检查状态","experiments.check_status_tooltip":"检查运行中的实验是否仍然存活并更新其状态","experiments.move_to_bin_title":"移至回收站","experiments.soft_delete_confirm_content":"将{{count}}个选中的运行移至回收站？","experiments.soft_delete_note":"文件将被保留，稍后可以恢复。","experiments.move_to_bin":"移至回收站","experiments.soft_delete_success":"已将{{count}}个运行移至回收站","experiments.new_runs":"检测到新运行","experiments.select_one_delete":"请至少选择一个运行进行删除","experiments.delete_warning":"此操作不可撤销！","experiments.no_runs":"未找到实验","experiments.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项","runs.refresh":"刷新","runs.auto_refresh_hint":"每 5 秒自动刷新","runs.auto_refresh":"自动刷新","runs.filter.project":"项目：","runs.filter.name":"实验：","runs.filter.all":"全部","runs.refreshing":"刷新中...","run.title":"运行 {{id}}","run.descriptions.status":"状态","run.descriptions.pid":"PID","run.descriptions.project":"项目","run.descriptions.name":"实验","run.descriptions.dir":"运行目录","run.descriptions.logs":"日志","run.descriptions.metrics":"指标事件","run.load_failed":"加载运行详情失败","run.metrics_failed":"加载指标失败","run.stats.duration":"运行时长","run.stats.total_steps":"总步数","run.stats.artifacts":"产出物","run.more_details":"更多详情（路径、日志）","run.descriptions.run_id":"运行 ID","run.descriptions.run_dir":"运行目录","run.descriptions.log_file":"日志文件","run.updated":"更新于：{{time}}","run.refresh":"刷新","run.refreshed":"已刷新","metrics.title":"指标","metrics.more_columns":"多列布局","metrics.more_columns_tooltip":"多列显示图表以便更好地对比","metrics.none":"暂无步进指标。","logs.title":"实时日志","logs.status.connected":"已连接","logs.status.connecting":"连接中...","logs.status.disconnected":"已断开","logs.status.retry_in":"{{sec}} 秒后重试","logs.tooltip.autoscroll":"自动滚动到最新行","logs.autoscroll":"自动滚动","logs.tooltip.filter_tqdm":"隐藏 tqdm 进度帧以降低噪声","logs.filter_tqdm":"过滤 tqdm","logs.clear":"清空","logs.copy":"复制","logs.copied":"已复制日志到剪贴板","logs.copy_failed":"复制失败","gpu.util":"利用率","gpu.mem":"显存","gpu.power":"功耗","gpu.temp":"温度","gpu.chart.util":"GPU 利用率 %","gpu.chart.mem":"显存使用 %","gpu.chart.power":"功耗 (W)","gpu.chart.temp":"温度 (°C)","gpu.not_available":"GPU 面板不可用","gpu.title":"GPU 面板","gpu.detail":"GPU 数：{{count}}","gpu.tooltip.item":"GPU{{index}} {{name}}","gpu.tooltip.metrics":"{{util}}% · {{mem}}% · {{power}}W · {{temp}}°C","polling.every2s":"每 2 秒轮询","gpu.monitor_title":"GPU 监控","gpu.monitor_desc":"实时 GPU 性能指标与曲线数据","gpu.telemetry_charts":"GPU 曲线图表","gpu.history_2min":"最近 2 分钟","gpu.no_nvidia_smi":"未找到 nvidia-smi","gpu.polling_every_2s":"每 2 秒自动轮询","system.title":"系统指标","system.cpu":"CPU","system.memory":"内存","system.disk":"磁盘","system.cpu_cores":"核心","system.logical":"逻辑","system.frequency":"频率","system.available":"可用","system.swap":"交换空间","system.free":"空闲","system.used_percent":"已用","system.cpu_overall":"CPU 总体使用率","system.cpu_per_core":"各核心使用率","system.freq_current":"当前频率","system.freq_min":"最低频率","system.freq_max":"最高频率","performance.title":"性能监控","performance.desc":"实时系统性能监控（CPU、内存、磁盘、GPU）","performance.polling_hint":"每 2 秒自动轮询","performance.tab_cpu":"CPU","performance.tab_memory_disk":"内存与磁盘","performance.tab_gpu_metrics":"GPU 指标","performance.tab_gpu_telemetry":"GPU 曲线","performance.no_tabs":"没有启用监控模块。请在设置中启用。","compare.title":"对比运行（同一实验）","compare.select.runs":"运行：","compare.select.runs.placeholder":"选择需要叠加的运行","compare.select.metrics":"指标：","compare.select.metrics.placeholder":"选择指标键","compare.stepx":"横轴：","compare.refresh":"刷新","compare.tip":"选择一个或多个运行与指标以叠加展示。","comparison.select_runs":"选择运行","comparison.select_runs_placeholder":"选择要对比的运行","comparison.select_metrics":"选择指标","comparison.select_metrics_placeholder":"选择要显示的指标","comparison.refresh":"刷新","comparison.x_axis":"X轴","comparison.fetch_failed":"获取运行列表失败","comparison.load_failed":"加载指标数据失败","comparison.loading":"正在加载指标...","comparison.no_runs_selected":"请选择运行开始对比","comparison.no_metrics_selected":"没有可用或已选择的指标","comparison.need_multiple":"请至少选择2个运行进行对比","comparison.best_results":"最佳结果","comparison.info_title":"跨实验对比","comparison.info_desc":"在不同项目和实验之间对比运行。如需对比同一实验内的运行，请使用运行详情页面的对比功能。","recycle_bin.title":"回收站","recycle_bin.tooltip":"查看和恢复已删除的实验","recycle_bin.description":"回收站包含已软删除的实验。文件被保留，可以恢复。","recycle_bin.original_status":"原始状态","recycle_bin.deleted_at":"删除时间","recycle_bin.restore_single":"恢复此运行","recycle_bin.restore_selected":"恢复选中项","recycle_bin.empty_bin":"清空回收站","recycle_bin.empty_confirm_title":"清空回收站","recycle_bin.empty_confirm_desc":"这将永久删除回收站中的所有运行。此操作不可撤销！","recycle_bin.empty_confirm":"是的，全部删除","recycle_bin.fetch_failed":"加载回收站失败","recycle_bin.select_to_restore":"请选择要恢复的运行","recycle_bin.restore_success":"已恢复{{count}}个运行","recycle_bin.restore_failed":"恢复运行失败","recycle_bin.empty_success":"已永久删除{{count}}个运行","recycle_bin.empty_failed":"清空回收站失败","recycle_bin.empty_state":"回收站为空","recycle_bin.selection_info":"已选择{{count}}个运行用于恢复","recycle_bin.table_total":"第 {{from}}-{{to}} 项，共 {{total}} 项"},EI={"run.artifacts.title":"关联的模型与数据集","run.artifacts.created":"创建的模型","run.artifacts.used":"使用的模型","run.artifacts.no_created":"此实验未创建任何模型或数据集","run.artifacts.no_used":"此实验未使用任何模型或数据集","menu.artifacts":"模型仓库","artifacts.title":"模型仓库","artifacts.description":"版本控制的模型、数据集和文件","artifacts.type.all":"全部类型","artifacts.type.model":"模型","artifacts.type.dataset":"数据集","artifacts.type.config":"配置","artifacts.type.code":"代码","artifacts.type.custom":"自定义","artifacts.search_placeholder":"搜索模型和数据集...","artifacts.no_artifacts":"未找到模型","artifacts.create_first":"在训练代码中通过 run.log_artifact() 创建您的第一个模型","artifacts.latest_version":"最新：v{{version}}","artifacts.versions_count":"{{count}} 个版本","artifacts.size":"大小","artifacts.files":"文件数","artifacts.created":"创建时间","artifacts.updated":"更新时间","artifacts.aliases":"别名","artifacts.view_versions":"查看版本","artifacts.download":"下载","artifacts.delete":"删除","artifacts.delete_confirm":"删除模型 {{name}}:v{{version}}？","artifacts.delete_warning":"此操作不可撤销！","artifacts.stats.total":"总模型数","artifacts.stats.total_versions":"总版本数","artifacts.stats.total_size":"总大小","artifacts.stats.dedup_saved":"去重节省空间","artifact.detail.title":"模型：{{name}}","artifact.detail.version":"版本 {{version}}","artifact.detail.type":"类型","artifact.detail.status":"状态","artifact.detail.created_by":"创建者","artifact.detail.created_at":"创建时间","artifact.detail.size":"大小","artifact.detail.files_count":"文件数","artifact.detail.description":"描述","artifact.detail.metadata":"元数据","artifact.detail.tags":"标签","artifact.detail.no_description":"无描述","artifact.detail.no_metadata":"无元数据","artifact.detail.no_tags":"无标签","artifact.detail.storage_path":"存储路径","artifact.versions.title":"版本历史","artifact.versions.current":"当前版本","artifact.versions.all":"所有版本","artifact.versions.compare":"对比版本","artifact.versions.version":"版本","artifact.versions.date":"日期","artifact.versions.run":"运行","artifact.versions.size":"大小","artifact.versions.files":"文件数","artifact.versions.actions":"操作","artifact.files.title":"文件","artifact.files.name":"文件名","artifact.files.size":"大小","artifact.files.hash":"哈希值","artifact.files.download_file":"下载文件","artifact.files.no_files":"此模型无文件","artifact.references.title":"外部引用","artifact.references.uri":"URI","artifact.references.checksum":"校验和","artifact.references.no_references":"无外部引用","artifact.lineage.title":"血缘关系图","artifact.lineage.description":"显示此模型的创建过程和使用情况","artifact.lineage.upstream":"上游依赖","artifact.lineage.downstream":"下游使用","artifact.lineage.no_dependencies":"未找到依赖关系","artifact.lineage.loading":"正在加载血缘关系图...","artifact.lineage.error":"加载血缘关系图失败","artifact.lineage.node.artifact":"模型","artifact.lineage.node.run":"运行","artifact.lineage.edge.uses":"使用","artifact.lineage.edge.produces":"产出","artifact.training.tab":"训练历史","artifact.training.title":"训练信息","artifact.training.no_data":"暂无训练信息","artifact.training.view_run":"查看训练实验","artifact.training.run_name":"实验名称","artifact.training.project":"项目","artifact.training.status":"状态","artifact.training.duration":"持续时间","artifact.training.created_at":"创建时间","artifact.training.key_metrics":"关键指标","artifact.performance.tab":"性能趋势","artifact.performance.title":"性能历史","artifact.performance.no_data":"暂无性能数据","artifact.performance.select_metrics":"选择要显示的指标","artifact.performance.select_metrics_hint":"请选择要显示的指标","artifact.performance.metrics":"指标值","artifacts.stage":"阶段","artifacts.stage.experimental":"实验阶段","artifacts.stage.staging":"预发布","artifacts.stage.production":"生产环境","artifacts.stage.archived":"已归档"},kI={"remote.title":"Remote Viewer","remote.subtitle":"通过 SSH 连接到远程服务器并启动 Viewer","remote.form.title":"第一步：连接到远程服务器","remote.form.connectButton":"连接到服务器","remote.form.host":"远程主机","remote.form.hostPlaceholder":"192.168.1.100 或 server.example.com","remote.form.port":"SSH 端口","remote.form.username":"用户名","remote.form.usernamePlaceholder":"username","remote.form.authMethod":"认证方式","remote.form.password":"密码","remote.form.passwordAuth":"密码认证","remote.form.keyAuth":"私钥认证","remote.form.privateKey":"私钥路径","remote.form.privateKeyPlaceholder":"~/.ssh/id_rsa","remote.form.passphrase":"密码短语（可选）","remote.form.remoteRoot":"远程存储路径","remote.form.remoteRootPlaceholder":"/data/runicorn","remote.form.localPort":"本地端口","remote.form.localPortHelp":"留空自动分配","remote.form.remotePort":"远程端口","remote.form.saveConfig":"保存此连接配置","remote.form.savePassword":"同时保存密码（不安全，请谨慎使用）","remote.form.saveName":"配置名称","remote.form.saveNamePlaceholder":"GPU 服务器 - 实验室","remote.form.browse":"浏览...","remote.form.connect":"连接并启动 Viewer","remote.form.testConnection":"测试连接","remote.form.cancel":"取消","remote.form.enterPassword":"请输入密码","remote.form.connectionTo":"连接到","remote.form.required":"是必填项","remote.session.title":"活动会话","remote.session.noActiveSessions":"暂无活动会话","remote.session.startNewConnection":"创建新连接以开始","remote.session.localAccess":"本地访问","remote.session.remotePath":"远程路径","remote.session.sshPort":"SSH 端口","remote.session.remotePort":"远程 Viewer 端口","remote.session.remotePid":"远程进程 ID","remote.session.startedAt":"启动时间","remote.session.open":"打开 Viewer","remote.session.stop":"停止","remote.session.disconnect":"断开连接","remote.session.reconnect":"重新连接","remote.status.connecting":"正在连接...","remote.status.running":"运行中","remote.status.stopping":"正在停止...","remote.status.stopped":"已停止","remote.status.error":"错误","remote.status.disconnected":"已断开","remote.saved.title":"已保存的连接","remote.saved.empty":"暂无保存的连接配置","remote.saved.emptyHint":'连接成功后勾选"保存配置"即可保存',"remote.saved.quickStart":"快速启动","remote.saved.connectOnly":"仅连接","remote.saved.edit":"编辑","remote.saved.delete":"删除","remote.message.connectSuccess":"SSH 连接成功","remote.message.connectFailed":"SSH 连接失败","remote.message.viewerStarted":"Remote Viewer 启动成功！","remote.message.viewerStartFailed":"Remote Viewer 启动失败","remote.message.viewerStopped":"Remote Viewer 已停止","remote.message.viewerStopFailed":"停止 Remote Viewer 失败","remote.message.disconnected":"已断开连接","remote.message.disconnectFailed":"断开连接失败","remote.message.testSuccess":"连接测试成功","remote.message.testFailed":"连接测试失败","remote.message.configSaved":"配置已保存","remote.message.configDeleted":"配置已删除","remote.message.confirmDelete":"确定要删除此连接配置吗？","remote.message.confirmDisconnect":"确定要断开连接吗？这将停止远程 Viewer。","remote.message.sessionLost":"会话已断开，是否重新连接？","remote.message.passwordNotSaved":"密码未保存，请重新输入密码","remote.message.incompleteConfig":"连接配置不完整，请重新配置","remote.message.cancelled":"已取消","remote.error.sshAuthFailed":"SSH 认证失败，请检查用户名和密码","remote.error.remotePathNotFound":"远程路径不存在","remote.error.portInUse":"本地端口已被占用","remote.error.connectionTimeout":"连接超时","remote.error.invalidConfig":"配置无效","remote.error.unknown":"未知错误","remote.help.title":"使用帮助","remote.help.step1":"1. 填写远程服务器的 SSH 连接信息","remote.help.step2":"2. 选择认证方式（密码或私钥）","remote.help.step3":"3. 指定远程存储路径","remote.help.step4":'4. 点击"连接并启动"按钮',"remote.help.step5":"5. 等待 Remote Viewer 启动","remote.help.step6":'6. 点击"打开 Viewer"在新窗口中访问',"remote.help.architecture":"Remote Viewer 采用类似 VSCode Remote 的架构，在远程服务器上运行 Viewer，通过 SSH 隧道访问。","remote.help.advantages":"优势：实时访问、无需同步、节省存储空间","remote.stats.activeSessions":"活动会话","remote.stats.savedConfigs":"保存的配置","remote.stats.connectedServers":"已连接服务器","remote.env.title":"选择 Conda 环境","remote.env.selectHint":"检测到多个 Python 环境","remote.env.selectDescription":"请选择一个环境来运行 Runicorn Viewer","remote.env.default":"默认","remote.env.system":"系统","remote.env.checkRunicorn":"确保目标环境已安装 Runicorn","remote.env.checkRunicornHint":"如果环境中没有安装 Runicorn，请先运行: pip install runicorn","remote.env.fetching":"正在检测环境...","remote.env.detectingEnvironments":"正在列出 Conda 环境...","remote.env.detectFailed":"检测失败","remote.env.runicornNotInstalled":"未安装","remote.env.noEnvs":"未检测到 Conda 环境","remote.env.confirmButton":"确认并启动 Viewer","remote.env.cancelButton":"取消","remote.env.continue":"继续","remote.env.detecting":"正在检测环境","remote.env.detectingEnvironment":"正在检测 {{env}} 环境，请稍候...","remote.env.detectFailedMessage":"无法检测该环境的 Python 和 Runicorn 版本，请检查网络连接或环境配置。","remote.env.runicornNotInstalledTitle":"Runicorn 未安装","remote.env.runicornNotInstalledMessage":"选中的环境中未安装 Runicorn，无法启动 Remote Viewer。","remote.env.installInstructions":"请在远程服务器上安装 Runicorn：","remote.env.activateCommand":"激活环境","remote.env.installCommand":"安装 Runicorn","remote.env.versionTooOldTitle":"Runicorn 版本过低","remote.env.versionTooOldMessage":"远程环境的 Runicorn 版本为 {{version}}，低于 0.5.0，不支持 Remote Viewer 功能。","remote.env.upgradeInstructions":"请升级到最新版本：","remote.env.versionMismatchTitle":"Runicorn 版本不一致","remote.env.versionMismatchMessage":"本地和远程的 Runicorn 版本不一致，可能导致功能异常或体验下降。","remote.env.localVersion":"本地版本","remote.env.remoteVersion":"远程版本","remote.env.versionMismatchWarning":"建议保持版本一致以获得最佳体验，但您仍可以继续连接。","remote.env.continueAnyway":"仍然继续","remote.config.title":"第三步：确认服务器配置","remote.config.connected":"SSH 连接成功","remote.config.pythonVersion":"Python 版本","remote.config.runicornVersion":"Runicorn 版本","remote.config.storageRoot":"存储路径","remote.config.exists":"存在","remote.config.notExists":"不存在","remote.config.suggestedPort":"建议端口","remote.config.confirmStorageRoot":"确认远程存储路径","remote.config.startViewer":"启动 Remote Viewer","remote.config.pathNotExistsWarning":"存储路径不存在","remote.config.pathNotExistsHint":"将在首次使用时自动创建该目录","remote.config.fetchingConfig":"正在获取服务器配置...","remote.config.fetchFailed":"获取服务器配置失败"},DI={"settings.system_info.title":"系统信息","settings.system_info.refresh":"刷新","settings.system_info.copy_all":"复制全部","settings.system_info.copied":"系统信息已复制到剪贴板","settings.system_info.copy_failed":"复制到剪贴板失败","settings.system_info.loading":"加载系统信息中...","settings.system_info.version_info":"版本信息","settings.system_info.runicorn_version":"Runicorn 版本","settings.system_info.api_status":"API 状态","settings.system_info.storage_config":"存储配置","settings.system_info.storage_root":"存储根目录","settings.system_info.config_files":"配置文件","settings.system_info.config_file":"主配置","settings.system_info.rate_limit_config":"速率限制配置","settings.system_info.cache_stats":"缓存统计","settings.system_info.cache_status":"状态","settings.system_info.hit_rate":"命中率","settings.system_info.hits":"命中次数","settings.system_info.misses":"未命中次数","settings.system_info.cache_size":"缓存大小","settings.system_info.artifacts_stats":"Artifacts 统计","settings.system_info.total_artifacts":"总 Artifacts","settings.system_info.total_versions":"总版本数","settings.system_info.deduplication":"去重","settings.system_info.space_saved":"节省空间","settings.system_info.help_text":'此信息对调试和技术支持很有用。点击"复制全部"将所有详情复制到剪贴板。',"settings.drawer.title":"设置","settings.theme.title":"主题","settings.theme.mode":"模式","settings.theme.light":"浅色","settings.theme.dark":"深色","settings.theme.auto":"跟随系统","settings.appearance.primary_color":"主色","settings.appearance.density":"密度","settings.appearance.density_compact":"紧凑型（信息密度高）","settings.appearance.density_default":"默认","settings.appearance.density_loose":"宽松型（留白更舒适）","settings.glass":"玻璃效果","settings.glass.on":"开启","settings.glass.off":"关闭","settings.performance.auto_refresh":"自动刷新","settings.performance.refresh_interval":"刷新间隔","settings.performance.animations":"UI动画","settings.performance.chart_animations":"图表动画","settings.performance.sounds":"声音通知","settings.charts.default_height":"默认图表高度","settings.charts.grid_lines":"显示网格线","settings.charts.max_points":"最大数据点数","settings.animations.ui_desc":"页面切换、悬停效果、弹窗动画","settings.animations.chart_desc":"图表数据加载动画、平滑过渡","settings.units.seconds":"秒","settings.units.points":"数据点","settings.units.pixels":"像素","settings.data.not_configured":"未配置","settings.auto_refresh.desc":"自动刷新实验数据","settings.grid_lines.desc":"在图表中显示网格线以提高可读性","settings.sounds.desc":"为警告和状态变化播放通知声音","settings.glass.desc":"玻璃拟态效果，带背景模糊","settings.tabs.appearance":"外观","settings.tabs.layout":"布局","settings.tabs.data":"数据","settings.tabs.performance":"性能","settings.tabs.system_info":"系统信息","settings.cards.theme":"主题","settings.cards.background":"背景","settings.cards.visual_effects":"视觉效果","settings.cards.storage":"存储设置","settings.cards.import_export":"导入导出","settings.cards.performance":"性能","settings.cards.advanced":"高级选项","settings.data.title":"数据目录","settings.data.current_storage":"当前存储根（storage）：{{path}}","settings.data.user_root.label":"用户根目录（优先级低于环境变量 RUNICORN_DIR）","settings.data.user_root.placeholder":"例如：D:\\RunicornData","settings.data.note":"设置将写入用户配置并立即生效；若设置了环境变量 RUNICORN_DIR，则优先使用环境变量。","settings.data.save":"保存数据目录","settings.messages.enter_valid_path":"请输入有效的目录绝对路径（例如 D:\\RunicornData）","settings.messages.updated":"用户根目录已更新","settings.messages.update_failed":"更新失败","background.title":"背景","background.type.label":"背景类型","background.type.image":"图片","background.type.gradient":"渐变","background.type.color":"纯色","background.image_url":"图片地址（URL）","background.image_url.placeholder":"https://example.com/image.jpg","background.image_preview":"背景预览","background.gradient_presets":"渐变预设","background.color":"背景颜色","background.opacity":"不透明度","background.blur":"模糊强度","offline_import.title":"离线导入（zip / tar.gz）","offline_import.desc":"将离线 Linux 服务器导出的运行记录导入到本机存储以便查看。","offline_import.drag":"将文件拖拽到此处，或点击选择本地归档","offline_import.supports":"支持 .zip / .tar.gz（内部目录为 project/name/runs/<run_id>）","offline_import.importing":"正在导入…","offline_import.success":"导入成功：{{count}} 个新运行。","offline_import.failed":"导入失败","remote_moved.title":"远程同步","remote_moved.tip":"远程实时同步已移动到独立页面，请通过顶部「Remote」进入或点击打开。","chart.controls.title":"图表控件","chart.log_y":"对数Y轴","chart.log_y_tooltip":"使用对数Y轴（隐藏非正值）","chart.auto_scale":"自动缩放Y轴","chart.auto_scale_tooltip":"动态Y轴范围（不强制从0开始）","chart.smooth":"平滑度","chart.smooth_tooltip":"指数移动平均平滑","chart.x_axis":"X轴","chart.x_axis_tooltip":"X轴数据来源列","chart.export_csv":"导出CSV","chart.y_axis_controls":"Y轴控制","chart.linear":"线性","chart.log":"对数","chart.auto":"自动","chart.fixed":"固定","chart.off":"关闭","remote.title":"远程同步（SSH）","remote.desc":'建立到 Linux 服务器的 SSH 连接，浏览并选择远程目录作为数据源，实时镜像到本地 storage 并在"运行"页可视化。',"remote.connect.title":"连接到服务器","remote.placeholder.host":"主机，例如 10.0.0.2","remote.placeholder.port":"端口","remote.placeholder.user":"用户名","remote.placeholder.password":"密码（可选）","remote.placeholder.pkey":"私钥内容（可选）","remote.placeholder.pkey_path":"或 私钥路径（可选，如 ~/.ssh/id_rsa）","remote.connect.button":"连接","remote.connected":"已连接：{{user}}@{{host}}:{{port}}","remote.disconnect":"断开","remote.choose.title":"选择远程目录","remote.current_dir":"当前目录：","remote.up":"上一级","remote.refresh":"刷新","remote.empty":"空目录或无权限","remote.interval.suffix":"秒","remote.sync_dir":"同步此目录","remote.tip":"建议选择到 project/name/runs（新结构）或 runs（旧结构）而不是具体 <run_id>。","remote.tasks.title":"同步任务","remote.tasks.item.stats":"copied: {{copied}}, appended: {{appended}}B, scans: {{scans}}, alive: {{alive}}","remote.tasks.stop":"停止","remote.tasks.none":"暂无任务","remote.to_runs":'同步成功后，前往 "运行" 页面查看可视化。',"remote.msg.fill_host_user":"请填写主机与用户名","remote.msg.ssh_connected":"SSH 已连接","remote.msg.connect_failed":"连接失败","remote.msg.dir_failed":"读取目录失败","remote.msg.need_connect":"请先建立 SSH 连接","remote.msg.need_path":"请选择远程目录","remote.msg.started":"已启动实时同步","remote.msg.start_failed":"启动失败","remote.msg.mirror_configured":"镜像模式配置成功","settings.performance.tabs_title":"性能监控模块","settings.performance.show_cpu_tab":"显示 CPU 模块","settings.performance.show_memory_disk_tab":"显示内存与磁盘模块","settings.performance.show_gpu_metrics_tab":"显示 GPU 指标模块","settings.performance.show_gpu_telemetry_tab":"显示 GPU 曲线模块","settings.dismissedAlerts":"已关闭的提示","settings.noDismissedAlerts":"暂无已关闭的提示","settings.restoreAlert":"恢复显示","settings.restoreAll":"全部恢复","settings.alertRestored":"提示已恢复显示","settings.allAlertsRestored":"所有提示已恢复显示","settings.failedToLoadDismissedAlerts":"加载失败","settings.failedToRestoreAlert":"恢复失败","settings.failedToClearAlerts":"清除失败"},II={...RI,...AI,...EI,...kI,...DI},MI={en:{translation:PI},zh:{translation:II}};Lt.use(lx).use(oC).init({resources:MI,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]}});hc.createRoot(document.getElementById("root")).render(a.jsx(Wj.StrictMode,{children:a.jsx(Hj,{children:a.jsx(BD,{})})}));
